"use strict";var Cq=Object.create;var xh=Object.defineProperty;var kq=Object.getOwnPropertyDescriptor;var Rq=Object.getOwnPropertyNames;var xq=Object.getPrototypeOf,Aq=Object.prototype.hasOwnProperty;var x=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),Oq=(r,t)=>{for(var i in t)xh(r,i,{get:t[i],enumerable:!0})},yA=(r,t,i,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Rq(t))!Aq.call(r,s)&&s!==i&&xh(r,s,{get:()=>t[s],enumerable:!(n=kq(t,s))||n.enumerable});return r};var Ke=(r,t,i)=>(i=r!=null?Cq(xq(r)):{},yA(t||!r||!r.__esModule?xh(i,"default",{value:r,enumerable:!0}):i,r)),Nq=r=>yA(xh({},"__esModule",{value:!0}),r);var EA=x((Tme,_A)=>{"use strict";var{Duplex:Pq}=require("stream");function SA(r){r.emit("close")}function Iq(){!this.destroyed&&this._writableState.finished&&this.destroy()}function wA(r){this.removeListener("error",wA),this.destroy(),this.listenerCount("error")===0&&this.emit("error",r)}function Lq(r,t){let i=!0,n=new Pq({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return r.on("message",function(o,l){let h=!l&&n._readableState.objectMode?o.toString():o;n.push(h)||r.pause()}),r.once("error",function(o){n.destroyed||(i=!1,n.destroy(o))}),r.once("close",function(){n.destroyed||n.push(null)}),n._destroy=function(s,o){if(r.readyState===r.CLOSED){o(s),process.nextTick(SA,n);return}let l=!1;r.once("error",function(p){l=!0,o(p)}),r.once("close",function(){l||o(s),process.nextTick(SA,n)}),i&&r.terminate()},n._final=function(s){if(r.readyState===r.CONNECTING){r.once("open",function(){n._final(s)});return}r._socket!==null&&(r._socket._writableState.finished?(s(),n._readableState.endEmitted&&n.destroy()):(r._socket.once("finish",function(){s()}),r.close()))},n._read=function(){r.isPaused&&r.resume()},n._write=function(s,o,l){if(r.readyState===r.CONNECTING){r.once("open",function(){n._write(s,o,l)});return}r.send(s,l)},n.on("end",Iq),n.on("error",wA),n}_A.exports=Lq});var ho=x((Cme,TA)=>{"use strict";TA.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var qu=x((kme,Oh)=>{"use strict";var{EMPTY_BUFFER:Mq}=ho(),Qv=Buffer[Symbol.species];function Fq(r,t){if(r.length===0)return Mq;if(r.length===1)return r[0];let i=Buffer.allocUnsafe(t),n=0;for(let s=0;s<r.length;s++){let o=r[s];i.set(o,n),n+=o.length}return n<t?new Qv(i.buffer,i.byteOffset,n):i}function CA(r,t,i,n,s){for(let o=0;o<s;o++)i[n+o]=r[o]^t[o&3]}function kA(r,t){for(let i=0;i<r.length;i++)r[i]^=t[i&3]}function jq(r){return r.length===r.buffer.byteLength?r.buffer:r.buffer.slice(r.byteOffset,r.byteOffset+r.length)}function e1(r){if(e1.readOnly=!0,Buffer.isBuffer(r))return r;let t;return r instanceof ArrayBuffer?t=new Qv(r):ArrayBuffer.isView(r)?t=new Qv(r.buffer,r.byteOffset,r.byteLength):(t=Buffer.from(r),e1.readOnly=!1),t}Oh.exports={concat:Fq,mask:CA,toArrayBuffer:jq,toBuffer:e1,unmask:kA};if(!process.env.WS_NO_BUFFER_UTIL)try{let r=require("bufferutil");Oh.exports.mask=function(t,i,n,s,o){o<48?CA(t,i,n,s,o):r.mask(t,i,n,s,o)},Oh.exports.unmask=function(t,i){t.length<32?kA(t,i):r.unmask(t,i)}}catch{}});var AA=x((Rme,xA)=>{"use strict";var RA=Symbol("kDone"),t1=Symbol("kRun"),r1=class{constructor(t){this[RA]=()=>{this.pending--,this[t1]()},this.concurrency=t||1/0,this.jobs=[],this.pending=0}add(t){this.jobs.push(t),this[t1]()}[t1](){if(this.pending!==this.concurrency&&this.jobs.length){let t=this.jobs.shift();this.pending++,t(this[RA])}}};xA.exports=r1});var Hu=x((xme,PA)=>{"use strict";var Wu=require("zlib"),OA=qu(),Bq=AA(),{kStatusCode:NA}=ho(),Uq=Buffer[Symbol.species],qq=Buffer.from([0,0,255,255]),Ph=Symbol("permessage-deflate"),vs=Symbol("total-length"),zu=Symbol("callback"),po=Symbol("buffers"),Dh=Symbol("error"),Nh,i1=class{constructor(t,i,n){if(this._maxPayload=n|0,this._options=t||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!i,this._deflate=null,this._inflate=null,this.params=null,!Nh){let s=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;Nh=new Bq(s)}}static get extensionName(){return"permessage-deflate"}offer(){let t={};return this._options.serverNoContextTakeover&&(t.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(t.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(t.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?t.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(t.client_max_window_bits=!0),t}accept(t){return t=this.normalizeParams(t),this.params=this._isServer?this.acceptAsServer(t):this.acceptAsClient(t),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let t=this._deflate[zu];this._deflate.close(),this._deflate=null,t&&t(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(t){let i=this._options,n=t.find(s=>!(i.serverNoContextTakeover===!1&&s.server_no_context_takeover||s.server_max_window_bits&&(i.serverMaxWindowBits===!1||typeof i.serverMaxWindowBits=="number"&&i.serverMaxWindowBits>s.server_max_window_bits)||typeof i.clientMaxWindowBits=="number"&&!s.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return i.serverNoContextTakeover&&(n.server_no_context_takeover=!0),i.clientNoContextTakeover&&(n.client_no_context_takeover=!0),typeof i.serverMaxWindowBits=="number"&&(n.server_max_window_bits=i.serverMaxWindowBits),typeof i.clientMaxWindowBits=="number"?n.client_max_window_bits=i.clientMaxWindowBits:(n.client_max_window_bits===!0||i.clientMaxWindowBits===!1)&&delete n.client_max_window_bits,n}acceptAsClient(t){let i=t[0];if(this._options.clientNoContextTakeover===!1&&i.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!i.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(i.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&i.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return i}normalizeParams(t){return t.forEach(i=>{Object.keys(i).forEach(n=>{let s=i[n];if(s.length>1)throw new Error(`Parameter "${n}" must have only a single value`);if(s=s[0],n==="client_max_window_bits"){if(s!==!0){let o=+s;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${n}": ${s}`);s=o}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${n}": ${s}`)}else if(n==="server_max_window_bits"){let o=+s;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${n}": ${s}`);s=o}else if(n==="client_no_context_takeover"||n==="server_no_context_takeover"){if(s!==!0)throw new TypeError(`Invalid value for parameter "${n}": ${s}`)}else throw new Error(`Unknown parameter "${n}"`);i[n]=s})}),t}decompress(t,i,n){Nh.add(s=>{this._decompress(t,i,(o,l)=>{s(),n(o,l)})})}compress(t,i,n){Nh.add(s=>{this._compress(t,i,(o,l)=>{s(),n(o,l)})})}_decompress(t,i,n){let s=this._isServer?"client":"server";if(!this._inflate){let o=`${s}_max_window_bits`,l=typeof this.params[o]!="number"?Wu.Z_DEFAULT_WINDOWBITS:this.params[o];this._inflate=Wu.createInflateRaw({...this._options.zlibInflateOptions,windowBits:l}),this._inflate[Ph]=this,this._inflate[vs]=0,this._inflate[po]=[],this._inflate.on("error",zq),this._inflate.on("data",DA)}this._inflate[zu]=n,this._inflate.write(t),i&&this._inflate.write(qq),this._inflate.flush(()=>{let o=this._inflate[Dh];if(o){this._inflate.close(),this._inflate=null,n(o);return}let l=OA.concat(this._inflate[po],this._inflate[vs]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[vs]=0,this._inflate[po]=[],i&&this.params[`${s}_no_context_takeover`]&&this._inflate.reset()),n(null,l)})}_compress(t,i,n){let s=this._isServer?"server":"client";if(!this._deflate){let o=`${s}_max_window_bits`,l=typeof this.params[o]!="number"?Wu.Z_DEFAULT_WINDOWBITS:this.params[o];this._deflate=Wu.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:l}),this._deflate[vs]=0,this._deflate[po]=[],this._deflate.on("data",Wq)}this._deflate[zu]=n,this._deflate.write(t),this._deflate.flush(Wu.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let o=OA.concat(this._deflate[po],this._deflate[vs]);i&&(o=new Uq(o.buffer,o.byteOffset,o.length-4)),this._deflate[zu]=null,this._deflate[vs]=0,this._deflate[po]=[],i&&this.params[`${s}_no_context_takeover`]&&this._deflate.reset(),n(null,o)})}};PA.exports=i1;function Wq(r){this[po].push(r),this[vs]+=r.length}function DA(r){if(this[vs]+=r.length,this[Ph]._maxPayload<1||this[vs]<=this[Ph]._maxPayload){this[po].push(r);return}this[Dh]=new RangeError("Max payload size exceeded"),this[Dh].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[Dh][NA]=1009,this.removeListener("data",DA),this.reset()}function zq(r){this[Ph]._inflate=null,r[NA]=1007,this[zu](r)}});var KA=x((Ame,YA)=>{var FA=require("fs"),bs=require("path"),jA=require("os"),BA=typeof __webpack_require__=="function"?__non_webpack_require__:require,Hq=process.config&&process.config.variables||{},Vq=!!process.env.PREBUILDS_ONLY,IA=process.versions.modules,n1=Yq()?"electron":Gq()?"node-webkit":"node",s1=process.env.npm_config_arch||jA.arch(),o1=process.env.npm_config_platform||jA.platform(),UA=process.env.LIBC||(Kq(o1)?"musl":"glibc"),a1=process.env.ARM_VERSION||(s1==="arm64"?"8":Hq.arm_version)||"",qA=(process.versions.uv||"").split(".")[0];YA.exports=Un;function Un(r){return BA(Un.resolve(r))}Un.resolve=Un.path=function(r){r=bs.resolve(r||".");try{var t=BA(bs.join(r,"package.json")).name.toUpperCase().replace(/-/g,"_");process.env[t+"_PREBUILD"]&&(r=process.env[t+"_PREBUILD"])}catch{}if(!Vq){var i=LA(bs.join(r,"build/Release"),MA);if(i)return i;var n=LA(bs.join(r,"build/Debug"),MA);if(n)return n}var s=h(r);if(s)return s;var o=h(bs.dirname(process.execPath));if(o)return o;var l=["platform="+o1,"arch="+s1,"runtime="+n1,"abi="+IA,"uv="+qA,a1?"armv="+a1:"","libc="+UA,"node="+process.versions.node,process.versions.electron?"electron="+process.versions.electron:"",typeof __webpack_require__=="function"?"webpack=true":""].filter(Boolean).join(" ");throw new Error("No native build was found for "+l+`
    loaded from: `+r+`
`);function h(p){var g=l1(bs.join(p,"prebuilds")).map(WA),m=g.filter(zA(o1,s1)).sort(HA)[0];if(m){var y=bs.join(p,"prebuilds",m.name),S=l1(y).map(VA),w=S.filter($A(n1,IA)),C=w.sort(GA(n1))[0];if(C)return bs.join(y,C.file)}}};function l1(r){try{return FA.readdirSync(r)}catch{return[]}}function LA(r,t){var i=l1(r).filter(t);return i[0]&&bs.join(r,i[0])}function MA(r){return/\.node$/.test(r)}function WA(r){var t=r.split("-");if(t.length===2){var i=t[0],n=t[1].split("+");if(i&&n.length&&n.every(Boolean))return{name:r,platform:i,architectures:n}}}function zA(r,t){return function(i){return i==null||i.platform!==r?!1:i.architectures.includes(t)}}function HA(r,t){return r.architectures.length-t.architectures.length}function VA(r){var t=r.split("."),i=t.pop(),n={file:r,specificity:0};if(i==="node"){for(var s=0;s<t.length;s++){var o=t[s];if(o==="node"||o==="electron"||o==="node-webkit")n.runtime=o;else if(o==="napi")n.napi=!0;else if(o.slice(0,3)==="abi")n.abi=o.slice(3);else if(o.slice(0,2)==="uv")n.uv=o.slice(2);else if(o.slice(0,4)==="armv")n.armv=o.slice(4);else if(o==="glibc"||o==="musl")n.libc=o;else continue;n.specificity++}return n}}function $A(r,t){return function(i){return!(i==null||i.runtime!==r&&!$q(i)||i.abi!==t&&!i.napi||i.uv&&i.uv!==qA||i.armv&&i.armv!==a1||i.libc&&i.libc!==UA)}}function $q(r){return r.runtime==="node"&&r.napi}function GA(r){return function(t,i){return t.runtime!==i.runtime?t.runtime===r?-1:1:t.abi!==i.abi?t.abi?-1:1:t.specificity!==i.specificity?t.specificity>i.specificity?-1:1:0}}function Gq(){return!!(process.versions&&process.versions.nw)}function Yq(){return process.versions&&process.versions.electron||process.env.ELECTRON_RUN_AS_NODE?!0:typeof window<"u"&&window.process&&window.process.type==="renderer"}function Kq(r){return r==="linux"&&FA.existsSync("/etc/alpine-release")}Un.parseTags=VA;Un.matchTags=$A;Un.compareTags=GA;Un.parseTuple=WA;Un.matchTuple=zA;Un.compareTuples=HA});var XA=x((Ome,c1)=>{typeof process.addon=="function"?c1.exports=process.addon.bind(process):c1.exports=KA()});var ZA=x((Nme,JA)=>{"use strict";function Xq(r){let t=r.length,i=0;for(;i<t;)if(!(r[i]&128))i++;else if((r[i]&224)===192){if(i+1===t||(r[i+1]&192)!==128||(r[i]&254)===192)return!1;i+=2}else if((r[i]&240)===224){if(i+2>=t||(r[i+1]&192)!==128||(r[i+2]&192)!==128||r[i]===224&&(r[i+1]&224)===128||r[i]===237&&(r[i+1]&224)===160)return!1;i+=3}else if((r[i]&248)===240){if(i+3>=t||(r[i+1]&192)!==128||(r[i+2]&192)!==128||(r[i+3]&192)!==128||r[i]===240&&(r[i+1]&240)===128||r[i]===244&&r[i+1]>143||r[i]>244)return!1;i+=4}else return!1;return!0}JA.exports=Xq});var QA=x((Dme,u1)=>{"use strict";try{u1.exports=XA()(__dirname)}catch{u1.exports=ZA()}});var Vu=x((Pme,Ih)=>{"use strict";var{isUtf8:eO}=require("buffer"),Jq=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function Zq(r){return r>=1e3&&r<=1014&&r!==1004&&r!==1005&&r!==1006||r>=3e3&&r<=4999}function d1(r){let t=r.length,i=0;for(;i<t;)if(!(r[i]&128))i++;else if((r[i]&224)===192){if(i+1===t||(r[i+1]&192)!==128||(r[i]&254)===192)return!1;i+=2}else if((r[i]&240)===224){if(i+2>=t||(r[i+1]&192)!==128||(r[i+2]&192)!==128||r[i]===224&&(r[i+1]&224)===128||r[i]===237&&(r[i+1]&224)===160)return!1;i+=3}else if((r[i]&248)===240){if(i+3>=t||(r[i+1]&192)!==128||(r[i+2]&192)!==128||(r[i+3]&192)!==128||r[i]===240&&(r[i+1]&240)===128||r[i]===244&&r[i+1]>143||r[i]>244)return!1;i+=4}else return!1;return!0}Ih.exports={isValidStatusCode:Zq,isValidUTF8:d1,tokenChars:Jq};if(eO)Ih.exports.isValidUTF8=function(r){return r.length<24?d1(r):eO(r)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let r=QA();Ih.exports.isValidUTF8=function(t){return t.length<32?d1(t):r(t)}}catch{}});var g1=x((Ime,aO)=>{"use strict";var{Writable:Qq}=require("stream"),tO=Hu(),{BINARY_TYPES:eW,EMPTY_BUFFER:rO,kStatusCode:tW,kWebSocket:rW}=ho(),{concat:f1,toArrayBuffer:iW,unmask:nW}=qu(),{isValidStatusCode:sW,isValidUTF8:iO}=Vu(),Lh=Buffer[Symbol.species],$u=0,nO=1,sO=2,oO=3,h1=4,oW=5,p1=class extends Qq{constructor(t={}){super(),this._binaryType=t.binaryType||eW[0],this._extensions=t.extensions||{},this._isServer=!!t.isServer,this._maxPayload=t.maxPayload|0,this._skipUTF8Validation=!!t.skipUTF8Validation,this[rW]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=$u,this._loop=!1}_write(t,i,n){if(this._opcode===8&&this._state==$u)return n();this._bufferedBytes+=t.length,this._buffers.push(t),this.startLoop(n)}consume(t){if(this._bufferedBytes-=t,t===this._buffers[0].length)return this._buffers.shift();if(t<this._buffers[0].length){let n=this._buffers[0];return this._buffers[0]=new Lh(n.buffer,n.byteOffset+t,n.length-t),new Lh(n.buffer,n.byteOffset,t)}let i=Buffer.allocUnsafe(t);do{let n=this._buffers[0],s=i.length-t;t>=n.length?i.set(this._buffers.shift(),s):(i.set(new Uint8Array(n.buffer,n.byteOffset,t),s),this._buffers[0]=new Lh(n.buffer,n.byteOffset+t,n.length-t)),t-=n.length}while(t>0);return i}startLoop(t){let i;this._loop=!0;do switch(this._state){case $u:i=this.getInfo();break;case nO:i=this.getPayloadLength16();break;case sO:i=this.getPayloadLength64();break;case oO:this.getMask();break;case h1:i=this.getData(t);break;default:this._loop=!1;return}while(this._loop);t(i)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let t=this.consume(2);if(t[0]&48)return this._loop=!1,Er(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");let i=(t[0]&64)===64;if(i&&!this._extensions[tO.extensionName])return this._loop=!1,Er(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(t[0]&128)===128,this._opcode=t[0]&15,this._payloadLength=t[1]&127,this._opcode===0){if(i)return this._loop=!1,Er(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,Er(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented)return this._loop=!1,Er(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=i}else if(this._opcode>7&&this._opcode<11){if(!this._fin)return this._loop=!1,Er(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(i)return this._loop=!1,Er(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1)return this._loop=!1,Er(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}else return this._loop=!1,Er(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(t[1]&128)===128,this._isServer){if(!this._masked)return this._loop=!1,Er(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,Er(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(this._payloadLength===126)this._state=nO;else if(this._payloadLength===127)this._state=sO;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let t=this.consume(8),i=t.readUInt32BE(0);return i>Math.pow(2,53-32)-1?(this._loop=!1,Er(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=i*Math.pow(2,32)+t.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,Er(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=oO:this._state=h1}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=h1}getData(t){let i=rO;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}i=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&nW(i,this._mask)}if(this._opcode>7)return this.controlMessage(i);if(this._compressed){this._state=oW,this.decompress(i,t);return}return i.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(i)),this.dataMessage()}decompress(t,i){this._extensions[tO.extensionName].decompress(t,this._fin,(s,o)=>{if(s)return i(s);if(o.length){if(this._messageLength+=o.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return i(Er(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(o)}let l=this.dataMessage();if(l)return i(l);this.startLoop(i)})}dataMessage(){if(this._fin){let t=this._messageLength,i=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let n;this._binaryType==="nodebuffer"?n=f1(i,t):this._binaryType==="arraybuffer"?n=iW(f1(i,t)):n=i,this.emit("message",n,!0)}else{let n=f1(i,t);if(!this._skipUTF8Validation&&!iO(n))return this._loop=!1,Er(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",n,!1)}}this._state=$u}controlMessage(t){if(this._opcode===8)if(this._loop=!1,t.length===0)this.emit("conclude",1005,rO),this.end();else{let i=t.readUInt16BE(0);if(!sW(i))return Er(RangeError,`invalid status code ${i}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");let n=new Lh(t.buffer,t.byteOffset+2,t.length-2);if(!this._skipUTF8Validation&&!iO(n))return Er(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",i,n),this.end()}else this._opcode===9?this.emit("ping",t):this.emit("pong",t);this._state=$u}};aO.exports=p1;function Er(r,t,i,n,s){let o=new r(i?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(o,Er),o.code=s,o[tW]=n,o}});var y1=x((Fme,uO)=>{"use strict";var Lme=require("net"),Mme=require("tls"),{randomFillSync:aW}=require("crypto"),lO=Hu(),{EMPTY_BUFFER:lW}=ho(),{isValidStatusCode:cW}=Vu(),{mask:cO,toBuffer:kl}=qu(),gn=Symbol("kByteLength"),uW=Buffer.alloc(4),m1=class r{constructor(t,i,n){this._extensions=i||{},n&&(this._generateMask=n,this._maskBuffer=Buffer.alloc(4)),this._socket=t,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(t,i){let n,s=!1,o=2,l=!1;i.mask&&(n=i.maskBuffer||uW,i.generateMask?i.generateMask(n):aW(n,0,4),l=(n[0]|n[1]|n[2]|n[3])===0,o=6);let h;typeof t=="string"?(!i.mask||l)&&i[gn]!==void 0?h=i[gn]:(t=Buffer.from(t),h=t.length):(h=t.length,s=i.mask&&i.readOnly&&!l);let p=h;h>=65536?(o+=8,p=127):h>125&&(o+=2,p=126);let g=Buffer.allocUnsafe(s?h+o:o);return g[0]=i.fin?i.opcode|128:i.opcode,i.rsv1&&(g[0]|=64),g[1]=p,p===126?g.writeUInt16BE(h,2):p===127&&(g[2]=g[3]=0,g.writeUIntBE(h,4,6)),i.mask?(g[1]|=128,g[o-4]=n[0],g[o-3]=n[1],g[o-2]=n[2],g[o-1]=n[3],l?[g,t]:s?(cO(t,n,g,o,h),[g]):(cO(t,n,t,0,h),[g,t])):[g,t]}close(t,i,n,s){let o;if(t===void 0)o=lW;else{if(typeof t!="number"||!cW(t))throw new TypeError("First argument must be a valid error code number");if(i===void 0||!i.length)o=Buffer.allocUnsafe(2),o.writeUInt16BE(t,0);else{let h=Buffer.byteLength(i);if(h>123)throw new RangeError("The message must not be greater than 123 bytes");o=Buffer.allocUnsafe(2+h),o.writeUInt16BE(t,0),typeof i=="string"?o.write(i,2):o.set(i,2)}}let l={[gn]:o.length,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,o,!1,l,s]):this.sendFrame(r.frame(o,l),s)}ping(t,i,n){let s,o;if(typeof t=="string"?(s=Buffer.byteLength(t),o=!1):(t=kl(t),s=t.length,o=kl.readOnly),s>125)throw new RangeError("The data size must not be greater than 125 bytes");let l={[gn]:s,fin:!0,generateMask:this._generateMask,mask:i,maskBuffer:this._maskBuffer,opcode:9,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,t,!1,l,n]):this.sendFrame(r.frame(t,l),n)}pong(t,i,n){let s,o;if(typeof t=="string"?(s=Buffer.byteLength(t),o=!1):(t=kl(t),s=t.length,o=kl.readOnly),s>125)throw new RangeError("The data size must not be greater than 125 bytes");let l={[gn]:s,fin:!0,generateMask:this._generateMask,mask:i,maskBuffer:this._maskBuffer,opcode:10,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,t,!1,l,n]):this.sendFrame(r.frame(t,l),n)}send(t,i,n){let s=this._extensions[lO.extensionName],o=i.binary?2:1,l=i.compress,h,p;if(typeof t=="string"?(h=Buffer.byteLength(t),p=!1):(t=kl(t),h=t.length,p=kl.readOnly),this._firstFragment?(this._firstFragment=!1,l&&s&&s.params[s._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(l=h>=s._threshold),this._compress=l):(l=!1,o=0),i.fin&&(this._firstFragment=!0),s){let g={[gn]:h,fin:i.fin,generateMask:this._generateMask,mask:i.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:p,rsv1:l};this._deflating?this.enqueue([this.dispatch,t,this._compress,g,n]):this.dispatch(t,this._compress,g,n)}else this.sendFrame(r.frame(t,{[gn]:h,fin:i.fin,generateMask:this._generateMask,mask:i.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:p,rsv1:!1}),n)}dispatch(t,i,n,s){if(!i){this.sendFrame(r.frame(t,n),s);return}let o=this._extensions[lO.extensionName];this._bufferedBytes+=n[gn],this._deflating=!0,o.compress(t,n.fin,(l,h)=>{if(this._socket.destroyed){let p=new Error("The socket was closed while data was being compressed");typeof s=="function"&&s(p);for(let g=0;g<this._queue.length;g++){let m=this._queue[g],y=m[m.length-1];typeof y=="function"&&y(p)}return}this._bufferedBytes-=n[gn],this._deflating=!1,n.readOnly=!1,this.sendFrame(r.frame(h,n),s),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let t=this._queue.shift();this._bufferedBytes-=t[3][gn],Reflect.apply(t[0],this,t.slice(1))}}enqueue(t){this._bufferedBytes+=t[3][gn],this._queue.push(t)}sendFrame(t,i){t.length===2?(this._socket.cork(),this._socket.write(t[0]),this._socket.write(t[1],i),this._socket.uncork()):this._socket.write(t[0],i)}};uO.exports=m1});var bO=x((jme,vO)=>{"use strict";var{kForOnEventAttribute:Gu,kListener:v1}=ho(),dO=Symbol("kCode"),fO=Symbol("kData"),hO=Symbol("kError"),pO=Symbol("kMessage"),gO=Symbol("kReason"),Rl=Symbol("kTarget"),mO=Symbol("kType"),yO=Symbol("kWasClean"),Ss=class{constructor(t){this[Rl]=null,this[mO]=t}get target(){return this[Rl]}get type(){return this[mO]}};Object.defineProperty(Ss.prototype,"target",{enumerable:!0});Object.defineProperty(Ss.prototype,"type",{enumerable:!0});var Sa=class extends Ss{constructor(t,i={}){super(t),this[dO]=i.code===void 0?0:i.code,this[gO]=i.reason===void 0?"":i.reason,this[yO]=i.wasClean===void 0?!1:i.wasClean}get code(){return this[dO]}get reason(){return this[gO]}get wasClean(){return this[yO]}};Object.defineProperty(Sa.prototype,"code",{enumerable:!0});Object.defineProperty(Sa.prototype,"reason",{enumerable:!0});Object.defineProperty(Sa.prototype,"wasClean",{enumerable:!0});var xl=class extends Ss{constructor(t,i={}){super(t),this[hO]=i.error===void 0?null:i.error,this[pO]=i.message===void 0?"":i.message}get error(){return this[hO]}get message(){return this[pO]}};Object.defineProperty(xl.prototype,"error",{enumerable:!0});Object.defineProperty(xl.prototype,"message",{enumerable:!0});var Yu=class extends Ss{constructor(t,i={}){super(t),this[fO]=i.data===void 0?null:i.data}get data(){return this[fO]}};Object.defineProperty(Yu.prototype,"data",{enumerable:!0});var dW={addEventListener(r,t,i={}){for(let s of this.listeners(r))if(!i[Gu]&&s[v1]===t&&!s[Gu])return;let n;if(r==="message")n=function(o,l){let h=new Yu("message",{data:l?o:o.toString()});h[Rl]=this,Mh(t,this,h)};else if(r==="close")n=function(o,l){let h=new Sa("close",{code:o,reason:l.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});h[Rl]=this,Mh(t,this,h)};else if(r==="error")n=function(o){let l=new xl("error",{error:o,message:o.message});l[Rl]=this,Mh(t,this,l)};else if(r==="open")n=function(){let o=new Ss("open");o[Rl]=this,Mh(t,this,o)};else return;n[Gu]=!!i[Gu],n[v1]=t,i.once?this.once(r,n):this.on(r,n)},removeEventListener(r,t){for(let i of this.listeners(r))if(i[v1]===t&&!i[Gu]){this.removeListener(r,i);break}}};vO.exports={CloseEvent:Sa,ErrorEvent:xl,Event:Ss,EventTarget:dW,MessageEvent:Yu};function Mh(r,t,i){typeof r=="object"&&r.handleEvent?r.handleEvent.call(r,i):r.call(t,i)}});var b1=x((Bme,SO)=>{"use strict";var{tokenChars:Ku}=Vu();function qn(r,t,i){r[t]===void 0?r[t]=[i]:r[t].push(i)}function fW(r){let t=Object.create(null),i=Object.create(null),n=!1,s=!1,o=!1,l,h,p=-1,g=-1,m=-1,y=0;for(;y<r.length;y++)if(g=r.charCodeAt(y),l===void 0)if(m===-1&&Ku[g]===1)p===-1&&(p=y);else if(y!==0&&(g===32||g===9))m===-1&&p!==-1&&(m=y);else if(g===59||g===44){if(p===-1)throw new SyntaxError(`Unexpected character at index ${y}`);m===-1&&(m=y);let w=r.slice(p,m);g===44?(qn(t,w,i),i=Object.create(null)):l=w,p=m=-1}else throw new SyntaxError(`Unexpected character at index ${y}`);else if(h===void 0)if(m===-1&&Ku[g]===1)p===-1&&(p=y);else if(g===32||g===9)m===-1&&p!==-1&&(m=y);else if(g===59||g===44){if(p===-1)throw new SyntaxError(`Unexpected character at index ${y}`);m===-1&&(m=y),qn(i,r.slice(p,m),!0),g===44&&(qn(t,l,i),i=Object.create(null),l=void 0),p=m=-1}else if(g===61&&p!==-1&&m===-1)h=r.slice(p,y),p=m=-1;else throw new SyntaxError(`Unexpected character at index ${y}`);else if(s){if(Ku[g]!==1)throw new SyntaxError(`Unexpected character at index ${y}`);p===-1?p=y:n||(n=!0),s=!1}else if(o)if(Ku[g]===1)p===-1&&(p=y);else if(g===34&&p!==-1)o=!1,m=y;else if(g===92)s=!0;else throw new SyntaxError(`Unexpected character at index ${y}`);else if(g===34&&r.charCodeAt(y-1)===61)o=!0;else if(m===-1&&Ku[g]===1)p===-1&&(p=y);else if(p!==-1&&(g===32||g===9))m===-1&&(m=y);else if(g===59||g===44){if(p===-1)throw new SyntaxError(`Unexpected character at index ${y}`);m===-1&&(m=y);let w=r.slice(p,m);n&&(w=w.replace(/\\/g,""),n=!1),qn(i,h,w),g===44&&(qn(t,l,i),i=Object.create(null),l=void 0),h=void 0,p=m=-1}else throw new SyntaxError(`Unexpected character at index ${y}`);if(p===-1||o||g===32||g===9)throw new SyntaxError("Unexpected end of input");m===-1&&(m=y);let S=r.slice(p,m);return l===void 0?qn(t,S,i):(h===void 0?qn(i,S,!0):n?qn(i,h,S.replace(/\\/g,"")):qn(i,h,S),qn(t,l,i)),t}function hW(r){return Object.keys(r).map(t=>{let i=r[t];return Array.isArray(i)||(i=[i]),i.map(n=>[t].concat(Object.keys(n).map(s=>{let o=n[s];return Array.isArray(o)||(o=[o]),o.map(l=>l===!0?s:`${s}=${l}`).join("; ")})).join("; ")).join(", ")}).join(", ")}SO.exports={format:hW,parse:fW}});var T1=x((qme,NO)=>{"use strict";var pW=require("events"),gW=require("https"),mW=require("http"),EO=require("net"),yW=require("tls"),{randomBytes:vW,createHash:bW}=require("crypto"),{Readable:Ume}=require("stream"),{URL:S1}=require("url"),go=Hu(),SW=g1(),wW=y1(),{BINARY_TYPES:wO,EMPTY_BUFFER:Fh,GUID:_W,kForOnEventAttribute:w1,kListener:EW,kStatusCode:TW,kWebSocket:Ur,NOOP:TO}=ho(),{EventTarget:{addEventListener:CW,removeEventListener:kW}}=bO(),{format:RW,parse:xW}=b1(),{toBuffer:AW}=qu(),OW=30*1e3,CO=Symbol("kAborted"),_1=[8,13],ws=["CONNECTING","OPEN","CLOSING","CLOSED"],NW=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,or=class r extends pW{constructor(t,i,n){super(),this._binaryType=wO[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=Fh,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=r.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,t!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,i===void 0?i=[]:Array.isArray(i)||(typeof i=="object"&&i!==null?(n=i,i=[]):i=[i]),kO(this,t,i,n)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(t){wO.includes(t)&&(this._binaryType=t,this._receiver&&(this._receiver._binaryType=t))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(t,i,n){let s=new SW({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation});this._sender=new wW(t,this._extensions,n.generateMask),this._receiver=s,this._socket=t,s[Ur]=this,t[Ur]=this,s.on("conclude",IW),s.on("drain",LW),s.on("error",MW),s.on("message",FW),s.on("ping",jW),s.on("pong",BW),t.setTimeout(0),t.setNoDelay(),i.length>0&&t.unshift(i),t.on("close",xO),t.on("data",Bh),t.on("end",AO),t.on("error",OO),this._readyState=r.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=r.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[go.extensionName]&&this._extensions[go.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=r.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(t,i){if(this.readyState!==r.CLOSED){if(this.readyState===r.CONNECTING){let n="WebSocket was closed before the connection was established";Oi(this,this._req,n);return}if(this.readyState===r.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=r.CLOSING,this._sender.close(t,i,!this._isServer,n=>{n||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),OW)}}pause(){this.readyState===r.CONNECTING||this.readyState===r.CLOSED||(this._paused=!0,this._socket.pause())}ping(t,i,n){if(this.readyState===r.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"?(n=t,t=i=void 0):typeof i=="function"&&(n=i,i=void 0),typeof t=="number"&&(t=t.toString()),this.readyState!==r.OPEN){E1(this,t,n);return}i===void 0&&(i=!this._isServer),this._sender.ping(t||Fh,i,n)}pong(t,i,n){if(this.readyState===r.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"?(n=t,t=i=void 0):typeof i=="function"&&(n=i,i=void 0),typeof t=="number"&&(t=t.toString()),this.readyState!==r.OPEN){E1(this,t,n);return}i===void 0&&(i=!this._isServer),this._sender.pong(t||Fh,i,n)}resume(){this.readyState===r.CONNECTING||this.readyState===r.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(t,i,n){if(this.readyState===r.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof i=="function"&&(n=i,i={}),typeof t=="number"&&(t=t.toString()),this.readyState!==r.OPEN){E1(this,t,n);return}let s={binary:typeof t!="string",mask:!this._isServer,compress:!0,fin:!0,...i};this._extensions[go.extensionName]||(s.compress=!1),this._sender.send(t||Fh,s,n)}terminate(){if(this.readyState!==r.CLOSED){if(this.readyState===r.CONNECTING){let t="WebSocket was closed before the connection was established";Oi(this,this._req,t);return}this._socket&&(this._readyState=r.CLOSING,this._socket.destroy())}}};Object.defineProperty(or,"CONNECTING",{enumerable:!0,value:ws.indexOf("CONNECTING")});Object.defineProperty(or.prototype,"CONNECTING",{enumerable:!0,value:ws.indexOf("CONNECTING")});Object.defineProperty(or,"OPEN",{enumerable:!0,value:ws.indexOf("OPEN")});Object.defineProperty(or.prototype,"OPEN",{enumerable:!0,value:ws.indexOf("OPEN")});Object.defineProperty(or,"CLOSING",{enumerable:!0,value:ws.indexOf("CLOSING")});Object.defineProperty(or.prototype,"CLOSING",{enumerable:!0,value:ws.indexOf("CLOSING")});Object.defineProperty(or,"CLOSED",{enumerable:!0,value:ws.indexOf("CLOSED")});Object.defineProperty(or.prototype,"CLOSED",{enumerable:!0,value:ws.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(r=>{Object.defineProperty(or.prototype,r,{enumerable:!0})});["open","error","close","message"].forEach(r=>{Object.defineProperty(or.prototype,`on${r}`,{enumerable:!0,get(){for(let t of this.listeners(r))if(t[w1])return t[EW];return null},set(t){for(let i of this.listeners(r))if(i[w1]){this.removeListener(r,i);break}typeof t=="function"&&this.addEventListener(r,t,{[w1]:!0})}})});or.prototype.addEventListener=CW;or.prototype.removeEventListener=kW;NO.exports=or;function kO(r,t,i,n){let s={protocolVersion:_1[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(!_1.includes(s.protocolVersion))throw new RangeError(`Unsupported protocol version: ${s.protocolVersion} (supported versions: ${_1.join(", ")})`);let o;if(t instanceof S1)o=t,r._url=t.href;else{try{o=new S1(t)}catch{throw new SyntaxError(`Invalid URL: ${t}`)}r._url=t}let l=o.protocol==="wss:",h=o.protocol==="ws+unix:",p;if(o.protocol!=="ws:"&&!l&&!h?p=`The URL's protocol must be one of "ws:", "wss:", or "ws+unix:"`:h&&!o.pathname?p="The URL's pathname is empty":o.hash&&(p="The URL contains a fragment identifier"),p){let _=new SyntaxError(p);if(r._redirects===0)throw _;jh(r,_);return}let g=l?443:80,m=vW(16).toString("base64"),y=l?gW.request:mW.request,S=new Set,w;if(s.createConnection=l?PW:DW,s.defaultPort=s.defaultPort||g,s.port=o.port||g,s.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,s.headers={...s.headers,"Sec-WebSocket-Version":s.protocolVersion,"Sec-WebSocket-Key":m,Connection:"Upgrade",Upgrade:"websocket"},s.path=o.pathname+o.search,s.timeout=s.handshakeTimeout,s.perMessageDeflate&&(w=new go(s.perMessageDeflate!==!0?s.perMessageDeflate:{},!1,s.maxPayload),s.headers["Sec-WebSocket-Extensions"]=RW({[go.extensionName]:w.offer()})),i.length){for(let _ of i){if(typeof _!="string"||!NW.test(_)||S.has(_))throw new SyntaxError("An invalid or duplicated subprotocol was specified");S.add(_)}s.headers["Sec-WebSocket-Protocol"]=i.join(",")}if(s.origin&&(s.protocolVersion<13?s.headers["Sec-WebSocket-Origin"]=s.origin:s.headers.Origin=s.origin),(o.username||o.password)&&(s.auth=`${o.username}:${o.password}`),h){let _=s.path.split(":");s.socketPath=_[0],s.path=_[1]}let C;if(s.followRedirects){if(r._redirects===0){r._originalIpc=h,r._originalSecure=l,r._originalHostOrSocketPath=h?s.socketPath:o.host;let _=n&&n.headers;if(n={...n,headers:{}},_)for(let[R,D]of Object.entries(_))n.headers[R.toLowerCase()]=D}else if(r.listenerCount("redirect")===0){let _=h?r._originalIpc?s.socketPath===r._originalHostOrSocketPath:!1:r._originalIpc?!1:o.host===r._originalHostOrSocketPath;(!_||r._originalSecure&&!l)&&(delete s.headers.authorization,delete s.headers.cookie,_||delete s.headers.host,s.auth=void 0)}s.auth&&!n.headers.authorization&&(n.headers.authorization="Basic "+Buffer.from(s.auth).toString("base64")),C=r._req=y(s),r._redirects&&r.emit("redirect",r.url,C)}else C=r._req=y(s);s.timeout&&C.on("timeout",()=>{Oi(r,C,"Opening handshake has timed out")}),C.on("error",_=>{C===null||C[CO]||(C=r._req=null,jh(r,_))}),C.on("response",_=>{let R=_.headers.location,D=_.statusCode;if(R&&s.followRedirects&&D>=300&&D<400){if(++r._redirects>s.maxRedirects){Oi(r,C,"Maximum redirects exceeded");return}C.abort();let I;try{I=new S1(R,t)}catch{let L=new SyntaxError(`Invalid URL: ${R}`);jh(r,L);return}kO(r,I,i,n)}else r.emit("unexpected-response",C,_)||Oi(r,C,`Unexpected server response: ${_.statusCode}`)}),C.on("upgrade",(_,R,D)=>{if(r.emit("upgrade",_),r.readyState!==or.CONNECTING)return;if(C=r._req=null,_.headers.upgrade.toLowerCase()!=="websocket"){Oi(r,R,"Invalid Upgrade header");return}let I=bW("sha1").update(m+_W).digest("base64");if(_.headers["sec-websocket-accept"]!==I){Oi(r,R,"Invalid Sec-WebSocket-Accept header");return}let M=_.headers["sec-websocket-protocol"],L;if(M!==void 0?S.size?S.has(M)||(L="Server sent an invalid subprotocol"):L="Server sent a subprotocol but none was requested":S.size&&(L="Server sent no subprotocol"),L){Oi(r,R,L);return}M&&(r._protocol=M);let V=_.headers["sec-websocket-extensions"];if(V!==void 0){if(!w){Oi(r,R,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let K;try{K=xW(V)}catch{Oi(r,R,"Invalid Sec-WebSocket-Extensions header");return}let Q=Object.keys(K);if(Q.length!==1||Q[0]!==go.extensionName){Oi(r,R,"Server indicated an extension that was not requested");return}try{w.accept(K[go.extensionName])}catch{Oi(r,R,"Invalid Sec-WebSocket-Extensions header");return}r._extensions[go.extensionName]=w}r.setSocket(R,D,{generateMask:s.generateMask,maxPayload:s.maxPayload,skipUTF8Validation:s.skipUTF8Validation})}),s.finishRequest?s.finishRequest(C,r):C.end()}function jh(r,t){r._readyState=or.CLOSING,r.emit("error",t),r.emitClose()}function DW(r){return r.path=r.socketPath,EO.connect(r)}function PW(r){return r.path=void 0,!r.servername&&r.servername!==""&&(r.servername=EO.isIP(r.host)?"":r.host),yW.connect(r)}function Oi(r,t,i){r._readyState=or.CLOSING;let n=new Error(i);Error.captureStackTrace(n,Oi),t.setHeader?(t[CO]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(jh,r,n)):(t.destroy(n),t.once("error",r.emit.bind(r,"error")),t.once("close",r.emitClose.bind(r)))}function E1(r,t,i){if(t){let n=AW(t).length;r._socket?r._sender._bufferedBytes+=n:r._bufferedAmount+=n}if(i){let n=new Error(`WebSocket is not open: readyState ${r.readyState} (${ws[r.readyState]})`);process.nextTick(i,n)}}function IW(r,t){let i=this[Ur];i._closeFrameReceived=!0,i._closeMessage=t,i._closeCode=r,i._socket[Ur]!==void 0&&(i._socket.removeListener("data",Bh),process.nextTick(RO,i._socket),r===1005?i.close():i.close(r,t))}function LW(){let r=this[Ur];r.isPaused||r._socket.resume()}function MW(r){let t=this[Ur];t._socket[Ur]!==void 0&&(t._socket.removeListener("data",Bh),process.nextTick(RO,t._socket),t.close(r[TW])),t.emit("error",r)}function _O(){this[Ur].emitClose()}function FW(r,t){this[Ur].emit("message",r,t)}function jW(r){let t=this[Ur];t.pong(r,!t._isServer,TO),t.emit("ping",r)}function BW(r){this[Ur].emit("pong",r)}function RO(r){r.resume()}function xO(){let r=this[Ur];this.removeListener("close",xO),this.removeListener("data",Bh),this.removeListener("end",AO),r._readyState=or.CLOSING;let t;!this._readableState.endEmitted&&!r._closeFrameReceived&&!r._receiver._writableState.errorEmitted&&(t=r._socket.read())!==null&&r._receiver.write(t),r._receiver.end(),this[Ur]=void 0,clearTimeout(r._closeTimer),r._receiver._writableState.finished||r._receiver._writableState.errorEmitted?r.emitClose():(r._receiver.on("error",_O),r._receiver.on("finish",_O))}function Bh(r){this[Ur]._receiver.write(r)||this.pause()}function AO(){let r=this[Ur];r._readyState=or.CLOSING,r._receiver.end(),this.end()}function OO(){let r=this[Ur];this.removeListener("error",OO),this.on("error",TO),r&&(r._readyState=or.CLOSING,this.destroy())}});var PO=x((Wme,DO)=>{"use strict";var{tokenChars:UW}=Vu();function qW(r){let t=new Set,i=-1,n=-1,s=0;for(s;s<r.length;s++){let l=r.charCodeAt(s);if(n===-1&&UW[l]===1)i===-1&&(i=s);else if(s!==0&&(l===32||l===9))n===-1&&i!==-1&&(n=s);else if(l===44){if(i===-1)throw new SyntaxError(`Unexpected character at index ${s}`);n===-1&&(n=s);let h=r.slice(i,n);if(t.has(h))throw new SyntaxError(`The "${h}" subprotocol is duplicated`);t.add(h),i=n=-1}else throw new SyntaxError(`Unexpected character at index ${s}`)}if(i===-1||n!==-1)throw new SyntaxError("Unexpected end of input");let o=r.slice(i,s);if(t.has(o))throw new SyntaxError(`The "${o}" subprotocol is duplicated`);return t.add(o),t}DO.exports={parse:qW}});var UO=x(($me,BO)=>{"use strict";var WW=require("events"),Uh=require("http"),zme=require("https"),Hme=require("net"),Vme=require("tls"),{createHash:zW}=require("crypto"),IO=b1(),wa=Hu(),HW=PO(),VW=T1(),{GUID:$W,kWebSocket:GW}=ho(),YW=/^[+/0-9A-Za-z]{22}==$/,LO=0,MO=1,jO=2,C1=class extends WW{constructor(t,i){if(super(),t={maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:VW,...t},t.port==null&&!t.server&&!t.noServer||t.port!=null&&(t.server||t.noServer)||t.server&&t.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(t.port!=null?(this._server=Uh.createServer((n,s)=>{let o=Uh.STATUS_CODES[426];s.writeHead(426,{"Content-Length":o.length,"Content-Type":"text/plain"}),s.end(o)}),this._server.listen(t.port,t.host,t.backlog,i)):t.server&&(this._server=t.server),this._server){let n=this.emit.bind(this,"connection");this._removeListeners=KW(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(s,o,l)=>{this.handleUpgrade(s,o,l,n)}})}t.perMessageDeflate===!0&&(t.perMessageDeflate={}),t.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=t,this._state=LO}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(t){if(this._state===jO){t&&this.once("close",()=>{t(new Error("The server is not running"))}),process.nextTick(Xu,this);return}if(t&&this.once("close",t),this._state!==MO)if(this._state=MO,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(Xu,this):process.nextTick(Xu,this);else{let i=this._server;this._removeListeners(),this._removeListeners=this._server=null,i.close(()=>{Xu(this)})}}shouldHandle(t){if(this.options.path){let i=t.url.indexOf("?");if((i!==-1?t.url.slice(0,i):t.url)!==this.options.path)return!1}return!0}handleUpgrade(t,i,n,s){i.on("error",FO);let o=t.headers["sec-websocket-key"],l=+t.headers["sec-websocket-version"];if(t.method!=="GET"){_a(this,t,i,405,"Invalid HTTP method");return}if(t.headers.upgrade.toLowerCase()!=="websocket"){_a(this,t,i,400,"Invalid Upgrade header");return}if(!o||!YW.test(o)){_a(this,t,i,400,"Missing or invalid Sec-WebSocket-Key header");return}if(l!==8&&l!==13){_a(this,t,i,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(t)){Ju(i,400);return}let h=t.headers["sec-websocket-protocol"],p=new Set;if(h!==void 0)try{p=HW.parse(h)}catch{_a(this,t,i,400,"Invalid Sec-WebSocket-Protocol header");return}let g=t.headers["sec-websocket-extensions"],m={};if(this.options.perMessageDeflate&&g!==void 0){let y=new wa(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let S=IO.parse(g);S[wa.extensionName]&&(y.accept(S[wa.extensionName]),m[wa.extensionName]=y)}catch{_a(this,t,i,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let y={origin:t.headers[`${l===8?"sec-websocket-origin":"origin"}`],secure:!!(t.socket.authorized||t.socket.encrypted),req:t};if(this.options.verifyClient.length===2){this.options.verifyClient(y,(S,w,C,_)=>{if(!S)return Ju(i,w||401,C,_);this.completeUpgrade(m,o,p,t,i,n,s)});return}if(!this.options.verifyClient(y))return Ju(i,401)}this.completeUpgrade(m,o,p,t,i,n,s)}completeUpgrade(t,i,n,s,o,l,h){if(!o.readable||!o.writable)return o.destroy();if(o[GW])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>LO)return Ju(o,503);let g=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${zW("sha1").update(i+$W).digest("base64")}`],m=new this.options.WebSocket(null);if(n.size){let y=this.options.handleProtocols?this.options.handleProtocols(n,s):n.values().next().value;y&&(g.push(`Sec-WebSocket-Protocol: ${y}`),m._protocol=y)}if(t[wa.extensionName]){let y=t[wa.extensionName].params,S=IO.format({[wa.extensionName]:[y]});g.push(`Sec-WebSocket-Extensions: ${S}`),m._extensions=t}this.emit("headers",g,s),o.write(g.concat(`\r
`).join(`\r
`)),o.removeListener("error",FO),m.setSocket(o,l,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(m),m.on("close",()=>{this.clients.delete(m),this._shouldEmitClose&&!this.clients.size&&process.nextTick(Xu,this)})),h(m,s)}};BO.exports=C1;function KW(r,t){for(let i of Object.keys(t))r.on(i,t[i]);return function(){for(let n of Object.keys(t))r.removeListener(n,t[n])}}function Xu(r){r._state=jO,r.emit("close")}function FO(){this.destroy()}function Ju(r,t,i,n){i=i||Uh.STATUS_CODES[t],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(i),...n},r.once("finish",r.destroy),r.end(`HTTP/1.1 ${t} ${Uh.STATUS_CODES[t]}\r
`+Object.keys(n).map(s=>`${s}: ${n[s]}`).join(`\r
`)+`\r
\r
`+i)}function _a(r,t,i,n,s){if(r.listenerCount("wsClientError")){let o=new Error(s);Error.captureStackTrace(o,_a),r.emit("wsClientError",o,i,t)}else Ju(i,n,s)}});var wt=x(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});Wi.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=Wi.DEFAULT_MAX_SEND_MESSAGE_LENGTH=Wi.Propagate=Wi.LogVerbosity=Wi.Status=void 0;var qO;(function(r){r[r.OK=0]="OK",r[r.CANCELLED=1]="CANCELLED",r[r.UNKNOWN=2]="UNKNOWN",r[r.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",r[r.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",r[r.NOT_FOUND=5]="NOT_FOUND",r[r.ALREADY_EXISTS=6]="ALREADY_EXISTS",r[r.PERMISSION_DENIED=7]="PERMISSION_DENIED",r[r.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",r[r.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",r[r.ABORTED=10]="ABORTED",r[r.OUT_OF_RANGE=11]="OUT_OF_RANGE",r[r.UNIMPLEMENTED=12]="UNIMPLEMENTED",r[r.INTERNAL=13]="INTERNAL",r[r.UNAVAILABLE=14]="UNAVAILABLE",r[r.DATA_LOSS=15]="DATA_LOSS",r[r.UNAUTHENTICATED=16]="UNAUTHENTICATED"})(qO||(Wi.Status=qO={}));var WO;(function(r){r[r.DEBUG=0]="DEBUG",r[r.INFO=1]="INFO",r[r.ERROR=2]="ERROR",r[r.NONE=3]="NONE"})(WO||(Wi.LogVerbosity=WO={}));var zO;(function(r){r[r.DEADLINE=1]="DEADLINE",r[r.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",r[r.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",r[r.CANCELLATION=8]="CANCELLATION",r[r.DEFAULTS=65535]="DEFAULTS"})(zO||(Wi.Propagate=zO={}));Wi.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1;Wi.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4*1024*1024});var ir=x(ri=>{"use strict";var R1,x1,A1,O1;Object.defineProperty(ri,"__esModule",{value:!0});ri.isTracerEnabled=ri.trace=ri.log=ri.setLoggerVerbosity=ri.setLogger=ri.getLogger=void 0;var mo=wt(),QW={error:(r,...t)=>{console.error("E "+r,...t)},info:(r,...t)=>{console.error("I "+r,...t)},debug:(r,...t)=>{console.error("D "+r,...t)}},Ea=QW,Al=mo.LogVerbosity.ERROR,ez=(x1=(R1=process.env.GRPC_NODE_VERBOSITY)!==null&&R1!==void 0?R1:process.env.GRPC_VERBOSITY)!==null&&x1!==void 0?x1:"";switch(ez.toUpperCase()){case"DEBUG":Al=mo.LogVerbosity.DEBUG;break;case"INFO":Al=mo.LogVerbosity.INFO;break;case"ERROR":Al=mo.LogVerbosity.ERROR;break;case"NONE":Al=mo.LogVerbosity.NONE;break;default:}var tz=()=>Ea;ri.getLogger=tz;var rz=r=>{Ea=r};ri.setLogger=rz;var iz=r=>{Al=r};ri.setLoggerVerbosity=iz;var nz=(r,...t)=>{let i;if(r>=Al){switch(r){case mo.LogVerbosity.DEBUG:i=Ea.debug;break;case mo.LogVerbosity.INFO:i=Ea.info;break;case mo.LogVerbosity.ERROR:i=Ea.error;break}i||(i=Ea.error),i&&i.bind(Ea)(...t)}};ri.log=nz;var sz=(O1=(A1=process.env.GRPC_NODE_TRACE)!==null&&A1!==void 0?A1:process.env.GRPC_TRACE)!==null&&O1!==void 0?O1:"",N1=new Set,HO=new Set;for(let r of sz.split(","))r.startsWith("-")?HO.add(r.substring(1)):N1.add(r);var oz=N1.has("all");function az(r,t,i){VO(t)&&(0,ri.log)(r,new Date().toISOString()+" | "+t+" | "+i)}ri.trace=az;function VO(r){return!HO.has(r)&&(oz||N1.has(r))}ri.isTracerEnabled=VO});var qh=x(Ol=>{"use strict";Object.defineProperty(Ol,"__esModule",{value:!0});Ol.getErrorCode=Ol.getErrorMessage=void 0;function lz(r){return r instanceof Error?r.message:String(r)}Ol.getErrorMessage=lz;function cz(r){return typeof r=="object"&&r!==null&&"code"in r&&typeof r.code=="number"?r.code:null}Ol.getErrorCode=cz});var ii=x(zh=>{"use strict";Object.defineProperty(zh,"__esModule",{value:!0});zh.Metadata=void 0;var uz=ir(),dz=wt(),fz=qh(),hz=/^[0-9a-z_.-]+$/,pz=/^[ -~]*$/;function gz(r){return hz.test(r)}function mz(r){return pz.test(r)}function GO(r){return r.endsWith("-bin")}function yz(r){return!r.startsWith("grpc-")}function Wh(r){return r.toLowerCase()}function $O(r,t){if(!gz(r))throw new Error('Metadata key "'+r+'" contains illegal characters');if(t!=null)if(GO(r)){if(!Buffer.isBuffer(t))throw new Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(t))throw new Error("keys that don't end with '-bin' must have String values");if(!mz(t))throw new Error('Metadata string value "'+t+'" contains illegal characters')}}var D1=class r{constructor(t={}){this.internalRepr=new Map,this.options=t}set(t,i){t=Wh(t),$O(t,i),this.internalRepr.set(t,[i])}add(t,i){t=Wh(t),$O(t,i);let n=this.internalRepr.get(t);n===void 0?this.internalRepr.set(t,[i]):n.push(i)}remove(t){t=Wh(t),this.internalRepr.delete(t)}get(t){return t=Wh(t),this.internalRepr.get(t)||[]}getMap(){let t={};for(let[i,n]of this.internalRepr)if(n.length>0){let s=n[0];t[i]=Buffer.isBuffer(s)?Buffer.from(s):s}return t}clone(){let t=new r(this.options),i=t.internalRepr;for(let[n,s]of this.internalRepr){let o=s.map(l=>Buffer.isBuffer(l)?Buffer.from(l):l);i.set(n,o)}return t}merge(t){for(let[i,n]of t.internalRepr){let s=(this.internalRepr.get(i)||[]).concat(n);this.internalRepr.set(i,s)}}setOptions(t){this.options=t}getOptions(){return this.options}toHttp2Headers(){let t={};for(let[i,n]of this.internalRepr)t[i]=n.map(vz);return t}toJSON(){let t={};for(let[i,n]of this.internalRepr)t[i]=n;return t}static fromHttp2Headers(t){let i=new r;for(let n of Object.keys(t)){if(n.charAt(0)===":")continue;let s=t[n];try{GO(n)?Array.isArray(s)?s.forEach(o=>{i.add(n,Buffer.from(o,"base64"))}):s!==void 0&&(yz(n)?s.split(",").forEach(o=>{i.add(n,Buffer.from(o.trim(),"base64"))}):i.add(n,Buffer.from(s,"base64"))):Array.isArray(s)?s.forEach(o=>{i.add(n,o)}):s!==void 0&&i.add(n,s)}catch(o){let l=`Failed to add metadata entry ${n}: ${s}. ${(0,fz.getErrorMessage)(o)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,uz.log)(dz.LogVerbosity.ERROR,l)}}return i}};zh.Metadata=D1;var vz=r=>Buffer.isBuffer(r)?r.toString("base64"):r});var F1=x(Hh=>{"use strict";Object.defineProperty(Hh,"__esModule",{value:!0});Hh.CallCredentials=void 0;var M1=ii();function bz(r){return"getRequestHeaders"in r&&typeof r.getRequestHeaders=="function"}var Nl=class r{static createFromMetadataGenerator(t){return new I1(t)}static createFromGoogleCredential(t){return r.createFromMetadataGenerator((i,n)=>{let s;bz(t)?s=t.getRequestHeaders(i.service_url):s=new Promise((o,l)=>{t.getRequestMetadata(i.service_url,(h,p)=>{if(h){l(h);return}if(!p){l(new Error("Headers not set by metadata plugin"));return}o(p)})}),s.then(o=>{let l=new M1.Metadata;for(let h of Object.keys(o))l.add(h,o[h]);n(null,l)},o=>{n(o)})})}static createEmpty(){return new L1}};Hh.CallCredentials=Nl;var P1=class r extends Nl{constructor(t){super(),this.creds=t}async generateMetadata(t){let i=new M1.Metadata,n=await Promise.all(this.creds.map(s=>s.generateMetadata(t)));for(let s of n)i.merge(s);return i}compose(t){return new r(this.creds.concat([t]))}_equals(t){return this===t?!0:t instanceof r?this.creds.every((i,n)=>i._equals(t.creds[n])):!1}},I1=class r extends Nl{constructor(t){super(),this.metadataGenerator=t}generateMetadata(t){return new Promise((i,n)=>{this.metadataGenerator(t,(s,o)=>{o!==void 0?i(o):n(s)})})}compose(t){return new P1([this,t])}_equals(t){return this===t?!0:t instanceof r?this.metadataGenerator===t.metadataGenerator:!1}},L1=class r extends Nl{generateMetadata(t){return Promise.resolve(new M1.Metadata)}compose(t){return t}_equals(t){return t instanceof r}}});var B1=x(Dl=>{"use strict";Object.defineProperty(Dl,"__esModule",{value:!0});Dl.getDefaultRootsData=Dl.CIPHER_SUITES=void 0;var Sz=require("fs");Dl.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;var YO=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,j1=null;function wz(){return YO?(j1===null&&(j1=Sz.readFileSync(YO)),j1):null}Dl.getDefaultRootsData=wz});var Gh=x($h=>{"use strict";Object.defineProperty($h,"__esModule",{value:!0});$h.ChannelCredentials=void 0;var _z=require("tls"),Ez=F1(),KO=B1();function U1(r,t){if(r&&!(r instanceof Buffer))throw new TypeError(`${t}, if provided, must be a Buffer.`)}var Pl=class{constructor(t){this.callCredentials=t||Ez.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(t,i,n,s){var o;if(U1(t,"Root certificate"),U1(i,"Private key"),U1(n,"Certificate chain"),i&&!n)throw new Error("Private key must be given with accompanying certificate chain");if(!i&&n)throw new Error("Certificate chain must be given with accompanying private key");let l=(0,_z.createSecureContext)({ca:(o=t??(0,KO.getDefaultRootsData)())!==null&&o!==void 0?o:void 0,key:i??void 0,cert:n??void 0,ciphers:KO.CIPHER_SUITES});return new Vh(l,s??{})}static createFromSecureContext(t,i){return new Vh(t,i??{})}static createInsecure(){return new q1}};$h.ChannelCredentials=Pl;var q1=class r extends Pl{constructor(t){super(t)}compose(t){throw new Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals(t){return t instanceof r}},Vh=class r extends Pl{constructor(t,i){super(),this.secureContext=t,this.verifyOptions=i,this.connectionOptions={secureContext:t},i?.checkServerIdentity&&(this.connectionOptions.checkServerIdentity=i.checkServerIdentity)}compose(t){let i=this.callCredentials.compose(t);return new W1(this,i)}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(t){return this===t?!0:t instanceof r?this.secureContext===t.secureContext&&this.verifyOptions.checkServerIdentity===t.verifyOptions.checkServerIdentity:!1}},W1=class r extends Pl{constructor(t,i){super(i),this.channelCredentials=t}compose(t){let i=this.callCredentials.compose(t);return new r(this.channelCredentials,i)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(t){return this===t?!0:t instanceof r?this.channelCredentials._equals(t.channelCredentials)&&this.callCredentials._equals(t.callCredentials):!1}}});var vo=x(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});qr.validateLoadBalancingConfig=qr.getFirstUsableConfig=qr.isLoadBalancerNameRegistered=qr.createLoadBalancer=qr.registerDefaultLoadBalancerType=qr.registerLoadBalancerType=qr.createChildChannelControlHelper=void 0;function Tz(r,t){var i,n,s,o,l,h,p,g,m,y;return{createSubchannel:(n=(i=t.createSubchannel)===null||i===void 0?void 0:i.bind(t))!==null&&n!==void 0?n:r.createSubchannel.bind(r),updateState:(o=(s=t.updateState)===null||s===void 0?void 0:s.bind(t))!==null&&o!==void 0?o:r.updateState.bind(r),requestReresolution:(h=(l=t.requestReresolution)===null||l===void 0?void 0:l.bind(t))!==null&&h!==void 0?h:r.requestReresolution.bind(r),addChannelzChild:(g=(p=t.addChannelzChild)===null||p===void 0?void 0:p.bind(t))!==null&&g!==void 0?g:r.addChannelzChild.bind(r),removeChannelzChild:(y=(m=t.removeChannelzChild)===null||m===void 0?void 0:m.bind(t))!==null&&y!==void 0?y:r.removeChannelzChild.bind(r)}}qr.createChildChannelControlHelper=Tz;var yo={},z1=null;function Cz(r,t,i){yo[r]={LoadBalancer:t,LoadBalancingConfig:i}}qr.registerLoadBalancerType=Cz;function kz(r){z1=r}qr.registerDefaultLoadBalancerType=kz;function Rz(r,t){let i=r.getLoadBalancerName();return i in yo?new yo[i].LoadBalancer(t):null}qr.createLoadBalancer=Rz;function xz(r){return r in yo}qr.isLoadBalancerNameRegistered=xz;function Az(r,t=!1){for(let i of r)if(i.getLoadBalancerName()in yo)return i;return t&&z1?new yo[z1].LoadBalancingConfig:null}qr.getFirstUsableConfig=Az;function Oz(r){if(!(r!==null&&typeof r=="object"))throw new Error("Load balancing config must be an object");let t=Object.keys(r);if(t.length!==1)throw new Error("Provided load balancing config has multiple conflicting entries");let i=t[0];if(i in yo)return yo[i].LoadBalancingConfig.createFromJson(r[i]);throw new Error(`Unrecognized load balancing config name ${i}`)}qr.validateLoadBalancingConfig=Oz});var H1=x(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});bo.extractAndSelectServiceConfig=bo.validateServiceConfig=bo.validateRetryThrottling=void 0;var Nz=require("os"),Yh=wt(),Dz=vo(),Kh=/^\d+(\.\d{1,9})?s$/,Pz="node";function Iz(r){if("service"in r&&r.service!==""){if(typeof r.service!="string")throw new Error(`Invalid method config name: invalid service: expected type string, got ${typeof r.service}`);if("method"in r&&r.method!==""){if(typeof r.method!="string")throw new Error(`Invalid method config name: invalid method: expected type string, got ${typeof r.service}`);return{service:r.service,method:r.method}}else return{service:r.service}}else{if("method"in r&&r.method!==void 0)throw new Error("Invalid method config name: method set with empty or unset service");return{}}}function Lz(r){if(!("maxAttempts"in r)||!Number.isInteger(r.maxAttempts)||r.maxAttempts<2)throw new Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in r)||typeof r.initialBackoff!="string"||!Kh.test(r.initialBackoff))throw new Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer followed by s");if(!("maxBackoff"in r)||typeof r.maxBackoff!="string"||!Kh.test(r.maxBackoff))throw new Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer followed by s");if(!("backoffMultiplier"in r)||typeof r.backoffMultiplier!="number"||r.backoffMultiplier<=0)throw new Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in r&&Array.isArray(r.retryableStatusCodes)))throw new Error("Invalid method config retry policy: retryableStatusCodes is required");if(r.retryableStatusCodes.length===0)throw new Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let t of r.retryableStatusCodes)if(typeof t=="number"){if(!Object.values(Yh.Status).includes(t))throw new Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if(typeof t=="string"){if(!Object.values(Yh.Status).includes(t.toUpperCase()))throw new Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw new Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:r.maxAttempts,initialBackoff:r.initialBackoff,maxBackoff:r.maxBackoff,backoffMultiplier:r.backoffMultiplier,retryableStatusCodes:r.retryableStatusCodes}}function Mz(r){if(!("maxAttempts"in r)||!Number.isInteger(r.maxAttempts)||r.maxAttempts<2)throw new Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in r&&(typeof r.hedgingDelay!="string"||!Kh.test(r.hedgingDelay)))throw new Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in r&&Array.isArray(r.nonFatalStatusCodes))for(let i of r.nonFatalStatusCodes)if(typeof i=="number"){if(!Object.values(Yh.Status).includes(i))throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if(typeof i=="string"){if(!Object.values(Yh.Status).includes(i.toUpperCase()))throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value must be a string or number");let t={maxAttempts:r.maxAttempts};return r.hedgingDelay&&(t.hedgingDelay=r.hedgingDelay),r.nonFatalStatusCodes&&(t.nonFatalStatusCodes=r.nonFatalStatusCodes),t}function Fz(r){var t;let i={name:[]};if(!("name"in r)||!Array.isArray(r.name))throw new Error("Invalid method config: invalid name array");for(let n of r.name)i.name.push(Iz(n));if("waitForReady"in r){if(typeof r.waitForReady!="boolean")throw new Error("Invalid method config: invalid waitForReady");i.waitForReady=r.waitForReady}if("timeout"in r)if(typeof r.timeout=="object"){if(!("seconds"in r.timeout)||typeof r.timeout.seconds!="number")throw new Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in r.timeout)||typeof r.timeout.nanos!="number")throw new Error("Invalid method config: invalid timeout.nanos");i.timeout=r.timeout}else if(typeof r.timeout=="string"&&Kh.test(r.timeout)){let n=r.timeout.substring(0,r.timeout.length-1).split(".");i.timeout={seconds:n[0]|0,nanos:((t=n[1])!==null&&t!==void 0?t:0)|0}}else throw new Error("Invalid method config: invalid timeout");if("maxRequestBytes"in r){if(typeof r.maxRequestBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");i.maxRequestBytes=r.maxRequestBytes}if("maxResponseBytes"in r){if(typeof r.maxResponseBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");i.maxResponseBytes=r.maxResponseBytes}if("retryPolicy"in r){if("hedgingPolicy"in r)throw new Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");i.retryPolicy=Lz(r.retryPolicy)}else"hedgingPolicy"in r&&(i.hedgingPolicy=Mz(r.hedgingPolicy));return i}function XO(r){if(!("maxTokens"in r)||typeof r.maxTokens!="number"||r.maxTokens<=0||r.maxTokens>1e3)throw new Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in r)||typeof r.tokenRatio!="number"||r.tokenRatio<=0)throw new Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+r.maxTokens.toFixed(3),tokenRatio:+r.tokenRatio.toFixed(3)}}bo.validateRetryThrottling=XO;function JO(r){let t={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in r)if(typeof r.loadBalancingPolicy=="string")t.loadBalancingPolicy=r.loadBalancingPolicy;else throw new Error("Invalid service config: invalid loadBalancingPolicy");if("loadBalancingConfig"in r)if(Array.isArray(r.loadBalancingConfig))for(let n of r.loadBalancingConfig)t.loadBalancingConfig.push((0,Dz.validateLoadBalancingConfig)(n));else throw new Error("Invalid service config: invalid loadBalancingConfig");if("methodConfig"in r&&Array.isArray(r.methodConfig))for(let n of r.methodConfig)t.methodConfig.push(Fz(n));"retryThrottling"in r&&(t.retryThrottling=XO(r.retryThrottling));let i=[];for(let n of t.methodConfig)for(let s of n.name){for(let o of i)if(s.service===o.service&&s.method===o.method)throw new Error(`Invalid service config: duplicate name ${s.service}/${s.method}`);i.push(s)}return t}bo.validateServiceConfig=JO;function jz(r){if(!("serviceConfig"in r))throw new Error("Invalid service config choice: missing service config");let t={serviceConfig:JO(r.serviceConfig)};if("clientLanguage"in r)if(Array.isArray(r.clientLanguage)){t.clientLanguage=[];for(let n of r.clientLanguage)if(typeof n=="string")t.clientLanguage.push(n);else throw new Error("Invalid service config choice: invalid clientLanguage")}else throw new Error("Invalid service config choice: invalid clientLanguage");if("clientHostname"in r)if(Array.isArray(r.clientHostname)){t.clientHostname=[];for(let n of r.clientHostname)if(typeof n=="string")t.clientHostname.push(n);else throw new Error("Invalid service config choice: invalid clientHostname")}else throw new Error("Invalid service config choice: invalid clientHostname");if("percentage"in r)if(typeof r.percentage=="number"&&0<=r.percentage&&r.percentage<=100)t.percentage=r.percentage;else throw new Error("Invalid service config choice: invalid percentage");let i=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let n in r)if(!i.includes(n))throw new Error(`Invalid service config choice: unexpected field ${n}`);return t}function Bz(r,t){if(!Array.isArray(r))throw new Error("Invalid service config list");for(let i of r){let n=jz(i);if(!(typeof n.percentage=="number"&&t>n.percentage)){if(Array.isArray(n.clientHostname)){let s=!1;for(let o of n.clientHostname)o===Nz.hostname()&&(s=!0);if(!s)continue}if(Array.isArray(n.clientLanguage)){let s=!1;for(let o of n.clientLanguage)o===Pz&&(s=!0);if(!s)continue}return n.serviceConfig}}throw new Error("No matching service config found")}function Uz(r,t){for(let i of r)if(i.length>0&&i[0].startsWith("grpc_config=")){let n=i.join("").substring(12),s=JSON.parse(n);return Bz(s,t)}return null}bo.extractAndSelectServiceConfig=Uz});var zi=x(Xh=>{"use strict";Object.defineProperty(Xh,"__esModule",{value:!0});Xh.ConnectivityState=void 0;var ZO;(function(r){r[r.IDLE=0]="IDLE",r[r.CONNECTING=1]="CONNECTING",r[r.READY=2]="READY",r[r.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",r[r.SHUTDOWN=4]="SHUTDOWN"})(ZO||(Xh.ConnectivityState=ZO={}))});var Ni=x(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});So.uriToString=So.splitHostPort=So.parseUri=void 0;var qz=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function Wz(r){let t=qz.exec(r);return t===null?null:{scheme:t[1],authority:t[2],path:t[3]}}So.parseUri=Wz;var QO=/^\d+$/;function zz(r){if(r.startsWith("[")){let t=r.indexOf("]");if(t===-1)return null;let i=r.substring(1,t);if(i.indexOf(":")===-1)return null;if(r.length>t+1)if(r[t+1]===":"){let n=r.substring(t+2);return QO.test(n)?{host:i,port:+n}:null}else return null;else return{host:i}}else{let t=r.split(":");return t.length===2?QO.test(t[1])?{host:t[0],port:+t[1]}:null:{host:r}}}So.splitHostPort=zz;function Hz(r){let t="";return r.scheme!==void 0&&(t+=r.scheme+":"),r.authority!==void 0&&(t+="//"+r.authority+"/"),t+=r.path,t}So.uriToString=Hz});var Wn=x(Hi=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});Hi.mapUriDefaultScheme=Hi.getDefaultAuthority=Hi.createResolver=Hi.registerDefaultScheme=Hi.registerResolver=void 0;var $1=Ni(),Il={},V1=null;function Vz(r,t){Il[r]=t}Hi.registerResolver=Vz;function $z(r){V1=r}Hi.registerDefaultScheme=$z;function Gz(r,t,i){if(r.scheme!==void 0&&r.scheme in Il)return new Il[r.scheme](r,t,i);throw new Error(`No resolver could be created for target ${(0,$1.uriToString)(r)}`)}Hi.createResolver=Gz;function Yz(r){if(r.scheme!==void 0&&r.scheme in Il)return Il[r.scheme].getDefaultAuthority(r);throw new Error(`Invalid target ${(0,$1.uriToString)(r)}`)}Hi.getDefaultAuthority=Yz;function Kz(r){return r.scheme===void 0||!(r.scheme in Il)?V1!==null?{scheme:V1,authority:void 0,path:(0,$1.uriToString)(r)}:null:r}Hi.mapUriDefaultScheme=Kz});var _o=x(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});wo.QueuePicker=wo.UnavailablePicker=wo.PickResultType=void 0;var Xz=ii(),Jz=wt(),Jh;(function(r){r[r.COMPLETE=0]="COMPLETE",r[r.QUEUE=1]="QUEUE",r[r.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",r[r.DROP=3]="DROP"})(Jh||(wo.PickResultType=Jh={}));var G1=class{constructor(t){t!==void 0?this.status=t:this.status={code:Jz.Status.UNAVAILABLE,details:"No connection established",metadata:new Xz.Metadata}}pick(t){return{pickResultType:Jh.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}};wo.UnavailablePicker=G1;var Y1=class{constructor(t){this.loadBalancer=t,this.calledExitIdle=!1}pick(t){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),{pickResultType:Jh.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}};wo.QueuePicker=Y1});var Zu=x(Zh=>{"use strict";Object.defineProperty(Zh,"__esModule",{value:!0});Zh.BackoffTimeout=void 0;var Zz=1e3,Qz=1.6,eH=12e4,tH=.2;function rH(r,t){return Math.random()*(t-r)+r}var K1=class{constructor(t,i){this.callback=t,this.initialDelay=Zz,this.multiplier=Qz,this.maxDelay=eH,this.jitter=tH,this.running=!1,this.hasRef=!0,this.startTime=new Date,i&&(i.initialDelay&&(this.initialDelay=i.initialDelay),i.multiplier&&(this.multiplier=i.multiplier),i.jitter&&(this.jitter=i.jitter),i.maxDelay&&(this.maxDelay=i.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}runTimer(t){var i,n;clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.callback(),this.running=!1},t),this.hasRef||(n=(i=this.timerId).unref)===null||n===void 0||n.call(i)}runOnce(){this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);let t=Math.min(this.nextDelay*this.multiplier,this.maxDelay),i=t*this.jitter;this.nextDelay=t+rH(-i,i)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){if(this.nextDelay=this.initialDelay,this.running){let t=new Date,i=this.startTime;i.setMilliseconds(i.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),t<i?this.runTimer(i.getTime()-t.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var t,i;this.hasRef=!0,(i=(t=this.timerId).ref)===null||i===void 0||i.call(t)}unref(){var t,i;this.hasRef=!1,(i=(t=this.timerId).unref)===null||i===void 0||i.call(t)}};Zh.BackoffTimeout=K1});var ep=x(Qh=>{"use strict";Object.defineProperty(Qh,"__esModule",{value:!0});Qh.ChildLoadBalancerHandler=void 0;var iH=vo(),nH=zi(),sH="child_load_balancer_helper",X1=class{constructor(t){this.channelControlHelper=t,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(i){this.parent=i,this.child=null}createSubchannel(i,n){return this.parent.channelControlHelper.createSubchannel(i,n)}updateState(i,n){var s;if(this.calledByPendingChild()){if(i===nH.ConnectivityState.CONNECTING)return;(s=this.parent.currentChild)===null||s===void 0||s.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(i,n)}requestReresolution(){var i;let n=(i=this.parent.pendingChild)!==null&&i!==void 0?i:this.parent.currentChild;this.child===n&&this.parent.channelControlHelper.requestReresolution()}setChild(i){this.child=i}addChannelzChild(i){this.parent.channelControlHelper.addChannelzChild(i)}removeChannelzChild(i){this.parent.channelControlHelper.removeChannelzChild(i)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(t,i){return t.getLoadBalancerName()!==i.getLoadBalancerName()}updateAddressList(t,i,n){let s;if(this.currentChild===null||this.latestConfig===null||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,i)){let o=new this.ChildPolicyHelper(this),l=(0,iH.createLoadBalancer)(i,o);o.setChild(l),this.currentChild===null?(this.currentChild=l,s=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=l,s=this.pendingChild)}else this.pendingChild===null?s=this.currentChild:s=this.pendingChild;this.latestConfig=i,s.updateAddressList(t,i,n)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return sH}};Qh.ChildLoadBalancerHandler=X1});var eN=x(tp=>{"use strict";Object.defineProperty(tp,"__esModule",{value:!0});tp.ResolvingLoadBalancer=void 0;var oH=vo(),aH=H1(),hi=zi(),lH=Wn(),Ll=_o(),cH=Zu(),J1=wt(),uH=ii(),dH=ir(),fH=wt(),hH=Ni(),pH=ep(),gH="resolving_load_balancer";function mH(r){dH.trace(fH.LogVerbosity.DEBUG,gH,r)}var yH=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function vH(r,t,i,n){for(let s of i.name)switch(n){case"EMPTY":if(!s.service&&!s.method)return!0;break;case"SERVICE":if(s.service===r&&!s.method)return!0;break;case"SERVICE_AND_METHOD":if(s.service===r&&s.method===t)return!0}return!1}function bH(r,t,i,n){for(let s of i)if(vH(r,t,s,n))return s;return null}function SH(r){return function(i,n){var s,o;let l=i.split("/").filter(g=>g.length>0),h=(s=l[0])!==null&&s!==void 0?s:"",p=(o=l[1])!==null&&o!==void 0?o:"";if(r&&r.methodConfig)for(let g of yH){let m=bH(h,p,r.methodConfig,g);if(m)return{methodConfig:m,pickInformation:{},status:J1.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:J1.Status.OK,dynamicFilterFactories:[]}}}var Z1=class{constructor(t,i,n,s,o){this.target=t,this.channelControlHelper=i,this.onSuccessfulResolution=s,this.onFailedResolution=o,this.latestChildState=hi.ConnectivityState.IDLE,this.latestChildPicker=new Ll.QueuePicker(this),this.currentState=hi.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,n["grpc.service_config"]?this.defaultServiceConfig=(0,aH.validateServiceConfig)(JSON.parse(n["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(hi.ConnectivityState.IDLE,new Ll.QueuePicker(this)),this.childLoadBalancer=new pH.ChildLoadBalancerHandler({createSubchannel:i.createSubchannel.bind(i),requestReresolution:()=>{this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()},updateState:(h,p)=>{this.latestChildState=h,this.latestChildPicker=p,this.updateState(h,p)},addChannelzChild:i.addChannelzChild.bind(i),removeChannelzChild:i.removeChannelzChild.bind(i)}),this.innerResolver=(0,lH.createResolver)(t,{onSuccessfulResolution:(h,p,g,m,y)=>{var S;let w=null;p===null?g===null?(this.previousServiceConfig=null,w=this.defaultServiceConfig):this.previousServiceConfig===null?this.handleResolutionFailure(g):w=this.previousServiceConfig:(w=p,this.previousServiceConfig=p);let C=(S=w?.loadBalancingConfig)!==null&&S!==void 0?S:[],_=(0,oH.getFirstUsableConfig)(C,!0);if(_===null){this.handleResolutionFailure({code:J1.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new uH.Metadata});return}this.childLoadBalancer.updateAddressList(h,_,y);let R=w??this.defaultServiceConfig;this.onSuccessfulResolution(R,m??SH(R))},onError:h=>{this.handleResolutionFailure(h)}},n);let l={initialDelay:n["grpc.initial_reconnect_backoff_ms"],maxDelay:n["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new cH.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)},l),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===hi.ConnectivityState.IDLE&&this.updateState(hi.ConnectivityState.CONNECTING,new Ll.QueuePicker(this)),this.backoffTimeout.runOnce()}updateState(t,i){mH((0,hH.uriToString)(this.target)+" "+hi.ConnectivityState[this.currentState]+" -> "+hi.ConnectivityState[t]),t===hi.ConnectivityState.IDLE&&(i=new Ll.QueuePicker(this)),this.currentState=t,this.channelControlHelper.updateState(t,i)}handleResolutionFailure(t){this.latestChildState===hi.ConnectivityState.IDLE&&(this.updateState(hi.ConnectivityState.TRANSIENT_FAILURE,new Ll.UnavailablePicker(t)),this.onFailedResolution(t))}exitIdle(){(this.currentState===hi.ConnectivityState.IDLE||this.currentState===hi.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(t,i){throw new Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=hi.ConnectivityState.IDLE,this.latestChildPicker=new Ll.QueuePicker(this),this.currentState=hi.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}};tp.ResolvingLoadBalancer=Z1});var tN=x(Ml=>{"use strict";Object.defineProperty(Ml,"__esModule",{value:!0});Ml.channelOptionsEqual=Ml.recognizedOptions=void 0;Ml.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0};function wH(r,t){let i=Object.keys(r).sort(),n=Object.keys(t).sort();if(i.length!==n.length)return!1;for(let s=0;s<i.length;s+=1)if(i[s]!==n[s]||r[i[s]]!==t[n[s]])return!1;return!0}Ml.channelOptionsEqual=wH});var Hn=x(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});zn.stringToSubchannelAddress=zn.subchannelAddressToString=zn.subchannelAddressEqual=zn.isTcpSubchannelAddress=void 0;var _H=require("net");function Qu(r){return"port"in r}zn.isTcpSubchannelAddress=Qu;function EH(r,t){return!r&&!t?!0:!r||!t?!1:Qu(r)?Qu(t)&&r.host===t.host&&r.port===t.port:!Qu(t)&&r.path===t.path}zn.subchannelAddressEqual=EH;function TH(r){return Qu(r)?r.host+":"+r.port:r.path}zn.subchannelAddressToString=TH;var CH=443;function kH(r,t){return(0,_H.isIP)(r)?{host:r,port:t??CH}:{path:r}}zn.stringToSubchannelAddress=kH});var rp=x(Fl=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});Fl.addAdminServicesToServer=Fl.registerAdminService=void 0;var rN=[];function RH(r,t){rN.push({getServiceDefinition:r,getHandlers:t})}Fl.registerAdminService=RH;function xH(r){for(let{getServiceDefinition:t,getHandlers:i}of rN)r.addService(t(),i())}Fl.addAdminServicesToServer=xH});var iN=x(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});Vi.ClientDuplexStreamImpl=Vi.ClientWritableStreamImpl=Vi.ClientReadableStreamImpl=Vi.ClientUnaryCallImpl=Vi.callErrorFromStatus=void 0;var AH=require("events"),ib=require("stream"),ed=wt();function OH(r,t){let i=`${r.code} ${ed.Status[r.code]}: ${r.details}`,s=`${new Error(i).stack}
for call at
${t}`;return Object.assign(new Error(i),r,{stack:s})}Vi.callErrorFromStatus=OH;var Q1=class extends AH.EventEmitter{constructor(){super()}cancel(){var t;(t=this.call)===null||t===void 0||t.cancelWithStatus(ed.Status.CANCELLED,"Cancelled on client")}getPeer(){var t,i;return(i=(t=this.call)===null||t===void 0?void 0:t.getPeer())!==null&&i!==void 0?i:"unknown"}};Vi.ClientUnaryCallImpl=Q1;var eb=class extends ib.Readable{constructor(t){super({objectMode:!0}),this.deserialize=t}cancel(){var t;(t=this.call)===null||t===void 0||t.cancelWithStatus(ed.Status.CANCELLED,"Cancelled on client")}getPeer(){var t,i;return(i=(t=this.call)===null||t===void 0?void 0:t.getPeer())!==null&&i!==void 0?i:"unknown"}_read(t){var i;(i=this.call)===null||i===void 0||i.startRead()}};Vi.ClientReadableStreamImpl=eb;var tb=class extends ib.Writable{constructor(t){super({objectMode:!0}),this.serialize=t}cancel(){var t;(t=this.call)===null||t===void 0||t.cancelWithStatus(ed.Status.CANCELLED,"Cancelled on client")}getPeer(){var t,i;return(i=(t=this.call)===null||t===void 0?void 0:t.getPeer())!==null&&i!==void 0?i:"unknown"}_write(t,i,n){var s;let o={callback:n},l=Number(i);Number.isNaN(l)||(o.flags=l),(s=this.call)===null||s===void 0||s.sendMessageWithContext(o,t)}_final(t){var i;(i=this.call)===null||i===void 0||i.halfClose(),t()}};Vi.ClientWritableStreamImpl=tb;var rb=class extends ib.Duplex{constructor(t,i){super({objectMode:!0}),this.serialize=t,this.deserialize=i}cancel(){var t;(t=this.call)===null||t===void 0||t.cancelWithStatus(ed.Status.CANCELLED,"Cancelled on client")}getPeer(){var t,i;return(i=(t=this.call)===null||t===void 0?void 0:t.getPeer())!==null&&i!==void 0?i:"unknown"}_read(t){var i;(i=this.call)===null||i===void 0||i.startRead()}_write(t,i,n){var s;let o={callback:n},l=Number(i);Number.isNaN(l)||(o.flags=l),(s=this.call)===null||s===void 0||s.sendMessageWithContext(o,t)}_final(t){var i;(i=this.call)===null||i===void 0||i.halfClose(),t()}};Vi.ClientDuplexStreamImpl=rb});var nN=x(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});jl.InterceptingListenerImpl=jl.isInterceptingListener=void 0;function NH(r){return r.onReceiveMetadata!==void 0&&r.onReceiveMetadata.length===1}jl.isInterceptingListener=NH;var nb=class{constructor(t,i){this.listener=t,this.nextListener=i,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(t){this.processingMetadata=!0,this.listener.onReceiveMetadata(t,i=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(i),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(t){this.processingMessage=!0,this.listener.onReceiveMessage(t,i=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=i,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(i),this.processPendingStatus())})}onReceiveStatus(t){this.listener.onReceiveStatus(t,i=>{this.processingMetadata||this.processingMessage?this.pendingStatus=i:this.nextListener.onReceiveStatus(i)})}};jl.InterceptingListenerImpl=nb});var db=x($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});$i.getInterceptingCall=$i.InterceptingCall=$i.RequesterBuilder=$i.ListenerBuilder=$i.InterceptorConfigurationError=void 0;var DH=ii(),sN=nN(),oN=wt(),aN=qh(),rd=class r extends Error{constructor(t){super(t),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,r)}};$i.InterceptorConfigurationError=rd;var ob=class{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(t){return this.metadata=t,this}withOnReceiveMessage(t){return this.message=t,this}withOnReceiveStatus(t){return this.status=t,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}};$i.ListenerBuilder=ob;var ab=class{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(t){return this.start=t,this}withSendMessage(t){return this.message=t,this}withHalfClose(t){return this.halfClose=t,this}withCancel(t){return this.cancel=t,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}};$i.RequesterBuilder=ab;var sb={onReceiveMetadata:(r,t)=>{t(r)},onReceiveMessage:(r,t)=>{t(r)},onReceiveStatus:(r,t)=>{t(r)}},td={start:(r,t,i)=>{i(r,t)},sendMessage:(r,t)=>{t(r)},halfClose:r=>{r()},cancel:r=>{r()}},lb=class{constructor(t,i){var n,s,o,l;this.nextCall=t,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,i?this.requester={start:(n=i.start)!==null&&n!==void 0?n:td.start,sendMessage:(s=i.sendMessage)!==null&&s!==void 0?s:td.sendMessage,halfClose:(o=i.halfClose)!==null&&o!==void 0?o:td.halfClose,cancel:(l=i.cancel)!==null&&l!==void 0?l:td.cancel}:this.requester=td}cancelWithStatus(t,i){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(t,i)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(t,i){var n,s,o,l,h,p;let g={onReceiveMetadata:(s=(n=i?.onReceiveMetadata)===null||n===void 0?void 0:n.bind(i))!==null&&s!==void 0?s:m=>{},onReceiveMessage:(l=(o=i?.onReceiveMessage)===null||o===void 0?void 0:o.bind(i))!==null&&l!==void 0?l:m=>{},onReceiveStatus:(p=(h=i?.onReceiveStatus)===null||h===void 0?void 0:h.bind(i))!==null&&p!==void 0?p:m=>{}};this.processingMetadata=!0,this.requester.start(t,g,(m,y)=>{var S,w,C;this.processingMetadata=!1;let _;if((0,sN.isInterceptingListener)(y))_=y;else{let R={onReceiveMetadata:(S=y.onReceiveMetadata)!==null&&S!==void 0?S:sb.onReceiveMetadata,onReceiveMessage:(w=y.onReceiveMessage)!==null&&w!==void 0?w:sb.onReceiveMessage,onReceiveStatus:(C=y.onReceiveStatus)!==null&&C!==void 0?C:sb.onReceiveStatus};_=new sN.InterceptingListenerImpl(R,g)}this.nextCall.start(m,_),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(t,i){this.processingMessage=!0,this.requester.sendMessage(i,n=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=t,this.pendingMessage=i):(this.nextCall.sendMessageWithContext(t,n),this.processPendingHalfClose())})}sendMessage(t){this.sendMessageWithContext({},t)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}};$i.InterceptingCall=lb;function PH(r,t,i){var n,s;let o=(n=i.deadline)!==null&&n!==void 0?n:1/0,l=i.host,h=(s=i.parent)!==null&&s!==void 0?s:null,p=i.propagate_flags,g=i.credentials,m=r.createCall(t,o,l,h,p);return g&&m.setCredentials(g),m}var ip=class{constructor(t,i){this.call=t,this.methodDefinition=i}cancelWithStatus(t,i){this.call.cancelWithStatus(t,i)}getPeer(){return this.call.getPeer()}sendMessageWithContext(t,i){let n;try{n=this.methodDefinition.requestSerialize(i)}catch(s){this.call.cancelWithStatus(oN.Status.INTERNAL,`Request message serialization failure: ${(0,aN.getErrorMessage)(s)}`);return}this.call.sendMessageWithContext(t,n)}sendMessage(t){this.sendMessageWithContext({},t)}start(t,i){let n=null;this.call.start(t,{onReceiveMetadata:s=>{var o;(o=i?.onReceiveMetadata)===null||o===void 0||o.call(i,s)},onReceiveMessage:s=>{var o;let l;try{l=this.methodDefinition.responseDeserialize(s)}catch(h){n={code:oN.Status.INTERNAL,details:`Response message parsing error: ${(0,aN.getErrorMessage)(h)}`,metadata:new DH.Metadata},this.call.cancelWithStatus(n.code,n.details);return}(o=i?.onReceiveMessage)===null||o===void 0||o.call(i,l)},onReceiveStatus:s=>{var o,l;n?(o=i?.onReceiveStatus)===null||o===void 0||o.call(i,n):(l=i?.onReceiveStatus)===null||l===void 0||l.call(i,s)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}},cb=class extends ip{constructor(t,i){super(t,i)}start(t,i){var n,s;let o=!1,l={onReceiveMetadata:(s=(n=i?.onReceiveMetadata)===null||n===void 0?void 0:n.bind(i))!==null&&s!==void 0?s:h=>{},onReceiveMessage:h=>{var p;o=!0,(p=i?.onReceiveMessage)===null||p===void 0||p.call(i,h)},onReceiveStatus:h=>{var p,g;o||(p=i?.onReceiveMessage)===null||p===void 0||p.call(i,null),(g=i?.onReceiveStatus)===null||g===void 0||g.call(i,h)}};super.start(t,l),this.call.startRead()}},ub=class extends ip{};function IH(r,t,i){let n=PH(r,i.path,t);return i.responseStream?new ub(n,i):new cb(n,i)}function LH(r,t,i,n){if(r.clientInterceptors.length>0&&r.clientInterceptorProviders.length>0)throw new rd("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(r.callInterceptors.length>0&&r.callInterceptorProviders.length>0)throw new rd("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let s=[];r.callInterceptors.length>0||r.callInterceptorProviders.length>0?s=[].concat(r.callInterceptors,r.callInterceptorProviders.map(h=>h(t))).filter(h=>h):s=[].concat(r.clientInterceptors,r.clientInterceptorProviders.map(h=>h(t))).filter(h=>h);let o=Object.assign({},i,{method_definition:t});return s.reduceRight((h,p)=>g=>p(g,h),h=>IH(n,h,t))(o)}$i.getInterceptingCall=LH});var pb=x(sp=>{"use strict";Object.defineProperty(sp,"__esModule",{value:!0});sp.Client=void 0;var Vn=iN(),MH=gb(),FH=zi(),Eo=wt(),Bl=ii(),np=db(),mn=Symbol(),Ul=Symbol(),ql=Symbol(),_s=Symbol();function fb(r){return typeof r=="function"}function Wl(r){return r.stack.split(`
`).slice(1).join(`
`)}var hb=class{constructor(t,i,n={}){var s,o;if(n=Object.assign({},n),this[Ul]=(s=n.interceptors)!==null&&s!==void 0?s:[],delete n.interceptors,this[ql]=(o=n.interceptor_providers)!==null&&o!==void 0?o:[],delete n.interceptor_providers,this[Ul].length>0&&this[ql].length>0)throw new Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[_s]=n.callInvocationTransformer,delete n.callInvocationTransformer,n.channelOverride)this[mn]=n.channelOverride;else if(n.channelFactoryOverride){let l=n.channelFactoryOverride;delete n.channelFactoryOverride,this[mn]=l(t,i,n)}else this[mn]=new MH.ChannelImplementation(t,i,n)}close(){this[mn].close()}getChannel(){return this[mn]}waitForReady(t,i){let n=s=>{if(s){i(new Error("Failed to connect before the deadline"));return}let o;try{o=this[mn].getConnectivityState(!0)}catch{i(new Error("The channel has been closed"));return}if(o===FH.ConnectivityState.READY)i();else try{this[mn].watchConnectivityState(o,t,n)}catch{i(new Error("The channel has been closed"))}};setImmediate(n)}checkOptionalUnaryResponseArguments(t,i,n){if(fb(t))return{metadata:new Bl.Metadata,options:{},callback:t};if(fb(i))return t instanceof Bl.Metadata?{metadata:t,options:{},callback:i}:{metadata:new Bl.Metadata,options:t,callback:i};if(!(t instanceof Bl.Metadata&&i instanceof Object&&fb(n)))throw new Error("Incorrect arguments passed");return{metadata:t,options:i,callback:n}}makeUnaryRequest(t,i,n,s,o,l,h){var p,g;let m=this.checkOptionalUnaryResponseArguments(o,l,h),y={path:t,requestStream:!1,responseStream:!1,requestSerialize:i,responseDeserialize:n},S={argument:s,metadata:m.metadata,call:new Vn.ClientUnaryCallImpl,channel:this[mn],methodDefinition:y,callOptions:m.options,callback:m.callback};this[_s]&&(S=this[_s](S));let w=S.call,C={clientInterceptors:this[Ul],clientInterceptorProviders:this[ql],callInterceptors:(p=S.callOptions.interceptors)!==null&&p!==void 0?p:[],callInterceptorProviders:(g=S.callOptions.interceptor_providers)!==null&&g!==void 0?g:[]},_=(0,np.getInterceptingCall)(C,S.methodDefinition,S.callOptions,S.channel);w.call=_;let R=null,D=!1,I=new Error;return _.start(S.metadata,{onReceiveMetadata:M=>{w.emit("metadata",M)},onReceiveMessage(M){R!==null&&_.cancelWithStatus(Eo.Status.INTERNAL,"Too many responses received"),R=M},onReceiveStatus(M){if(!D){if(D=!0,M.code===Eo.Status.OK)if(R===null){let L=Wl(I);S.callback((0,Vn.callErrorFromStatus)({code:Eo.Status.INTERNAL,details:"No message received",metadata:M.metadata},L))}else S.callback(null,R);else{let L=Wl(I);S.callback((0,Vn.callErrorFromStatus)(M,L))}I=null,w.emit("status",M)}}}),_.sendMessage(s),_.halfClose(),w}makeClientStreamRequest(t,i,n,s,o,l){var h,p;let g=this.checkOptionalUnaryResponseArguments(s,o,l),m={path:t,requestStream:!0,responseStream:!1,requestSerialize:i,responseDeserialize:n},y={metadata:g.metadata,call:new Vn.ClientWritableStreamImpl(i),channel:this[mn],methodDefinition:m,callOptions:g.options,callback:g.callback};this[_s]&&(y=this[_s](y));let S=y.call,w={clientInterceptors:this[Ul],clientInterceptorProviders:this[ql],callInterceptors:(h=y.callOptions.interceptors)!==null&&h!==void 0?h:[],callInterceptorProviders:(p=y.callOptions.interceptor_providers)!==null&&p!==void 0?p:[]},C=(0,np.getInterceptingCall)(w,y.methodDefinition,y.callOptions,y.channel);S.call=C;let _=null,R=!1,D=new Error;return C.start(y.metadata,{onReceiveMetadata:I=>{S.emit("metadata",I)},onReceiveMessage(I){_!==null&&C.cancelWithStatus(Eo.Status.INTERNAL,"Too many responses received"),_=I},onReceiveStatus(I){if(!R){if(R=!0,I.code===Eo.Status.OK)if(_===null){let M=Wl(D);y.callback((0,Vn.callErrorFromStatus)({code:Eo.Status.INTERNAL,details:"No message received",metadata:I.metadata},M))}else y.callback(null,_);else{let M=Wl(D);y.callback((0,Vn.callErrorFromStatus)(I,M))}D=null,S.emit("status",I)}}}),S}checkMetadataAndOptions(t,i){let n,s;return t instanceof Bl.Metadata?(n=t,i?s=i:s={}):(t?s=t:s={},n=new Bl.Metadata),{metadata:n,options:s}}makeServerStreamRequest(t,i,n,s,o,l){var h,p;let g=this.checkMetadataAndOptions(o,l),m={path:t,requestStream:!1,responseStream:!0,requestSerialize:i,responseDeserialize:n},y={argument:s,metadata:g.metadata,call:new Vn.ClientReadableStreamImpl(n),channel:this[mn],methodDefinition:m,callOptions:g.options};this[_s]&&(y=this[_s](y));let S=y.call,w={clientInterceptors:this[Ul],clientInterceptorProviders:this[ql],callInterceptors:(h=y.callOptions.interceptors)!==null&&h!==void 0?h:[],callInterceptorProviders:(p=y.callOptions.interceptor_providers)!==null&&p!==void 0?p:[]},C=(0,np.getInterceptingCall)(w,y.methodDefinition,y.callOptions,y.channel);S.call=C;let _=!1,R=new Error;return C.start(y.metadata,{onReceiveMetadata(D){S.emit("metadata",D)},onReceiveMessage(D){S.push(D)},onReceiveStatus(D){if(!_){if(_=!0,S.push(null),D.code!==Eo.Status.OK){let I=Wl(R);S.emit("error",(0,Vn.callErrorFromStatus)(D,I))}R=null,S.emit("status",D)}}}),C.sendMessage(s),C.halfClose(),S}makeBidiStreamRequest(t,i,n,s,o){var l,h;let p=this.checkMetadataAndOptions(s,o),g={path:t,requestStream:!0,responseStream:!0,requestSerialize:i,responseDeserialize:n},m={metadata:p.metadata,call:new Vn.ClientDuplexStreamImpl(i,n),channel:this[mn],methodDefinition:g,callOptions:p.options};this[_s]&&(m=this[_s](m));let y=m.call,S={clientInterceptors:this[Ul],clientInterceptorProviders:this[ql],callInterceptors:(l=m.callOptions.interceptors)!==null&&l!==void 0?l:[],callInterceptorProviders:(h=m.callOptions.interceptor_providers)!==null&&h!==void 0?h:[]},w=(0,np.getInterceptingCall)(S,m.methodDefinition,m.callOptions,m.channel);y.call=w;let C=!1,_=new Error;return w.start(m.metadata,{onReceiveMetadata(R){y.emit("metadata",R)},onReceiveMessage(R){y.push(R)},onReceiveStatus(R){if(!C){if(C=!0,y.push(null),R.code!==Eo.Status.OK){let D=Wl(_);y.emit("error",(0,Vn.callErrorFromStatus)(R,D))}_=null,y.emit("status",R)}}}),y}};sp.Client=hb});var yb=x(zl=>{"use strict";Object.defineProperty(zl,"__esModule",{value:!0});zl.loadPackageDefinition=zl.makeClientConstructor=void 0;var id=pb(),jH={unary:id.Client.prototype.makeUnaryRequest,server_stream:id.Client.prototype.makeServerStreamRequest,client_stream:id.Client.prototype.makeClientStreamRequest,bidi:id.Client.prototype.makeBidiStreamRequest};function mb(r){return["__proto__","prototype","constructor"].includes(r)}function lN(r,t,i){i||(i={});class n extends id.Client{}return Object.keys(r).forEach(s=>{if(mb(s))return;let o=r[s],l;if(typeof s=="string"&&s.charAt(0)==="$")throw new Error("Method names cannot start with $");o.requestStream?o.responseStream?l="bidi":l="client_stream":o.responseStream?l="server_stream":l="unary";let h=o.requestSerialize,p=o.responseDeserialize,g=BH(jH[l],o.path,h,p);n.prototype[s]=g,Object.assign(n.prototype[s],o),o.originalName&&!mb(o.originalName)&&(n.prototype[o.originalName]=n.prototype[s])}),n.service=r,n.serviceName=t,n}zl.makeClientConstructor=lN;function BH(r,t,i,n){return function(...s){return r.call(this,t,i,n,...s)}}function UH(r){return"format"in r}function qH(r){let t={};for(let i in r)if(Object.prototype.hasOwnProperty.call(r,i)){let n=r[i],s=i.split(".");if(s.some(h=>mb(h)))continue;let o=s[s.length-1],l=t;for(let h of s.slice(0,-1))l[h]||(l[h]={}),l=l[h];UH(n)?l[o]=n:l[o]=lN(n,o,{})}return t}zl.loadPackageDefinition=qH});var PN=x((bye,DN)=>{var WH=1/0,zH="[object Symbol]",HH=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,VH=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ap="\\ud800-\\udfff",mN="\\u0300-\\u036f\\ufe20-\\ufe23",yN="\\u20d0-\\u20f0",vN="\\u2700-\\u27bf",bN="a-z\\xdf-\\xf6\\xf8-\\xff",$H="\\xac\\xb1\\xd7\\xf7",GH="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",YH="\\u2000-\\u206f",KH=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",SN="A-Z\\xc0-\\xd6\\xd8-\\xde",wN="\\ufe0e\\ufe0f",_N=$H+GH+YH+KH,bb="['\u2019]",XH="["+ap+"]",cN="["+_N+"]",op="["+mN+yN+"]",EN="\\d+",JH="["+vN+"]",TN="["+bN+"]",CN="[^"+ap+_N+EN+vN+bN+SN+"]",vb="\\ud83c[\\udffb-\\udfff]",ZH="(?:"+op+"|"+vb+")",kN="[^"+ap+"]",Sb="(?:\\ud83c[\\udde6-\\uddff]){2}",wb="[\\ud800-\\udbff][\\udc00-\\udfff]",Hl="["+SN+"]",RN="\\u200d",uN="(?:"+TN+"|"+CN+")",QH="(?:"+Hl+"|"+CN+")",dN="(?:"+bb+"(?:d|ll|m|re|s|t|ve))?",fN="(?:"+bb+"(?:D|LL|M|RE|S|T|VE))?",xN=ZH+"?",AN="["+wN+"]?",eV="(?:"+RN+"(?:"+[kN,Sb,wb].join("|")+")"+AN+xN+")*",ON=AN+xN+eV,tV="(?:"+[JH,Sb,wb].join("|")+")"+ON,rV="(?:"+[kN+op+"?",op,Sb,wb,XH].join("|")+")",iV=RegExp(bb,"g"),nV=RegExp(op,"g"),sV=RegExp(vb+"(?="+vb+")|"+rV+ON,"g"),oV=RegExp([Hl+"?"+TN+"+"+dN+"(?="+[cN,Hl,"$"].join("|")+")",QH+"+"+fN+"(?="+[cN,Hl+uN,"$"].join("|")+")",Hl+"?"+uN+"+"+dN,Hl+"+"+fN,EN,tV].join("|"),"g"),aV=RegExp("["+RN+ap+mN+yN+wN+"]"),lV=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,cV={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"ss"},uV=typeof global=="object"&&global&&global.Object===Object&&global,dV=typeof self=="object"&&self&&self.Object===Object&&self,fV=uV||dV||Function("return this")();function hV(r,t,i,n){var s=-1,o=r?r.length:0;for(n&&o&&(i=r[++s]);++s<o;)i=t(i,r[s],s,r);return i}function pV(r){return r.split("")}function gV(r){return r.match(HH)||[]}function mV(r){return function(t){return r?.[t]}}var yV=mV(cV);function NN(r){return aV.test(r)}function vV(r){return lV.test(r)}function bV(r){return NN(r)?SV(r):pV(r)}function SV(r){return r.match(sV)||[]}function wV(r){return r.match(oV)||[]}var _V=Object.prototype,EV=_V.toString,hN=fV.Symbol,pN=hN?hN.prototype:void 0,gN=pN?pN.toString:void 0;function TV(r,t,i){var n=-1,s=r.length;t<0&&(t=-t>s?0:s+t),i=i>s?s:i,i<0&&(i+=s),s=t>i?0:i-t>>>0,t>>>=0;for(var o=Array(s);++n<s;)o[n]=r[n+t];return o}function CV(r){if(typeof r=="string")return r;if(OV(r))return gN?gN.call(r):"";var t=r+"";return t=="0"&&1/r==-WH?"-0":t}function kV(r,t,i){var n=r.length;return i=i===void 0?n:i,!t&&i>=n?r:TV(r,t,i)}function RV(r){return function(t){t=lp(t);var i=NN(t)?bV(t):void 0,n=i?i[0]:t.charAt(0),s=i?kV(i,1).join(""):t.slice(1);return n[r]()+s}}function xV(r){return function(t){return hV(LV(PV(t).replace(iV,"")),r,"")}}function AV(r){return!!r&&typeof r=="object"}function OV(r){return typeof r=="symbol"||AV(r)&&EV.call(r)==zH}function lp(r){return r==null?"":CV(r)}var NV=xV(function(r,t,i){return t=t.toLowerCase(),r+(i?DV(t):t)});function DV(r){return IV(lp(r).toLowerCase())}function PV(r){return r=lp(r),r&&r.replace(VH,yV).replace(nV,"")}var IV=RV("toUpperCase");function LV(r,t,i){return r=lp(r),t=i?void 0:t,t===void 0?vV(r)?wV(r):gV(r):r.match(t)||[]}DN.exports=NV});var _b=x((Sye,IN)=>{"use strict";IN.exports=MV;function MV(r,t){for(var i=new Array(arguments.length-1),n=0,s=2,o=!0;s<arguments.length;)i[n++]=arguments[s++];return new Promise(function(h,p){i[n]=function(m){if(o)if(o=!1,m)p(m);else{for(var y=new Array(arguments.length-1),S=0;S<y.length;)y[S++]=arguments[S];h.apply(null,y)}};try{r.apply(t||null,i)}catch(g){o&&(o=!1,p(g))}})}});var jN=x(FN=>{"use strict";var cp=FN;cp.length=function(t){var i=t.length;if(!i)return 0;for(var n=0;--i%4>1&&t.charAt(i)==="=";)++n;return Math.ceil(t.length*3)/4-n};var Vl=new Array(64),MN=new Array(123);for(yn=0;yn<64;)MN[Vl[yn]=yn<26?yn+65:yn<52?yn+71:yn<62?yn-4:yn-59|43]=yn++;var yn;cp.encode=function(t,i,n){for(var s=null,o=[],l=0,h=0,p;i<n;){var g=t[i++];switch(h){case 0:o[l++]=Vl[g>>2],p=(g&3)<<4,h=1;break;case 1:o[l++]=Vl[p|g>>4],p=(g&15)<<2,h=2;break;case 2:o[l++]=Vl[p|g>>6],o[l++]=Vl[g&63],h=0;break}l>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),l=0)}return h&&(o[l++]=Vl[p],o[l++]=61,h===1&&(o[l++]=61)),s?(l&&s.push(String.fromCharCode.apply(String,o.slice(0,l))),s.join("")):String.fromCharCode.apply(String,o.slice(0,l))};var LN="invalid encoding";cp.decode=function(t,i,n){for(var s=n,o=0,l,h=0;h<t.length;){var p=t.charCodeAt(h++);if(p===61&&o>1)break;if((p=MN[p])===void 0)throw Error(LN);switch(o){case 0:l=p,o=1;break;case 1:i[n++]=l<<2|(p&48)>>4,l=p,o=2;break;case 2:i[n++]=(l&15)<<4|(p&60)>>2,l=p,o=3;break;case 3:i[n++]=(l&3)<<6|p,o=0;break}}if(o===1)throw Error(LN);return n-s};cp.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}});var UN=x((_ye,BN)=>{"use strict";BN.exports=up;function up(){this._listeners={}}up.prototype.on=function(t,i,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:i,ctx:n||this}),this};up.prototype.off=function(t,i){if(t===void 0)this._listeners={};else if(i===void 0)this._listeners[t]=[];else for(var n=this._listeners[t],s=0;s<n.length;)n[s].fn===i?n.splice(s,1):++s;return this};up.prototype.emit=function(t){var i=this._listeners[t];if(i){for(var n=[],s=1;s<arguments.length;)n.push(arguments[s++]);for(s=0;s<i.length;)i[s].fn.apply(i[s++].ctx,n)}return this}});var GN=x((Eye,$N)=>{"use strict";$N.exports=qN(qN);function qN(r){return typeof Float32Array<"u"?function(){var t=new Float32Array([-0]),i=new Uint8Array(t.buffer),n=i[3]===128;function s(p,g,m){t[0]=p,g[m]=i[0],g[m+1]=i[1],g[m+2]=i[2],g[m+3]=i[3]}function o(p,g,m){t[0]=p,g[m]=i[3],g[m+1]=i[2],g[m+2]=i[1],g[m+3]=i[0]}r.writeFloatLE=n?s:o,r.writeFloatBE=n?o:s;function l(p,g){return i[0]=p[g],i[1]=p[g+1],i[2]=p[g+2],i[3]=p[g+3],t[0]}function h(p,g){return i[3]=p[g],i[2]=p[g+1],i[1]=p[g+2],i[0]=p[g+3],t[0]}r.readFloatLE=n?l:h,r.readFloatBE=n?h:l}():function(){function t(n,s,o,l){var h=s<0?1:0;if(h&&(s=-s),s===0)n(1/s>0?0:2147483648,o,l);else if(isNaN(s))n(2143289344,o,l);else if(s>34028234663852886e22)n((h<<31|2139095040)>>>0,o,l);else if(s<11754943508222875e-54)n((h<<31|Math.round(s/1401298464324817e-60))>>>0,o,l);else{var p=Math.floor(Math.log(s)/Math.LN2),g=Math.round(s*Math.pow(2,-p)*8388608)&8388607;n((h<<31|p+127<<23|g)>>>0,o,l)}}r.writeFloatLE=t.bind(null,WN),r.writeFloatBE=t.bind(null,zN);function i(n,s,o){var l=n(s,o),h=(l>>31)*2+1,p=l>>>23&255,g=l&8388607;return p===255?g?NaN:h*(1/0):p===0?h*1401298464324817e-60*g:h*Math.pow(2,p-150)*(g+8388608)}r.readFloatLE=i.bind(null,HN),r.readFloatBE=i.bind(null,VN)}(),typeof Float64Array<"u"?function(){var t=new Float64Array([-0]),i=new Uint8Array(t.buffer),n=i[7]===128;function s(p,g,m){t[0]=p,g[m]=i[0],g[m+1]=i[1],g[m+2]=i[2],g[m+3]=i[3],g[m+4]=i[4],g[m+5]=i[5],g[m+6]=i[6],g[m+7]=i[7]}function o(p,g,m){t[0]=p,g[m]=i[7],g[m+1]=i[6],g[m+2]=i[5],g[m+3]=i[4],g[m+4]=i[3],g[m+5]=i[2],g[m+6]=i[1],g[m+7]=i[0]}r.writeDoubleLE=n?s:o,r.writeDoubleBE=n?o:s;function l(p,g){return i[0]=p[g],i[1]=p[g+1],i[2]=p[g+2],i[3]=p[g+3],i[4]=p[g+4],i[5]=p[g+5],i[6]=p[g+6],i[7]=p[g+7],t[0]}function h(p,g){return i[7]=p[g],i[6]=p[g+1],i[5]=p[g+2],i[4]=p[g+3],i[3]=p[g+4],i[2]=p[g+5],i[1]=p[g+6],i[0]=p[g+7],t[0]}r.readDoubleLE=n?l:h,r.readDoubleBE=n?h:l}():function(){function t(n,s,o,l,h,p){var g=l<0?1:0;if(g&&(l=-l),l===0)n(0,h,p+s),n(1/l>0?0:2147483648,h,p+o);else if(isNaN(l))n(0,h,p+s),n(2146959360,h,p+o);else if(l>17976931348623157e292)n(0,h,p+s),n((g<<31|2146435072)>>>0,h,p+o);else{var m;if(l<22250738585072014e-324)m=l/5e-324,n(m>>>0,h,p+s),n((g<<31|m/4294967296)>>>0,h,p+o);else{var y=Math.floor(Math.log(l)/Math.LN2);y===1024&&(y=1023),m=l*Math.pow(2,-y),n(m*4503599627370496>>>0,h,p+s),n((g<<31|y+1023<<20|m*1048576&1048575)>>>0,h,p+o)}}}r.writeDoubleLE=t.bind(null,WN,0,4),r.writeDoubleBE=t.bind(null,zN,4,0);function i(n,s,o,l,h){var p=n(l,h+s),g=n(l,h+o),m=(g>>31)*2+1,y=g>>>20&2047,S=4294967296*(g&1048575)+p;return y===2047?S?NaN:m*(1/0):y===0?m*5e-324*S:m*Math.pow(2,y-1075)*(S+4503599627370496)}r.readDoubleLE=i.bind(null,HN,0,4),r.readDoubleBE=i.bind(null,VN,4,0)}(),r}function WN(r,t,i){t[i]=r&255,t[i+1]=r>>>8&255,t[i+2]=r>>>16&255,t[i+3]=r>>>24}function zN(r,t,i){t[i]=r>>>24,t[i+1]=r>>>16&255,t[i+2]=r>>>8&255,t[i+3]=r&255}function HN(r,t){return(r[t]|r[t+1]<<8|r[t+2]<<16|r[t+3]<<24)>>>0}function VN(r,t){return(r[t]<<24|r[t+1]<<16|r[t+2]<<8|r[t+3])>>>0}});var Eb=x((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(r){}return null}});var KN=x(YN=>{"use strict";var Tb=YN;Tb.length=function(t){for(var i=0,n=0,s=0;s<t.length;++s)n=t.charCodeAt(s),n<128?i+=1:n<2048?i+=2:(n&64512)===55296&&(t.charCodeAt(s+1)&64512)===56320?(++s,i+=4):i+=3;return i};Tb.read=function(t,i,n){var s=n-i;if(s<1)return"";for(var o=null,l=[],h=0,p;i<n;)p=t[i++],p<128?l[h++]=p:p>191&&p<224?l[h++]=(p&31)<<6|t[i++]&63:p>239&&p<365?(p=((p&7)<<18|(t[i++]&63)<<12|(t[i++]&63)<<6|t[i++]&63)-65536,l[h++]=55296+(p>>10),l[h++]=56320+(p&1023)):l[h++]=(p&15)<<12|(t[i++]&63)<<6|t[i++]&63,h>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,l)),h=0);return o?(h&&o.push(String.fromCharCode.apply(String,l.slice(0,h))),o.join("")):String.fromCharCode.apply(String,l.slice(0,h))};Tb.write=function(t,i,n){for(var s=n,o,l,h=0;h<t.length;++h)o=t.charCodeAt(h),o<128?i[n++]=o:o<2048?(i[n++]=o>>6|192,i[n++]=o&63|128):(o&64512)===55296&&((l=t.charCodeAt(h+1))&64512)===56320?(o=65536+((o&1023)<<10)+(l&1023),++h,i[n++]=o>>18|240,i[n++]=o>>12&63|128,i[n++]=o>>6&63|128,i[n++]=o&63|128):(i[n++]=o>>12|224,i[n++]=o>>6&63|128,i[n++]=o&63|128);return n-s}});var JN=x((Cye,XN)=>{"use strict";XN.exports=FV;function FV(r,t,i){var n=i||8192,s=n>>>1,o=null,l=n;return function(p){if(p<1||p>s)return r(p);l+p>n&&(o=r(n),l=0);var g=t.call(o,l,l+=p);return l&7&&(l=(l|7)+1),g}}});var QN=x((kye,ZN)=>{"use strict";ZN.exports=Tr;var nd=$n();function Tr(r,t){this.lo=r>>>0,this.hi=t>>>0}var Ta=Tr.zero=new Tr(0,0);Ta.toNumber=function(){return 0};Ta.zzEncode=Ta.zzDecode=function(){return this};Ta.length=function(){return 1};var jV=Tr.zeroHash="\0\0\0\0\0\0\0\0";Tr.fromNumber=function(t){if(t===0)return Ta;var i=t<0;i&&(t=-t);var n=t>>>0,s=(t-n)/4294967296>>>0;return i&&(s=~s>>>0,n=~n>>>0,++n>4294967295&&(n=0,++s>4294967295&&(s=0))),new Tr(n,s)};Tr.from=function(t){if(typeof t=="number")return Tr.fromNumber(t);if(nd.isString(t))if(nd.Long)t=nd.Long.fromString(t);else return Tr.fromNumber(parseInt(t,10));return t.low||t.high?new Tr(t.low>>>0,t.high>>>0):Ta};Tr.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var i=~this.lo+1>>>0,n=~this.hi>>>0;return i||(n=n+1>>>0),-(i+n*4294967296)}return this.lo+this.hi*4294967296};Tr.prototype.toLong=function(t){return nd.Long?new nd.Long(this.lo|0,this.hi|0,!!t):{low:this.lo|0,high:this.hi|0,unsigned:!!t}};var To=String.prototype.charCodeAt;Tr.fromHash=function(t){return t===jV?Ta:new Tr((To.call(t,0)|To.call(t,1)<<8|To.call(t,2)<<16|To.call(t,3)<<24)>>>0,(To.call(t,4)|To.call(t,5)<<8|To.call(t,6)<<16|To.call(t,7)<<24)>>>0)};Tr.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Tr.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this};Tr.prototype.zzDecode=function(){var t=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this};Tr.prototype.length=function(){var t=this.lo,i=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?i===0?t<16384?t<128?1:2:t<2097152?3:4:i<16384?i<128?5:6:i<2097152?7:8:n<128?9:10}});var $n=x(Cb=>{"use strict";var Ve=Cb;Ve.asPromise=_b();Ve.base64=jN();Ve.EventEmitter=UN();Ve.float=GN();Ve.inquire=Eb();Ve.utf8=KN();Ve.pool=JN();Ve.LongBits=QN();Ve.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);Ve.global=Ve.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||Cb;Ve.emptyArray=Object.freeze?Object.freeze([]):[];Ve.emptyObject=Object.freeze?Object.freeze({}):{};Ve.isInteger=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t};Ve.isString=function(t){return typeof t=="string"||t instanceof String};Ve.isObject=function(t){return t&&typeof t=="object"};Ve.isset=Ve.isSet=function(t,i){var n=t[i];return n!=null&&t.hasOwnProperty(i)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};Ve.Buffer=function(){try{var r=Ve.inquire("buffer").Buffer;return r.prototype.utf8Write?r:null}catch{return null}}();Ve._Buffer_from=null;Ve._Buffer_allocUnsafe=null;Ve.newBuffer=function(t){return typeof t=="number"?Ve.Buffer?Ve._Buffer_allocUnsafe(t):new Ve.Array(t):Ve.Buffer?Ve._Buffer_from(t):typeof Uint8Array>"u"?t:new Uint8Array(t)};Ve.Array=typeof Uint8Array<"u"?Uint8Array:Array;Ve.Long=Ve.global.dcodeIO&&Ve.global.dcodeIO.Long||Ve.global.Long||Ve.inquire("long");Ve.key2Re=/^true|false|0|1$/;Ve.key32Re=/^-?(?:0|[1-9][0-9]*)$/;Ve.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;Ve.longToHash=function(t){return t?Ve.LongBits.from(t).toHash():Ve.LongBits.zeroHash};Ve.longFromHash=function(t,i){var n=Ve.LongBits.fromHash(t);return Ve.Long?Ve.Long.fromBits(n.lo,n.hi,i):n.toNumber(!!i)};function e3(r,t,i){for(var n=Object.keys(t),s=0;s<n.length;++s)(r[n[s]]===void 0||!i)&&(r[n[s]]=t[n[s]]);return r}Ve.merge=e3;Ve.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)};function t3(r){function t(i,n){if(!(this instanceof t))return new t(i,n);Object.defineProperty(this,"message",{get:function(){return i}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&e3(this,n)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return r},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}Ve.newError=t3;Ve.ProtocolError=t3("ProtocolError");Ve.oneOfGetter=function(t){for(var i={},n=0;n<t.length;++n)i[t[n]]=1;return function(){for(var s=Object.keys(this),o=s.length-1;o>-1;--o)if(i[s[o]]===1&&this[s[o]]!==void 0&&this[s[o]]!==null)return s[o]}};Ve.oneOfSetter=function(t){return function(i){for(var n=0;n<t.length;++n)t[n]!==i&&delete this[t[n]]}};Ve.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};Ve._configure=function(){var r=Ve.Buffer;if(!r){Ve._Buffer_from=Ve._Buffer_allocUnsafe=null;return}Ve._Buffer_from=r.from!==Uint8Array.from&&r.from||function(i,n){return new r(i,n)},Ve._Buffer_allocUnsafe=r.allocUnsafe||function(i){return new r(i)}}});var fp=x((xye,s3)=>{"use strict";s3.exports=St;var Gi=$n(),kb,dp=Gi.LongBits,r3=Gi.base64,i3=Gi.utf8;function sd(r,t,i){this.fn=r,this.len=t,this.next=void 0,this.val=i}function xb(){}function BV(r){this.head=r.head,this.tail=r.tail,this.len=r.len,this.next=r.states}function St(){this.len=0,this.head=new sd(xb,0,0),this.tail=this.head,this.states=null}var n3=function(){return Gi.Buffer?function(){return(St.create=function(){return new kb})()}:function(){return new St}};St.create=n3();St.alloc=function(t){return new Gi.Array(t)};Gi.Array!==Array&&(St.alloc=Gi.pool(St.alloc,Gi.Array.prototype.subarray));St.prototype._push=function(t,i,n){return this.tail=this.tail.next=new sd(t,i,n),this.len+=i,this};function Ab(r,t,i){t[i]=r&255}function UV(r,t,i){for(;r>127;)t[i++]=r&127|128,r>>>=7;t[i]=r}function Ob(r,t){this.len=r,this.next=void 0,this.val=t}Ob.prototype=Object.create(sd.prototype);Ob.prototype.fn=UV;St.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new Ob((t=t>>>0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this};St.prototype.int32=function(t){return t<0?this._push(Nb,10,dp.fromNumber(t)):this.uint32(t)};St.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)};function Nb(r,t,i){for(;r.hi;)t[i++]=r.lo&127|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)t[i++]=r.lo&127|128,r.lo=r.lo>>>7;t[i++]=r.lo}St.prototype.uint64=function(t){var i=dp.from(t);return this._push(Nb,i.length(),i)};St.prototype.int64=St.prototype.uint64;St.prototype.sint64=function(t){var i=dp.from(t).zzEncode();return this._push(Nb,i.length(),i)};St.prototype.bool=function(t){return this._push(Ab,1,t?1:0)};function Rb(r,t,i){t[i]=r&255,t[i+1]=r>>>8&255,t[i+2]=r>>>16&255,t[i+3]=r>>>24}St.prototype.fixed32=function(t){return this._push(Rb,4,t>>>0)};St.prototype.sfixed32=St.prototype.fixed32;St.prototype.fixed64=function(t){var i=dp.from(t);return this._push(Rb,4,i.lo)._push(Rb,4,i.hi)};St.prototype.sfixed64=St.prototype.fixed64;St.prototype.float=function(t){return this._push(Gi.float.writeFloatLE,4,t)};St.prototype.double=function(t){return this._push(Gi.float.writeDoubleLE,8,t)};var qV=Gi.Array.prototype.set?function(t,i,n){i.set(t,n)}:function(t,i,n){for(var s=0;s<t.length;++s)i[n+s]=t[s]};St.prototype.bytes=function(t){var i=t.length>>>0;if(!i)return this._push(Ab,1,0);if(Gi.isString(t)){var n=St.alloc(i=r3.length(t));r3.decode(t,n,0),t=n}return this.uint32(i)._push(qV,i,t)};St.prototype.string=function(t){var i=i3.length(t);return i?this.uint32(i)._push(i3.write,i,t):this._push(Ab,1,0)};St.prototype.fork=function(){return this.states=new BV(this),this.head=this.tail=new sd(xb,0,0),this.len=0,this};St.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new sd(xb,0,0),this.len=0),this};St.prototype.ldelim=function(){var t=this.head,i=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=i,this.len+=n),this};St.prototype.finish=function(){for(var t=this.head.next,i=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,i,n),n+=t.len,t=t.next;return i};St._configure=function(r){kb=r,St.create=n3(),kb._configure()}});var l3=x((Aye,a3)=>{"use strict";a3.exports=Gn;var o3=fp();(Gn.prototype=Object.create(o3.prototype)).constructor=Gn;var Co=$n();function Gn(){o3.call(this)}Gn._configure=function(){Gn.alloc=Co._Buffer_allocUnsafe,Gn.writeBytesBuffer=Co.Buffer&&Co.Buffer.prototype instanceof Uint8Array&&Co.Buffer.prototype.set.name==="set"?function(t,i,n){i.set(t,n)}:function(t,i,n){if(t.copy)t.copy(i,n,0,t.length);else for(var s=0;s<t.length;)i[n++]=t[s++]}};Gn.prototype.bytes=function(t){Co.isString(t)&&(t=Co._Buffer_from(t,"base64"));var i=t.length>>>0;return this.uint32(i),i&&this._push(Gn.writeBytesBuffer,i,t),this};function WV(r,t,i){r.length<40?Co.utf8.write(r,t,i):t.utf8Write?t.utf8Write(r,i):t.write(r,i)}Gn.prototype.string=function(t){var i=Co.Buffer.byteLength(t);return this.uint32(i),i&&this._push(WV,i,t),this};Gn._configure()});var pp=x((Oye,h3)=>{"use strict";h3.exports=ar;var vn=$n(),Pb,d3=vn.LongBits,zV=vn.utf8;function bn(r,t){return RangeError("index out of range: "+r.pos+" + "+(t||1)+" > "+r.len)}function ar(r){this.buf=r,this.pos=0,this.len=r.length}var c3=typeof Uint8Array<"u"?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new ar(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new ar(t);throw Error("illegal buffer")},f3=function(){return vn.Buffer?function(i){return(ar.create=function(s){return vn.Buffer.isBuffer(s)?new Pb(s):c3(s)})(i)}:c3};ar.create=f3();ar.prototype._slice=vn.Array.prototype.subarray||vn.Array.prototype.slice;ar.prototype.uint32=function(){var t=4294967295;return function(){if(t=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(t=(t|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,bn(this,10);return t}}();ar.prototype.int32=function(){return this.uint32()|0};ar.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(t&1)|0};function Db(){var r=new d3(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(r.lo=(r.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return r;if(r.lo=(r.lo|(this.buf[this.pos]&127)<<28)>>>0,r.hi=(r.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return r;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw bn(this);if(r.lo=(r.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return r}return r.lo=(r.lo|(this.buf[this.pos++]&127)<<t*7)>>>0,r}if(this.len-this.pos>4){for(;t<5;++t)if(r.hi=(r.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return r}else for(;t<5;++t){if(this.pos>=this.len)throw bn(this);if(r.hi=(r.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return r}throw Error("invalid varint encoding")}ar.prototype.bool=function(){return this.uint32()!==0};function hp(r,t){return(r[t-4]|r[t-3]<<8|r[t-2]<<16|r[t-1]<<24)>>>0}ar.prototype.fixed32=function(){if(this.pos+4>this.len)throw bn(this,4);return hp(this.buf,this.pos+=4)};ar.prototype.sfixed32=function(){if(this.pos+4>this.len)throw bn(this,4);return hp(this.buf,this.pos+=4)|0};function u3(){if(this.pos+8>this.len)throw bn(this,8);return new d3(hp(this.buf,this.pos+=4),hp(this.buf,this.pos+=4))}ar.prototype.float=function(){if(this.pos+4>this.len)throw bn(this,4);var t=vn.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t};ar.prototype.double=function(){if(this.pos+8>this.len)throw bn(this,4);var t=vn.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t};ar.prototype.bytes=function(){var t=this.uint32(),i=this.pos,n=this.pos+t;if(n>this.len)throw bn(this,t);if(this.pos+=t,Array.isArray(this.buf))return this.buf.slice(i,n);if(i===n){var s=vn.Buffer;return s?s.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,i,n)};ar.prototype.string=function(){var t=this.bytes();return zV.read(t,0,t.length)};ar.prototype.skip=function(t){if(typeof t=="number"){if(this.pos+t>this.len)throw bn(this,t);this.pos+=t}else do if(this.pos>=this.len)throw bn(this);while(this.buf[this.pos++]&128);return this};ar.prototype.skipType=function(r){switch(r){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(r=this.uint32()&7)!==4;)this.skipType(r);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+r+" at offset "+this.pos)}return this};ar._configure=function(r){Pb=r,ar.create=f3(),Pb._configure();var t=vn.Long?"toLong":"toNumber";vn.merge(ar.prototype,{int64:function(){return Db.call(this)[t](!1)},uint64:function(){return Db.call(this)[t](!0)},sint64:function(){return Db.call(this).zzDecode()[t](!1)},fixed64:function(){return u3.call(this)[t](!0)},sfixed64:function(){return u3.call(this)[t](!1)}})}});var y3=x((Nye,m3)=>{"use strict";m3.exports=Ca;var g3=pp();(Ca.prototype=Object.create(g3.prototype)).constructor=Ca;var p3=$n();function Ca(r){g3.call(this,r)}Ca._configure=function(){p3.Buffer&&(Ca.prototype._slice=p3.Buffer.prototype.slice)};Ca.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))};Ca._configure()});var b3=x((Dye,v3)=>{"use strict";v3.exports=od;var Ib=$n();(od.prototype=Object.create(Ib.EventEmitter.prototype)).constructor=od;function od(r,t,i){if(typeof r!="function")throw TypeError("rpcImpl must be a function");Ib.EventEmitter.call(this),this.rpcImpl=r,this.requestDelimited=!!t,this.responseDelimited=!!i}od.prototype.rpcCall=function r(t,i,n,s,o){if(!s)throw TypeError("request must be specified");var l=this;if(!o)return Ib.asPromise(r,l,t,i,n,s);if(!l.rpcImpl){setTimeout(function(){o(Error("already ended"))},0);return}try{return l.rpcImpl(t,i[l.requestDelimited?"encodeDelimited":"encode"](s).finish(),function(p,g){if(p)return l.emit("error",p,t),o(p);if(g===null){l.end(!0);return}if(!(g instanceof n))try{g=n[l.responseDelimited?"decodeDelimited":"decode"](g)}catch(m){return l.emit("error",m,t),o(m)}return l.emit("data",g,t),o(null,g)})}catch(h){l.emit("error",h,t),setTimeout(function(){o(h)},0);return}};od.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var Lb=x(S3=>{"use strict";var HV=S3;HV.Service=b3()});var Mb=x((Iye,w3)=>{"use strict";w3.exports={}});var T3=x(E3=>{"use strict";var pi=E3;pi.build="minimal";pi.Writer=fp();pi.BufferWriter=l3();pi.Reader=pp();pi.BufferReader=y3();pi.util=$n();pi.rpc=Lb();pi.roots=Mb();pi.configure=_3;function _3(){pi.util._configure(),pi.Writer._configure(pi.BufferWriter),pi.Reader._configure(pi.BufferReader)}_3()});var k3=x((Mye,C3)=>{"use strict";C3.exports=Fb;function Fb(r,t){typeof r=="string"&&(t=r,r=void 0);var i=[];function n(o){if(typeof o!="string"){var l=s();if(Fb.verbose&&console.log("codegen: "+l),l="return "+l,o){for(var h=Object.keys(o),p=new Array(h.length+1),g=new Array(h.length),m=0;m<h.length;)p[m]=h[m],g[m]=o[h[m++]];return p[m]=l,Function.apply(null,p).apply(null,g)}return Function(l)()}for(var y=new Array(arguments.length-1),S=0;S<y.length;)y[S]=arguments[++S];if(S=0,o=o.replace(/%([%dfijs])/g,function(C,_){var R=y[S++];switch(_){case"d":case"f":return String(Number(R));case"i":return String(Math.floor(R));case"j":return JSON.stringify(R);case"s":return String(R)}return"%"}),S!==y.length)throw Error("parameter count mismatch");return i.push(o),n}function s(o){return"function "+(o||t||"")+"("+(r&&r.join(",")||"")+`){
  `+i.join(`
  `)+`
}`}return n.toString=s,n}Fb.verbose=!1});var x3=x((Fye,R3)=>{"use strict";R3.exports=ad;var VV=_b(),$V=Eb(),jb=$V("fs");function ad(r,t,i){return typeof t=="function"?(i=t,t={}):t||(t={}),i?!t.xhr&&jb&&jb.readFile?jb.readFile(r,function(s,o){return s&&typeof XMLHttpRequest<"u"?ad.xhr(r,t,i):s?i(s):i(null,t.binary?o:o.toString("utf8"))}):ad.xhr(r,t,i):VV(ad,this,r,t)}ad.xhr=function(t,i,n){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState===4){if(s.status!==0&&s.status!==200)return n(Error("status "+s.status));if(i.binary){var l=s.response;if(!l){l=[];for(var h=0;h<s.responseText.length;++h)l.push(s.responseText.charCodeAt(h)&255)}return n(null,typeof Uint8Array<"u"?new Uint8Array(l):l)}return n(null,s.responseText)}},i.binary&&("overrideMimeType"in s&&s.overrideMimeType("text/plain; charset=x-user-defined"),s.responseType="arraybuffer"),s.open("GET",t),s.send()}});var N3=x(O3=>{"use strict";var Ub=O3,A3=Ub.isAbsolute=function(t){return/^(?:\/|\w+:)/.test(t)},Bb=Ub.normalize=function(t){t=t.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var i=t.split("/"),n=A3(t),s="";n&&(s=i.shift()+"/");for(var o=0;o<i.length;)i[o]===".."?o>0&&i[o-1]!==".."?i.splice(--o,2):n?i.splice(o,1):++o:i[o]==="."?i.splice(o,1):++o;return s+i.join("/")};Ub.resolve=function(t,i,n){return n||(i=Bb(i)),A3(i)?i:(n||(t=Bb(t)),(t=t.replace(/(?:\/|^)[^/]+$/,"")).length?Bb(t+"/"+i):i)}});var ka=x(D3=>{"use strict";var ld=D3,GV=Cr(),YV=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function cd(r,t){var i=0,n={};for(t|=0;i<r.length;)n[YV[i+t]]=r[i++];return n}ld.basic=cd([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]);ld.defaults=cd([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",GV.emptyArray,null]);ld.long=cd([0,0,0,1,1],7);ld.mapKey=cd([0,0,0,5,5,0,0,0,1,1,0,2],2);ld.packed=cd([1,5,0,0,0,5,5,0,0,0,1,1,0])});var ko=x((Uye,L3)=>{"use strict";L3.exports=Yi;var gp=Ra();((Yi.prototype=Object.create(gp.prototype)).constructor=Yi).className="Field";var P3=Sn(),I3=ka(),dr=Cr(),qb,KV=/^required|optional|repeated$/;Yi.fromJSON=function(t,i){return new Yi(t,i.id,i.type,i.rule,i.extend,i.options,i.comment)};function Yi(r,t,i,n,s,o,l){if(dr.isObject(n)?(l=s,o=n,n=s=void 0):dr.isObject(s)&&(l=o,o=s,s=void 0),gp.call(this,r,o),!dr.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!dr.isString(i))throw TypeError("type must be a string");if(n!==void 0&&!KV.test(n=n.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(s!==void 0&&!dr.isString(s))throw TypeError("extend must be a string");n==="proto3_optional"&&(n="optional"),this.rule=n&&n!=="optional"?n:void 0,this.type=i,this.id=t,this.extend=s||void 0,this.required=n==="required",this.optional=!this.required,this.repeated=n==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=dr.Long?I3.long[i]!==void 0:!1,this.bytes=i==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=l}Object.defineProperty(Yi.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}});Yi.prototype.setOption=function(t,i,n){return t==="packed"&&(this._packed=null),gp.prototype.setOption.call(this,t,i,n)};Yi.prototype.toJSON=function(t){var i=t?!!t.keepComments:!1;return dr.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",i?this.comment:void 0])};Yi.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=I3.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof qb?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof P3&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&((this.options.packed===!0||this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof P3))&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=dr.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var t;dr.base64.test(this.typeDefault)?dr.base64.decode(this.typeDefault,t=dr.newBuffer(dr.base64.length(this.typeDefault)),0):dr.utf8.write(this.typeDefault,t=dr.newBuffer(dr.utf8.length(this.typeDefault)),0),this.typeDefault=t}return this.map?this.defaultValue=dr.emptyObject:this.repeated?this.defaultValue=dr.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof qb&&(this.parent.ctor.prototype[this.name]=this.defaultValue),gp.prototype.resolve.call(this)};Yi.d=function(t,i,n,s){return typeof i=="function"?i=dr.decorateType(i).name:i&&typeof i=="object"&&(i=dr.decorateEnum(i).name),function(l,h){dr.decorateType(l.constructor).add(new Yi(h,t,i,n,{default:s}))}};Yi._configure=function(t){qb=t}});var $l=x((qye,j3)=>{"use strict";j3.exports=Ki;var yp=Ra();((Ki.prototype=Object.create(yp.prototype)).constructor=Ki).className="OneOf";var M3=ko(),mp=Cr();function Ki(r,t,i,n){if(Array.isArray(t)||(i=t,t=void 0),yp.call(this,r,i),!(t===void 0||Array.isArray(t)))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=n}Ki.fromJSON=function(t,i){return new Ki(t,i.oneof,i.options,i.comment)};Ki.prototype.toJSON=function(t){var i=t?!!t.keepComments:!1;return mp.toObject(["options",this.options,"oneof",this.oneof,"comment",i?this.comment:void 0])};function F3(r){if(r.parent)for(var t=0;t<r.fieldsArray.length;++t)r.fieldsArray[t].parent||r.parent.add(r.fieldsArray[t])}Ki.prototype.add=function(t){if(!(t instanceof M3))throw TypeError("field must be a Field");return t.parent&&t.parent!==this.parent&&t.parent.remove(t),this.oneof.push(t.name),this.fieldsArray.push(t),t.partOf=this,F3(this),this};Ki.prototype.remove=function(t){if(!(t instanceof M3))throw TypeError("field must be a Field");var i=this.fieldsArray.indexOf(t);if(i<0)throw Error(t+" is not a member of "+this);return this.fieldsArray.splice(i,1),i=this.oneof.indexOf(t.name),i>-1&&this.oneof.splice(i,1),t.partOf=null,this};Ki.prototype.onAdd=function(t){yp.prototype.onAdd.call(this,t);for(var i=this,n=0;n<this.oneof.length;++n){var s=t.get(this.oneof[n]);s&&!s.partOf&&(s.partOf=i,i.fieldsArray.push(s))}F3(this)};Ki.prototype.onRemove=function(t){for(var i=0,n;i<this.fieldsArray.length;++i)(n=this.fieldsArray[i]).parent&&n.parent.remove(n);yp.prototype.onRemove.call(this,t)};Ki.d=function(){for(var t=new Array(arguments.length),i=0;i<arguments.length;)t[i]=arguments[i++];return function(s,o){mp.decorateType(s.constructor).add(new Ki(o,t)),Object.defineProperty(s,o,{get:mp.oneOfGetter(t),set:mp.oneOfSetter(t)})}}});var Kl=x((Wye,W3)=>{"use strict";W3.exports=_t;var Wb=Ra();((_t.prototype=Object.create(Wb.prototype)).constructor=_t).className="Namespace";var B3=ko(),vp=Cr(),XV=$l(),Gl,ud,Yl;_t.fromJSON=function(t,i){return new _t(t,i.options).addJSON(i.nested)};function U3(r,t){if(r&&r.length){for(var i={},n=0;n<r.length;++n)i[r[n].name]=r[n].toJSON(t);return i}}_t.arrayToJSON=U3;_t.isReservedId=function(t,i){if(t){for(var n=0;n<t.length;++n)if(typeof t[n]!="string"&&t[n][0]<=i&&t[n][1]>i)return!0}return!1};_t.isReservedName=function(t,i){if(t){for(var n=0;n<t.length;++n)if(t[n]===i)return!0}return!1};function _t(r,t){Wb.call(this,r,t),this.nested=void 0,this._nestedArray=null}function q3(r){return r._nestedArray=null,r}Object.defineProperty(_t.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=vp.toArray(this.nested))}});_t.prototype.toJSON=function(t){return vp.toObject(["options",this.options,"nested",U3(this.nestedArray,t)])};_t.prototype.addJSON=function(t){var i=this;if(t)for(var n=Object.keys(t),s=0,o;s<n.length;++s)o=t[n[s]],i.add((o.fields!==void 0?Gl.fromJSON:o.values!==void 0?Yl.fromJSON:o.methods!==void 0?ud.fromJSON:o.id!==void 0?B3.fromJSON:_t.fromJSON)(n[s],o));return this};_t.prototype.get=function(t){return this.nested&&this.nested[t]||null};_t.prototype.getEnum=function(t){if(this.nested&&this.nested[t]instanceof Yl)return this.nested[t].values;throw Error("no such enum: "+t)};_t.prototype.add=function(t){if(!(t instanceof B3&&t.extend!==void 0||t instanceof Gl||t instanceof XV||t instanceof Yl||t instanceof ud||t instanceof _t))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var i=this.get(t.name);if(i)if(i instanceof _t&&t instanceof _t&&!(i instanceof Gl||i instanceof ud)){for(var n=i.nestedArray,s=0;s<n.length;++s)t.add(n[s]);this.remove(i),this.nested||(this.nested={}),t.setOptions(i.options,!0)}else throw Error("duplicate name '"+t.name+"' in "+this)}return this.nested[t.name]=t,t.onAdd(this),q3(this)};_t.prototype.remove=function(t){if(!(t instanceof Wb))throw TypeError("object must be a ReflectionObject");if(t.parent!==this)throw Error(t+" is not a member of "+this);return delete this.nested[t.name],Object.keys(this.nested).length||(this.nested=void 0),t.onRemove(this),q3(this)};_t.prototype.define=function(t,i){if(vp.isString(t))t=t.split(".");else if(!Array.isArray(t))throw TypeError("illegal path");if(t&&t.length&&t[0]==="")throw Error("path must be relative");for(var n=this;t.length>0;){var s=t.shift();if(n.nested&&n.nested[s]){if(n=n.nested[s],!(n instanceof _t))throw Error("path conflicts with non-namespace objects")}else n.add(n=new _t(s))}return i&&n.addJSON(i),n};_t.prototype.resolveAll=function(){for(var t=this.nestedArray,i=0;i<t.length;)t[i]instanceof _t?t[i++].resolveAll():t[i++].resolve();return this.resolve()};_t.prototype.lookup=function(t,i,n){if(typeof i=="boolean"?(n=i,i=void 0):i&&!Array.isArray(i)&&(i=[i]),vp.isString(t)&&t.length){if(t===".")return this.root;t=t.split(".")}else if(!t.length)return this;if(t[0]==="")return this.root.lookup(t.slice(1),i);var s=this.get(t[0]);if(s){if(t.length===1){if(!i||i.indexOf(s.constructor)>-1)return s}else if(s instanceof _t&&(s=s.lookup(t.slice(1),i,!0)))return s}else for(var o=0;o<this.nestedArray.length;++o)if(this._nestedArray[o]instanceof _t&&(s=this._nestedArray[o].lookup(t,i,!0)))return s;return this.parent===null||n?null:this.parent.lookup(t,i)};_t.prototype.lookupType=function(t){var i=this.lookup(t,[Gl]);if(!i)throw Error("no such type: "+t);return i};_t.prototype.lookupEnum=function(t){var i=this.lookup(t,[Yl]);if(!i)throw Error("no such Enum '"+t+"' in "+this);return i};_t.prototype.lookupTypeOrEnum=function(t){var i=this.lookup(t,[Gl,Yl]);if(!i)throw Error("no such Type or Enum '"+t+"' in "+this);return i};_t.prototype.lookupService=function(t){var i=this.lookup(t,[ud]);if(!i)throw Error("no such Service '"+t+"' in "+this);return i};_t._configure=function(r,t,i){Gl=r,ud=t,Yl=i}});var bp=x((zye,z3)=>{"use strict";z3.exports=Es;var zb=ko();((Es.prototype=Object.create(zb.prototype)).constructor=Es).className="MapField";var JV=ka(),dd=Cr();function Es(r,t,i,n,s,o){if(zb.call(this,r,t,n,void 0,void 0,s,o),!dd.isString(i))throw TypeError("keyType must be a string");this.keyType=i,this.resolvedKeyType=null,this.map=!0}Es.fromJSON=function(t,i){return new Es(t,i.id,i.keyType,i.type,i.options,i.comment)};Es.prototype.toJSON=function(t){var i=t?!!t.keepComments:!1;return dd.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",i?this.comment:void 0])};Es.prototype.resolve=function(){if(this.resolved)return this;if(JV.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return zb.prototype.resolve.call(this)};Es.d=function(t,i,n){return typeof n=="function"?n=dd.decorateType(n).name:n&&typeof n=="object"&&(n=dd.decorateEnum(n).name),function(o,l){dd.decorateType(o.constructor).add(new Es(l,t,i,n))}}});var Sp=x((Hye,H3)=>{"use strict";H3.exports=xa;var Hb=Ra();((xa.prototype=Object.create(Hb.prototype)).constructor=xa).className="Method";var Xl=Cr();function xa(r,t,i,n,s,o,l,h,p){if(Xl.isObject(s)?(l=s,s=o=void 0):Xl.isObject(o)&&(l=o,o=void 0),!(t===void 0||Xl.isString(t)))throw TypeError("type must be a string");if(!Xl.isString(i))throw TypeError("requestType must be a string");if(!Xl.isString(n))throw TypeError("responseType must be a string");Hb.call(this,r,l),this.type=t||"rpc",this.requestType=i,this.requestStream=s?!0:void 0,this.responseType=n,this.responseStream=o?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=h,this.parsedOptions=p}xa.fromJSON=function(t,i){return new xa(t,i.type,i.requestType,i.responseType,i.requestStream,i.responseStream,i.options,i.comment,i.parsedOptions)};xa.prototype.toJSON=function(t){var i=t?!!t.keepComments:!1;return Xl.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",i?this.comment:void 0,"parsedOptions",this.parsedOptions])};xa.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),Hb.prototype.resolve.call(this))}});var wp=x((Vye,$3)=>{"use strict";$3.exports=Xi;var Ro=Kl();((Xi.prototype=Object.create(Ro.prototype)).constructor=Xi).className="Service";var Vb=Sp(),fd=Cr(),ZV=Lb();function Xi(r,t){Ro.call(this,r,t),this.methods={},this._methodsArray=null}Xi.fromJSON=function(t,i){var n=new Xi(t,i.options);if(i.methods)for(var s=Object.keys(i.methods),o=0;o<s.length;++o)n.add(Vb.fromJSON(s[o],i.methods[s[o]]));return i.nested&&n.addJSON(i.nested),n.comment=i.comment,n};Xi.prototype.toJSON=function(t){var i=Ro.prototype.toJSON.call(this,t),n=t?!!t.keepComments:!1;return fd.toObject(["options",i&&i.options||void 0,"methods",Ro.arrayToJSON(this.methodsArray,t)||{},"nested",i&&i.nested||void 0,"comment",n?this.comment:void 0])};Object.defineProperty(Xi.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=fd.toArray(this.methods))}});function V3(r){return r._methodsArray=null,r}Xi.prototype.get=function(t){return this.methods[t]||Ro.prototype.get.call(this,t)};Xi.prototype.resolveAll=function(){for(var t=this.methodsArray,i=0;i<t.length;++i)t[i].resolve();return Ro.prototype.resolve.call(this)};Xi.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);return t instanceof Vb?(this.methods[t.name]=t,t.parent=this,V3(this)):Ro.prototype.add.call(this,t)};Xi.prototype.remove=function(t){if(t instanceof Vb){if(this.methods[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.methods[t.name],t.parent=null,V3(this)}return Ro.prototype.remove.call(this,t)};Xi.prototype.create=function(t,i,n){for(var s=new ZV.Service(t,i,n),o=0,l;o<this.methodsArray.length;++o){var h=fd.lcFirst((l=this._methodsArray[o]).resolve().name).replace(/[^$\w_]/g,"");s[h]=fd.codegen(["r","c"],fd.isReserved(h)?h+"_":h)("return this.rpcCall(m,q,s,r,c)")({m:l,q:l.resolvedRequestType.ctor,s:l.resolvedResponseType.ctor})}return s}});var _p=x(($ye,G3)=>{"use strict";G3.exports=Yn;var QV=$n();function Yn(r){if(r)for(var t=Object.keys(r),i=0;i<t.length;++i)this[t[i]]=r[t[i]]}Yn.create=function(t){return this.$type.create(t)};Yn.encode=function(t,i){return this.$type.encode(t,i)};Yn.encodeDelimited=function(t,i){return this.$type.encodeDelimited(t,i)};Yn.decode=function(t){return this.$type.decode(t)};Yn.decodeDelimited=function(t){return this.$type.decodeDelimited(t)};Yn.verify=function(t){return this.$type.verify(t)};Yn.fromObject=function(t){return this.$type.fromObject(t)};Yn.toObject=function(t,i){return this.$type.toObject(t,i)};Yn.prototype.toJSON=function(){return this.$type.toObject(this,QV.toJSONOptions)}});var $b=x((Gye,K3)=>{"use strict";K3.exports=r$;var e$=Sn(),Ts=ka(),Y3=Cr();function t$(r){return"missing required '"+r.name+"'"}function r$(r){var t=Y3.codegen(["r","l"],r.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(r.fieldsArray.filter(function(h){return h.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");r.group&&t("if((t&7)===4)")("break"),t("switch(t>>>3){");for(var i=0;i<r.fieldsArray.length;++i){var n=r._fieldsArray[i].resolve(),s=n.resolvedType instanceof e$?"int32":n.type,o="m"+Y3.safeProp(n.name);t("case %i: {",n.id),n.map?(t("if(%s===util.emptyObject)",o)("%s={}",o)("var c2 = r.uint32()+r.pos"),Ts.defaults[n.keyType]!==void 0?t("k=%j",Ts.defaults[n.keyType]):t("k=null"),Ts.defaults[s]!==void 0?t("value=%j",Ts.defaults[s]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",n.keyType)("case 2:"),Ts.basic[s]===void 0?t("value=types[%i].decode(r,r.uint32())",i):t("value=r.%s()",s),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),Ts.long[n.keyType]!==void 0?t('%s[typeof k==="object"?util.longToHash(k):k]=value',o):t("%s[k]=value",o)):n.repeated?(t("if(!(%s&&%s.length))",o,o)("%s=[]",o),Ts.packed[s]!==void 0&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",o,s)("}else"),Ts.basic[s]===void 0?t(n.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",o,i):t("%s.push(r.%s())",o,s)):Ts.basic[s]===void 0?t(n.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",o,i):t("%s=r.%s()",o,s),t("break")("}")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),i=0;i<r._fieldsArray.length;++i){var l=r._fieldsArray[i];l.required&&t("if(!m.hasOwnProperty(%j))",l.name)("throw util.ProtocolError(%j,{instance:m})",t$(l))}return t("return m")}});var Kb=x((Yye,X3)=>{"use strict";X3.exports=s$;var i$=Sn(),Gb=Cr();function Ji(r,t){return r.name+": "+t+(r.repeated&&t!=="array"?"[]":r.map&&t!=="object"?"{k:"+r.keyType+"}":"")+" expected"}function Yb(r,t,i,n){if(t.resolvedType)if(t.resolvedType instanceof i$){r("switch(%s){",n)("default:")("return%j",Ji(t,"enum value"));for(var s=Object.keys(t.resolvedType.values),o=0;o<s.length;++o)r("case %i:",t.resolvedType.values[s[o]]);r("break")("}")}else r("{")("var e=types[%i].verify(%s);",i,n)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":r("if(!util.isInteger(%s))",n)("return%j",Ji(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":r("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",n,n,n,n)("return%j",Ji(t,"integer|Long"));break;case"float":case"double":r('if(typeof %s!=="number")',n)("return%j",Ji(t,"number"));break;case"bool":r('if(typeof %s!=="boolean")',n)("return%j",Ji(t,"boolean"));break;case"string":r("if(!util.isString(%s))",n)("return%j",Ji(t,"string"));break;case"bytes":r('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',n,n,n)("return%j",Ji(t,"buffer"));break}return r}function n$(r,t,i){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":r("if(!util.key32Re.test(%s))",i)("return%j",Ji(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":r("if(!util.key64Re.test(%s))",i)("return%j",Ji(t,"integer|Long key"));break;case"bool":r("if(!util.key2Re.test(%s))",i)("return%j",Ji(t,"boolean key"));break}return r}function s$(r){var t=Gb.codegen(["m"],r.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),i=r.oneofsArray,n={};i.length&&t("var p={}");for(var s=0;s<r.fieldsArray.length;++s){var o=r._fieldsArray[s].resolve(),l="m"+Gb.safeProp(o.name);if(o.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",l,o.name),o.map)t("if(!util.isObject(%s))",l)("return%j",Ji(o,"object"))("var k=Object.keys(%s)",l)("for(var i=0;i<k.length;++i){"),n$(t,o,"k[i]"),Yb(t,o,s,l+"[k[i]]")("}");else if(o.repeated)t("if(!Array.isArray(%s))",l)("return%j",Ji(o,"array"))("for(var i=0;i<%s.length;++i){",l),Yb(t,o,s,l+"[i]")("}");else{if(o.partOf){var h=Gb.safeProp(o.partOf.name);n[o.partOf.name]===1&&t("if(p%s===1)",h)("return%j",o.partOf.name+": multiple values"),n[o.partOf.name]=1,t("p%s=1",h)}Yb(t,o,s,l)}o.optional&&t("}")}return t("return null")}});var Zb=x(Z3=>{"use strict";var J3=Z3,hd=Sn(),Kn=Cr();function Xb(r,t,i,n){var s=!1;if(t.resolvedType)if(t.resolvedType instanceof hd){r("switch(d%s){",n);for(var o=t.resolvedType.values,l=Object.keys(o),h=0;h<l.length;++h)o[l[h]]===t.typeDefault&&!s&&(r("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',n,n,n),t.repeated||r("break"),s=!0),r("case%j:",l[h])("case %i:",o[l[h]])("m%s=%j",n,o[l[h]])("break");r("}")}else r('if(typeof d%s!=="object")',n)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",n,i,n);else{var p=!1;switch(t.type){case"double":case"float":r("m%s=Number(d%s)",n,n);break;case"uint32":case"fixed32":r("m%s=d%s>>>0",n,n);break;case"int32":case"sint32":case"sfixed32":r("m%s=d%s|0",n,n);break;case"uint64":p=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":r("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",n,n,p)('else if(typeof d%s==="string")',n)("m%s=parseInt(d%s,10)",n,n)('else if(typeof d%s==="number")',n)("m%s=d%s",n,n)('else if(typeof d%s==="object")',n)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",n,n,n,p?"true":"");break;case"bytes":r('if(typeof d%s==="string")',n)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",n,n,n)("else if(d%s.length >= 0)",n)("m%s=d%s",n,n);break;case"string":r("m%s=String(d%s)",n,n);break;case"bool":r("m%s=Boolean(d%s)",n,n);break}}return r}J3.fromObject=function(t){var i=t.fieldsArray,n=Kn.codegen(["d"],t.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!i.length)return n("return new this.ctor");n("var m=new this.ctor");for(var s=0;s<i.length;++s){var o=i[s].resolve(),l=Kn.safeProp(o.name);o.map?(n("if(d%s){",l)('if(typeof d%s!=="object")',l)("throw TypeError(%j)",o.fullName+": object expected")("m%s={}",l)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",l),Xb(n,o,s,l+"[ks[i]]")("}")("}")):o.repeated?(n("if(d%s){",l)("if(!Array.isArray(d%s))",l)("throw TypeError(%j)",o.fullName+": array expected")("m%s=[]",l)("for(var i=0;i<d%s.length;++i){",l),Xb(n,o,s,l+"[i]")("}")("}")):(o.resolvedType instanceof hd||n("if(d%s!=null){",l),Xb(n,o,s,l),o.resolvedType instanceof hd||n("}"))}return n("return m")};function Jb(r,t,i,n){if(t.resolvedType)t.resolvedType instanceof hd?r("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",n,i,n,n,i,n,n):r("d%s=types[%i].toObject(m%s,o)",n,i,n);else{var s=!1;switch(t.type){case"double":case"float":r("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",n,n,n,n);break;case"uint64":s=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":r('if(typeof m%s==="number")',n)("d%s=o.longs===String?String(m%s):m%s",n,n,n)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",n,n,n,n,s?"true":"",n);break;case"bytes":r("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",n,n,n,n,n);break;default:r("d%s=m%s",n,n);break}}return r}J3.toObject=function(t){var i=t.fieldsArray.slice().sort(Kn.compareFieldsById);if(!i.length)return Kn.codegen()("return {}");for(var n=Kn.codegen(["m","o"],t.name+"$toObject")("if(!o)")("o={}")("var d={}"),s=[],o=[],l=[],h=0;h<i.length;++h)i[h].partOf||(i[h].resolve().repeated?s:i[h].map?o:l).push(i[h]);if(s.length){for(n("if(o.arrays||o.defaults){"),h=0;h<s.length;++h)n("d%s=[]",Kn.safeProp(s[h].name));n("}")}if(o.length){for(n("if(o.objects||o.defaults){"),h=0;h<o.length;++h)n("d%s={}",Kn.safeProp(o[h].name));n("}")}if(l.length){for(n("if(o.defaults){"),h=0;h<l.length;++h){var p=l[h],g=Kn.safeProp(p.name);if(p.resolvedType instanceof hd)n("d%s=o.enums===String?%j:%j",g,p.resolvedType.valuesById[p.typeDefault],p.typeDefault);else if(p.long)n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",p.typeDefault.low,p.typeDefault.high,p.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",g)("}else")("d%s=o.longs===String?%j:%i",g,p.typeDefault.toString(),p.typeDefault.toNumber());else if(p.bytes){var m="["+Array.prototype.slice.call(p.typeDefault).join(",")+"]";n("if(o.bytes===String)d%s=%j",g,String.fromCharCode.apply(String,p.typeDefault))("else{")("d%s=%s",g,m)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",g,g)("}")}else n("d%s=%j",g,p.typeDefault)}n("}")}var y=!1;for(h=0;h<i.length;++h){var p=i[h],S=t._fieldsArray.indexOf(p),g=Kn.safeProp(p.name);p.map?(y||(y=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",g,g)("d%s={}",g)("for(var j=0;j<ks2.length;++j){"),Jb(n,p,S,g+"[ks2[j]]")("}")):p.repeated?(n("if(m%s&&m%s.length){",g,g)("d%s=[]",g)("for(var j=0;j<m%s.length;++j){",g),Jb(n,p,S,g+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",g,p.name),Jb(n,p,S,g),p.partOf&&n("if(o.oneofs)")("d%s=%j",Kn.safeProp(p.partOf.name),p.name)),n("}")}return n("return d")}});var Qb=x(Q3=>{"use strict";var o$=Q3,a$=_p();o$[".google.protobuf.Any"]={fromObject:function(r){if(r&&r["@type"]){var t=r["@type"].substring(r["@type"].lastIndexOf("/")+1),i=this.lookup(t);if(i){var n=r["@type"].charAt(0)==="."?r["@type"].slice(1):r["@type"];return n.indexOf("/")===-1&&(n="/"+n),this.create({type_url:n,value:i.encode(i.fromObject(r)).finish()})}}return this.fromObject(r)},toObject:function(r,t){var i="type.googleapis.com/",n="",s="";if(t&&t.json&&r.type_url&&r.value){s=r.type_url.substring(r.type_url.lastIndexOf("/")+1),n=r.type_url.substring(0,r.type_url.lastIndexOf("/")+1);var o=this.lookup(s);o&&(r=o.decode(r.value))}if(!(r instanceof this.ctor)&&r instanceof a$){var l=r.$type.toObject(r,t),h=r.$type.fullName[0]==="."?r.$type.fullName.slice(1):r.$type.fullName;return n===""&&(n=i),s=n+h,l["@type"]=s,l}return this.toObject(r,t)}}});var Cp=x((Jye,tD)=>{"use strict";tD.exports=Wt;var wn=Kl();((Wt.prototype=Object.create(wn.prototype)).constructor=Wt).className="Type";var l$=Sn(),rS=$l(),Ep=ko(),c$=bp(),u$=wp(),eS=_p(),tS=pp(),d$=fp(),Wr=Cr(),f$=iS(),h$=$b(),p$=Kb(),eD=Zb(),g$=Qb();function Wt(r,t){wn.call(this,r,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(Wt.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var r=Object.keys(this.fields),t=0;t<r.length;++t){var i=this.fields[r[t]],n=i.id;if(this._fieldsById[n])throw Error("duplicate id "+n+" in "+this);this._fieldsById[n]=i}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=Wr.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=Wr.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=Wt.generateConstructor(this)())},set:function(r){var t=r.prototype;t instanceof eS||((r.prototype=new eS).constructor=r,Wr.merge(r.prototype,t)),r.$type=r.prototype.$type=this,Wr.merge(r,eS,!0),this._ctor=r;for(var i=0;i<this.fieldsArray.length;++i)this._fieldsArray[i].resolve();var n={};for(i=0;i<this.oneofsArray.length;++i)n[this._oneofsArray[i].resolve().name]={get:Wr.oneOfGetter(this._oneofsArray[i].oneof),set:Wr.oneOfSetter(this._oneofsArray[i].oneof)};i&&Object.defineProperties(r.prototype,n)}}});Wt.generateConstructor=function(t){for(var i=Wr.codegen(["p"],t.name),n=0,s;n<t.fieldsArray.length;++n)(s=t._fieldsArray[n]).map?i("this%s={}",Wr.safeProp(s.name)):s.repeated&&i("this%s=[]",Wr.safeProp(s.name));return i("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function Tp(r){return r._fieldsById=r._fieldsArray=r._oneofsArray=null,delete r.encode,delete r.decode,delete r.verify,r}Wt.fromJSON=function(t,i){var n=new Wt(t,i.options);n.extensions=i.extensions,n.reserved=i.reserved;for(var s=Object.keys(i.fields),o=0;o<s.length;++o)n.add((typeof i.fields[s[o]].keyType<"u"?c$.fromJSON:Ep.fromJSON)(s[o],i.fields[s[o]]));if(i.oneofs)for(s=Object.keys(i.oneofs),o=0;o<s.length;++o)n.add(rS.fromJSON(s[o],i.oneofs[s[o]]));if(i.nested)for(s=Object.keys(i.nested),o=0;o<s.length;++o){var l=i.nested[s[o]];n.add((l.id!==void 0?Ep.fromJSON:l.fields!==void 0?Wt.fromJSON:l.values!==void 0?l$.fromJSON:l.methods!==void 0?u$.fromJSON:wn.fromJSON)(s[o],l))}return i.extensions&&i.extensions.length&&(n.extensions=i.extensions),i.reserved&&i.reserved.length&&(n.reserved=i.reserved),i.group&&(n.group=!0),i.comment&&(n.comment=i.comment),n};Wt.prototype.toJSON=function(t){var i=wn.prototype.toJSON.call(this,t),n=t?!!t.keepComments:!1;return Wr.toObject(["options",i&&i.options||void 0,"oneofs",wn.arrayToJSON(this.oneofsArray,t),"fields",wn.arrayToJSON(this.fieldsArray.filter(function(s){return!s.declaringField}),t)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",i&&i.nested||void 0,"comment",n?this.comment:void 0])};Wt.prototype.resolveAll=function(){for(var t=this.fieldsArray,i=0;i<t.length;)t[i++].resolve();var n=this.oneofsArray;for(i=0;i<n.length;)n[i++].resolve();return wn.prototype.resolveAll.call(this)};Wt.prototype.get=function(t){return this.fields[t]||this.oneofs&&this.oneofs[t]||this.nested&&this.nested[t]||null};Wt.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);if(t instanceof Ep&&t.extend===void 0){if(this._fieldsById?this._fieldsById[t.id]:this.fieldsById[t.id])throw Error("duplicate id "+t.id+" in "+this);if(this.isReservedId(t.id))throw Error("id "+t.id+" is reserved in "+this);if(this.isReservedName(t.name))throw Error("name '"+t.name+"' is reserved in "+this);return t.parent&&t.parent.remove(t),this.fields[t.name]=t,t.message=this,t.onAdd(this),Tp(this)}return t instanceof rS?(this.oneofs||(this.oneofs={}),this.oneofs[t.name]=t,t.onAdd(this),Tp(this)):wn.prototype.add.call(this,t)};Wt.prototype.remove=function(t){if(t instanceof Ep&&t.extend===void 0){if(!this.fields||this.fields[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.fields[t.name],t.parent=null,t.onRemove(this),Tp(this)}if(t instanceof rS){if(!this.oneofs||this.oneofs[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.oneofs[t.name],t.parent=null,t.onRemove(this),Tp(this)}return wn.prototype.remove.call(this,t)};Wt.prototype.isReservedId=function(t){return wn.isReservedId(this.reserved,t)};Wt.prototype.isReservedName=function(t){return wn.isReservedName(this.reserved,t)};Wt.prototype.create=function(t){return new this.ctor(t)};Wt.prototype.setup=function(){for(var t=this.fullName,i=[],n=0;n<this.fieldsArray.length;++n)i.push(this._fieldsArray[n].resolve().resolvedType);this.encode=f$(this)({Writer:d$,types:i,util:Wr}),this.decode=h$(this)({Reader:tS,types:i,util:Wr}),this.verify=p$(this)({types:i,util:Wr}),this.fromObject=eD.fromObject(this)({types:i,util:Wr}),this.toObject=eD.toObject(this)({types:i,util:Wr});var s=g$[t];if(s){var o=Object.create(this);o.fromObject=this.fromObject,this.fromObject=s.fromObject.bind(o),o.toObject=this.toObject,this.toObject=s.toObject.bind(o)}return this};Wt.prototype.encode=function(t,i){return this.setup().encode(t,i)};Wt.prototype.encodeDelimited=function(t,i){return this.encode(t,i&&i.len?i.fork():i).ldelim()};Wt.prototype.decode=function(t,i){return this.setup().decode(t,i)};Wt.prototype.decodeDelimited=function(t){return t instanceof tS||(t=tS.create(t)),this.decode(t,t.uint32())};Wt.prototype.verify=function(t){return this.setup().verify(t)};Wt.prototype.fromObject=function(t){return this.setup().fromObject(t)};Wt.prototype.toObject=function(t,i){return this.setup().toObject(t,i)};Wt.d=function(t){return function(n){Wr.decorateType(n,t)}}});var xp=x((Zye,oD)=>{"use strict";oD.exports=Di;var Rp=Kl();((Di.prototype=Object.create(Rp.prototype)).constructor=Di).className="Root";var sS=ko(),iD=Sn(),m$=$l(),xo=Cr(),nD,nS,pd;function Di(r){Rp.call(this,"",r),this.deferred=[],this.files=[]}Di.fromJSON=function(t,i){return i||(i=new Di),t.options&&i.setOptions(t.options),i.addJSON(t.nested)};Di.prototype.resolvePath=xo.path.resolve;Di.prototype.fetch=xo.fetch;function sD(){}Di.prototype.load=function r(t,i,n){typeof i=="function"&&(n=i,i=void 0);var s=this;if(!n)return xo.asPromise(r,s,t,i);var o=n===sD;function l(w,C){if(n){var _=n;if(n=null,o)throw w;_(w,C)}}function h(w){var C=w.lastIndexOf("google/protobuf/");if(C>-1){var _=w.substring(C);if(_ in pd)return _}return null}function p(w,C){try{if(xo.isString(C)&&C.charAt(0)==="{"&&(C=JSON.parse(C)),!xo.isString(C))s.setOptions(C.options).addJSON(C.nested);else{nS.filename=w;var _=nS(C,s,i),R,D=0;if(_.imports)for(;D<_.imports.length;++D)(R=h(_.imports[D])||s.resolvePath(w,_.imports[D]))&&g(R);if(_.weakImports)for(D=0;D<_.weakImports.length;++D)(R=h(_.weakImports[D])||s.resolvePath(w,_.weakImports[D]))&&g(R,!0)}}catch(I){l(I)}!o&&!m&&l(null,s)}function g(w,C){if(w=h(w)||w,!(s.files.indexOf(w)>-1)){if(s.files.push(w),w in pd){o?p(w,pd[w]):(++m,setTimeout(function(){--m,p(w,pd[w])}));return}if(o){var _;try{_=xo.fs.readFileSync(w).toString("utf8")}catch(R){C||l(R);return}p(w,_)}else++m,s.fetch(w,function(R,D){if(--m,!!n){if(R){C?m||l(null,s):l(R);return}p(w,D)}})}}var m=0;xo.isString(t)&&(t=[t]);for(var y=0,S;y<t.length;++y)(S=s.resolvePath("",t[y]))&&g(S);if(o)return s;m||l(null,s)};Di.prototype.loadSync=function(t,i){if(!xo.isNode)throw Error("not supported");return this.load(t,i,sD)};Di.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(t){return"'extend "+t.extend+"' in "+t.parent.fullName}).join(", "));return Rp.prototype.resolveAll.call(this)};var kp=/^[A-Z]/;function rD(r,t){var i=t.parent.lookup(t.extend);if(i){var n=new sS(t.fullName,t.id,t.type,t.rule,void 0,t.options);return i.get(n.name)||(n.declaringField=t,t.extensionField=n,i.add(n)),!0}return!1}Di.prototype._handleAdd=function(t){if(t instanceof sS)t.extend!==void 0&&!t.extensionField&&(rD(this,t)||this.deferred.push(t));else if(t instanceof iD)kp.test(t.name)&&(t.parent[t.name]=t.values);else if(!(t instanceof m$)){if(t instanceof nD)for(var i=0;i<this.deferred.length;)rD(this,this.deferred[i])?this.deferred.splice(i,1):++i;for(var n=0;n<t.nestedArray.length;++n)this._handleAdd(t._nestedArray[n]);kp.test(t.name)&&(t.parent[t.name]=t)}};Di.prototype._handleRemove=function(t){if(t instanceof sS){if(t.extend!==void 0)if(t.extensionField)t.extensionField.parent.remove(t.extensionField),t.extensionField=null;else{var i=this.deferred.indexOf(t);i>-1&&this.deferred.splice(i,1)}}else if(t instanceof iD)kp.test(t.name)&&delete t.parent[t.name];else if(t instanceof Rp){for(var n=0;n<t.nestedArray.length;++n)this._handleRemove(t._nestedArray[n]);kp.test(t.name)&&delete t.parent[t.name]}};Di._configure=function(r,t,i){nD=r,nS=t,pd=i}});var Cr=x((Qye,lD)=>{"use strict";var lr=lD.exports=$n(),aD=Mb(),oS,aS;lr.codegen=k3();lr.fetch=x3();lr.path=N3();lr.fs=lr.inquire("fs");lr.toArray=function(t){if(t){for(var i=Object.keys(t),n=new Array(i.length),s=0;s<i.length;)n[s]=t[i[s++]];return n}return[]};lr.toObject=function(t){for(var i={},n=0;n<t.length;){var s=t[n++],o=t[n++];o!==void 0&&(i[s]=o)}return i};var y$=/\\/g,v$=/"/g;lr.isReserved=function(t){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(t)};lr.safeProp=function(t){return!/^[$\w_]+$/.test(t)||lr.isReserved(t)?'["'+t.replace(y$,"\\\\").replace(v$,'\\"')+'"]':"."+t};lr.ucFirst=function(t){return t.charAt(0).toUpperCase()+t.substring(1)};var b$=/_([a-z])/g;lr.camelCase=function(t){return t.substring(0,1)+t.substring(1).replace(b$,function(i,n){return n.toUpperCase()})};lr.compareFieldsById=function(t,i){return t.id-i.id};lr.decorateType=function(t,i){if(t.$type)return i&&t.$type.name!==i&&(lr.decorateRoot.remove(t.$type),t.$type.name=i,lr.decorateRoot.add(t.$type)),t.$type;oS||(oS=Cp());var n=new oS(i||t.name);return lr.decorateRoot.add(n),n.ctor=t,Object.defineProperty(t,"$type",{value:n,enumerable:!1}),Object.defineProperty(t.prototype,"$type",{value:n,enumerable:!1}),n};var S$=0;lr.decorateEnum=function(t){if(t.$type)return t.$type;aS||(aS=Sn());var i=new aS("Enum"+S$++,t);return lr.decorateRoot.add(i),Object.defineProperty(t,"$type",{value:i,enumerable:!1}),i};lr.setProperty=function(t,i,n){function s(o,l,h){var p=l.shift();if(p==="__proto__"||p==="prototype")return o;if(l.length>0)o[p]=s(o[p]||{},l,h);else{var g=o[p];g&&(h=[].concat(g).concat(h)),o[p]=h}return o}if(typeof t!="object")throw TypeError("dst must be an object");if(!i)throw TypeError("path must be specified");return i=i.split("."),s(t,i,n)};Object.defineProperty(lr,"decorateRoot",{get:function(){return aD.decorated||(aD.decorated=new(xp()))}})});var Ra=x((e0e,cD)=>{"use strict";cD.exports=Pi;Pi.className="ReflectionObject";var Ap=Cr(),Op;function Pi(r,t){if(!Ap.isString(r))throw TypeError("name must be a string");if(t&&!Ap.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=r,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(Pi.prototype,{root:{get:function(){for(var r=this;r.parent!==null;)r=r.parent;return r}},fullName:{get:function(){for(var r=[this.name],t=this.parent;t;)r.unshift(t.name),t=t.parent;return r.join(".")}}});Pi.prototype.toJSON=function(){throw Error()};Pi.prototype.onAdd=function(t){this.parent&&this.parent!==t&&this.parent.remove(this),this.parent=t,this.resolved=!1;var i=t.root;i instanceof Op&&i._handleAdd(this)};Pi.prototype.onRemove=function(t){var i=t.root;i instanceof Op&&i._handleRemove(this),this.parent=null,this.resolved=!1};Pi.prototype.resolve=function(){return this.resolved?this:(this.root instanceof Op&&(this.resolved=!0),this)};Pi.prototype.getOption=function(t){if(this.options)return this.options[t]};Pi.prototype.setOption=function(t,i,n){return(!n||!this.options||this.options[t]===void 0)&&((this.options||(this.options={}))[t]=i),this};Pi.prototype.setParsedOption=function(t,i,n){this.parsedOptions||(this.parsedOptions=[]);var s=this.parsedOptions;if(n){var o=s.find(function(p){return Object.prototype.hasOwnProperty.call(p,t)});if(o){var l=o[t];Ap.setProperty(l,n,i)}else o={},o[t]=Ap.setProperty({},n,i),s.push(o)}else{var h={};h[t]=i,s.push(h)}return this};Pi.prototype.setOptions=function(t,i){if(t)for(var n=Object.keys(t),s=0;s<n.length;++s)this.setOption(n[s],t[n[s]],i);return this};Pi.prototype.toString=function(){var t=this.constructor.className,i=this.fullName;return i.length?t+" "+i:t};Pi._configure=function(r){Op=r}});var Sn=x((t0e,fD)=>{"use strict";fD.exports=Xn;var uD=Ra();((Xn.prototype=Object.create(uD.prototype)).constructor=Xn).className="Enum";var dD=Kl(),Np=Cr();function Xn(r,t,i,n,s,o){if(uD.call(this,r,i),t&&typeof t!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=n,this.comments=s||{},this.valuesOptions=o,this.reserved=void 0,t)for(var l=Object.keys(t),h=0;h<l.length;++h)typeof t[l[h]]=="number"&&(this.valuesById[this.values[l[h]]=t[l[h]]]=l[h])}Xn.fromJSON=function(t,i){var n=new Xn(t,i.values,i.options,i.comment,i.comments);return n.reserved=i.reserved,n};Xn.prototype.toJSON=function(t){var i=t?!!t.keepComments:!1;return Np.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",i?this.comment:void 0,"comments",i?this.comments:void 0])};Xn.prototype.add=function(t,i,n,s){if(!Np.isString(t))throw TypeError("name must be a string");if(!Np.isInteger(i))throw TypeError("id must be an integer");if(this.values[t]!==void 0)throw Error("duplicate name '"+t+"' in "+this);if(this.isReservedId(i))throw Error("id "+i+" is reserved in "+this);if(this.isReservedName(t))throw Error("name '"+t+"' is reserved in "+this);if(this.valuesById[i]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+i+" in "+this);this.values[t]=i}else this.valuesById[this.values[t]=i]=t;return s&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[t]=s||null),this.comments[t]=n||null,this};Xn.prototype.remove=function(t){if(!Np.isString(t))throw TypeError("name must be a string");var i=this.values[t];if(i==null)throw Error("name '"+t+"' does not exist in "+this);return delete this.valuesById[i],delete this.values[t],delete this.comments[t],this.valuesOptions&&delete this.valuesOptions[t],this};Xn.prototype.isReservedId=function(t){return dD.isReservedId(this.reserved,t)};Xn.prototype.isReservedName=function(t){return dD.isReservedName(this.reserved,t)}});var iS=x((r0e,pD)=>{"use strict";pD.exports=_$;var w$=Sn(),lS=ka(),cS=Cr();function hD(r,t,i,n){return t.resolvedType.group?r("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",i,n,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):r("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",i,n,(t.id<<3|2)>>>0)}function _$(r){for(var t=cS.codegen(["m","w"],r.name+"$encode")("if(!w)")("w=Writer.create()"),i,n,s=r.fieldsArray.slice().sort(cS.compareFieldsById),i=0;i<s.length;++i){var o=s[i].resolve(),l=r._fieldsArray.indexOf(o),h=o.resolvedType instanceof w$?"int32":o.type,p=lS.basic[h];n="m"+cS.safeProp(o.name),o.map?(t("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",n,o.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",n)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(o.id<<3|2)>>>0,8|lS.mapKey[o.keyType],o.keyType),p===void 0?t("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",l,n):t(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|p,h,n),t("}")("}")):o.repeated?(t("if(%s!=null&&%s.length){",n,n),o.packed&&lS.packed[h]!==void 0?t("w.uint32(%i).fork()",(o.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",n)("w.%s(%s[i])",h,n)("w.ldelim()"):(t("for(var i=0;i<%s.length;++i)",n),p===void 0?hD(t,o,l,n+"[i]"):t("w.uint32(%i).%s(%s[i])",(o.id<<3|p)>>>0,h,n)),t("}")):(o.optional&&t("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",n,o.name),p===void 0?hD(t,o,l,n):t("w.uint32(%i).%s(%s)",(o.id<<3|p)>>>0,h,n))}return t("return w")}});var mD=x((i0e,gD)=>{"use strict";var mt=gD.exports=T3();mt.build="light";function E$(r,t,i){return typeof t=="function"?(i=t,t=new mt.Root):t||(t=new mt.Root),t.load(r,i)}mt.load=E$;function T$(r,t){return t||(t=new mt.Root),t.loadSync(r)}mt.loadSync=T$;mt.encoder=iS();mt.decoder=$b();mt.verifier=Kb();mt.converter=Zb();mt.ReflectionObject=Ra();mt.Namespace=Kl();mt.Root=xp();mt.Enum=Sn();mt.Type=Cp();mt.Field=ko();mt.OneOf=$l();mt.MapField=bp();mt.Service=wp();mt.Method=Sp();mt.Message=_p();mt.wrappers=Qb();mt.types=ka();mt.util=Cr();mt.ReflectionObject._configure(mt.Root);mt.Namespace._configure(mt.Type,mt.Service,mt.Enum);mt.Root._configure(mt.Type);mt.Field._configure(mt.Type)});var dS=x((n0e,bD)=>{"use strict";bD.exports=vD;var uS=/[\s{}=;:[\],'"()<>]/g,C$=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,k$=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,R$=/^ *[*/]+ */,x$=/^\s*\*?\/*/,A$=/\n/g,O$=/\s/,N$=/\\(.?)/g,D$={0:"\0",r:"\r",n:`
`,t:"	"};function yD(r){return r.replace(N$,function(t,i){switch(i){case"\\":case"":return i;default:return D$[i]||""}})}vD.unescape=yD;function vD(r,t){r=r.toString();var i=0,n=r.length,s=1,o=0,l={},h=[],p=null;function g(L){return Error("illegal "+L+" (line "+s+")")}function m(){var L=p==="'"?k$:C$;L.lastIndex=i-1;var V=L.exec(r);if(!V)throw g("string");return i=L.lastIndex,R(p),p=null,yD(V[1])}function y(L){return r.charAt(L)}function S(L,V,K){var Q={type:r.charAt(L++),lineEmpty:!1,leading:K},le;t?le=2:le=3;var ge=L-le,j;do if(--ge<0||(j=r.charAt(ge))===`
`){Q.lineEmpty=!0;break}while(j===" "||j==="	");for(var N=r.substring(L,V).split(A$),X=0;X<N.length;++X)N[X]=N[X].replace(t?x$:R$,"").trim();Q.text=N.join(`
`).trim(),l[s]=Q,o=s}function w(L){var V=C(L),K=r.substring(L,V),Q=/^\s*\/\//.test(K);return Q}function C(L){for(var V=L;V<n&&y(V)!==`
`;)V++;return V}function _(){if(h.length>0)return h.shift();if(p)return m();var L,V,K,Q,le,ge=i===0;do{if(i===n)return null;for(L=!1;O$.test(K=y(i));)if(K===`
`&&(ge=!0,++s),++i===n)return null;if(y(i)==="/"){if(++i===n)throw g("comment");if(y(i)==="/")if(t){if(Q=i,le=!1,w(i-1)){le=!0;do if(i=C(i),i===n||(i++,!ge))break;while(w(i))}else i=Math.min(n,C(i)+1);le&&(S(Q,i,ge),ge=!0),s++,L=!0}else{for(le=y(Q=i+1)==="/";y(++i)!==`
`;)if(i===n)return null;++i,le&&(S(Q,i-1,ge),ge=!0),++s,L=!0}else if((K=y(i))==="*"){Q=i+1,le=t||y(Q)==="*";do{if(K===`
`&&++s,++i===n)throw g("comment");V=K,K=y(i)}while(V!=="*"||K!=="/");++i,le&&(S(Q,i-2,ge),ge=!0),L=!0}else return"/"}}while(L);var j=i;uS.lastIndex=0;var N=uS.test(y(j++));if(!N)for(;j<n&&!uS.test(y(j));)++j;var X=r.substring(i,i=j);return(X==='"'||X==="'")&&(p=X),X}function R(L){h.push(L)}function D(){if(!h.length){var L=_();if(L===null)return null;R(L)}return h[0]}function I(L,V){var K=D(),Q=K===L;if(Q)return _(),!0;if(!V)throw g("token '"+K+"', '"+L+"' expected");return!1}function M(L){var V=null,K;return L===void 0?(K=l[s-1],delete l[s-1],K&&(t||K.type==="*"||K.lineEmpty)&&(V=K.leading?K.text:null)):(o<L&&D(),K=l[L],delete l[L],K&&!K.lineEmpty&&(t||K.type==="/")&&(V=K.leading?null:K.text)),V}return Object.defineProperty({next:_,peek:D,push:R,skip:I,cmnt:M},"line",{get:function(){return s}})}});var CD=x((s0e,TD)=>{"use strict";TD.exports=Cs;Cs.filename=null;Cs.defaults={keepCase:!1};var P$=dS(),SD=xp(),wD=Cp(),_D=ko(),I$=bp(),ED=$l(),L$=Sn(),M$=wp(),F$=Sp(),fS=ka(),hS=Cr(),j$=/^[1-9][0-9]*$/,B$=/^-?[1-9][0-9]*$/,U$=/^0[x][0-9a-fA-F]+$/,q$=/^-?0[x][0-9a-fA-F]+$/,W$=/^0[0-7]+$/,z$=/^-?0[0-7]+$/,H$=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,Jn=/^[a-zA-Z_][a-zA-Z_0-9]*$/,Zn=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,V$=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function Cs(r,t,i){t instanceof SD||(i=t,t=new SD),i||(i=Cs.defaults);var n=i.preferTrailingComment||!1,s=P$(r,i.alternateCommentMode||!1),o=s.next,l=s.push,h=s.peek,p=s.skip,g=s.cmnt,m=!0,y,S,w,C,_=!1,R=t,D=i.keepCase?function(de){return de}:hS.camelCase;function I(de,te,oe){var xe=Cs.filename;return oe||(Cs.filename=null),Error("illegal "+(te||"token")+" '"+de+"' ("+(xe?xe+", ":"")+"line "+s.line+")")}function M(){var de=[],te;do{if((te=o())!=='"'&&te!=="'")throw I(te);de.push(o()),p(te),te=h()}while(te==='"'||te==="'");return de.join("")}function L(de){var te=o();switch(te){case"'":case'"':return l(te),M();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return K(te,!0)}catch{if(de&&Zn.test(te))return te;throw I(te,"value")}}function V(de,te){var oe,xe;do te&&((oe=h())==='"'||oe==="'")?de.push(M()):de.push([xe=Q(o()),p("to",!0)?Q(o()):xe]);while(p(",",!0));p(";")}function K(de,te){var oe=1;switch(de.charAt(0)==="-"&&(oe=-1,de=de.substring(1)),de){case"inf":case"INF":case"Inf":return oe*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(j$.test(de))return oe*parseInt(de,10);if(U$.test(de))return oe*parseInt(de,16);if(W$.test(de))return oe*parseInt(de,8);if(H$.test(de))return oe*parseFloat(de);throw I(de,"number",te)}function Q(de,te){switch(de){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!te&&de.charAt(0)==="-")throw I(de,"id");if(B$.test(de))return parseInt(de,10);if(q$.test(de))return parseInt(de,16);if(z$.test(de))return parseInt(de,8);throw I(de,"id")}function le(){if(y!==void 0)throw I("package");if(y=o(),!Zn.test(y))throw I(y,"name");R=R.define(y),p(";")}function ge(){var de=h(),te;switch(de){case"weak":te=w||(w=[]),o();break;case"public":o();default:te=S||(S=[]);break}de=M(),p(";"),te.push(de)}function j(){if(p("="),C=M(),_=C==="proto3",!_&&C!=="proto2")throw I(C,"syntax");p(";")}function N(de,te){switch(te){case"option":return ye(de,te),p(";"),!0;case"message":return U(de,te),!0;case"enum":return ue(de,te),!0;case"service":return ce(de,te),!0;case"extend":return Xe(de,te),!0}return!1}function X(de,te,oe){var xe=s.line;if(de&&(typeof de.comment!="string"&&(de.comment=g()),de.filename=Cs.filename),p("{",!0)){for(var Ne;(Ne=o())!=="}";)te(Ne);p(";",!0)}else oe&&oe(),p(";"),de&&(typeof de.comment!="string"||n)&&(de.comment=g(xe)||de.comment)}function U(de,te){if(!Jn.test(te=o()))throw I(te,"type name");var oe=new wD(te);X(oe,function(Ne){if(!N(oe,Ne))switch(Ne){case"map":J(oe,Ne);break;case"required":case"repeated":k(oe,Ne);break;case"optional":_?k(oe,"proto3_optional"):k(oe,"optional");break;case"oneof":se(oe,Ne);break;case"extensions":V(oe.extensions||(oe.extensions=[]));break;case"reserved":V(oe.reserved||(oe.reserved=[]),!0);break;default:if(!_||!Zn.test(Ne))throw I(Ne);l(Ne),k(oe,"optional");break}}),de.add(oe)}function k(de,te,oe){var xe=o();if(xe==="group"){W(de,te);return}for(;xe.endsWith(".")||h().startsWith(".");)xe+=o();if(!Zn.test(xe))throw I(xe,"type");var Ne=o();if(!Jn.test(Ne))throw I(Ne,"name");Ne=D(Ne),p("=");var pe=new _D(Ne,Q(o()),xe,te,oe);if(X(pe,function(Te){if(Te==="option")ye(pe,Te),p(";");else throw I(Te)},function(){Je(pe)}),te==="proto3_optional"){var et=new ED("_"+Ne);pe.setOption("proto3_optional",!0),et.add(pe),de.add(et)}else de.add(pe);!_&&pe.repeated&&(fS.packed[xe]!==void 0||fS.basic[xe]===void 0)&&pe.setOption("packed",!1,!0)}function W(de,te){var oe=o();if(!Jn.test(oe))throw I(oe,"name");var xe=hS.lcFirst(oe);oe===xe&&(oe=hS.ucFirst(oe)),p("=");var Ne=Q(o()),pe=new wD(oe);pe.group=!0;var et=new _D(xe,Ne,oe,te);et.filename=Cs.filename,X(pe,function(Te){switch(Te){case"option":ye(pe,Te),p(";");break;case"required":case"repeated":k(pe,Te);break;case"optional":_?k(pe,"proto3_optional"):k(pe,"optional");break;case"message":U(pe,Te);break;case"enum":ue(pe,Te);break;default:throw I(Te)}}),de.add(pe).add(et)}function J(de){p("<");var te=o();if(fS.mapKey[te]===void 0)throw I(te,"type");p(",");var oe=o();if(!Zn.test(oe))throw I(oe,"type");p(">");var xe=o();if(!Jn.test(xe))throw I(xe,"name");p("=");var Ne=new I$(D(xe),Q(o()),te,oe);X(Ne,function(et){if(et==="option")ye(Ne,et),p(";");else throw I(et)},function(){Je(Ne)}),de.add(Ne)}function se(de,te){if(!Jn.test(te=o()))throw I(te,"name");var oe=new ED(D(te));X(oe,function(Ne){Ne==="option"?(ye(oe,Ne),p(";")):(l(Ne),k(oe,"optional"))}),de.add(oe)}function ue(de,te){if(!Jn.test(te=o()))throw I(te,"name");var oe=new L$(te);X(oe,function(Ne){switch(Ne){case"option":ye(oe,Ne),p(";");break;case"reserved":V(oe.reserved||(oe.reserved=[]),!0);break;default:fe(oe,Ne)}}),de.add(oe)}function fe(de,te){if(!Jn.test(te))throw I(te,"name");p("=");var oe=Q(o(),!0),xe={options:void 0};xe.setOption=function(Ne,pe){this.options===void 0&&(this.options={}),this.options[Ne]=pe},X(xe,function(pe){if(pe==="option")ye(xe,pe),p(";");else throw I(pe)},function(){Je(xe)}),de.add(te,oe,xe.comment,xe.options)}function ye(de,te){var oe=p("(",!0);if(!Zn.test(te=o()))throw I(te,"name");var xe=te,Ne=xe,pe;oe&&(p(")"),xe="("+xe+")",Ne=xe,te=h(),V$.test(te)&&(pe=te.slice(1),xe+=te,o())),p("=");var et=$e(de,xe);Qe(de,Ne,et,pe)}function $e(de,te){if(p("{",!0)){for(var oe={};!p("}",!0);){if(!Jn.test(Ie=o()))throw I(Ie,"name");if(Ie===null)throw I(Ie,"end of input");var xe,Ne=Ie;if(p(":",!0),h()==="{")xe=$e(de,te+"."+Ie);else if(h()==="["){xe=[];var pe;if(p("[",!0)){do pe=L(!0),xe.push(pe);while(p(",",!0));p("]"),typeof pe<"u"&&Ge(de,te+"."+Ie,pe)}}else xe=L(!0),Ge(de,te+"."+Ie,xe);var et=oe[Ne];et&&(xe=[].concat(et).concat(xe)),oe[Ne]=xe,p(",",!0),p(";",!0)}return oe}var it=L(!0);return Ge(de,te,it),it}function Ge(de,te,oe){de.setOption&&de.setOption(te,oe)}function Qe(de,te,oe,xe){de.setParsedOption&&de.setParsedOption(te,oe,xe)}function Je(de){if(p("[",!0)){do ye(de,"option");while(p(",",!0));p("]")}return de}function ce(de,te){if(!Jn.test(te=o()))throw I(te,"service name");var oe=new M$(te);X(oe,function(Ne){if(!N(oe,Ne))if(Ne==="rpc")ve(oe,Ne);else throw I(Ne)}),de.add(oe)}function ve(de,te){var oe=g(),xe=te;if(!Jn.test(te=o()))throw I(te,"name");var Ne=te,pe,et,it,Te;if(p("("),p("stream",!0)&&(et=!0),!Zn.test(te=o())||(pe=te,p(")"),p("returns"),p("("),p("stream",!0)&&(Te=!0),!Zn.test(te=o())))throw I(te);it=te,p(")");var Ft=new F$(Ne,xe,pe,it,et,Te);Ft.comment=oe,X(Ft,function(ee){if(ee==="option")ye(Ft,ee),p(";");else throw I(ee)}),de.add(Ft)}function Xe(de,te){if(!Zn.test(te=o()))throw I(te,"reference");var oe=te;X(null,function(Ne){switch(Ne){case"required":case"repeated":k(de,Ne,oe);break;case"optional":_?k(de,"proto3_optional",oe):k(de,"optional",oe);break;default:if(!_||!Zn.test(Ne))throw I(Ne);l(Ne),k(de,"optional",oe);break}})}for(var Ie;(Ie=o())!==null;)switch(Ie){case"package":if(!m)throw I(Ie);le();break;case"import":if(!m)throw I(Ie);ge();break;case"syntax":if(!m)throw I(Ie);j();break;case"option":ye(R,Ie),p(";");break;default:if(N(R,Ie)){m=!1;continue}throw I(Ie)}return Cs.filename=null,{package:y,imports:S,weakImports:w,syntax:C,root:t}}});var xD=x((o0e,RD)=>{"use strict";RD.exports=_n;var $$=/\/|\./;function _n(r,t){$$.test(r)||(r="google/protobuf/"+r+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),_n[r]=t}_n("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var kD;_n("duration",{Duration:kD={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});_n("timestamp",{Timestamp:kD});_n("empty",{Empty:{fields:{}}});_n("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});_n("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});_n("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});_n.get=function(t){return _n[t]||null}});var OD=x((a0e,AD)=>{"use strict";var Ao=AD.exports=mD();Ao.build="full";Ao.tokenize=dS();Ao.parse=CD();Ao.common=xD();Ao.Root._configure(Ao.Type,Ao.parse,Ao.common)});var Dp=x((l0e,ND)=>{"use strict";ND.exports=OD()});var pS=x((c0e,G$)=>{G$.exports={nested:{google:{nested:{protobuf:{nested:{FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}}}}}}}}});var MD=x((ft,LD)=>{"use strict";var ni=Dp();LD.exports=ft=ni.descriptor=ni.Root.fromJSON(pS()).lookup(".google.protobuf");var DD=ni.Namespace,gd=ni.Root,ks=ni.Enum,Oo=ni.Type,No=ni.Field,Y$=ni.MapField,Pp=ni.OneOf,md=ni.Service,Ip=ni.Method;gd.fromDescriptor=function(t){typeof t.length=="number"&&(t=ft.FileDescriptorSet.decode(t));var i=new gd;if(t.file)for(var n,s,o=0,l;o<t.file.length;++o){if(s=i,(n=t.file[o]).package&&n.package.length&&(s=i.define(n.package)),n.name&&n.name.length&&i.files.push(s.filename=n.name),n.messageType)for(l=0;l<n.messageType.length;++l)s.add(Oo.fromDescriptor(n.messageType[l],n.syntax));if(n.enumType)for(l=0;l<n.enumType.length;++l)s.add(ks.fromDescriptor(n.enumType[l]));if(n.extension)for(l=0;l<n.extension.length;++l)s.add(No.fromDescriptor(n.extension[l]));if(n.service)for(l=0;l<n.service.length;++l)s.add(md.fromDescriptor(n.service[l]));var h=Jl(n.options,ft.FileOptions);if(h){var p=Object.keys(h);for(l=0;l<p.length;++l)s.setOption(p[l],h[p[l]])}}return i};gd.prototype.toDescriptor=function(t){var i=ft.FileDescriptorSet.create();return PD(this,i.file,t),i};function PD(r,t,i){var n=ft.FileDescriptorProto.create({name:r.filename||(r.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});i&&(n.syntax=i),r instanceof gd||(n.package=r.fullName.substring(1));for(var s=0,o;s<r.nestedArray.length;++s)(o=r._nestedArray[s])instanceof Oo?n.messageType.push(o.toDescriptor(i)):o instanceof ks?n.enumType.push(o.toDescriptor()):o instanceof No?n.extension.push(o.toDescriptor(i)):o instanceof md?n.service.push(o.toDescriptor()):o instanceof DD&&PD(o,t,i);n.options=Zl(r.options,ft.FileOptions),n.messageType.length+n.enumType.length+n.extension.length+n.service.length&&t.push(n)}var K$=0;Oo.fromDescriptor=function(t,i){typeof t.length=="number"&&(t=ft.DescriptorProto.decode(t));var n=new Oo(t.name.length?t.name:"Type"+K$++,Jl(t.options,ft.MessageOptions)),s;if(t.oneofDecl)for(s=0;s<t.oneofDecl.length;++s)n.add(Pp.fromDescriptor(t.oneofDecl[s]));if(t.field)for(s=0;s<t.field.length;++s){var o=No.fromDescriptor(t.field[s],i);n.add(o),t.field[s].hasOwnProperty("oneofIndex")&&n.oneofsArray[t.field[s].oneofIndex].add(o)}if(t.extension)for(s=0;s<t.extension.length;++s)n.add(No.fromDescriptor(t.extension[s],i));if(t.nestedType)for(s=0;s<t.nestedType.length;++s)n.add(Oo.fromDescriptor(t.nestedType[s],i)),t.nestedType[s].options&&t.nestedType[s].options.mapEntry&&n.setOption("map_entry",!0);if(t.enumType)for(s=0;s<t.enumType.length;++s)n.add(ks.fromDescriptor(t.enumType[s]));if(t.extensionRange&&t.extensionRange.length)for(n.extensions=[],s=0;s<t.extensionRange.length;++s)n.extensions.push([t.extensionRange[s].start,t.extensionRange[s].end]);if(t.reservedRange&&t.reservedRange.length||t.reservedName&&t.reservedName.length){if(n.reserved=[],t.reservedRange)for(s=0;s<t.reservedRange.length;++s)n.reserved.push([t.reservedRange[s].start,t.reservedRange[s].end]);if(t.reservedName)for(s=0;s<t.reservedName.length;++s)n.reserved.push(t.reservedName[s])}return n};Oo.prototype.toDescriptor=function(t){var i=ft.DescriptorProto.create({name:this.name}),n;for(n=0;n<this.fieldsArray.length;++n){var s;if(i.field.push(s=this._fieldsArray[n].toDescriptor(t)),this._fieldsArray[n]instanceof Y$){var o=gS(this._fieldsArray[n].keyType,this._fieldsArray[n].resolvedKeyType),l=gS(this._fieldsArray[n].type,this._fieldsArray[n].resolvedType),h=l===11||l===14?this._fieldsArray[n].resolvedType&&ID(this.parent,this._fieldsArray[n].resolvedType)||this._fieldsArray[n].type:void 0;i.nestedType.push(ft.DescriptorProto.create({name:s.typeName,field:[ft.FieldDescriptorProto.create({name:"key",number:1,label:1,type:o}),ft.FieldDescriptorProto.create({name:"value",number:2,label:1,type:l,typeName:h})],options:ft.MessageOptions.create({mapEntry:!0})}))}}for(n=0;n<this.oneofsArray.length;++n)i.oneofDecl.push(this._oneofsArray[n].toDescriptor());for(n=0;n<this.nestedArray.length;++n)this._nestedArray[n]instanceof No?i.field.push(this._nestedArray[n].toDescriptor(t)):this._nestedArray[n]instanceof Oo?i.nestedType.push(this._nestedArray[n].toDescriptor(t)):this._nestedArray[n]instanceof ks&&i.enumType.push(this._nestedArray[n].toDescriptor());if(this.extensions)for(n=0;n<this.extensions.length;++n)i.extensionRange.push(ft.DescriptorProto.ExtensionRange.create({start:this.extensions[n][0],end:this.extensions[n][1]}));if(this.reserved)for(n=0;n<this.reserved.length;++n)typeof this.reserved[n]=="string"?i.reservedName.push(this.reserved[n]):i.reservedRange.push(ft.DescriptorProto.ReservedRange.create({start:this.reserved[n][0],end:this.reserved[n][1]}));return i.options=Zl(this.options,ft.MessageOptions),i};var X$=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;No.fromDescriptor=function(t,i){if(typeof t.length=="number"&&(t=ft.DescriptorProto.decode(t)),typeof t.number!="number")throw Error("missing field id");var n;t.typeName&&t.typeName.length?n=t.typeName:n=tG(t.type);var s;switch(t.label){case 1:s=void 0;break;case 2:s="required";break;case 3:s="repeated";break;default:throw Error("illegal label: "+t.label)}var o=t.extendee;t.extendee!==void 0&&(o=o.length?o:void 0);var l=new No(t.name.length?t.name:"field"+t.number,t.number,n,s,o);if(l.options=Jl(t.options,ft.FieldOptions),t.defaultValue&&t.defaultValue.length){var h=t.defaultValue;switch(h){case"true":case"TRUE":h=!0;break;case"false":case"FALSE":h=!1;break;default:var p=X$.exec(h);p&&(h=parseInt(h));break}l.setOption("default",h)}return rG(t.type)&&(i==="proto3"?t.options&&!t.options.packed&&l.setOption("packed",!1):t.options&&t.options.packed||l.setOption("packed",!1)),l};No.prototype.toDescriptor=function(t){var i=ft.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)i.type=11,i.typeName=ni.util.ucFirst(this.name),i.label=3;else{switch(i.type=gS(this.type,this.resolve().resolvedType)){case 10:case 11:case 14:i.typeName=this.resolvedType?ID(this.parent,this.resolvedType):this.type;break}switch(this.rule){case"repeated":i.label=3;break;case"required":i.label=2;break;default:i.label=1;break}}if(i.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(i.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(i.options=Zl(this.options,ft.FieldOptions),this.options.default!=null&&(i.defaultValue=String(this.options.default))),t==="proto3"?this.packed||((i.options||(i.options=ft.FieldOptions.create())).packed=!1):this.packed&&((i.options||(i.options=ft.FieldOptions.create())).packed=!0),i};var J$=0;ks.fromDescriptor=function(t){typeof t.length=="number"&&(t=ft.EnumDescriptorProto.decode(t));var i={};if(t.value)for(var n=0;n<t.value.length;++n){var s=t.value[n].name,o=t.value[n].number||0;i[s&&s.length?s:"NAME"+o]=o}return new ks(t.name&&t.name.length?t.name:"Enum"+J$++,i,Jl(t.options,ft.EnumOptions))};ks.prototype.toDescriptor=function(){for(var t=[],i=0,n=Object.keys(this.values);i<n.length;++i)t.push(ft.EnumValueDescriptorProto.create({name:n[i],number:this.values[n[i]]}));return ft.EnumDescriptorProto.create({name:this.name,value:t,options:Zl(this.options,ft.EnumOptions)})};var Z$=0;Pp.fromDescriptor=function(t){return typeof t.length=="number"&&(t=ft.OneofDescriptorProto.decode(t)),new Pp(t.name&&t.name.length?t.name:"oneof"+Z$++)};Pp.prototype.toDescriptor=function(){return ft.OneofDescriptorProto.create({name:this.name})};var Q$=0;md.fromDescriptor=function(t){typeof t.length=="number"&&(t=ft.ServiceDescriptorProto.decode(t));var i=new md(t.name&&t.name.length?t.name:"Service"+Q$++,Jl(t.options,ft.ServiceOptions));if(t.method)for(var n=0;n<t.method.length;++n)i.add(Ip.fromDescriptor(t.method[n]));return i};md.prototype.toDescriptor=function(){for(var t=[],i=0;i<this.methodsArray.length;++i)t.push(this._methodsArray[i].toDescriptor());return ft.ServiceDescriptorProto.create({name:this.name,method:t,options:Zl(this.options,ft.ServiceOptions)})};var eG=0;Ip.fromDescriptor=function(t){return typeof t.length=="number"&&(t=ft.MethodDescriptorProto.decode(t)),new Ip(t.name&&t.name.length?t.name:"Method"+eG++,"rpc",t.inputType,t.outputType,!!t.clientStreaming,!!t.serverStreaming,Jl(t.options,ft.MethodOptions))};Ip.prototype.toDescriptor=function(){return ft.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:Zl(this.options,ft.MethodOptions)})};function tG(r){switch(r){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+r)}function rG(r){switch(r){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function gS(r,t){switch(r){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(t instanceof ks)return 14;if(t instanceof Oo)return t.group?10:11;throw Error("illegal type: "+r)}function Jl(r,t){if(r){for(var i=[],n=0,s,o,l;n<t.fieldsArray.length;++n)(o=(s=t._fieldsArray[n]).name)!=="uninterpretedOption"&&r.hasOwnProperty(o)&&(l=r[o],s.resolvedType instanceof ks&&typeof l=="number"&&s.resolvedType.valuesById[l]!==void 0&&(l=s.resolvedType.valuesById[l]),i.push(iG(o),l));return i.length?ni.util.toObject(i):void 0}}function Zl(r,t){if(r){for(var i=[],n=0,s=Object.keys(r),o,l;n<s.length;++n)if(l=r[o=s[n]],o!=="default"){var h=t.fields[o];!h&&!(h=t.fields[o=ni.util.camelCase(o)])||i.push(o,l)}return i.length?t.fromObject(ni.util.toObject(i)):void 0}}function ID(r,t){var i=r.fullName.split("."),n=t.fullName.split("."),s=0,o=0,l=n.length-1;if(!(r instanceof gd)&&t instanceof DD)for(;s<i.length&&o<l&&i[s]===n[o];){var h=t.lookup(i[s++],!0);if(h!==null&&h!==t)break;++o}else for(;s<i.length&&o<l&&i[s]===n[o];++s,++o);return n.slice(o).join(".")}function iG(r){return r.substring(0,1)+r.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(t,i){return"_"+i.toLowerCase()})}});var FD=x((u0e,nG)=>{nG.exports={nested:{google:{nested:{protobuf:{nested:{Api:{fields:{name:{type:"string",id:1},methods:{rule:"repeated",type:"Method",id:2},options:{rule:"repeated",type:"Option",id:3},version:{type:"string",id:4},sourceContext:{type:"SourceContext",id:5},mixins:{rule:"repeated",type:"Mixin",id:6},syntax:{type:"Syntax",id:7}}},Method:{fields:{name:{type:"string",id:1},requestTypeUrl:{type:"string",id:2},requestStreaming:{type:"bool",id:3},responseTypeUrl:{type:"string",id:4},responseStreaming:{type:"bool",id:5},options:{rule:"repeated",type:"Option",id:6},syntax:{type:"Syntax",id:7}}},Mixin:{fields:{name:{type:"string",id:1},root:{type:"string",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}}}}}}}}});var jD=x((d0e,sG)=>{sG.exports={nested:{google:{nested:{protobuf:{nested:{SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var BD=x((f0e,oG)=>{oG.exports={nested:{google:{nested:{protobuf:{nested:{Type:{fields:{name:{type:"string",id:1},fields:{rule:"repeated",type:"Field",id:2},oneofs:{rule:"repeated",type:"string",id:3},options:{rule:"repeated",type:"Option",id:4},sourceContext:{type:"SourceContext",id:5},syntax:{type:"Syntax",id:6}}},Field:{fields:{kind:{type:"Kind",id:1},cardinality:{type:"Cardinality",id:2},number:{type:"int32",id:3},name:{type:"string",id:4},typeUrl:{type:"string",id:6},oneofIndex:{type:"int32",id:7},packed:{type:"bool",id:8},options:{rule:"repeated",type:"Option",id:9},jsonName:{type:"string",id:10},defaultValue:{type:"string",id:11}},nested:{Kind:{values:{TYPE_UNKNOWN:0,TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Cardinality:{values:{CARDINALITY_UNKNOWN:0,CARDINALITY_OPTIONAL:1,CARDINALITY_REQUIRED:2,CARDINALITY_REPEATED:3}}}},Enum:{fields:{name:{type:"string",id:1},enumvalue:{rule:"repeated",type:"EnumValue",id:2},options:{rule:"repeated",type:"Option",id:3},sourceContext:{type:"SourceContext",id:4},syntax:{type:"Syntax",id:5}}},EnumValue:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{rule:"repeated",type:"Option",id:3}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var zD=x(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do.addCommonProtos=Do.loadProtosWithOptionsSync=Do.loadProtosWithOptions=void 0;var UD=require("fs"),qD=require("path"),Ql=Dp();function WD(r,t){let i=r.resolvePath;r.resolvePath=(n,s)=>{if(qD.isAbsolute(s))return s;for(let o of t){let l=qD.join(o,s);try{return UD.accessSync(l,UD.constants.R_OK),l}catch{continue}}return process.emitWarning(`${s} not found in any of the include paths ${t}`),i(n,s)}}async function aG(r,t){let i=new Ql.Root;if(t=t||{},t.includeDirs){if(!Array.isArray(t.includeDirs))return Promise.reject(new Error("The includeDirs option must be an array"));WD(i,t.includeDirs)}let n=await i.load(r,t);return n.resolveAll(),n}Do.loadProtosWithOptions=aG;function lG(r,t){let i=new Ql.Root;if(t=t||{},t.includeDirs){if(!Array.isArray(t.includeDirs))throw new Error("The includeDirs option must be an array");WD(i,t.includeDirs)}let n=i.loadSync(r,t);return n.resolveAll(),n}Do.loadProtosWithOptionsSync=lG;function cG(){let r=FD(),t=pS(),i=jD(),n=BD();Ql.common("api",r.nested.google.nested.protobuf.nested),Ql.common("descriptor",t.nested.google.nested.protobuf.nested),Ql.common("source_context",i.nested.google.nested.protobuf.nested),Ql.common("type",n.nested.google.nested.protobuf.nested)}Do.addCommonProtos=cG});var $D=x((VD,mS)=>{var HD=function(r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function i(U,k,W){this.low=U|0,this.high=k|0,this.unsigned=!!W}i.prototype.__isLong__,Object.defineProperty(i.prototype,"__isLong__",{value:!0});function n(U){return(U&&U.__isLong__)===!0}function s(U){var k=Math.clz32(U&-U);return U?31-k:k}i.isLong=n;var o={},l={};function h(U,k){var W,J,se;return k?(U>>>=0,(se=0<=U&&U<256)&&(J=l[U],J)?J:(W=g(U,0,!0),se&&(l[U]=W),W)):(U|=0,(se=-128<=U&&U<128)&&(J=o[U],J)?J:(W=g(U,U<0?-1:0,!1),se&&(o[U]=W),W))}i.fromInt=h;function p(U,k){if(isNaN(U))return k?L:M;if(k){if(U<0)return L;if(U>=R)return ge}else{if(U<=-D)return j;if(U+1>=D)return le}return U<0?p(-U,k).neg():g(U%_|0,U/_|0,k)}i.fromNumber=p;function g(U,k,W){return new i(U,k,W)}i.fromBits=g;var m=Math.pow;function y(U,k,W){if(U.length===0)throw Error("empty string");if(typeof k=="number"?(W=k,k=!1):k=!!k,U==="NaN"||U==="Infinity"||U==="+Infinity"||U==="-Infinity")return k?L:M;if(W=W||10,W<2||36<W)throw RangeError("radix");var J;if((J=U.indexOf("-"))>0)throw Error("interior hyphen");if(J===0)return y(U.substring(1),k,W).neg();for(var se=p(m(W,8)),ue=M,fe=0;fe<U.length;fe+=8){var ye=Math.min(8,U.length-fe),$e=parseInt(U.substring(fe,fe+ye),W);if(ye<8){var Ge=p(m(W,ye));ue=ue.mul(Ge).add(p($e))}else ue=ue.mul(se),ue=ue.add(p($e))}return ue.unsigned=k,ue}i.fromString=y;function S(U,k){return typeof U=="number"?p(U,k):typeof U=="string"?y(U,k):g(U.low,U.high,typeof k=="boolean"?k:U.unsigned)}i.fromValue=S;var w=65536,C=1<<24,_=w*w,R=_*_,D=R/2,I=h(C),M=h(0);i.ZERO=M;var L=h(0,!0);i.UZERO=L;var V=h(1);i.ONE=V;var K=h(1,!0);i.UONE=K;var Q=h(-1);i.NEG_ONE=Q;var le=g(-1,2147483647,!1);i.MAX_VALUE=le;var ge=g(-1,-1,!0);i.MAX_UNSIGNED_VALUE=ge;var j=g(0,-2147483648,!1);i.MIN_VALUE=j;var N=i.prototype;N.toInt=function(){return this.unsigned?this.low>>>0:this.low},N.toNumber=function(){return this.unsigned?(this.high>>>0)*_+(this.low>>>0):this.high*_+(this.low>>>0)},N.toString=function(k){if(k=k||10,k<2||36<k)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(j)){var W=p(k),J=this.div(W),se=J.mul(W).sub(this);return J.toString(k)+se.toInt().toString(k)}else return"-"+this.neg().toString(k);for(var ue=p(m(k,6),this.unsigned),fe=this,ye="";;){var $e=fe.div(ue),Ge=fe.sub($e.mul(ue)).toInt()>>>0,Qe=Ge.toString(k);if(fe=$e,fe.isZero())return Qe+ye;for(;Qe.length<6;)Qe="0"+Qe;ye=""+Qe+ye}},N.getHighBits=function(){return this.high},N.getHighBitsUnsigned=function(){return this.high>>>0},N.getLowBits=function(){return this.low},N.getLowBitsUnsigned=function(){return this.low>>>0},N.getNumBitsAbs=function(){if(this.isNegative())return this.eq(j)?64:this.neg().getNumBitsAbs();for(var k=this.high!=0?this.high:this.low,W=31;W>0&&!(k&1<<W);W--);return this.high!=0?W+33:W+1},N.isZero=function(){return this.high===0&&this.low===0},N.eqz=N.isZero,N.isNegative=function(){return!this.unsigned&&this.high<0},N.isPositive=function(){return this.unsigned||this.high>=0},N.isOdd=function(){return(this.low&1)===1},N.isEven=function(){return(this.low&1)===0},N.equals=function(k){return n(k)||(k=S(k)),this.unsigned!==k.unsigned&&this.high>>>31===1&&k.high>>>31===1?!1:this.high===k.high&&this.low===k.low},N.eq=N.equals,N.notEquals=function(k){return!this.eq(k)},N.neq=N.notEquals,N.ne=N.notEquals,N.lessThan=function(k){return this.comp(k)<0},N.lt=N.lessThan,N.lessThanOrEqual=function(k){return this.comp(k)<=0},N.lte=N.lessThanOrEqual,N.le=N.lessThanOrEqual,N.greaterThan=function(k){return this.comp(k)>0},N.gt=N.greaterThan,N.greaterThanOrEqual=function(k){return this.comp(k)>=0},N.gte=N.greaterThanOrEqual,N.ge=N.greaterThanOrEqual,N.compare=function(k){if(n(k)||(k=S(k)),this.eq(k))return 0;var W=this.isNegative(),J=k.isNegative();return W&&!J?-1:!W&&J?1:this.unsigned?k.high>>>0>this.high>>>0||k.high===this.high&&k.low>>>0>this.low>>>0?-1:1:this.sub(k).isNegative()?-1:1},N.comp=N.compare,N.negate=function(){return!this.unsigned&&this.eq(j)?j:this.not().add(V)},N.neg=N.negate,N.add=function(k){n(k)||(k=S(k));var W=this.high>>>16,J=this.high&65535,se=this.low>>>16,ue=this.low&65535,fe=k.high>>>16,ye=k.high&65535,$e=k.low>>>16,Ge=k.low&65535,Qe=0,Je=0,ce=0,ve=0;return ve+=ue+Ge,ce+=ve>>>16,ve&=65535,ce+=se+$e,Je+=ce>>>16,ce&=65535,Je+=J+ye,Qe+=Je>>>16,Je&=65535,Qe+=W+fe,Qe&=65535,g(ce<<16|ve,Qe<<16|Je,this.unsigned)},N.subtract=function(k){return n(k)||(k=S(k)),this.add(k.neg())},N.sub=N.subtract,N.multiply=function(k){if(this.isZero())return this;if(n(k)||(k=S(k)),t){var W=t.mul(this.low,this.high,k.low,k.high);return g(W,t.get_high(),this.unsigned)}if(k.isZero())return this.unsigned?L:M;if(this.eq(j))return k.isOdd()?j:M;if(k.eq(j))return this.isOdd()?j:M;if(this.isNegative())return k.isNegative()?this.neg().mul(k.neg()):this.neg().mul(k).neg();if(k.isNegative())return this.mul(k.neg()).neg();if(this.lt(I)&&k.lt(I))return p(this.toNumber()*k.toNumber(),this.unsigned);var J=this.high>>>16,se=this.high&65535,ue=this.low>>>16,fe=this.low&65535,ye=k.high>>>16,$e=k.high&65535,Ge=k.low>>>16,Qe=k.low&65535,Je=0,ce=0,ve=0,Xe=0;return Xe+=fe*Qe,ve+=Xe>>>16,Xe&=65535,ve+=ue*Qe,ce+=ve>>>16,ve&=65535,ve+=fe*Ge,ce+=ve>>>16,ve&=65535,ce+=se*Qe,Je+=ce>>>16,ce&=65535,ce+=ue*Ge,Je+=ce>>>16,ce&=65535,ce+=fe*$e,Je+=ce>>>16,ce&=65535,Je+=J*Qe+se*Ge+ue*$e+fe*ye,Je&=65535,g(ve<<16|Xe,Je<<16|ce,this.unsigned)},N.mul=N.multiply,N.divide=function(k){if(n(k)||(k=S(k)),k.isZero())throw Error("division by zero");if(t){if(!this.unsigned&&this.high===-2147483648&&k.low===-1&&k.high===-1)return this;var W=(this.unsigned?t.div_u:t.div_s)(this.low,this.high,k.low,k.high);return g(W,t.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?L:M;var J,se,ue;if(this.unsigned){if(k.unsigned||(k=k.toUnsigned()),k.gt(this))return L;if(k.gt(this.shru(1)))return K;ue=L}else{if(this.eq(j)){if(k.eq(V)||k.eq(Q))return j;if(k.eq(j))return V;var fe=this.shr(1);return J=fe.div(k).shl(1),J.eq(M)?k.isNegative()?V:Q:(se=this.sub(k.mul(J)),ue=J.add(se.div(k)),ue)}else if(k.eq(j))return this.unsigned?L:M;if(this.isNegative())return k.isNegative()?this.neg().div(k.neg()):this.neg().div(k).neg();if(k.isNegative())return this.div(k.neg()).neg();ue=M}for(se=this;se.gte(k);){J=Math.max(1,Math.floor(se.toNumber()/k.toNumber()));for(var ye=Math.ceil(Math.log(J)/Math.LN2),$e=ye<=48?1:m(2,ye-48),Ge=p(J),Qe=Ge.mul(k);Qe.isNegative()||Qe.gt(se);)J-=$e,Ge=p(J,this.unsigned),Qe=Ge.mul(k);Ge.isZero()&&(Ge=V),ue=ue.add(Ge),se=se.sub(Qe)}return ue},N.div=N.divide,N.modulo=function(k){if(n(k)||(k=S(k)),t){var W=(this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,k.low,k.high);return g(W,t.get_high(),this.unsigned)}return this.sub(this.div(k).mul(k))},N.mod=N.modulo,N.rem=N.modulo,N.not=function(){return g(~this.low,~this.high,this.unsigned)},N.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},N.clz=N.countLeadingZeros,N.countTrailingZeros=function(){return this.low?s(this.low):s(this.high)+32},N.ctz=N.countTrailingZeros,N.and=function(k){return n(k)||(k=S(k)),g(this.low&k.low,this.high&k.high,this.unsigned)},N.or=function(k){return n(k)||(k=S(k)),g(this.low|k.low,this.high|k.high,this.unsigned)},N.xor=function(k){return n(k)||(k=S(k)),g(this.low^k.low,this.high^k.high,this.unsigned)},N.shiftLeft=function(k){return n(k)&&(k=k.toInt()),(k&=63)===0?this:k<32?g(this.low<<k,this.high<<k|this.low>>>32-k,this.unsigned):g(0,this.low<<k-32,this.unsigned)},N.shl=N.shiftLeft,N.shiftRight=function(k){return n(k)&&(k=k.toInt()),(k&=63)===0?this:k<32?g(this.low>>>k|this.high<<32-k,this.high>>k,this.unsigned):g(this.high>>k-32,this.high>=0?0:-1,this.unsigned)},N.shr=N.shiftRight,N.shiftRightUnsigned=function(k){return n(k)&&(k=k.toInt()),(k&=63)===0?this:k<32?g(this.low>>>k|this.high<<32-k,this.high>>>k,this.unsigned):k===32?g(this.high,0,this.unsigned):g(this.high>>>k-32,0,this.unsigned)},N.shru=N.shiftRightUnsigned,N.shr_u=N.shiftRightUnsigned,N.rotateLeft=function(k){var W;return n(k)&&(k=k.toInt()),(k&=63)===0?this:k===32?g(this.high,this.low,this.unsigned):k<32?(W=32-k,g(this.low<<k|this.high>>>W,this.high<<k|this.low>>>W,this.unsigned)):(k-=32,W=32-k,g(this.high<<k|this.low>>>W,this.low<<k|this.high>>>W,this.unsigned))},N.rotl=N.rotateLeft,N.rotateRight=function(k){var W;return n(k)&&(k=k.toInt()),(k&=63)===0?this:k===32?g(this.high,this.low,this.unsigned):k<32?(W=32-k,g(this.high<<W|this.low>>>k,this.low<<W|this.high>>>k,this.unsigned)):(k-=32,W=32-k,g(this.low<<W|this.high>>>k,this.high<<W|this.low>>>k,this.unsigned))},N.rotr=N.rotateRight,N.toSigned=function(){return this.unsigned?g(this.low,this.high,!1):this},N.toUnsigned=function(){return this.unsigned?this:g(this.low,this.high,!0)},N.toBytes=function(k){return k?this.toBytesLE():this.toBytesBE()},N.toBytesLE=function(){var k=this.high,W=this.low;return[W&255,W>>>8&255,W>>>16&255,W>>>24,k&255,k>>>8&255,k>>>16&255,k>>>24]},N.toBytesBE=function(){var k=this.high,W=this.low;return[k>>>24,k>>>16&255,k>>>8&255,k&255,W>>>24,W>>>16&255,W>>>8&255,W&255]},i.fromBytes=function(k,W,J){return J?i.fromBytesLE(k,W):i.fromBytesBE(k,W)},i.fromBytesLE=function(k,W){return new i(k[0]|k[1]<<8|k[2]<<16|k[3]<<24,k[4]|k[5]<<8|k[6]<<16|k[7]<<24,W)},i.fromBytesBE=function(k,W){return new i(k[4]<<24|k[5]<<16|k[6]<<8|k[7],k[0]<<24|k[1]<<16|k[2]<<8|k[3],W)};var X=i;return r.default=X,"default"in r?r.default:r}({});typeof define=="function"&&define.amd?define([],function(){return HD}):typeof mS=="object"&&typeof VD=="object"&&(mS.exports=HD)});var ZD=x(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});zr.loadFileDescriptorSetFromObject=zr.loadFileDescriptorSetFromBuffer=zr.fromJSON=zr.loadSync=zr.load=zr.isAnyExtension=zr.Long=void 0;var uG=PN(),Qn=Dp(),vS=MD(),bS=zD(),dG=$D();zr.Long=dG;function fG(r){return"@type"in r&&typeof r["@type"]=="string"}zr.isAnyExtension=fG;var KD={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function hG(r,t){return r===""?t:r+"."+t}function pG(r){return r instanceof Qn.Service||r instanceof Qn.Type||r instanceof Qn.Enum}function gG(r){return r instanceof Qn.Namespace||r instanceof Qn.Root}function XD(r,t){let i=hG(t,r.name);return pG(r)?[[i,r]]:gG(r)&&typeof r.nested<"u"?Object.keys(r.nested).map(n=>XD(r.nested[n],i)).reduce((n,s)=>n.concat(s),[]):[]}function GD(r,t){return function(n){return r.toObject(r.decode(n),t)}}function YD(r){return function(i){if(Array.isArray(i))throw new Error(`Failed to serialize message: expected object with ${r.name} structure, got array instead`);let n=r.fromObject(i);return r.encode(n).finish()}}function mG(r,t,i,n){let s=r.resolvedRequestType,o=r.resolvedResponseType;return{path:"/"+t+"/"+r.name,requestStream:!!r.requestStream,responseStream:!!r.responseStream,requestSerialize:YD(s),requestDeserialize:GD(s,i),responseSerialize:YD(o),responseDeserialize:GD(o,i),originalName:uG(r.name),requestType:yS(s,n),responseType:yS(o,n)}}function yG(r,t,i,n){let s={};for(let o of r.methodsArray)s[o.name]=mG(o,t,i,n);return s}function yS(r,t){let i=r.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:i.$type.toObject(i,KD),fileDescriptorProtos:t}}function vG(r,t){let i=r.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:i.$type.toObject(i,KD),fileDescriptorProtos:t}}function bG(r,t,i,n){if(r instanceof Qn.Service)return yG(r,t,i,n);if(r instanceof Qn.Type)return yS(r,n);if(r instanceof Qn.Enum)return vG(r,n);throw new Error("Type mismatch in reflection object handling")}function Lp(r,t){let i={};r.resolveAll();let s=r.toDescriptor("proto3").file.map(o=>Buffer.from(vS.FileDescriptorProto.encode(o).finish()));for(let[o,l]of XD(r,""))i[o]=bG(l,o,t,s);return i}function JD(r,t){t=t||{};let i=Qn.Root.fromDescriptor(r);return i.resolveAll(),Lp(i,t)}function SG(r,t){return(0,bS.loadProtosWithOptions)(r,t).then(i=>Lp(i,t))}zr.load=SG;function wG(r,t){let i=(0,bS.loadProtosWithOptionsSync)(r,t);return Lp(i,t)}zr.loadSync=wG;function _G(r,t){t=t||{};let i=Qn.Root.fromJSON(r);return i.resolveAll(),Lp(i,t)}zr.fromJSON=_G;function EG(r,t){let i=vS.FileDescriptorSet.decode(r);return JD(i,t)}zr.loadFileDescriptorSetFromBuffer=EG;function TG(r,t){let i=vS.FileDescriptorSet.fromObject(r);return JD(i,t)}zr.loadFileDescriptorSetFromObject=TG;(0,bS.addCommonProtos)()});var Aa=x(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.setup=Xt.getChannelzServiceDefinition=Xt.getChannelzHandlers=Xt.unregisterChannelzRef=Xt.registerChannelzSocket=Xt.registerChannelzServer=Xt.registerChannelzSubchannel=Xt.registerChannelzChannel=Xt.ChannelzCallTracker=Xt.ChannelzChildrenTracker=Xt.ChannelzTrace=void 0;var QD=require("net"),yd=zi(),bd=wt(),CG=Hn(),kG=rp(),RG=yb();function SS(r){return{channel_id:r.id,name:r.name}}function TS(r){return{subchannel_id:r.id,name:r.name}}function xG(r){return{server_id:r.id}}function Fp(r){return{socket_id:r.id,name:r.name}}var eP=32,wS=class{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(t,i,n){let s=new Date;this.events.push({description:i,severity:t,timestamp:s,childChannel:n?.kind==="channel"?n:void 0,childSubchannel:n?.kind==="subchannel"?n:void 0}),this.events.length>=eP*2&&(this.events=this.events.slice(eP)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:Rs(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(t=>({description:t.description,severity:t.severity,timestamp:Rs(t.timestamp),channel_ref:t.childChannel?SS(t.childChannel):null,subchannel_ref:t.childSubchannel?TS(t.childSubchannel):null}))}}};Xt.ChannelzTrace=wS;var _S=class{constructor(){this.channelChildren=new Map,this.subchannelChildren=new Map,this.socketChildren=new Map}refChild(t){var i,n,s;switch(t.kind){case"channel":{let o=(i=this.channelChildren.get(t.id))!==null&&i!==void 0?i:{ref:t,count:0};o.count+=1,this.channelChildren.set(t.id,o);break}case"subchannel":{let o=(n=this.subchannelChildren.get(t.id))!==null&&n!==void 0?n:{ref:t,count:0};o.count+=1,this.subchannelChildren.set(t.id,o);break}case"socket":{let o=(s=this.socketChildren.get(t.id))!==null&&s!==void 0?s:{ref:t,count:0};o.count+=1,this.socketChildren.set(t.id,o);break}}}unrefChild(t){switch(t.kind){case"channel":{let i=this.channelChildren.get(t.id);i!==void 0&&(i.count-=1,i.count===0?this.channelChildren.delete(t.id):this.channelChildren.set(t.id,i));break}case"subchannel":{let i=this.subchannelChildren.get(t.id);i!==void 0&&(i.count-=1,i.count===0?this.subchannelChildren.delete(t.id):this.subchannelChildren.set(t.id,i));break}case"socket":{let i=this.socketChildren.get(t.id);i!==void 0&&(i.count-=1,i.count===0?this.socketChildren.delete(t.id):this.socketChildren.set(t.id,i));break}}}getChildLists(){let t=[];for(let{ref:s}of this.channelChildren.values())t.push(s);let i=[];for(let{ref:s}of this.subchannelChildren.values())i.push(s);let n=[];for(let{ref:s}of this.socketChildren.values())n.push(s);return{channels:t,subchannels:i,sockets:n}}};Xt.ChannelzChildrenTracker=_S;var ES=class{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}};Xt.ChannelzCallTracker=ES;var AG=1;function jp(){return AG++}var vd=[],CS=[],Po=[],kS=[];function OG(r,t,i){let n=jp(),s={id:n,name:r,kind:"channel"};return i&&(vd[n]={ref:s,getInfo:t}),s}Xt.registerChannelzChannel=OG;function NG(r,t,i){let n=jp(),s={id:n,name:r,kind:"subchannel"};return i&&(CS[n]={ref:s,getInfo:t}),s}Xt.registerChannelzSubchannel=NG;function DG(r,t){let i=jp(),n={id:i,kind:"server"};return t&&(Po[i]={ref:n,getInfo:r}),n}Xt.registerChannelzServer=DG;function PG(r,t,i){let n=jp(),s={id:n,name:r,kind:"socket"};return i&&(kS[n]={ref:s,getInfo:t}),s}Xt.registerChannelzSocket=PG;function IG(r){switch(r.kind){case"channel":delete vd[r.id];return;case"subchannel":delete CS[r.id];return;case"server":delete Po[r.id];return;case"socket":delete kS[r.id];return}}Xt.unregisterChannelzRef=IG;function LG(r){let t=Number.parseInt(r,16);return[t/256|0,t%256]}function tP(r){if(r==="")return[];let t=r.split(":").map(n=>LG(n));return[].concat(...t)}function MG(r){if((0,QD.isIPv4)(r))return Buffer.from(Uint8Array.from(r.split(".").map(t=>Number.parseInt(t))));if((0,QD.isIPv6)(r)){let t,i,n=r.indexOf("::");n===-1?(t=r,i=""):(t=r.substring(0,n),i=r.substring(n+2));let s=Buffer.from(tP(t)),o=Buffer.from(tP(i)),l=Buffer.alloc(16-s.length-o.length,0);return Buffer.concat([s,l,o])}else return null}function iP(r){switch(r){case yd.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case yd.ConnectivityState.IDLE:return{state:"IDLE"};case yd.ConnectivityState.READY:return{state:"READY"};case yd.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case yd.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function Rs(r){if(!r)return null;let t=r.getTime();return{seconds:t/1e3|0,nanos:t%1e3*1e6}}function nP(r){let t=r.getInfo();return{ref:SS(r.ref),data:{target:t.target,state:iP(t.state),calls_started:t.callTracker.callsStarted,calls_succeeded:t.callTracker.callsSucceeded,calls_failed:t.callTracker.callsFailed,last_call_started_timestamp:Rs(t.callTracker.lastCallStartedTimestamp),trace:t.trace.getTraceMessage()},channel_ref:t.children.channels.map(i=>SS(i)),subchannel_ref:t.children.subchannels.map(i=>TS(i))}}function FG(r,t){let i=Number.parseInt(r.request.channel_id),n=vd[i];if(n===void 0){t({code:bd.Status.NOT_FOUND,details:"No channel data found for id "+i});return}t(null,{channel:nP(n)})}function jG(r,t){let i=Number.parseInt(r.request.max_results),n=[],s=Number.parseInt(r.request.start_channel_id);for(;s<vd.length;s++){let o=vd[s];if(o!==void 0&&(n.push(nP(o)),n.length>=i))break}t(null,{channel:n,end:s>=Po.length})}function sP(r){let t=r.getInfo();return{ref:xG(r.ref),data:{calls_started:t.callTracker.callsStarted,calls_succeeded:t.callTracker.callsSucceeded,calls_failed:t.callTracker.callsFailed,last_call_started_timestamp:Rs(t.callTracker.lastCallStartedTimestamp),trace:t.trace.getTraceMessage()},listen_socket:t.listenerChildren.sockets.map(i=>Fp(i))}}function BG(r,t){let i=Number.parseInt(r.request.server_id),n=Po[i];if(n===void 0){t({code:bd.Status.NOT_FOUND,details:"No server data found for id "+i});return}t(null,{server:sP(n)})}function UG(r,t){let i=Number.parseInt(r.request.max_results),n=[],s=Number.parseInt(r.request.start_server_id);for(;s<Po.length;s++){let o=Po[s];if(o!==void 0&&(n.push(sP(o)),n.length>=i))break}t(null,{server:n,end:s>=Po.length})}function qG(r,t){let i=Number.parseInt(r.request.subchannel_id),n=CS[i];if(n===void 0){t({code:bd.Status.NOT_FOUND,details:"No subchannel data found for id "+i});return}let s=n.getInfo(),o={ref:TS(n.ref),data:{target:s.target,state:iP(s.state),calls_started:s.callTracker.callsStarted,calls_succeeded:s.callTracker.callsSucceeded,calls_failed:s.callTracker.callsFailed,last_call_started_timestamp:Rs(s.callTracker.lastCallStartedTimestamp),trace:s.trace.getTraceMessage()},socket_ref:s.children.sockets.map(l=>Fp(l))};t(null,{subchannel:o})}function rP(r){var t;return(0,CG.isTcpSubchannelAddress)(r)?{address:"tcpip_address",tcpip_address:{ip_address:(t=MG(r.host))!==null&&t!==void 0?t:void 0,port:r.port}}:{address:"uds_address",uds_address:{filename:r.path}}}function WG(r,t){var i,n,s,o,l;let h=Number.parseInt(r.request.socket_id),p=kS[h];if(p===void 0){t({code:bd.Status.NOT_FOUND,details:"No socket data found for id "+h});return}let g=p.getInfo(),m=g.security?{model:"tls",tls:{cipher_suite:g.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:(i=g.security.cipherSuiteStandardName)!==null&&i!==void 0?i:void 0,other_name:(n=g.security.cipherSuiteOtherName)!==null&&n!==void 0?n:void 0,local_certificate:(s=g.security.localCertificate)!==null&&s!==void 0?s:void 0,remote_certificate:(o=g.security.remoteCertificate)!==null&&o!==void 0?o:void 0}}:null,y={ref:Fp(p.ref),local:g.localAddress?rP(g.localAddress):null,remote:g.remoteAddress?rP(g.remoteAddress):null,remote_name:(l=g.remoteName)!==null&&l!==void 0?l:void 0,security:m,data:{keep_alives_sent:g.keepAlivesSent,streams_started:g.streamsStarted,streams_succeeded:g.streamsSucceeded,streams_failed:g.streamsFailed,last_local_stream_created_timestamp:Rs(g.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:Rs(g.lastRemoteStreamCreatedTimestamp),messages_received:g.messagesReceived,messages_sent:g.messagesSent,last_message_received_timestamp:Rs(g.lastMessageReceivedTimestamp),last_message_sent_timestamp:Rs(g.lastMessageSentTimestamp),local_flow_control_window:g.localFlowControlWindow?{value:g.localFlowControlWindow}:null,remote_flow_control_window:g.remoteFlowControlWindow?{value:g.remoteFlowControlWindow}:null}};t(null,{socket:y})}function zG(r,t){let i=Number.parseInt(r.request.server_id),n=Po[i];if(n===void 0){t({code:bd.Status.NOT_FOUND,details:"No server data found for id "+i});return}let s=Number.parseInt(r.request.start_socket_id),o=Number.parseInt(r.request.max_results),h=n.getInfo().sessionChildren.sockets.sort((m,y)=>m.id-y.id),p=[],g=0;for(;g<h.length&&!(h[g].id>=s&&(p.push(Fp(h[g])),p.length>=o));g++);t(null,{socket_ref:p,end:g>=h.length})}function oP(){return{GetChannel:FG,GetTopChannels:jG,GetServer:BG,GetServers:UG,GetSubchannel:qG,GetSocket:WG,GetServerSockets:zG}}Xt.getChannelzHandlers=oP;var Mp=null;function aP(){if(Mp)return Mp;let r=ZD().loadSync,t=r("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]});return Mp=(0,RG.loadPackageDefinition)(t).grpc.channelz.v1.Channelz.service,Mp}Xt.getChannelzServiceDefinition=aP;function HG(){(0,kG.registerAdminService)(aP,oP)}Xt.setup=HG});var lP=x(Up=>{"use strict";Object.defineProperty(Up,"__esModule",{value:!0});Up.Subchannel=void 0;var zt=zi(),VG=Zu(),RS=ir(),Bp=wt(),$G=Ni(),GG=Hn(),ec=Aa(),YG="subchannel",KG=~(1<<31),xS=class{constructor(t,i,n,s,o){var l;this.channelTarget=t,this.subchannelAddress=i,this.options=n,this.credentials=s,this.connector=o,this.connectivityState=zt.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0,this.callTracker=new ec.ChannelzCallTracker,this.childrenTracker=new ec.ChannelzChildrenTracker,this.streamTracker=new ec.ChannelzCallTracker;let h={initialDelay:n["grpc.initial_reconnect_backoff_ms"],maxDelay:n["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new VG.BackoffTimeout(()=>{this.handleBackoffTimer()},h),this.subchannelAddressString=(0,GG.subchannelAddressToString)(i),this.keepaliveTime=(l=n["grpc.keepalive_time_ms"])!==null&&l!==void 0?l:-1,n["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzTrace=new ec.ChannelzTrace,this.channelzRef=(0,ec.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(n,void 0,2))}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(t){RS.trace(Bp.LogVerbosity.DEBUG,YG,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+t)}refTrace(t){RS.trace(Bp.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+t)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([zt.ConnectivityState.TRANSIENT_FAILURE],zt.ConnectivityState.CONNECTING):this.transitionToState([zt.ConnectivityState.TRANSIENT_FAILURE],zt.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let t=this.options;if(t["grpc.keepalive_time_ms"]){let i=Math.min(this.keepaliveTime,KG);t=Object.assign(Object.assign({},t),{"grpc.keepalive_time_ms":i})}this.connector.connect(this.subchannelAddress,this.credentials,t).then(i=>{this.transitionToState([zt.ConnectivityState.CONNECTING],zt.ConnectivityState.READY)&&(this.transport=i,this.channelzEnabled&&this.childrenTracker.refChild(i.getChannelzRef()),i.addDisconnectListener(n=>{this.transitionToState([zt.ConnectivityState.READY],zt.ConnectivityState.IDLE),n&&this.keepaliveTime>0&&(this.keepaliveTime*=2,RS.log(Bp.LogVerbosity.ERROR,`Connection to ${(0,$G.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))}))},i=>{this.transitionToState([zt.ConnectivityState.CONNECTING],zt.ConnectivityState.TRANSIENT_FAILURE)})}transitionToState(t,i){var n,s;if(t.indexOf(this.connectivityState)===-1)return!1;this.trace(zt.ConnectivityState[this.connectivityState]+" -> "+zt.ConnectivityState[i]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+zt.ConnectivityState[i]);let o=this.connectivityState;switch(this.connectivityState=i,i){case zt.ConnectivityState.READY:this.stopBackoff();break;case zt.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case zt.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(n=this.transport)===null||n===void 0||n.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case zt.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(s=this.transport)===null||s===void 0||s.shutdown(),this.transport=null;break;default:throw new Error(`Invalid state: unknown ConnectivityState ${i}`)}for(let l of this.stateListeners)l(this,o,i,this.keepaliveTime);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,this.refcount===0&&(this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Shutting down"),this.channelzEnabled&&(0,ec.unregisterChannelzRef)(this.channelzRef),process.nextTick(()=>{this.transitionToState([zt.ConnectivityState.CONNECTING,zt.ConnectivityState.READY],zt.ConnectivityState.IDLE)}))}unrefIfOneRef(){return this.refcount===1?(this.unref(),!0):!1}createCall(t,i,n,s){if(!this.transport)throw new Error("Cannot create call, subchannel not READY");let o;return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),o={onCallEnd:l=>{l.code===Bp.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):o={},this.transport.createCall(t,i,n,s,o)}startConnecting(){process.nextTick(()=>{this.transitionToState([zt.ConnectivityState.IDLE],zt.ConnectivityState.CONNECTING)||this.connectivityState===zt.ConnectivityState.TRANSIENT_FAILURE&&(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(t){this.stateListeners.add(t)}removeConnectivityStateListener(t){this.stateListeners.delete(t)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([zt.ConnectivityState.TRANSIENT_FAILURE],zt.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}getRealSubchannel(){return this}realSubchannelEquals(t){return t.getRealSubchannel()===this}throttleKeepalive(t){t>this.keepaliveTime&&(this.keepaliveTime=t)}};Up.Subchannel=xS});var AS=x(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});rc.getProxiedConnection=rc.mapProxyName=void 0;var Sd=ir(),tc=wt(),XG=Wn(),JG=require("http"),ZG=require("tls"),QG=ir(),cP=Hn(),wd=Ni(),eY=require("url"),tY="proxy";function Io(r){QG.trace(tc.LogVerbosity.DEBUG,tY,r)}function rY(){let r="",t="";if(process.env.grpc_proxy)t="grpc_proxy",r=process.env.grpc_proxy;else if(process.env.https_proxy)t="https_proxy",r=process.env.https_proxy;else if(process.env.http_proxy)t="http_proxy",r=process.env.http_proxy;else return{};let i;try{i=new eY.URL(r)}catch{return(0,Sd.log)(tc.LogVerbosity.ERROR,`cannot parse value of "${t}" env var`),{}}if(i.protocol!=="http:")return(0,Sd.log)(tc.LogVerbosity.ERROR,`"${i.protocol}" scheme not supported in proxy URI`),{};let n=null;i.username&&(i.password?((0,Sd.log)(tc.LogVerbosity.INFO,"userinfo found in proxy URI"),n=`${i.username}:${i.password}`):n=i.username);let s=i.hostname,o=i.port;o===""&&(o="80");let l={address:`${s}:${o}`};return n&&(l.creds=n),Io("Proxy server "+l.address+" set by environment variable "+t),l}function iY(){let r=process.env.no_grpc_proxy,t="no_grpc_proxy";return r||(r=process.env.no_proxy,t="no_proxy"),r?(Io("No proxy server list set by environment variable "+t),r.split(",")):[]}function nY(r,t){var i;let n={target:r,extraOptions:{}};if(((i=t["grpc.enable_http_proxy"])!==null&&i!==void 0?i:1)===0||r.scheme==="unix")return n;let s=rY();if(!s.address)return n;let o=(0,wd.splitHostPort)(r.path);if(!o)return n;let l=o.host;for(let p of iY())if(p===l)return Io("Not using proxy for target in no_proxy list: "+(0,wd.uriToString)(r)),n;let h={"grpc.http_connect_target":(0,wd.uriToString)(r)};return s.creds&&(h["grpc.http_connect_creds"]=s.creds),{target:{scheme:"dns",path:s.address},extraOptions:h}}rc.mapProxyName=nY;function sY(r,t,i){if(!("grpc.http_connect_target"in t))return Promise.resolve({});let n=t["grpc.http_connect_target"],s=(0,wd.parseUri)(n);if(s===null)return Promise.resolve({});let o={method:"CONNECT",path:s.path},l={Host:s.path};(0,cP.isTcpSubchannelAddress)(r)?(o.host=r.host,o.port=r.port):o.socketPath=r.path,"grpc.http_connect_creds"in t&&(l["Proxy-Authorization"]="Basic "+Buffer.from(t["grpc.http_connect_creds"]).toString("base64")),o.headers=l;let h=(0,cP.subchannelAddressToString)(r);return Io("Using proxy "+h+" to connect to "+o.path),new Promise((p,g)=>{let m=JG.request(o);m.once("connect",(y,S,w)=>{var C;if(m.removeAllListeners(),S.removeAllListeners(),y.statusCode===200)if(Io("Successfully connected to "+o.path+" through proxy "+h),"secureContext"in i){let _=(0,XG.getDefaultAuthority)(s),R=(0,wd.splitHostPort)(_),D=(C=R?.host)!==null&&C!==void 0?C:_,I=ZG.connect(Object.assign({host:D,servername:D,socket:S},i),()=>{Io("Successfully established a TLS connection to "+o.path+" through proxy "+h),p({socket:I,realTarget:s})});I.on("error",M=>{Io("Failed to establish a TLS connection to "+o.path+" through proxy "+h+" with error "+M.message),g()})}else Io("Successfully established a plaintext connection to "+o.path+" through proxy "+h),p({socket:S,realTarget:s});else(0,Sd.log)(tc.LogVerbosity.ERROR,"Failed to connect to "+o.path+" through proxy "+h+" with status "+y.statusCode),g()}),m.once("error",y=>{m.removeAllListeners(),(0,Sd.log)(tc.LogVerbosity.ERROR,"Failed to connect to proxy "+h+" with error "+y.message),g()}),m.end()})}rc.getProxiedConnection=sY});var NS=x(qp=>{"use strict";Object.defineProperty(qp,"__esModule",{value:!0});qp.StreamDecoder=void 0;var es;(function(r){r[r.NO_DATA=0]="NO_DATA",r[r.READING_SIZE=1]="READING_SIZE",r[r.READING_MESSAGE=2]="READING_MESSAGE"})(es||(es={}));var OS=class{constructor(){this.readState=es.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(t){let i=0,n,s=[];for(;i<t.length;)switch(this.readState){case es.NO_DATA:this.readCompressFlag=t.slice(i,i+1),i+=1,this.readState=es.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case es.READING_SIZE:if(n=Math.min(t.length-i,this.readSizeRemaining),t.copy(this.readPartialSize,4-this.readSizeRemaining,i,i+n),this.readSizeRemaining-=n,i+=n,this.readSizeRemaining===0)if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=es.READING_MESSAGE;else{let o=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=es.NO_DATA,s.push(o)}break;case es.READING_MESSAGE:if(n=Math.min(t.length-i,this.readMessageRemaining),this.readPartialMessage.push(t.slice(i,i+n)),this.readMessageRemaining-=n,i+=n,this.readMessageRemaining===0){let o=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),l=Buffer.concat(o,this.readMessageSize+5);this.readState=es.NO_DATA,s.push(l)}break;default:throw new Error("Unexpected read state")}return s}};qp.StreamDecoder=OS});var uP=x(Wp=>{"use strict";Object.defineProperty(Wp,"__esModule",{value:!0});Wp.Http2SubchannelCall=void 0;var xs=require("http2"),oY=require("os"),Bt=wt(),Lo=ii(),aY=NS(),lY=ir(),cY=wt(),uY="subchannel_call";function dY(r){for(let[t,i]of Object.entries(oY.constants.errno))if(i===r)return t;return"Unknown system error "+r}var DS=class{constructor(t,i,n,s,o){this.http2Stream=t,this.callEventTracker=i,this.listener=n,this.transport=s,this.callId=o,this.decoder=new aY.StreamDecoder,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.mappedStatusCode=Bt.Status.UNKNOWN,this.finalStatus=null,this.internalError=null,t.on("response",(l,h)=>{let p="";for(let g of Object.keys(l))p+="		"+g+": "+l[g]+`
`;switch(this.trace(`Received server headers:
`+p),l[":status"]){case 400:this.mappedStatusCode=Bt.Status.INTERNAL;break;case 401:this.mappedStatusCode=Bt.Status.UNAUTHENTICATED;break;case 403:this.mappedStatusCode=Bt.Status.PERMISSION_DENIED;break;case 404:this.mappedStatusCode=Bt.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:this.mappedStatusCode=Bt.Status.UNAVAILABLE;break;default:this.mappedStatusCode=Bt.Status.UNKNOWN}if(h&xs.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(l);else{let g;try{g=Lo.Metadata.fromHttp2Headers(l)}catch(m){this.endCall({code:Bt.Status.UNKNOWN,details:m.message,metadata:new Lo.Metadata});return}this.listener.onReceiveMetadata(g)}}),t.on("trailers",l=>{this.handleTrailers(l)}),t.on("data",l=>{if(this.statusOutput)return;this.trace("receive HTTP/2 data frame of length "+l.length);let h=this.decoder.write(l);for(let p of h)this.trace("parsed message of length "+p.length),this.callEventTracker.addMessageReceived(),this.tryPush(p)}),t.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),t.on("close",()=>{process.nextTick(()=>{var l;if(this.trace("HTTP/2 stream closed with code "+t.rstCode),((l=this.finalStatus)===null||l===void 0?void 0:l.code)===Bt.Status.OK)return;let h,p="";switch(t.rstCode){case xs.constants.NGHTTP2_NO_ERROR:if(this.finalStatus!==null)return;h=Bt.Status.INTERNAL,p=`Received RST_STREAM with code ${t.rstCode}`;break;case xs.constants.NGHTTP2_REFUSED_STREAM:h=Bt.Status.UNAVAILABLE,p="Stream refused by server";break;case xs.constants.NGHTTP2_CANCEL:h=Bt.Status.CANCELLED,p="Call cancelled";break;case xs.constants.NGHTTP2_ENHANCE_YOUR_CALM:h=Bt.Status.RESOURCE_EXHAUSTED,p="Bandwidth exhausted or memory limit exceeded";break;case xs.constants.NGHTTP2_INADEQUATE_SECURITY:h=Bt.Status.PERMISSION_DENIED,p="Protocol not secure enough";break;case xs.constants.NGHTTP2_INTERNAL_ERROR:h=Bt.Status.INTERNAL,this.internalError===null?p=`Received RST_STREAM with code ${t.rstCode} (Internal server error)`:this.internalError.code==="ECONNRESET"||this.internalError.code==="ETIMEDOUT"?(h=Bt.Status.UNAVAILABLE,p=this.internalError.message):p=`Received RST_STREAM with code ${t.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:h=Bt.Status.INTERNAL,p=`Received RST_STREAM with code ${t.rstCode}`}this.endCall({code:h,details:p,metadata:new Lo.Metadata,rstCode:t.rstCode})})}),t.on("error",l=>{l.code!=="ERR_HTTP2_STREAM_ERROR"&&(this.trace("Node error event: message="+l.message+" code="+l.code+" errno="+dY(l.errno)+" syscall="+l.syscall),this.internalError=l),this.callEventTracker.onStreamEnd(!1)})}onDisconnect(){this.endCall({code:Bt.Status.UNAVAILABLE,details:"Connection dropped",metadata:new Lo.Metadata})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(t){lY.trace(cY.LogVerbosity.DEBUG,uY,"["+this.callId+"] "+t)}endCall(t){(this.finalStatus===null||this.finalStatus.code===Bt.Status.OK)&&(this.finalStatus=t,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){this.finalStatus!==null&&(this.finalStatus.code!==Bt.Status.OK||this.readsClosed&&this.unpushedReadMessages.length===0&&!this.isReadFilterPending&&!this.isPushPending)&&this.outputStatus()}push(t){this.trace("pushing to reader message of length "+(t instanceof Buffer?t.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,!this.statusOutput&&(this.listener.onReceiveMessage(t),this.maybeOutputStatus())})}tryPush(t){this.canPush?(this.http2Stream.pause(),this.push(t)):(this.trace("unpushedReadMessages.push message of length "+t.length),this.unpushedReadMessages.push(t))}handleTrailers(t){this.callEventTracker.onStreamEnd(!0);let i="";for(let p of Object.keys(t))i+="		"+p+": "+t[p]+`
`;this.trace(`Received server trailers:
`+i);let n;try{n=Lo.Metadata.fromHttp2Headers(t)}catch{n=new Lo.Metadata}let s=n.getMap(),o=this.mappedStatusCode;if(o===Bt.Status.UNKNOWN&&typeof s["grpc-status"]=="string"){let p=Number(s["grpc-status"]);p in Bt.Status&&(o=p,this.trace("received status code "+p+" from server")),n.remove("grpc-status")}let l="";if(typeof s["grpc-message"]=="string"){try{l=decodeURI(s["grpc-message"])}catch{l=s["grpc-message"]}n.remove("grpc-message"),this.trace('received status details string "'+l+'" from server')}let h={code:o,details:l,metadata:n};this.endCall(h)}destroyHttp2Stream(){var t;if(!this.http2Stream.destroyed){let i;((t=this.finalStatus)===null||t===void 0?void 0:t.code)===Bt.Status.OK?i=xs.constants.NGHTTP2_NO_ERROR:i=xs.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+i),this.http2Stream.close(i)}}cancelWithStatus(t,i){this.trace("cancelWithStatus code: "+t+' details: "'+i+'"'),this.endCall({code:t,details:i,metadata:new Lo.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(this.finalStatus!==null&&this.finalStatus.code!==Bt.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){let t=this.unpushedReadMessages.shift();this.push(t);return}this.http2Stream.resume()}sendMessageWithContext(t,i){this.trace("write() called with message of length "+i.length);let n=s=>{process.nextTick(()=>{var o;let l=Bt.Status.UNAVAILABLE;s?.code==="ERR_STREAM_WRITE_AFTER_END"&&(l=Bt.Status.INTERNAL),s&&this.cancelWithStatus(l,`Write error: ${s.message}`),(o=t.callback)===null||o===void 0||o.call(t)})};this.trace("sending data chunk of length "+i.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(i,n)}catch(s){this.endCall({code:Bt.Status.UNAVAILABLE,details:`Write failed with error ${s.message}`,metadata:new Lo.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}};Wp.Http2SubchannelCall=DS});var PS=x(zp=>{"use strict";Object.defineProperty(zp,"__esModule",{value:!0});zp.getNextCallNumber=void 0;var fY=0;function hY(){return fY++}zp.getNextCallNumber=hY});var IS=x((w0e,pY)=>{pY.exports={name:"@grpc/grpc-js",version:"1.9.1",description:"gRPC Library for Node - pure JS implementation",homepage:"https://grpc.io/",repository:"https://github.com/grpc/grpc-node/tree/master/packages/grpc-js",main:"build/src/index.js",engines:{node:"^8.13.0 || >=10.10.0"},keywords:[],author:{name:"Google Inc."},types:"build/src/index.d.ts",license:"Apache-2.0",devDependencies:{"@types/gulp":"^4.0.6","@types/gulp-mocha":"0.0.32","@types/lodash":"^4.14.186","@types/mocha":"^5.2.6","@types/ncp":"^2.0.1","@types/pify":"^3.0.2","@types/semver":"^7.3.9","@typescript-eslint/eslint-plugin":"^5.59.11","@typescript-eslint/parser":"^5.59.11","@typescript-eslint/typescript-estree":"^5.59.11","clang-format":"^1.0.55",eslint:"^8.42.0","eslint-config-prettier":"^8.8.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^4.2.1",execa:"^2.0.3",gulp:"^4.0.2","gulp-mocha":"^6.0.0",lodash:"^4.17.4",madge:"^5.0.1","mocha-jenkins-reporter":"^0.4.1",ncp:"^2.0.0",pify:"^4.0.1",prettier:"^2.8.8",rimraf:"^3.0.2",semver:"^7.3.5","ts-node":"^10.9.1",typescript:"^5.1.3"},contributors:[{name:"Google Inc."}],scripts:{build:"npm run compile",clean:"rimraf ./build",compile:"tsc -p .",format:'clang-format -i -style="{Language: JavaScript, BasedOnStyle: Google, ColumnLimit: 80}" src/*.ts test/*.ts',lint:"eslint src/*.ts test/*.ts",prepare:"npm run generate-types && npm run compile",test:"gulp test",check:"npm run lint",fix:"eslint --fix src/*.ts test/*.ts",pretest:"npm run generate-types && npm run generate-test-types && npm run compile",posttest:"npm run check && madge -c ./build/src","generate-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --includeDirs proto/ --include-dirs test/fixtures/ -O src/generated/ --grpcLib ../index channelz.proto","generate-test-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --include-dirs test/fixtures/ -O test/generated/ --grpcLib ../../src/index test_service.proto"},dependencies:{"@grpc/proto-loader":"^0.7.8","@types/node":">=12.12.47"},files:["src/**/*.ts","build/src/**/*.{js,d.ts,js.map}","proto/*.proto","LICENSE","deps/envoy-api/envoy/api/v2/**/*.proto","deps/envoy-api/envoy/config/**/*.proto","deps/envoy-api/envoy/service/**/*.proto","deps/envoy-api/envoy/type/**/*.proto","deps/udpa/udpa/**/*.proto","deps/googleapis/google/api/*.proto","deps/googleapis/google/rpc/*.proto","deps/protoc-gen-validate/validate/**/*.proto"]}});var hP=x(Vp=>{"use strict";Object.defineProperty(Vp,"__esModule",{value:!0});Vp.Http2SubchannelConnector=void 0;var BS=require("http2"),dP=require("tls"),LS=Aa(),_d=wt(),gY=AS(),nc=ir(),fP=Wn(),Hp=Hn(),ic=Ni(),mY=require("net"),yY=uP(),vY=PS(),MS="transport",bY="transport_flowctrl",SY=IS().version,{HTTP2_HEADER_AUTHORITY:wY,HTTP2_HEADER_CONTENT_TYPE:_Y,HTTP2_HEADER_METHOD:EY,HTTP2_HEADER_PATH:TY,HTTP2_HEADER_TE:CY,HTTP2_HEADER_USER_AGENT:kY}=BS.constants,RY=2e4,xY=Buffer.from("too_many_pings","ascii"),FS=class{constructor(t,i,n,s){this.session=t,this.remoteName=s,this.keepaliveTimeMs=-1,this.keepaliveTimeoutMs=RY,this.keepaliveTimerId=null,this.pendingSendKeepalivePing=!1,this.keepaliveTimeoutId=null,this.keepaliveWithoutCalls=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.streamTracker=new LS.ChannelzCallTracker,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,Hp.subchannelAddressToString)(i),n["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzRef=(0,LS.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[n["grpc.primary_user_agent"],`grpc-node-js/${SY}`,n["grpc.secondary_user_agent"]].filter(o=>o).join(" "),"grpc.keepalive_time_ms"in n&&(this.keepaliveTimeMs=n["grpc.keepalive_time_ms"]),"grpc.keepalive_timeout_ms"in n&&(this.keepaliveTimeoutMs=n["grpc.keepalive_timeout_ms"]),"grpc.keepalive_permit_without_calls"in n?this.keepaliveWithoutCalls=n["grpc.keepalive_permit_without_calls"]===1:this.keepaliveWithoutCalls=!1,t.once("close",()=>{this.trace("session closed"),this.stopKeepalivePings(),this.handleDisconnect()}),t.once("goaway",(o,l,h)=>{let p=!1;o===BS.constants.NGHTTP2_ENHANCE_YOUR_CALM&&h.equals(xY)&&(p=!0),this.trace("connection closed by GOAWAY with code "+o),this.reportDisconnectToOwner(p)}),t.once("error",o=>{this.trace("connection closed with error "+o.message)}),nc.isTracerEnabled(MS)&&(t.on("remoteSettings",o=>{this.trace("new settings received"+(this.session!==t?" on the old connection":"")+": "+JSON.stringify(o))}),t.on("localSettings",o=>{this.trace("local settings acknowledged by remote"+(this.session!==t?" on the old connection":"")+": "+JSON.stringify(o))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var t,i,n;let s=this.session.socket,o=s.remoteAddress?(0,Hp.stringToSubchannelAddress)(s.remoteAddress,s.remotePort):null,l=s.localAddress?(0,Hp.stringToSubchannelAddress)(s.localAddress,s.localPort):null,h;if(this.session.encrypted){let g=s,m=g.getCipher(),y=g.getCertificate(),S=g.getPeerCertificate();h={cipherSuiteStandardName:(t=m.standardName)!==null&&t!==void 0?t:null,cipherSuiteOtherName:m.standardName?null:m.name,localCertificate:y&&"raw"in y?y.raw:null,remoteCertificate:S&&"raw"in S?S.raw:null}}else h=null;return{remoteAddress:o,localAddress:l,security:h,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:(i=this.session.state.localWindowSize)!==null&&i!==void 0?i:null,remoteFlowControlWindow:(n=this.session.state.remoteWindowSize)!==null&&n!==void 0?n:null}}trace(t){nc.trace(_d.LogVerbosity.DEBUG,MS,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+t)}keepaliveTrace(t){nc.trace(_d.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+t)}flowControlTrace(t){nc.trace(_d.LogVerbosity.DEBUG,bY,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+t)}internalsTrace(t){nc.trace(_d.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+t)}reportDisconnectToOwner(t){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(i=>i(t)))}handleDisconnect(){this.reportDisconnectToOwner(!1),setImmediate(()=>{for(let t of this.activeCalls)t.onDisconnect()})}addDisconnectListener(t){this.disconnectListeners.push(t)}clearKeepaliveTimer(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null)}clearKeepaliveTimeout(){this.keepaliveTimeoutId&&(clearTimeout(this.keepaliveTimeoutId),this.keepaliveTimeoutId=null)}canSendPing(){return this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var t,i;if(this.clearKeepaliveTimer(),!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimeoutId||(this.keepaliveTimeoutId=setTimeout(()=>{this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),(i=(t=this.keepaliveTimeoutId).unref)===null||i===void 0||i.call(t));try{this.session.ping((n,s,o)=>{this.keepaliveTrace("Received ping response"),this.clearKeepaliveTimeout(),this.maybeStartKeepalivePingTimer()})}catch{this.handleDisconnect()}}maybeStartKeepalivePingTimer(){var t,i;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):!this.keepaliveTimerId&&!this.keepaliveTimeoutId&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimerId=(i=(t=setTimeout(()=>{this.maybeSendPing()},this.keepaliveTimeMs)).unref)===null||i===void 0?void 0:i.call(t)))}stopKeepalivePings(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null),this.clearKeepaliveTimeout()}removeActiveCall(t){this.activeCalls.delete(t),this.activeCalls.size===0&&this.session.unref()}addActiveCall(t){this.activeCalls.add(t),this.activeCalls.size===1&&(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(t,i,n,s,o){let l=t.toHttp2Headers();l[wY]=i,l[kY]=this.userAgent,l[_Y]="application/grpc",l[EY]="POST",l[TY]=n,l[CY]="trailers";let h;try{h=this.session.request(l)}catch(m){throw this.handleDisconnect(),m}this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed);let p,g;return this.channelzEnabled?(this.streamTracker.addCallStarted(),p={addMessageSent:()=>{var m;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,(m=o.addMessageSent)===null||m===void 0||m.call(o)},addMessageReceived:()=>{var m;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,(m=o.addMessageReceived)===null||m===void 0||m.call(o)},onCallEnd:m=>{var y;(y=o.onCallEnd)===null||y===void 0||y.call(o,m),this.removeActiveCall(g)},onStreamEnd:m=>{var y;m?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),(y=o.onStreamEnd)===null||y===void 0||y.call(o,m)}}):p={addMessageSent:()=>{var m;(m=o.addMessageSent)===null||m===void 0||m.call(o)},addMessageReceived:()=>{var m;(m=o.addMessageReceived)===null||m===void 0||m.call(o)},onCallEnd:m=>{var y;(y=o.onCallEnd)===null||y===void 0||y.call(o,m),this.removeActiveCall(g)},onStreamEnd:m=>{var y;(y=o.onStreamEnd)===null||y===void 0||y.call(o,m)}},g=new yY.Http2SubchannelCall(h,p,s,this,(0,vY.getNextCallNumber)()),this.addActiveCall(g),g}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}shutdown(){this.session.close(),(0,LS.unregisterChannelzRef)(this.channelzRef)}},jS=class{constructor(t){this.channelTarget=t,this.session=null,this.isShutdown=!1}trace(t){nc.trace(_d.LogVerbosity.DEBUG,MS,(0,ic.uriToString)(this.channelTarget)+" "+t)}createSession(t,i,n,s){return this.isShutdown?Promise.reject():new Promise((o,l)=>{var h,p,g;let m;s.realTarget?(m=(0,ic.uriToString)(s.realTarget),this.trace("creating HTTP/2 session through proxy to "+(0,ic.uriToString)(s.realTarget))):(m=null,this.trace("creating HTTP/2 session to "+(0,Hp.subchannelAddressToString)(t)));let y=(0,fP.getDefaultAuthority)((h=s.realTarget)!==null&&h!==void 0?h:this.channelTarget),S=i._getConnectionOptions()||{};S.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,"grpc-node.max_session_memory"in n?S.maxSessionMemory=n["grpc-node.max_session_memory"]:S.maxSessionMemory=Number.MAX_SAFE_INTEGER;let w="http://";if("secureContext"in S){if(w="https://",n["grpc.ssl_target_name_override"]){let _=n["grpc.ssl_target_name_override"];S.checkServerIdentity=(R,D)=>(0,dP.checkServerIdentity)(_,D),S.servername=_}else{let _=(g=(p=(0,ic.splitHostPort)(y))===null||p===void 0?void 0:p.host)!==null&&g!==void 0?g:"localhost";S.servername=_}s.socket&&(S.createConnection=(_,R)=>s.socket)}else S.createConnection=(_,R)=>s.socket?s.socket:mY.connect(t);S=Object.assign(Object.assign(Object.assign({},S),t),{enableTrace:n["grpc-node.tls_enable_trace"]===1});let C=BS.connect(w+y,S);this.session=C,C.unref(),C.once("connect",()=>{C.removeAllListeners(),o(new FS(C,t,n,m)),this.session=null}),C.once("close",()=>{this.session=null,l()}),C.once("error",_=>{this.trace("connection failed with error "+_.message)})})}connect(t,i,n){var s,o;if(this.isShutdown)return Promise.reject();let l=i._getConnectionOptions()||{};if("secureContext"in l){if(l.ALPNProtocols=["h2"],n["grpc.ssl_target_name_override"]){let h=n["grpc.ssl_target_name_override"];l.checkServerIdentity=(p,g)=>(0,dP.checkServerIdentity)(h,g),l.servername=h}else if("grpc.http_connect_target"in n){let h=(0,fP.getDefaultAuthority)((s=(0,ic.parseUri)(n["grpc.http_connect_target"]))!==null&&s!==void 0?s:{path:"localhost"}),p=(0,ic.splitHostPort)(h);l.servername=(o=p?.host)!==null&&o!==void 0?o:h}n["grpc-node.tls_enable_trace"]&&(l.enableTrace=!0)}return(0,gY.getProxiedConnection)(t,n,l).then(h=>this.createSession(t,i,n,h))}shutdown(){var t;this.isShutdown=!0,(t=this.session)===null||t===void 0||t.close(),this.session=null}};Vp.Http2SubchannelConnector=jS});var pP=x(sc=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});sc.getSubchannelPool=sc.SubchannelPool=void 0;var AY=tN(),OY=lP(),NY=Hn(),DY=Ni(),PY=hP(),IY=1e4,Ed=class{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let t=!0;for(let i in this.pool){let s=this.pool[i].filter(o=>!o.subchannel.unrefIfOneRef());s.length>0&&(t=!1),this.pool[i]=s}t&&this.cleanupTimer!==null&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var t,i;this.cleanupTimer===null&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},IY),(i=(t=this.cleanupTimer).unref)===null||i===void 0||i.call(t))}getOrCreateSubchannel(t,i,n,s){this.ensureCleanupTask();let o=(0,DY.uriToString)(t);if(o in this.pool){let h=this.pool[o];for(let p of h)if((0,NY.subchannelAddressEqual)(i,p.subchannelAddress)&&(0,AY.channelOptionsEqual)(n,p.channelArguments)&&s._equals(p.channelCredentials))return p.subchannel}let l=new OY.Subchannel(t,i,n,s,new PY.Http2SubchannelConnector(t));return o in this.pool||(this.pool[o]=[]),this.pool[o].push({subchannelAddress:i,channelArguments:n,channelCredentials:s,subchannel:l}),l.ref(),l}};sc.SubchannelPool=Ed;var LY=new Ed;function MY(r){return r?LY:new Ed}sc.getSubchannelPool=MY});var qS=x(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});oc.FilterStackFactory=oc.FilterStack=void 0;var $p=class{constructor(t){this.filters=t}sendMetadata(t){let i=t;for(let n=0;n<this.filters.length;n++)i=this.filters[n].sendMetadata(i);return i}receiveMetadata(t){let i=t;for(let n=this.filters.length-1;n>=0;n--)i=this.filters[n].receiveMetadata(i);return i}sendMessage(t){let i=t;for(let n=0;n<this.filters.length;n++)i=this.filters[n].sendMessage(i);return i}receiveMessage(t){let i=t;for(let n=this.filters.length-1;n>=0;n--)i=this.filters[n].receiveMessage(i);return i}receiveTrailers(t){let i=t;for(let n=this.filters.length-1;n>=0;n--)i=this.filters[n].receiveTrailers(i);return i}push(t){this.filters.unshift(...t)}getFilters(){return this.filters}};oc.FilterStack=$p;var US=class r{constructor(t){this.factories=t}push(t){this.factories.unshift(...t)}clone(){return new r([...this.factories])}createFilter(){return new $p(this.factories.map(t=>t.createFilter()))}};oc.FilterStackFactory=US});var WS=x(Gp=>{"use strict";Object.defineProperty(Gp,"__esModule",{value:!0});Gp.CompressionAlgorithms=void 0;var gP;(function(r){r[r.identity=0]="identity",r[r.deflate=1]="deflate",r[r.gzip=2]="gzip"})(gP||(Gp.CompressionAlgorithms=gP={}))});var Kp=x(Yp=>{"use strict";Object.defineProperty(Yp,"__esModule",{value:!0});Yp.BaseFilter=void 0;var zS=class{async sendMetadata(t){return t}receiveMetadata(t){return t}async sendMessage(t){return t}async receiveMessage(t){return t}receiveTrailers(t){return t}};Yp.BaseFilter=zS});var vP=x(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});lc.CompressionFilterFactory=lc.CompressionFilter=void 0;var Xp=require("zlib"),yP=WS(),FY=wt(),jY=Kp(),BY=ir(),UY=r=>typeof r=="number"&&typeof yP.CompressionAlgorithms[r]=="string",ac=class{async writeMessage(t,i){let n=t;i&&(n=await this.compressMessage(n));let s=Buffer.allocUnsafe(n.length+5);return s.writeUInt8(i?1:0,0),s.writeUInt32BE(n.length,1),n.copy(s,5),s}async readMessage(t){let i=t.readUInt8(0)===1,n=t.slice(5);return i&&(n=await this.decompressMessage(n)),n}},Oa=class extends ac{async compressMessage(t){return t}async writeMessage(t,i){let n=Buffer.allocUnsafe(t.length+5);return n.writeUInt8(0,0),n.writeUInt32BE(t.length,1),t.copy(n,5),n}decompressMessage(t){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}},HS=class extends ac{compressMessage(t){return new Promise((i,n)=>{Xp.deflate(t,(s,o)=>{s?n(s):i(o)})})}decompressMessage(t){return new Promise((i,n)=>{Xp.inflate(t,(s,o)=>{s?n(s):i(o)})})}},VS=class extends ac{compressMessage(t){return new Promise((i,n)=>{Xp.gzip(t,(s,o)=>{s?n(s):i(o)})})}decompressMessage(t){return new Promise((i,n)=>{Xp.unzip(t,(s,o)=>{s?n(s):i(o)})})}},$S=class extends ac{constructor(t){super(),this.compressionName=t}compressMessage(t){return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(t){return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`))}};function mP(r){switch(r){case"identity":return new Oa;case"deflate":return new HS;case"gzip":return new VS;default:return new $S(r)}}var Jp=class extends jY.BaseFilter{constructor(t,i){var n;super(),this.sharedFilterConfig=i,this.sendCompression=new Oa,this.receiveCompression=new Oa,this.currentCompressionAlgorithm="identity";let s=t["grpc.default_compression_algorithm"];if(s!==void 0)if(UY(s)){let o=yP.CompressionAlgorithms[s],l=(n=i.serverSupportedEncodingHeader)===null||n===void 0?void 0:n.split(",");(!l||l.includes(o))&&(this.currentCompressionAlgorithm=o,this.sendCompression=mP(this.currentCompressionAlgorithm))}else BY.log(FY.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${s}`)}async sendMetadata(t){let i=await t;return i.set("grpc-accept-encoding","identity,deflate,gzip"),i.set("accept-encoding","identity"),this.currentCompressionAlgorithm==="identity"?i.remove("grpc-encoding"):i.set("grpc-encoding",this.currentCompressionAlgorithm),i}receiveMetadata(t){let i=t.get("grpc-encoding");if(i.length>0){let s=i[0];typeof s=="string"&&(this.receiveCompression=mP(s))}t.remove("grpc-encoding");let n=t.get("grpc-accept-encoding")[0];return n&&(this.sharedFilterConfig.serverSupportedEncodingHeader=n,n.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new Oa,this.currentCompressionAlgorithm="identity")),t.remove("grpc-accept-encoding"),t}async sendMessage(t){var i;let n=await t,s;return this.sendCompression instanceof Oa?s=!1:s=(((i=n.flags)!==null&&i!==void 0?i:0)&2)===0,{message:await this.sendCompression.writeMessage(n.message,s),flags:n.flags}}async receiveMessage(t){return this.receiveCompression.readMessage(await t)}};lc.CompressionFilter=Jp;var GS=class{constructor(t,i){this.options=i,this.sharedFilterConfig={}}createFilter(){return new Jp(this.options,this.sharedFilterConfig)}};lc.CompressionFilterFactory=GS});var SP=x(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});cc.MaxMessageSizeFilterFactory=cc.MaxMessageSizeFilter=void 0;var qY=Kp(),Zp=wt(),bP=ii(),Qp=class extends qY.BaseFilter{constructor(t){super(),this.maxSendMessageSize=Zp.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=Zp.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,"grpc.max_send_message_length"in t&&(this.maxSendMessageSize=t["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in t&&(this.maxReceiveMessageSize=t["grpc.max_receive_message_length"])}async sendMessage(t){if(this.maxSendMessageSize===-1)return t;{let i=await t;if(i.message.length>this.maxSendMessageSize)throw{code:Zp.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${i.message.length} vs. ${this.maxSendMessageSize})`,metadata:new bP.Metadata};return i}}async receiveMessage(t){if(this.maxReceiveMessageSize===-1)return t;{let i=await t;if(i.length>this.maxReceiveMessageSize)throw{code:Zp.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${i.length} vs. ${this.maxReceiveMessageSize})`,metadata:new bP.Metadata};return i}}};cc.MaxMessageSizeFilter=Qp;var YS=class{constructor(t){this.options=t}createFilter(){return new Qp(this.options)}};cc.MaxMessageSizeFilterFactory=YS});var eg=x(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.deadlineToString=ts.getRelativeTimeout=ts.getDeadlineTimeoutString=ts.minDeadline=void 0;function WY(...r){let t=1/0;for(let i of r){let n=i instanceof Date?i.getTime():i;n<t&&(t=n)}return t}ts.minDeadline=WY;var zY=[["m",1],["S",1e3],["M",60*1e3],["H",60*60*1e3]];function HY(r){let t=new Date().getTime();r instanceof Date&&(r=r.getTime());let i=Math.max(r-t,0);for(let[n,s]of zY){let o=i/s;if(o<1e8)return String(Math.ceil(o))+n}throw new Error("Deadline is too far in the future")}ts.getDeadlineTimeoutString=HY;var VY=2147483647;function $Y(r){let t=r instanceof Date?r.getTime():r,i=new Date().getTime(),n=t-i;return n<0?0:n>VY?1/0:n}ts.getRelativeTimeout=$Y;function GY(r){if(r instanceof Date)return r.toISOString();{let t=new Date(r);return Number.isNaN(t.getTime())?""+r:t.toISOString()}}ts.deadlineToString=GY});var rg=x(tg=>{"use strict";Object.defineProperty(tg,"__esModule",{value:!0});tg.restrictControlPlaneStatusCode=void 0;var rs=wt(),YY=[rs.Status.OK,rs.Status.INVALID_ARGUMENT,rs.Status.NOT_FOUND,rs.Status.ALREADY_EXISTS,rs.Status.FAILED_PRECONDITION,rs.Status.ABORTED,rs.Status.OUT_OF_RANGE,rs.Status.DATA_LOSS];function KY(r,t){return YY.includes(r)?{code:rs.Status.INTERNAL,details:`Invalid status from control plane: ${r} ${rs.Status[r]} ${t}`}:{code:r,details:t}}tg.restrictControlPlaneStatusCode=KY});var _P=x(sg=>{"use strict";Object.defineProperty(sg,"__esModule",{value:!0});sg.LoadBalancingCall=void 0;var wP=zi(),ig=wt(),XY=eg(),ng=ii(),Td=_o(),JY=Ni(),ZY=ir(),KS=rg(),QY=require("http2"),eK="load_balancing_call",XS=class{constructor(t,i,n,s,o,l,h){var p,g;this.channel=t,this.callConfig=i,this.methodName=n,this.host=s,this.credentials=o,this.deadline=l,this.callNumber=h,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null;let m=this.methodName.split("/"),y="";m.length>=2&&(y=m[1]);let S=(g=(p=(0,JY.splitHostPort)(this.host))===null||p===void 0?void 0:p.host)!==null&&g!==void 0?g:"localhost";this.serviceUrl=`https://${S}/${y}`}trace(t){ZY.trace(ig.LogVerbosity.DEBUG,eK,"["+this.callNumber+"] "+t)}outputStatus(t,i){var n,s;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+t.code+' details="'+t.details+'"');let o=Object.assign(Object.assign({},t),{progress:i});(n=this.listener)===null||n===void 0||n.onReceiveStatus(o),(s=this.onCallEnded)===null||s===void 0||s.call(this,o.code)}}doPick(){var t,i;if(this.ended)return;if(!this.metadata)throw new Error("doPick called before start");this.trace("Pick called");let n=this.channel.doPick(this.metadata,this.callConfig.pickInformation),s=n.subchannel?"("+n.subchannel.getChannelzRef().id+") "+n.subchannel.getAddress():""+n.subchannel;switch(this.trace("Pick result: "+Td.PickResultType[n.pickResultType]+" subchannel: "+s+" status: "+((t=n.status)===null||t===void 0?void 0:t.code)+" "+((i=n.status)===null||i===void 0?void 0:i.details)),n.pickResultType){case Td.PickResultType.COMPLETE:this.credentials.generateMetadata({service_url:this.serviceUrl}).then(h=>{var p,g,m;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}let y=this.metadata.clone();if(y.merge(h),y.get("authorization").length>1&&this.outputStatus({code:ig.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new ng.Metadata},"PROCESSED"),n.subchannel.getConnectivityState()!==wP.ConnectivityState.READY){this.trace("Picked subchannel "+s+" has state "+wP.ConnectivityState[n.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&y.set("grpc-timeout",(0,XY.getDeadlineTimeoutString)(this.deadline));try{this.child=n.subchannel.getRealSubchannel().createCall(y,this.host,this.methodName,{onReceiveMetadata:S=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(S)},onReceiveMessage:S=>{this.trace("Received message"),this.listener.onReceiveMessage(S)},onReceiveStatus:S=>{this.trace("Received status"),S.rstCode===QY.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(S,"REFUSED"):this.outputStatus(S,"PROCESSED")}})}catch(S){this.trace("Failed to start call on picked subchannel "+s+" with error "+S.message),this.outputStatus({code:ig.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+S.message,metadata:new ng.Metadata},"NOT_STARTED");return}(g=(p=this.callConfig).onCommitted)===null||g===void 0||g.call(p),(m=n.onCallStarted)===null||m===void 0||m.call(n),this.onCallEnded=n.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},h=>{let{code:p,details:g}=(0,KS.restrictControlPlaneStatusCode)(typeof h.code=="number"?h.code:ig.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${h.message}`);this.outputStatus({code:p,details:g,metadata:new ng.Metadata},"PROCESSED")});break;case Td.PickResultType.DROP:let{code:o,details:l}=(0,KS.restrictControlPlaneStatusCode)(n.status.code,n.status.details);setImmediate(()=>{this.outputStatus({code:o,details:l,metadata:n.status.metadata},"DROP")});break;case Td.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{let{code:h,details:p}=(0,KS.restrictControlPlaneStatusCode)(n.status.code,n.status.details);setImmediate(()=>{this.outputStatus({code:h,details:p,metadata:n.status.metadata},"PROCESSED")})}break;case Td.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(t,i){var n;this.trace("cancelWithStatus code: "+t+' details: "'+i+'"'),(n=this.child)===null||n===void 0||n.cancelWithStatus(t,i),this.outputStatus({code:t,details:i,metadata:new ng.Metadata},"PROCESSED")}getPeer(){var t,i;return(i=(t=this.child)===null||t===void 0?void 0:t.getPeer())!==null&&i!==void 0?i:this.channel.getTarget()}start(t,i){this.trace("start called"),this.listener=i,this.metadata=t,this.doPick()}sendMessageWithContext(t,i){this.trace("write() called with message of length "+i.length),this.child?this.child.sendMessageWithContext(t,i):this.pendingMessage={context:t,message:i}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(t){throw new Error("Method not implemented.")}getCallNumber(){return this.callNumber}};sg.LoadBalancingCall=XS});var TP=x(ag=>{"use strict";Object.defineProperty(ag,"__esModule",{value:!0});ag.ResolvingCall=void 0;var uc=wt(),og=eg(),EP=ii(),tK=ir(),rK=rg(),iK="resolving_call",JS=class{constructor(t,i,n,s,o,l){this.channel=t,this.method=i,this.filterStackFactory=s,this.credentials=o,this.callNumber=l,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadline=n.deadline,this.host=n.host,n.parentCall&&(n.flags&uc.Propagate.CANCELLATION&&n.parentCall.on("cancelled",()=>{this.cancelWithStatus(uc.Status.CANCELLED,"Cancelled by parent call")}),n.flags&uc.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+n.parentCall.getDeadline()),this.deadline=(0,og.minDeadline)(this.deadline,n.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(t){tK.trace(uc.LogVerbosity.DEBUG,iK,"["+this.callNumber+"] "+t)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.trace("Deadline: "+(0,og.deadlineToString)(this.deadline));let t=(0,og.getRelativeTimeout)(this.deadline);if(t!==1/0){this.trace("Deadline will be reached in "+t+"ms");let i=()=>{this.cancelWithStatus(uc.Status.DEADLINE_EXCEEDED,"Deadline exceeded")};t<=0?process.nextTick(i):this.deadlineTimer=setTimeout(i,t)}}outputStatus(t){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);let i=this.filterStack.receiveTrailers(t);this.trace("ended with status: code="+i.code+' details="'+i.details+'"'),this.statusWatchers.forEach(n=>n(i)),process.nextTick(()=>{var n;(n=this.listener)===null||n===void 0||n.onReceiveStatus(i)})}}sendMessageOnChild(t,i){if(!this.child)throw new Error("sendMessageonChild called with child not populated");let n=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:i,flags:t.flags})).then(s=>{this.writeFilterPending=!1,n.sendMessageWithContext(t,s.message),this.pendingHalfClose&&n.halfClose()},s=>{this.cancelWithStatus(s.code,s.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw new Error("getConfig called before start");let t=this.channel.getConfig(this.method,this.metadata);if(t.type==="NONE"){this.channel.queueCallForConfig(this);return}else if(t.type==="ERROR"){this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(t.error);return}let i=t.config;if(i.status!==uc.Status.OK){let{code:n,details:s}=(0,rK.restrictControlPlaneStatusCode)(i.status,"Failed to route call to method "+this.method);this.outputStatus({code:n,details:s,metadata:new EP.Metadata});return}if(i.methodConfig.timeout){let n=new Date;n.setSeconds(n.getSeconds()+i.methodConfig.timeout.seconds),n.setMilliseconds(n.getMilliseconds()+i.methodConfig.timeout.nanos/1e6),this.deadline=(0,og.minDeadline)(this.deadline,n),this.runDeadlineTimer()}this.filterStackFactory.push(i.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(n=>{this.child=this.channel.createInnerCall(i,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.child.start(n,{onReceiveMetadata:s=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(s))},onReceiveMessage:s=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(s).then(o=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(o),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},o=>{this.cancelWithStatus(o.code,o.details)})},onReceiveStatus:s=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=s:this.outputStatus(s)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},n=>{this.outputStatus(n)})}reportResolverError(t){var i;!((i=this.metadata)===null||i===void 0)&&i.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(t)}cancelWithStatus(t,i){var n;this.trace("cancelWithStatus code: "+t+' details: "'+i+'"'),(n=this.child)===null||n===void 0||n.cancelWithStatus(t,i),this.outputStatus({code:t,details:i,metadata:new EP.Metadata})}getPeer(){var t,i;return(i=(t=this.child)===null||t===void 0?void 0:t.getPeer())!==null&&i!==void 0?i:this.channel.getTarget()}start(t,i){this.trace("start called"),this.metadata=t.clone(),this.listener=i,this.getConfig()}sendMessageWithContext(t,i){this.trace("write() called with message of length "+i.length),this.child?this.sendMessageOnChild(t,i):this.pendingMessage={context:t,message:i}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(t){this.credentials=this.credentials.compose(t)}addStatusWatcher(t){this.statusWatchers.push(t)}getCallNumber(){return this.callNumber}};ag.ResolvingCall=JS});var CP=x(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});Mo.RetryingCall=Mo.MessageBufferTracker=Mo.RetryThrottler=void 0;var lg=wt(),nK=ii(),sK=ir(),oK="retrying_call",QS=class{constructor(t,i,n){this.maxTokens=t,this.tokenRatio=i,n?this.tokens=n.tokens*(t/n.maxTokens):this.tokens=t}addCallSucceeded(){this.tokens=Math.max(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.min(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}};Mo.RetryThrottler=QS;var ew=class{constructor(t,i){this.totalLimit=t,this.limitPerCall=i,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(t,i){var n;let s=(n=this.allocatedPerCall.get(i))!==null&&n!==void 0?n:0;return this.limitPerCall-s<t||this.totalLimit-this.totalAllocated<t?!1:(this.allocatedPerCall.set(i,s+t),this.totalAllocated+=t,!0)}free(t,i){var n;if(this.totalAllocated<t)throw new Error(`Invalid buffer allocation state: call ${i} freed ${t} > total allocated ${this.totalAllocated}`);this.totalAllocated-=t;let s=(n=this.allocatedPerCall.get(i))!==null&&n!==void 0?n:0;if(s<t)throw new Error(`Invalid buffer allocation state: call ${i} freed ${t} > allocated for call ${s}`);this.allocatedPerCall.set(i,s-t)}freeAll(t){var i;let n=(i=this.allocatedPerCall.get(t))!==null&&i!==void 0?i:0;if(this.totalAllocated<n)throw new Error(`Invalid buffer allocation state: call ${t} allocated ${n} > total allocated ${this.totalAllocated}`);this.totalAllocated-=n,this.allocatedPerCall.delete(t)}};Mo.MessageBufferTracker=ew;var ZS="grpc-previous-rpc-attempts",tw=class{constructor(t,i,n,s,o,l,h,p,g){if(this.channel=t,this.callConfig=i,this.methodName=n,this.host=s,this.credentials=o,this.deadline=l,this.callNumber=h,this.bufferTracker=p,this.retryThrottler=g,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0,i.methodConfig.retryPolicy){this.state="RETRY";let m=i.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(m.initialBackoff.substring(0,m.initialBackoff.length-1))}else i.methodConfig.hedgingPolicy?this.state="HEDGING":this.state="TRANSPARENT_ONLY"}getCallNumber(){return this.callNumber}trace(t){sK.trace(lg.LogVerbosity.DEBUG,oK,"["+this.callNumber+"] "+t)}reportStatus(t){this.trace("ended with status: code="+t.code+' details="'+t.details+'"'),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var i;(i=this.listener)===null||i===void 0||i.onReceiveStatus({code:t.code,details:t.details,metadata:t.metadata})})}cancelWithStatus(t,i){this.trace("cancelWithStatus code: "+t+' details: "'+i+'"'),this.reportStatus({code:t,details:i,metadata:new nK.Metadata});for(let{call:n}of this.underlyingCalls)n.cancelWithStatus(t,i)}getPeer(){return this.committedCallIndex!==null?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(t){var i;return(i=this.writeBuffer[t-this.writeBufferOffset])!==null&&i!==void 0?i:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if(this.state!=="COMMITTED")return;let t=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let i=this.writeBufferOffset;i<t;i++){let n=this.getBufferEntry(i);n.allocated&&this.bufferTracker.free(n.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(t-this.writeBufferOffset),this.writeBufferOffset=t}commitCall(t){if(this.state!=="COMMITTED"&&this.underlyingCalls[t].state!=="COMPLETED"){this.trace("Committing call ["+this.underlyingCalls[t].call.getCallNumber()+"] at index "+t),this.state="COMMITTED",this.committedCallIndex=t;for(let i=0;i<this.underlyingCalls.length;i++)i!==t&&this.underlyingCalls[i].state!=="COMPLETED"&&(this.underlyingCalls[i].state="COMPLETED",this.underlyingCalls[i].call.cancelWithStatus(lg.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if(this.state==="COMMITTED")return;let t=-1,i=-1;for(let[n,s]of this.underlyingCalls.entries())s.state==="ACTIVE"&&s.nextMessageToSend>t&&(t=s.nextMessageToSend,i=n);i===-1?this.state="TRANSPARENT_ONLY":this.commitCall(i)}isStatusCodeInList(t,i){return t.some(n=>n===i||n.toString().toLowerCase()===lg.Status[i].toLowerCase())}getNextRetryBackoffMs(){var t;let i=(t=this.callConfig)===null||t===void 0?void 0:t.methodConfig.retryPolicy;if(!i)return 0;let n=Math.random()*this.nextRetryBackoffSec*1e3,s=Number(i.maxBackoff.substring(0,i.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*i.backoffMultiplier,s),n}maybeRetryCall(t,i){if(this.state!=="RETRY"){i(!1);return}let n=this.callConfig.methodConfig.retryPolicy;if(this.attempts>=Math.min(n.maxAttempts,5)){i(!1);return}let s;if(t===null)s=this.getNextRetryBackoffMs();else if(t<0){this.state="TRANSPARENT_ONLY",i(!1);return}else s=t,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var o,l;if(this.state!=="RETRY"){i(!1);return}(!((l=(o=this.retryThrottler)===null||o===void 0?void 0:o.canRetryCall())!==null&&l!==void 0)||l)&&(i(!0),this.attempts+=1,this.startNewAttempt())},s)}countActiveCalls(){let t=0;for(let i of this.underlyingCalls)i?.state==="ACTIVE"&&(t+=1);return t}handleProcessedStatus(t,i,n){var s,o,l;switch(this.state){case"COMMITTED":case"TRANSPARENT_ONLY":this.commitCall(i),this.reportStatus(t);break;case"HEDGING":if(this.isStatusCodeInList((s=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)!==null&&s!==void 0?s:[],t.code)){(o=this.retryThrottler)===null||o===void 0||o.addCallFailed();let h;if(n===null)h=0;else if(n<0){this.state="TRANSPARENT_ONLY",this.commitCall(i),this.reportStatus(t);return}else h=n;setTimeout(()=>{this.maybeStartHedgingAttempt(),this.countActiveCalls()===0&&(this.commitCall(i),this.reportStatus(t))},h)}else this.commitCall(i),this.reportStatus(t);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,t.code)?((l=this.retryThrottler)===null||l===void 0||l.addCallFailed(),this.maybeRetryCall(n,h=>{h||(this.commitCall(i),this.reportStatus(t))})):(this.commitCall(i),this.reportStatus(t));break}}getPushback(t){let i=t.get("grpc-retry-pushback-ms");if(i.length===0)return null;try{return parseInt(i[0])}catch{return-1}}handleChildStatus(t,i){var n;if(this.underlyingCalls[i].state==="COMPLETED")return;if(this.trace("state="+this.state+" handling status with progress "+t.progress+" from child ["+this.underlyingCalls[i].call.getCallNumber()+"] in state "+this.underlyingCalls[i].state),this.underlyingCalls[i].state="COMPLETED",t.code===lg.Status.OK){(n=this.retryThrottler)===null||n===void 0||n.addCallSucceeded(),this.commitCall(i),this.reportStatus(t);return}if(this.state==="COMMITTED"){this.reportStatus(t);return}let s=this.getPushback(t.metadata);switch(t.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(t,i,s):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(i),this.reportStatus(t);break;case"PROCESSED":this.handleProcessedStatus(t,i,s);break}}maybeStartHedgingAttempt(){if(this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;let t=this.callConfig.methodConfig.hedgingPolicy;this.attempts>=Math.min(t.maxAttempts,5)||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer())}maybeStartHedgingTimer(){var t,i,n;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;let s=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=Math.min(s.maxAttempts,5))return;let o=(t=s.hedgingDelay)!==null&&t!==void 0?t:"0s",l=Number(o.substring(0,o.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},l*1e3),(n=(i=this.hedgingTimer).unref)===null||n===void 0||n.call(i)}startNewAttempt(){let t=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+t.getCallNumber()+"] for attempt "+this.attempts);let i=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:t,nextMessageToSend:0});let n=this.attempts-1,s=this.initialMetadata.clone();n>0&&s.set(ZS,`${n}`);let o=!1;t.start(s,{onReceiveMetadata:l=>{this.trace("Received metadata from child ["+t.getCallNumber()+"]"),this.commitCall(i),o=!0,n>0&&l.set(ZS,`${n}`),this.underlyingCalls[i].state==="ACTIVE"&&this.listener.onReceiveMetadata(l)},onReceiveMessage:l=>{this.trace("Received message from child ["+t.getCallNumber()+"]"),this.commitCall(i),this.underlyingCalls[i].state==="ACTIVE"&&this.listener.onReceiveMessage(l)},onReceiveStatus:l=>{this.trace("Received status from child ["+t.getCallNumber()+"]"),!o&&n>0&&l.metadata.set(ZS,`${n}`),this.handleChildStatus(l,i)}}),this.sendNextChildMessage(i),this.readStarted&&t.startRead()}start(t,i){this.trace("start called"),this.listener=i,this.initialMetadata=t,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(t){var i,n;let s=this.underlyingCalls[t],o=s.nextMessageToSend;(n=(i=this.getBufferEntry(o)).callback)===null||n===void 0||n.call(i),this.clearSentMessages(),s.nextMessageToSend+=1,this.sendNextChildMessage(t)}sendNextChildMessage(t){let i=this.underlyingCalls[t];if(i.state!=="COMPLETED"&&this.getBufferEntry(i.nextMessageToSend)){let n=this.getBufferEntry(i.nextMessageToSend);switch(n.entryType){case"MESSAGE":i.call.sendMessageWithContext({callback:s=>{this.handleChildWriteCompleted(t)}},n.message.message);break;case"HALF_CLOSE":i.nextMessageToSend+=1,i.call.halfClose();break;case"FREED":break}}}sendMessageWithContext(t,i){var n;this.trace("write() called with message of length "+i.length);let s={message:i,flags:t.flags},o=this.getNextBufferIndex(),l={entryType:"MESSAGE",message:s,allocated:this.bufferTracker.allocate(i.length,this.callNumber)};if(this.writeBuffer.push(l),l.allocated){(n=t.callback)===null||n===void 0||n.call(t);for(let[h,p]of this.underlyingCalls.entries())p.state==="ACTIVE"&&p.nextMessageToSend===o&&p.call.sendMessageWithContext({callback:g=>{this.handleChildWriteCompleted(h)}},i)}else{if(this.commitCallWithMostMessages(),this.committedCallIndex===null)return;let h=this.underlyingCalls[this.committedCallIndex];l.callback=t.callback,h.state==="ACTIVE"&&h.nextMessageToSend===o&&h.call.sendMessageWithContext({callback:p=>{this.handleChildWriteCompleted(this.committedCallIndex)}},i)}}startRead(){this.trace("startRead called"),this.readStarted=!0;for(let t of this.underlyingCalls)t?.state==="ACTIVE"&&t.call.startRead()}halfClose(){this.trace("halfClose called");let t=this.getNextBufferIndex();this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1});for(let i of this.underlyingCalls)i?.state==="ACTIVE"&&i.nextMessageToSend===t&&(i.nextMessageToSend+=1,i.call.halfClose())}setCredentials(t){throw new Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}};Mo.RetryingCall=tw});var ug=x(cg=>{"use strict";Object.defineProperty(cg,"__esModule",{value:!0});cg.BaseSubchannelWrapper=void 0;var rw=class{constructor(t){this.child=t}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(t){this.child.addConnectivityStateListener(t)}removeConnectivityStateListener(t){this.child.removeConnectivityStateListener(t)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(t){this.child.throttleKeepalive(t)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(t){return this.getRealSubchannel()===t.getRealSubchannel()}};cg.BaseSubchannelWrapper=rw});var xP=x(hg=>{"use strict";Object.defineProperty(hg,"__esModule",{value:!0});hg.InternalChannel=void 0;var aK=Gh(),lK=eN(),cK=pP(),kP=_o(),Cd=wt(),uK=qS(),dK=vP(),RP=Wn(),iw=ir(),fK=SP(),hK=AS(),dg=Ni(),As=zi(),kd=Aa(),pK=_P(),gK=eg(),mK=TP(),nw=PS(),yK=rg(),sw=CP(),vK=ug(),bK=2147483647,SK=1e3,wK=30*60*1e3,fg=new Map,_K=1<<24,EK=1<<20,ow=class extends vK.BaseSubchannelWrapper{constructor(t,i){super(t),this.channel=i,this.refCount=0,this.subchannelStateListener=(n,s,o,l)=>{i.throttleKeepalive(l)},t.addConnectivityStateListener(this.subchannelStateListener)}ref(){this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}},aw=class{constructor(t,i,n){var s,o,l,h,p,g,m,y;if(this.credentials=i,this.options=n,this.connectivityState=As.ConnectivityState.IDLE,this.currentPicker=new kP.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.callTracker=new kd.ChannelzCallTracker,this.childrenTracker=new kd.ChannelzChildrenTracker,typeof t!="string")throw new TypeError("Channel target must be a string");if(!(i instanceof aK.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(n&&typeof n!="object")throw new TypeError("Channel options must be an object");this.originalTarget=t;let S=(0,dg.parseUri)(t);if(S===null)throw new Error(`Could not parse target name "${t}"`);let w=(0,RP.mapUriDefaultScheme)(S);if(w===null)throw new Error(`Could not find a default scheme for target name "${t}"`);this.callRefTimer=setInterval(()=>{},bK),(o=(s=this.callRefTimer).unref)===null||o===void 0||o.call(s),this.options["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzTrace=new kd.ChannelzTrace,this.channelzRef=(0,kd.registerChannelzChannel)(t,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,RP.getDefaultAuthority)(w);let C=(0,hK.mapProxyName)(w,n);this.target=C.target,this.options=Object.assign({},this.options,C.extraOptions),this.subchannelPool=(0,cK.getSubchannelPool)(((l=n["grpc.use_local_subchannel_pool"])!==null&&l!==void 0?l:0)===0),this.retryBufferTracker=new sw.MessageBufferTracker((h=n["grpc.retry_buffer_size"])!==null&&h!==void 0?h:_K,(p=n["grpc.per_rpc_retry_buffer_size"])!==null&&p!==void 0?p:EK),this.keepaliveTime=(g=n["grpc.keepalive_time_ms"])!==null&&g!==void 0?g:-1,this.idleTimeoutMs=Math.max((m=n["grpc.client_idle_timeout_ms"])!==null&&m!==void 0?m:wK,SK);let _={createSubchannel:(D,I)=>{let M=this.subchannelPool.getOrCreateSubchannel(this.target,D,Object.assign({},this.options,I),this.credentials);M.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Created subchannel or used existing subchannel",M.getChannelzRef());let L=new ow(M,this);return this.wrappedSubchannels.add(L),L},updateState:(D,I)=>{this.currentPicker=I;let M=this.pickQueue.slice();this.pickQueue=[],this.callRefTimerUnref();for(let L of M)L.doPick();this.updateState(D)},requestReresolution:()=>{throw new Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:D=>{this.channelzEnabled&&this.childrenTracker.refChild(D)},removeChannelzChild:D=>{this.channelzEnabled&&this.childrenTracker.unrefChild(D)}};this.resolvingLoadBalancer=new lK.ResolvingLoadBalancer(this.target,_,n,(D,I)=>{D.retryThrottling?fg.set(this.getTarget(),new sw.RetryThrottler(D.retryThrottling.maxTokens,D.retryThrottling.tokenRatio,fg.get(this.getTarget()))):fg.delete(this.getTarget()),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Address resolution succeeded"),this.configSelector=I,this.currentResolutionError=null,process.nextTick(()=>{let M=this.configSelectionQueue;this.configSelectionQueue=[],this.callRefTimerUnref();for(let L of M)L.getConfig();this.configSelectionQueue=[]})},D=>{this.channelzEnabled&&this.channelzTrace.addTrace("CT_WARNING","Address resolution failed with code "+D.code+' and details "'+D.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),this.configSelector===null&&(this.currentResolutionError=Object.assign(Object.assign({},(0,yK.restrictControlPlaneStatusCode)(D.code,D.details)),{metadata:D.metadata}));let I=this.configSelectionQueue;this.configSelectionQueue=[],this.callRefTimerUnref();for(let M of I)M.reportResolverError(D)}),this.filterStackFactory=new uK.FilterStackFactory([new fK.MaxMessageSizeFilterFactory(this.options),new dK.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(n,void 0,2));let R=new Error;(0,iw.trace)(Cd.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+`) Channel constructed 
`+((y=R.stack)===null||y===void 0?void 0:y.substring(R.stack.indexOf(`
`)+1)))}getChannelzInfo(){return{target:this.originalTarget,state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}}trace(t,i){(0,iw.trace)(i??Cd.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,dg.uriToString)(this.target)+" "+t)}callRefTimerRef(){var t,i,n,s;!((i=(t=this.callRefTimer).hasRef)===null||i===void 0)&&i.call(t)||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(s=(n=this.callRefTimer).ref)===null||s===void 0||s.call(n))}callRefTimerUnref(){var t,i;(!this.callRefTimer.hasRef||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(i=(t=this.callRefTimer).unref)===null||i===void 0||i.call(t))}removeConnectivityStateWatcher(t){let i=this.connectivityStateWatchers.findIndex(n=>n===t);i>=0&&this.connectivityStateWatchers.splice(i,1)}updateState(t){(0,iw.trace)(Cd.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,dg.uriToString)(this.target)+" "+As.ConnectivityState[this.connectivityState]+" -> "+As.ConnectivityState[t]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+As.ConnectivityState[t]),this.connectivityState=t;let i=this.connectivityStateWatchers.slice();for(let n of i)t!==n.currentState&&(n.timer&&clearTimeout(n.timer),this.removeConnectivityStateWatcher(n),n.callback());t!==As.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(t){if(t>this.keepaliveTime){this.keepaliveTime=t;for(let i of this.wrappedSubchannels)i.throttleKeepalive(t)}}removeWrappedSubchannel(t){this.wrappedSubchannels.delete(t)}doPick(t,i){return this.currentPicker.pick({metadata:t,extraPickInfo:i})}queueCallForPick(t){this.pickQueue.push(t),this.callRefTimerRef()}getConfig(t,i){return this.resolvingLoadBalancer.exitIdle(),this.configSelector?{type:"SUCCESS",config:this.configSelector(t,i)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(t){this.configSelectionQueue.push(t),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(As.ConnectivityState.IDLE),this.currentPicker=new kP.QueuePicker(this.resolvingLoadBalancer)}maybeStartIdleTimer(){var t,i;this.callCount===0&&(this.idleTimer=setTimeout(()=>{this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()},this.idleTimeoutMs),(i=(t=this.idleTimer).unref)===null||i===void 0||i.call(t))}onCallStart(){this.channelzEnabled&&this.callTracker.addCallStarted(),this.callCount+=1,this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null)}onCallEnd(t){this.channelzEnabled&&(t.code===Cd.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()),this.callCount-=1,this.maybeStartIdleTimer()}createLoadBalancingCall(t,i,n,s,o){let l=(0,nw.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+l+'] method="'+i+'"'),new pK.LoadBalancingCall(this,t,i,n,s,o,l)}createRetryingCall(t,i,n,s,o){let l=(0,nw.getNextCallNumber)();return this.trace("createRetryingCall ["+l+'] method="'+i+'"'),new sw.RetryingCall(this,t,i,n,s,o,l,this.retryBufferTracker,fg.get(this.getTarget()))}createInnerCall(t,i,n,s,o){return this.options["grpc.enable_retries"]===0?this.createLoadBalancingCall(t,i,n,s,o):this.createRetryingCall(t,i,n,s,o)}createResolvingCall(t,i,n,s,o){let l=(0,nw.getNextCallNumber)();this.trace("createResolvingCall ["+l+'] method="'+t+'", deadline='+(0,gK.deadlineToString)(i));let h={deadline:i,flags:o??Cd.Propagate.DEFAULTS,host:n??this.defaultAuthority,parentCall:s},p=new mK.ResolvingCall(this,t,h,this.filterStackFactory.clone(),this.credentials._getCallCredentials(),l);return this.onCallStart(),p.addStatusWatcher(g=>{this.onCallEnd(g)}),p}close(){this.resolvingLoadBalancer.destroy(),this.updateState(As.ConnectivityState.SHUTDOWN),clearInterval(this.callRefTimer),this.channelzEnabled&&(0,kd.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return(0,dg.uriToString)(this.target)}getConnectivityState(t){let i=this.connectivityState;return t&&(this.resolvingLoadBalancer.exitIdle(),this.maybeStartIdleTimer()),i}watchConnectivityState(t,i,n){if(this.connectivityState===As.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");let s=null;if(i!==1/0){let l=i instanceof Date?i:new Date(i),h=new Date;if(i===-1/0||l<=h){process.nextTick(n,new Error("Deadline passed without connectivity state change"));return}s=setTimeout(()=>{this.removeConnectivityStateWatcher(o),n(new Error("Deadline passed without connectivity state change"))},l.getTime()-h.getTime())}let o={currentState:t,callback:n,timer:s};this.connectivityStateWatchers.push(o)}getChannelzRef(){return this.channelzRef}createCall(t,i,n,s,o){if(typeof t!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof i=="number"||i instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===As.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");return this.createResolvingCall(t,i,n,s,o)}};hg.InternalChannel=aw});var gb=x(pg=>{"use strict";Object.defineProperty(pg,"__esModule",{value:!0});pg.ChannelImplementation=void 0;var TK=Gh(),CK=xP(),lw=class{constructor(t,i,n){if(typeof t!="string")throw new TypeError("Channel target must be a string");if(!(i instanceof TK.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(n&&typeof n!="object")throw new TypeError("Channel options must be an object");this.internalChannel=new CK.InternalChannel(t,i,n)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(t){return this.internalChannel.getConnectivityState(t)}watchConnectivityState(t,i,n){this.internalChannel.watchConnectivityState(t,i,n)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(t,i,n,s,o){if(typeof t!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof i=="number"||i instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(t,i,n,s,o)}};pg.ChannelImplementation=lw});var jP=x(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.Http2ServerCallStream=Zi.ServerDuplexStreamImpl=Zi.ServerWritableStreamImpl=Zi.ServerReadableStreamImpl=Zi.ServerUnaryCallImpl=void 0;var PP=require("events"),dc=require("http2"),dw=require("stream"),IP=require("zlib"),LP=require("util"),Jt=wt(),fw=ii(),kK=NS(),MP=ir(),xd=qh(),FP="server_call",RK=(0,LP.promisify)(IP.unzip),xK=(0,LP.promisify)(IP.inflate);function Rd(r){MP.trace(Jt.LogVerbosity.DEBUG,FP,r)}var AK="grpc-accept-encoding",OK="grpc-encoding",AP="grpc-message",OP="grpc-status",NP="grpc-timeout",NK=/(\d{1,8})\s*([HMSmun])/,DK={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},PK={[AK]:"identity,deflate,gzip",[OK]:"identity"},DP={[dc.constants.HTTP2_HEADER_STATUS]:dc.constants.HTTP_STATUS_OK,[dc.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},IK={waitForTrailers:!0},cw=class extends PP.EventEmitter{constructor(t,i,n){super(),this.call=t,this.metadata=i,this.request=n,this.cancelled=!1,this.call.setupSurfaceCall(this)}getPeer(){return this.call.getPeer()}sendMetadata(t){this.call.sendMetadata(t)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}};Zi.ServerUnaryCallImpl=cw;var gg=class extends dw.Readable{constructor(t,i,n,s){super({objectMode:!0}),this.call=t,this.metadata=i,this.deserialize=n,this.cancelled=!1,this.call.setupSurfaceCall(this),this.call.setupReadable(this,s)}_read(t){this.call.consumeUnpushedMessages(this)&&this.call.resume()}getPeer(){return this.call.getPeer()}sendMetadata(t){this.call.sendMetadata(t)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}};Zi.ServerReadableStreamImpl=gg;var Ad=class extends dw.Writable{constructor(t,i,n,s){super({objectMode:!0}),this.call=t,this.metadata=i,this.serialize=n,this.request=s,this.cancelled=!1,this.trailingMetadata=new fw.Metadata,this.call.setupSurfaceCall(this),this.on("error",o=>{this.call.sendError(o),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(t){this.call.sendMetadata(t)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}_write(t,i,n){try{let s=this.call.serializeMessage(t);if(!this.call.write(s)){this.call.once("drain",n);return}}catch(s){this.emit("error",{details:(0,xd.getErrorMessage)(s),code:Jt.Status.INTERNAL})}n()}_final(t){this.call.sendStatus({code:Jt.Status.OK,details:"OK",metadata:this.trailingMetadata}),t(null)}end(t){return t&&(this.trailingMetadata=t),super.end()}};Zi.ServerWritableStreamImpl=Ad;var fc=class extends dw.Duplex{constructor(t,i,n,s,o){super({objectMode:!0}),this.call=t,this.metadata=i,this.serialize=n,this.deserialize=s,this.cancelled=!1,this.trailingMetadata=new fw.Metadata,this.call.setupSurfaceCall(this),this.call.setupReadable(this,o),this.on("error",l=>{this.call.sendError(l),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(t){this.call.sendMetadata(t)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}end(t){return t&&(this.trailingMetadata=t),super.end()}};Zi.ServerDuplexStreamImpl=fc;fc.prototype._read=gg.prototype._read;fc.prototype._write=Ad.prototype._write;fc.prototype._final=Ad.prototype._final;var uw=class extends PP.EventEmitter{constructor(t,i,n){super(),this.stream=t,this.handler=i,this.cancelled=!1,this.deadlineTimer=null,this.statusSent=!1,this.deadline=1/0,this.wantTrailers=!1,this.metadataSent=!1,this.canPush=!1,this.isPushPending=!1,this.bufferedMessages=[],this.messagesToPush=[],this.maxSendMessageSize=Jt.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=Jt.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.stream.once("error",s=>{}),this.stream.once("close",()=>{var s;Rd("Request to method "+((s=this.handler)===null||s===void 0?void 0:s.path)+" stream closed with rstCode "+this.stream.rstCode),this.statusSent||(this.cancelled=!0,this.emit("cancelled","cancelled"),this.emit("streamEnd",!1),this.sendStatus({code:Jt.Status.CANCELLED,details:"Cancelled by client",metadata:null}),this.deadlineTimer&&clearTimeout(this.deadlineTimer))}),this.stream.on("drain",()=>{this.emit("drain")}),"grpc.max_send_message_length"in n&&(this.maxSendMessageSize=n["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in n&&(this.maxReceiveMessageSize=n["grpc.max_receive_message_length"])}checkCancelled(){return(this.stream.destroyed||this.stream.closed)&&(this.cancelled=!0),this.cancelled}getDecompressedMessage(t,i){return i==="deflate"?xK(t.subarray(5)):i==="gzip"?RK(t.subarray(5)):i==="identity"?t.subarray(5):Promise.reject({code:Jt.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${i}"`})}sendMetadata(t){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;let i=t?t.toHttp2Headers():null,n=Object.assign(Object.assign(Object.assign({},DP),PK),i);this.stream.respond(n,IK)}receiveMetadata(t){let i=fw.Metadata.fromHttp2Headers(t);MP.isTracerEnabled(FP)&&Rd("Request to "+this.handler.path+" received headers "+JSON.stringify(i.toJSON()));let n=i.get(NP);if(n.length>0){let s=n[0].toString().match(NK);if(s===null){let h=new Error("Invalid deadline");return h.code=Jt.Status.OUT_OF_RANGE,this.sendError(h),i}let o=+s[1]*DK[s[2]]|0,l=new Date;this.deadline=l.setMilliseconds(l.getMilliseconds()+o),this.deadlineTimer=setTimeout(LK,o,this),i.remove(NP)}return i.remove(dc.constants.HTTP2_HEADER_ACCEPT_ENCODING),i.remove(dc.constants.HTTP2_HEADER_TE),i.remove(dc.constants.HTTP2_HEADER_CONTENT_TYPE),i.remove("grpc-accept-encoding"),i}receiveUnaryMessage(t){return new Promise((i,n)=>{let{stream:s}=this,o=0,l=this,h=[],p=this.maxReceiveMessageSize;this.stream.on("data",g),this.stream.on("end",m),this.stream.on("error",m);function g(y){if(o+=y.byteLength,p!==-1&&o>p){s.removeListener("data",g),s.removeListener("end",m),s.removeListener("error",m),n({code:Jt.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${o} vs. ${p})`});return}h.push(y)}function m(y){if(s.removeListener("data",g),s.removeListener("end",m),s.removeListener("error",m),y!==void 0){n({code:Jt.Status.INTERNAL,details:y.message});return}if(o===0){n({code:Jt.Status.INTERNAL,details:"received empty unary message"});return}l.emit("receiveMessage");let S=Buffer.concat(h,o),C=S.readUInt8(0)===1?t:"identity",_=l.getDecompressedMessage(S,C);if(Buffer.isBuffer(_)){i(l.deserializeMessageWithInternalError(_));return}_.then(R=>i(l.deserializeMessageWithInternalError(R)),R=>n(R.code?R:{code:Jt.Status.INTERNAL,details:`Received "grpc-encoding" header "${t}" but ${t} decompression failed`}))}})}async deserializeMessageWithInternalError(t){try{return this.deserializeMessage(t)}catch(i){throw{details:(0,xd.getErrorMessage)(i),code:Jt.Status.INTERNAL}}}serializeMessage(t){let i=this.handler.serialize(t),n=i.byteLength,s=Buffer.allocUnsafe(n+5);return s.writeUInt8(0,0),s.writeUInt32BE(n,1),i.copy(s,5),s}deserializeMessage(t){return this.handler.deserialize(t)}async sendUnaryMessage(t,i,n,s){if(!this.checkCancelled()){if(n===void 0&&(n=null),t){!Object.prototype.hasOwnProperty.call(t,"metadata")&&n&&(t.metadata=n),this.sendError(t);return}try{let o=this.serializeMessage(i);this.write(o),this.sendStatus({code:Jt.Status.OK,details:"OK",metadata:n})}catch(o){this.sendError({details:(0,xd.getErrorMessage)(o),code:Jt.Status.INTERNAL})}}}sendStatus(t){var i,n;if(this.emit("callEnd",t.code),this.emit("streamEnd",t.code===Jt.Status.OK),!this.checkCancelled())if(Rd("Request to method "+((i=this.handler)===null||i===void 0?void 0:i.path)+" ended with status code: "+Jt.Status[t.code]+" details: "+t.details),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.headersSent)this.wantTrailers||(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{var s;let o=Object.assign({[OP]:t.code,[AP]:encodeURI(t.details)},(s=t.metadata)===null||s===void 0?void 0:s.toHttp2Headers());this.stream.sendTrailers(o),this.statusSent=!0}),this.stream.end());else{let s=Object.assign(Object.assign({[OP]:t.code,[AP]:encodeURI(t.details)},DP),(n=t.metadata)===null||n===void 0?void 0:n.toHttp2Headers());this.stream.respond(s,{endStream:!0}),this.statusSent=!0}}sendError(t){let i={code:Jt.Status.UNKNOWN,details:"message"in t?t.message:"Unknown Error",metadata:"metadata"in t&&t.metadata!==void 0?t.metadata:null};"code"in t&&typeof t.code=="number"&&Number.isInteger(t.code)&&(i.code=t.code,"details"in t&&typeof t.details=="string"&&(i.details=t.details)),this.sendStatus(i)}write(t){if(!this.checkCancelled()){if(this.maxSendMessageSize!==-1&&t.length>this.maxSendMessageSize){this.sendError({code:Jt.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${t.length} vs. ${this.maxSendMessageSize})`});return}return this.sendMetadata(),this.emit("sendMessage"),this.stream.write(t)}}resume(){this.stream.resume()}setupSurfaceCall(t){this.once("cancelled",i=>{t.cancelled=!0,t.emit("cancelled",i)}),this.once("callEnd",i=>t.emit("callEnd",i))}setupReadable(t,i){let n=new kK.StreamDecoder,s=!1,o=!1,l=!1,h=async()=>{!l&&s&&!o&&(l=!0,await this.pushOrBufferMessage(t,null))};this.stream.on("data",async p=>{let g=n.write(p);o=!0,this.stream.pause();for(let m of g){if(this.maxReceiveMessageSize!==-1&&m.length>this.maxReceiveMessageSize){this.sendError({code:Jt.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${m.length} vs. ${this.maxReceiveMessageSize})`});return}this.emit("receiveMessage");let S=m.readUInt8(0)===1?i:"identity",w=await this.getDecompressedMessage(m,S);if(!w)return;await this.pushOrBufferMessage(t,w)}o=!1,this.stream.resume(),await h()}),this.stream.once("end",async()=>{s=!0,await h()})}consumeUnpushedMessages(t){for(this.canPush=!0;this.messagesToPush.length>0;){let i=this.messagesToPush.shift(),n=t.push(i);if(i===null||n===!1){this.canPush=!1;break}}return this.canPush}async pushOrBufferMessage(t,i){this.isPushPending?this.bufferedMessages.push(i):await this.pushMessage(t,i)}async pushMessage(t,i){if(i===null){Rd("Received end of stream"),this.canPush?t.push(null):this.messagesToPush.push(null);return}Rd("Received message of length "+i.length),this.isPushPending=!0;try{let n=await this.deserializeMessage(i);this.canPush?t.push(n)||(this.canPush=!1,this.stream.pause()):this.messagesToPush.push(n)}catch(n){this.bufferedMessages.length=0;let s=(0,xd.getErrorCode)(n);(s===null||s<Jt.Status.OK||s>Jt.Status.UNAUTHENTICATED)&&(s=Jt.Status.INTERNAL),t.emit("error",{details:(0,xd.getErrorMessage)(n),code:s})}this.isPushPending=!1,this.bufferedMessages.length>0&&await this.pushMessage(t,this.bufferedMessages.shift())}getPeer(){var t;let i=(t=this.stream.session)===null||t===void 0?void 0:t.socket;return i?.remoteAddress?i.remotePort?`${i.remoteAddress}:${i.remotePort}`:i.remoteAddress:"unknown"}getDeadline(){return this.deadline}getPath(){return this.handler.path}};Zi.Http2ServerCallStream=uw;function LK(r){let t=new Error("Deadline exceeded");t.code=Jt.Status.DEADLINE_EXCEEDED,r.sendError(t),r.cancelled=!0,r.emit("cancelled","deadline")}});var gw=x(mg=>{"use strict";Object.defineProperty(mg,"__esModule",{value:!0});mg.ServerCredentials=void 0;var BP=B1(),Od=class{static createInsecure(){return new hw}static createSsl(t,i,n=!1){if(t!==null&&!Buffer.isBuffer(t))throw new TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(i))throw new TypeError("keyCertPairs must be an array");if(typeof n!="boolean")throw new TypeError("checkClientCertificate must be a boolean");let s=[],o=[];for(let l=0;l<i.length;l++){let h=i[l];if(h===null||typeof h!="object")throw new TypeError(`keyCertPair[${l}] must be an object`);if(!Buffer.isBuffer(h.private_key))throw new TypeError(`keyCertPair[${l}].private_key must be a Buffer`);if(!Buffer.isBuffer(h.cert_chain))throw new TypeError(`keyCertPair[${l}].cert_chain must be a Buffer`);s.push(h.cert_chain),o.push(h.private_key)}return new pw({ca:t||(0,BP.getDefaultRootsData)()||void 0,cert:s,key:o,requestCert:n,ciphers:BP.CIPHER_SUITES})}};mg.ServerCredentials=Od;var hw=class extends Od{_isSecure(){return!1}_getSettings(){return null}},pw=class extends Od{constructor(t){super(),this.options=t}_isSecure(){return!0}_getSettings(){return this.options}}});var WP=x(bg=>{"use strict";Object.defineProperty(bg,"__esModule",{value:!0});bg.Server=void 0;var Fo=require("http2"),Os=wt(),Na=jP(),MK=gw(),UP=Wn(),yg=ir(),En=Hn(),FK=Ni(),gi=Aa(),vg=~(1<<31),jK=~(1<<31),BK=2e4,{HTTP2_HEADER_PATH:qP}=Fo.constants,UK="server";function qK(){}function mw(r){return{code:Os.Status.UNIMPLEMENTED,details:`The server does not implement the method ${r}`}}function WK(r,t){let i=mw(t);switch(r){case"unary":return(n,s)=>{s(i,null)};case"clientStream":return(n,s)=>{s(i,null)};case"serverStream":return n=>{n.emit("error",i)};case"bidi":return n=>{n.emit("error",i)};default:throw new Error(`Invalid handlerType ${r}`)}}var yw=class{constructor(t){var i,n,s,o;this.http2ServerList=[],this.handlers=new Map,this.sessions=new Map,this.started=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.channelzTrace=new gi.ChannelzTrace,this.callTracker=new gi.ChannelzCallTracker,this.listenerChildrenTracker=new gi.ChannelzChildrenTracker,this.sessionChildrenTracker=new gi.ChannelzChildrenTracker,this.options=t??{},this.options["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzRef=(0,gi.registerChannelzServer)(()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=(i=this.options["grpc.max_connection_age_ms"])!==null&&i!==void 0?i:vg,this.maxConnectionAgeGraceMs=(n=this.options["grpc.max_connection_age_grace_ms"])!==null&&n!==void 0?n:vg,this.keepaliveTimeMs=(s=this.options["grpc.keepalive_time_ms"])!==null&&s!==void 0?s:jK,this.keepaliveTimeoutMs=(o=this.options["grpc.keepalive_timeout_ms"])!==null&&o!==void 0?o:BK,this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfoGetter(t){return()=>{var i,n,s;let o=this.sessions.get(t),l=t.socket,h=l.remoteAddress?(0,En.stringToSubchannelAddress)(l.remoteAddress,l.remotePort):null,p=l.localAddress?(0,En.stringToSubchannelAddress)(l.localAddress,l.localPort):null,g;if(t.encrypted){let y=l,S=y.getCipher(),w=y.getCertificate(),C=y.getPeerCertificate();g={cipherSuiteStandardName:(i=S.standardName)!==null&&i!==void 0?i:null,cipherSuiteOtherName:S.standardName?null:S.name,localCertificate:w&&"raw"in w?w.raw:null,remoteCertificate:C&&"raw"in C?C.raw:null}}else g=null;return{remoteAddress:h,localAddress:p,security:g,remoteName:null,streamsStarted:o.streamTracker.callsStarted,streamsSucceeded:o.streamTracker.callsSucceeded,streamsFailed:o.streamTracker.callsFailed,messagesSent:o.messagesSent,messagesReceived:o.messagesReceived,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:o.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:o.lastMessageSentTimestamp,lastMessageReceivedTimestamp:o.lastMessageReceivedTimestamp,localFlowControlWindow:(n=t.state.localWindowSize)!==null&&n!==void 0?n:null,remoteFlowControlWindow:(s=t.state.remoteWindowSize)!==null&&s!==void 0?s:null}}}trace(t){yg.trace(Os.LogVerbosity.DEBUG,UK,"("+this.channelzRef.id+") "+t)}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService(t,i){if(t===null||typeof t!="object"||i===null||typeof i!="object")throw new Error("addService() requires two objects as arguments");let n=Object.keys(t);if(n.length===0)throw new Error("Cannot add an empty service to a server");n.forEach(s=>{let o=t[s],l;o.requestStream?o.responseStream?l="bidi":l="clientStream":o.responseStream?l="serverStream":l="unary";let h=i[s],p;if(h===void 0&&typeof o.originalName=="string"&&(h=i[o.originalName]),h!==void 0?p=h.bind(i):p=WK(l,s),this.register(o.path,p,o.responseSerialize,o.requestDeserialize,l)===!1)throw new Error(`Method handler for ${o.path} already provided.`)})}removeService(t){if(t===null||typeof t!="object")throw new Error("removeService() requires object as argument");Object.keys(t).forEach(n=>{let s=t[n];this.unregister(s.path)})}bind(t,i){throw new Error("Not implemented. Use bindAsync() instead")}bindAsync(t,i,n){if(this.started===!0)throw new Error("server is already started");if(typeof t!="string")throw new TypeError("port must be a string");if(i===null||!(i instanceof MK.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");if(typeof n!="function")throw new TypeError("callback must be a function");let s=(0,FK.parseUri)(t);if(s===null)throw new Error(`Could not parse port "${t}"`);let o=(0,UP.mapUriDefaultScheme)(s);if(o===null)throw new Error(`Could not get a default scheme for port "${t}"`);let l={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER};"grpc-node.max_session_memory"in this.options?l.maxSessionMemory=this.options["grpc-node.max_session_memory"]:l.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(l.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]});let h=(w,C)=>{process.nextTick(()=>n(w,C))},p=()=>{let w;if(i._isSecure()){let C=Object.assign(l,i._getSettings());C.enableTrace=this.options["grpc-node.tls_enable_trace"]===1,w=Fo.createSecureServer(C),w.on("secureConnection",_=>{_.on("error",R=>{this.trace("An incoming TLS connection closed with error: "+R.message)})})}else w=Fo.createServer(l);return w.setTimeout(0,qK),this._setupHandlers(w),w},g=(w,C,_)=>w.length===0?Promise.resolve({port:C,count:_}):Promise.all(w.map(R=>{this.trace("Attempting to bind "+(0,En.subchannelAddressToString)(R));let D;(0,En.isTcpSubchannelAddress)(R)?D={host:R.host,port:C}:D=R;let I=p();return new Promise((M,L)=>{let V=K=>{this.trace("Failed to bind "+(0,En.subchannelAddressToString)(R)+" with error "+K.message),M(K)};I.once("error",V),I.listen(D,()=>{let K=I.address(),Q;typeof K=="string"?Q={path:K}:Q={host:K.address,port:K.port};let le=(0,gi.registerChannelzSocket)((0,En.subchannelAddressToString)(Q),()=>({localAddress:Q,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(le),this.http2ServerList.push({server:I,channelzRef:le}),this.trace("Successfully bound "+(0,En.subchannelAddressToString)(Q)),M("port"in Q?Q.port:C),I.removeListener("error",V)})})})).then(R=>{let D=0;for(let I of R)if(typeof I=="number"&&(D+=1,I!==C))throw new Error("Invalid state: multiple port numbers added from single address");return{port:C,count:D+_}}),m=w=>{if(w.length===0)return Promise.resolve({port:0,count:0});let C=w[0],_=p();return new Promise((R,D)=>{let I=M=>{this.trace("Failed to bind "+(0,En.subchannelAddressToString)(C)+" with error "+M.message),R(m(w.slice(1)))};_.once("error",I),_.listen(C,()=>{let M=_.address(),L={host:M.address,port:M.port},V=(0,gi.registerChannelzSocket)((0,En.subchannelAddressToString)(L),()=>({localAddress:L,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(V),this.http2ServerList.push({server:_,channelzRef:V}),this.trace("Successfully bound "+(0,En.subchannelAddressToString)(L)),R(g(w.slice(1),M.port,1)),_.removeListener("error",I)})})},y={onSuccessfulResolution:(w,C,_)=>{if(y.onSuccessfulResolution=()=>{},w.length===0){h(new Error(`No addresses resolved for port ${t}`),0);return}let R;(0,En.isTcpSubchannelAddress)(w[0])?w[0].port===0?R=m(w):R=g(w,w[0].port,0):R=g(w,1,0),R.then(D=>{if(D.count===0){let I=`No address added out of total ${w.length} resolved`;yg.log(Os.LogVerbosity.ERROR,I),h(new Error(I),0)}else D.count<w.length&&yg.log(Os.LogVerbosity.INFO,`WARNING Only ${D.count} addresses added out of total ${w.length} resolved`),h(null,D.port)},D=>{let I=`No address added out of total ${w.length} resolved`;yg.log(Os.LogVerbosity.ERROR,I),h(new Error(I),0)})},onError:w=>{h(new Error(w.details),0)}};(0,UP.createResolver)(o,y,this.options).updateResolution()}forceShutdown(){for(let{server:t,channelzRef:i}of this.http2ServerList)t.listening&&t.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(i),(0,gi.unregisterChannelzRef)(i))});this.started=!1,this.sessions.forEach((t,i)=>{i.destroy(Fo.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),this.channelzEnabled&&(0,gi.unregisterChannelzRef)(this.channelzRef)}register(t,i,n,s,o){return this.handlers.has(t)?!1:(this.handlers.set(t,{func:i,serialize:n,deserialize:s,type:o,path:t}),!0)}unregister(t){return this.handlers.delete(t)}start(){if(this.http2ServerList.length===0||this.http2ServerList.every(({server:t})=>t.listening!==!0))throw new Error("server must be bound in order to start");if(this.started===!0)throw new Error("server is already started");this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Starting"),this.started=!0}tryShutdown(t){let i=o=>{this.channelzEnabled&&(0,gi.unregisterChannelzRef)(this.channelzRef),t(o)},n=0;function s(){n--,n===0&&i()}this.started=!1;for(let{server:o,channelzRef:l}of this.http2ServerList)o.listening&&(n++,o.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(l),(0,gi.unregisterChannelzRef)(l)),s()}));this.sessions.forEach((o,l)=>{l.closed||(n+=1,l.close(s))}),n===0&&i()}addHttp2Port(){throw new Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(t,i){let n=i[Fo.constants.HTTP2_HEADER_CONTENT_TYPE];return typeof n!="string"||!n.startsWith("application/grpc")?(t.respond({[Fo.constants.HTTP2_HEADER_STATUS]:Fo.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1):!0}_retrieveHandler(t){this.trace("Received call to method "+t+" at address "+this.serverAddressString);let i=this.handlers.get(t);return i===void 0?(this.trace("No handler registered for method "+t+". Sending UNIMPLEMENTED status."),null):i}_respondWithError(t,i,n=null){let s=new Na.Http2ServerCallStream(i,null,this.options);t.code===void 0&&(t.code=Os.Status.INTERNAL),this.channelzEnabled&&(this.callTracker.addCallFailed(),n?.streamTracker.addCallFailed()),s.sendError(t)}_channelzHandler(t,i){let n=this.sessions.get(t.session);if(this.callTracker.addCallStarted(),n?.streamTracker.addCallStarted(),!this._verifyContentType(t,i)){this.callTracker.addCallFailed(),n?.streamTracker.addCallFailed();return}let s=i[qP],o=this._retrieveHandler(s);if(!o){this._respondWithError(mw(s),t,n);return}let l=new Na.Http2ServerCallStream(t,o,this.options);l.once("callEnd",h=>{h===Os.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}),n&&(l.once("streamEnd",h=>{h?n.streamTracker.addCallSucceeded():n.streamTracker.addCallFailed()}),l.on("sendMessage",()=>{n.messagesSent+=1,n.lastMessageSentTimestamp=new Date}),l.on("receiveMessage",()=>{n.messagesReceived+=1,n.lastMessageReceivedTimestamp=new Date})),this._runHandlerForCall(l,o,i)||(this.callTracker.addCallFailed(),n?.streamTracker.addCallFailed(),l.sendError({code:Os.Status.INTERNAL,details:`Unknown handler type: ${o.type}`}))}_streamHandler(t,i){if(this._verifyContentType(t,i)!==!0)return;let n=i[qP],s=this._retrieveHandler(n);if(!s){this._respondWithError(mw(n),t,null);return}let o=new Na.Http2ServerCallStream(t,s,this.options);this._runHandlerForCall(o,s,i)||o.sendError({code:Os.Status.INTERNAL,details:`Unknown handler type: ${s.type}`})}_runHandlerForCall(t,i,n){var s;let o=t.receiveMetadata(n),l=(s=o.get("grpc-encoding")[0])!==null&&s!==void 0?s:"identity";o.remove("grpc-encoding");let{type:h}=i;if(h==="unary")zK(t,i,o,l);else if(h==="clientStream")HK(t,i,o,l);else if(h==="serverStream")VK(t,i,o,l);else if(h==="bidi")$K(t,i,o,l);else return!1;return!0}_setupHandlers(t){if(t===null)return;let i=t.address(),n="null";i&&(typeof i=="string"?n=i:n=i.address+":"+i.port),this.serverAddressString=n;let s=this.channelzEnabled?this._channelzHandler:this._streamHandler;t.on("stream",s.bind(this)),t.on("session",o=>{var l,h,p,g,m;if(!this.started){o.destroy();return}let y=(0,gi.registerChannelzSocket)((l=o.socket.remoteAddress)!==null&&l!==void 0?l:"unknown",this.getChannelzSessionInfoGetter(o),this.channelzEnabled),S={ref:y,streamTracker:new gi.ChannelzCallTracker,messagesSent:0,messagesReceived:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};this.sessions.set(o,S);let w=o.socket.remoteAddress;this.channelzEnabled&&(this.channelzTrace.addTrace("CT_INFO","Connection established by client "+w),this.sessionChildrenTracker.refChild(y));let C=null,_=null,R=!1;if(this.maxConnectionAgeMs!==vg){let I=this.maxConnectionAgeMs/10,M=Math.random()*I*2-I;C=(p=(h=setTimeout(()=>{var L,V;R=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+w);try{o.goaway(Fo.constants.NGHTTP2_NO_ERROR,~(1<<31),Buffer.from("max_age"))}catch{o.destroy();return}o.close(),this.maxConnectionAgeGraceMs!==vg&&(_=(V=(L=setTimeout(()=>{o.destroy()},this.maxConnectionAgeGraceMs)).unref)===null||V===void 0?void 0:V.call(L))},this.maxConnectionAgeMs+M)).unref)===null||p===void 0?void 0:p.call(h)}let D=(m=(g=setInterval(()=>{var I,M;let L=(M=(I=setTimeout(()=>{R=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+w),o.close()},this.keepaliveTimeoutMs)).unref)===null||M===void 0?void 0:M.call(I);try{o.ping((V,K,Q)=>{clearTimeout(L)})}catch{o.destroy()}},this.keepaliveTimeMs)).unref)===null||m===void 0?void 0:m.call(g);o.on("close",()=>{this.channelzEnabled&&(R||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+w),this.sessionChildrenTracker.unrefChild(y),(0,gi.unregisterChannelzRef)(y)),C&&clearTimeout(C),_&&clearTimeout(_),D&&clearTimeout(D),this.sessions.delete(o)})})}};bg.Server=yw;async function zK(r,t,i,n){try{let s=await r.receiveUnaryMessage(n);if(s===void 0||r.cancelled)return;let o=new Na.ServerUnaryCallImpl(r,i,s);t.func(o,(l,h,p,g)=>{r.sendUnaryMessage(l,h,p,g)})}catch(s){r.sendError(s)}}function HK(r,t,i,n){let s=new Na.ServerReadableStreamImpl(r,i,t.deserialize,n);function o(l,h,p,g){s.destroy(),r.sendUnaryMessage(l,h,p,g)}r.cancelled||(s.on("error",o),t.func(s,o))}async function VK(r,t,i,n){try{let s=await r.receiveUnaryMessage(n);if(s===void 0||r.cancelled)return;let o=new Na.ServerWritableStreamImpl(r,i,t.serialize,s);t.func(o)}catch(s){r.sendError(s)}}function $K(r,t,i,n){let s=new Na.ServerDuplexStreamImpl(r,i,t.serialize,t.deserialize,n);r.cancelled||t.func(s)}});var zP=x(Sg=>{"use strict";Object.defineProperty(Sg,"__esModule",{value:!0});Sg.StatusBuilder=void 0;var vw=class{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(t){return this.code=t,this}withDetails(t){return this.details=t,this}withMetadata(t){return this.metadata=t,this}build(){let t={};return this.code!==null&&(t.code=this.code),this.details!==null&&(t.details=this.details),this.metadata!==null&&(t.metadata=this.metadata),t}};Sg.StatusBuilder=vw});var bw=x(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});jo.isDuration=jo.durationToMs=jo.msToDuration=void 0;function GK(r){return{seconds:r/1e3|0,nanos:r%1e3*1e6|0}}jo.msToDuration=GK;function YK(r){return r.seconds*1e3+r.nanos/1e6|0}jo.durationToMs=YK;function KK(r){return typeof r.seconds=="number"&&typeof r.nanos=="number"}jo.isDuration=KK});var Rw=x(Bo=>{"use strict";var Sw;Object.defineProperty(Bo,"__esModule",{value:!0});Bo.setup=Bo.OutlierDetectionLoadBalancer=Bo.OutlierDetectionLoadBalancingConfig=void 0;var _g=zi(),VP=wt(),Da=bw(),$P=xw(),GP=vo(),XK=ep(),JK=_o(),HP=Hn(),ZK=ug(),QK=ir(),eX="outlier_detection";function kr(r){QK.trace(VP.LogVerbosity.DEBUG,eX,r)}var kw="outlier_detection",tX=((Sw=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)!==null&&Sw!==void 0?Sw:"true")==="true",rX={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},iX={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function hc(r,t,i,n){if(t in r&&typeof r[t]!==i){let s=n?`${n}.${t}`:t;throw new Error(`outlier detection config ${s} parse error: expected ${i}, got ${typeof r[t]}`)}}function ww(r,t,i){let n=i?`${i}.${t}`:t;if(t in r){if(!(0,Da.isDuration)(r[t]))throw new Error(`outlier detection config ${n} parse error: expected Duration, got ${typeof r[t]}`);if(!(r[t].seconds>=0&&r[t].seconds<=315576e6&&r[t].nanos>=0&&r[t].nanos<=999999999))throw new Error(`outlier detection config ${n} parse error: values out of range for non-negative Duaration`)}}function wg(r,t,i){let n=i?`${i}.${t}`:t;if(hc(r,t,"number",i),t in r&&!(r[t]>=0&&r[t]<=100))throw new Error(`outlier detection config ${n} parse error: value out of range for percentage (0-100)`)}var Nd=class r{constructor(t,i,n,s,o,l,h){if(this.childPolicy=h,h.length>0&&h[0].getLoadBalancerName()==="pick_first")throw new Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=t??1e4,this.baseEjectionTimeMs=i??3e4,this.maxEjectionTimeMs=n??3e5,this.maxEjectionPercent=s??10,this.successRateEjection=o?Object.assign(Object.assign({},rX),o):null,this.failurePercentageEjection=l?Object.assign(Object.assign({},iX),l):null}getLoadBalancerName(){return kw}toJsonObject(){return{interval:(0,Da.msToDuration)(this.intervalMs),base_ejection_time:(0,Da.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,Da.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:this.successRateEjection,failure_percentage_ejection:this.failurePercentageEjection,child_policy:this.childPolicy.map(t=>t.toJsonObject())}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}copyWithChildPolicy(t){return new r(this.intervalMs,this.baseEjectionTimeMs,this.maxEjectionTimeMs,this.maxEjectionPercent,this.successRateEjection,this.failurePercentageEjection,t)}static createFromJson(t){var i;if(ww(t,"interval"),ww(t,"base_ejection_time"),ww(t,"max_ejection_time"),wg(t,"max_ejection_percent"),"success_rate_ejection"in t){if(typeof t.success_rate_ejection!="object")throw new Error("outlier detection config success_rate_ejection must be an object");hc(t.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),wg(t.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),hc(t.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),hc(t.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in t){if(typeof t.failure_percentage_ejection!="object")throw new Error("outlier detection config failure_percentage_ejection must be an object");wg(t.failure_percentage_ejection,"threshold","failure_percentage_ejection"),wg(t.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),hc(t.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),hc(t.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}return new r(t.interval?(0,Da.durationToMs)(t.interval):null,t.base_ejection_time?(0,Da.durationToMs)(t.base_ejection_time):null,t.max_ejection_time?(0,Da.durationToMs)(t.max_ejection_time):null,(i=t.max_ejection_percent)!==null&&i!==void 0?i:null,t.success_rate_ejection,t.failure_percentage_ejection,t.child_policy.map(GP.validateLoadBalancingConfig))}};Bo.OutlierDetectionLoadBalancingConfig=Nd;var Ew=class extends ZK.BaseSubchannelWrapper{constructor(t,i){super(t),this.mapEntry=i,this.stateListeners=[],this.ejected=!1,this.refCount=0,this.childSubchannelState=t.getConnectivityState(),t.addConnectivityStateListener((n,s,o,l)=>{if(this.childSubchannelState=o,!this.ejected)for(let h of this.stateListeners)h(this,s,o,l)})}getConnectivityState(){return this.ejected?_g.ConnectivityState.TRANSIENT_FAILURE:this.childSubchannelState}addConnectivityStateListener(t){this.stateListeners.push(t)}removeConnectivityStateListener(t){let i=this.stateListeners.indexOf(t);i>-1&&this.stateListeners.splice(i,1)}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){let t=this.mapEntry.subchannelWrappers.indexOf(this);t>=0&&this.mapEntry.subchannelWrappers.splice(t,1)}}eject(){this.ejected=!0;for(let t of this.stateListeners)t(this,this.childSubchannelState,_g.ConnectivityState.TRANSIENT_FAILURE,-1)}uneject(){this.ejected=!1;for(let t of this.stateListeners)t(this,_g.ConnectivityState.TRANSIENT_FAILURE,this.childSubchannelState,-1)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}};function _w(){return{success:0,failure:0}}var Tw=class{constructor(){this.activeBucket=_w(),this.inactiveBucket=_w()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=_w()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}},Cw=class{constructor(t,i){this.wrappedPicker=t,this.countCalls=i}pick(t){let i=this.wrappedPicker.pick(t);if(i.pickResultType===JK.PickResultType.COMPLETE){let n=i.subchannel,s=n.getMapEntry();if(s){let o=i.onCallEnded;return this.countCalls&&(o=l=>{var h;l===VP.Status.OK?s.counter.addSuccess():s.counter.addFailure(),(h=i.onCallEnded)===null||h===void 0||h.call(i,l)}),Object.assign(Object.assign({},i),{subchannel:n.getWrappedSubchannel(),onCallEnded:o})}else return Object.assign(Object.assign({},i),{subchannel:n.getWrappedSubchannel()})}else return i}},Eg=class{constructor(t){this.addressMap=new Map,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new XK.ChildLoadBalancerHandler((0,$P.createChildChannelControlHelper)(t,{createSubchannel:(i,n)=>{let s=t.createSubchannel(i,n),o=this.addressMap.get((0,HP.subchannelAddressToString)(i)),l=new Ew(s,o);return o?.currentEjectionTimestamp!==null&&l.eject(),o?.subchannelWrappers.push(l),l},updateState:(i,n)=>{i===_g.ConnectivityState.READY?t.updateState(i,new Cw(n,this.isCountingEnabled())):t.updateState(i,n)}})),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return this.latestConfig!==null&&(this.latestConfig.getSuccessRateEjectionConfig()!==null||this.latestConfig.getFailurePercentageEjectionConfig()!==null)}getCurrentEjectionPercent(){let t=0;for(let i of this.addressMap.values())i.currentEjectionTimestamp!==null&&(t+=1);return t*100/this.addressMap.size}runSuccessRateCheck(t){if(!this.latestConfig)return;let i=this.latestConfig.getSuccessRateEjectionConfig();if(!i)return;kr("Running success rate check");let n=i.request_volume,s=0,o=[];for(let[y,S]of this.addressMap){let w=S.counter.getLastSuccesses(),C=S.counter.getLastFailures();kr("Stats for "+y+": successes="+w+" failures="+C+" targetRequestVolume="+n),w+C>=n&&(s+=1,o.push(w/(w+C)))}if(kr("Found "+s+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+o+"]"),s<i.minimum_hosts)return;let l=o.reduce((y,S)=>y+S)/o.length,h=0;for(let y of o){let S=y-l;h+=S*S}let p=h/o.length,g=Math.sqrt(p),m=l-g*(i.stdev_factor/1e3);kr("stdev="+g+" ejectionThreshold="+m);for(let[y,S]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let w=S.counter.getLastSuccesses(),C=S.counter.getLastFailures();if(w+C<n)continue;let _=w/(w+C);if(kr("Checking candidate "+y+" successRate="+_),_<m){let R=Math.random()*100;kr("Candidate "+y+" randomNumber="+R+" enforcement_percentage="+i.enforcement_percentage),R<i.enforcement_percentage&&(kr("Ejecting candidate "+y),this.eject(S,t))}}}runFailurePercentageCheck(t){if(!this.latestConfig)return;let i=this.latestConfig.getFailurePercentageEjectionConfig();if(!i)return;kr("Running failure percentage check. threshold="+i.threshold+" request volume threshold="+i.request_volume);let n=0;for(let s of this.addressMap.values()){let o=s.counter.getLastSuccesses(),l=s.counter.getLastFailures();o+l>=i.request_volume&&(n+=1)}if(!(n<i.minimum_hosts))for(let[s,o]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let l=o.counter.getLastSuccesses(),h=o.counter.getLastFailures();if(kr("Candidate successes="+l+" failures="+h),l+h<i.request_volume)continue;if(h*100/(h+l)>i.threshold){let g=Math.random()*100;kr("Candidate "+s+" randomNumber="+g+" enforcement_percentage="+i.enforcement_percentage),g<i.enforcement_percentage&&(kr("Ejecting candidate "+s),this.eject(o,t))}}}eject(t,i){t.currentEjectionTimestamp=new Date,t.ejectionTimeMultiplier+=1;for(let n of t.subchannelWrappers)n.eject()}uneject(t){t.currentEjectionTimestamp=null;for(let i of t.subchannelWrappers)i.uneject()}switchAllBuckets(){for(let t of this.addressMap.values())t.counter.switchBuckets()}startTimer(t){var i,n;this.ejectionTimer=setTimeout(()=>this.runChecks(),t),(n=(i=this.ejectionTimer).unref)===null||n===void 0||n.call(i)}runChecks(){let t=new Date;if(kr("Ejection timer running"),this.switchAllBuckets(),!!this.latestConfig){this.timerStartTime=t,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(t),this.runFailurePercentageCheck(t);for(let[i,n]of this.addressMap.entries())if(n.currentEjectionTimestamp===null)n.ejectionTimeMultiplier>0&&(n.ejectionTimeMultiplier-=1);else{let s=this.latestConfig.getBaseEjectionTimeMs(),o=this.latestConfig.getMaxEjectionTimeMs(),l=new Date(n.currentEjectionTimestamp.getTime());l.setMilliseconds(l.getMilliseconds()+Math.min(s*n.ejectionTimeMultiplier,Math.max(s,o))),l<new Date&&(kr("Unejecting "+i),this.uneject(n))}}}updateAddressList(t,i,n){if(!(i instanceof Nd))return;let s=new Set;for(let l of t)s.add((0,HP.subchannelAddressToString)(l));for(let l of s)this.addressMap.has(l)||(kr("Adding map entry for "+l),this.addressMap.set(l,{counter:new Tw,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));for(let l of this.addressMap.keys())s.has(l)||(kr("Removing map entry for "+l),this.addressMap.delete(l));let o=(0,GP.getFirstUsableConfig)(i.getChildPolicy(),!0);if(this.childBalancer.updateAddressList(t,o,n),i.getSuccessRateEjectionConfig()||i.getFailurePercentageEjectionConfig())if(this.timerStartTime){kr("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let l=i.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(l)}else kr("Starting new timer"),this.timerStartTime=new Date,this.startTimer(i.getIntervalMs()),this.switchAllBuckets();else{kr("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer);for(let l of this.addressMap.values())this.uneject(l),l.ejectionTimeMultiplier=0}this.latestConfig=i}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return kw}};Bo.OutlierDetectionLoadBalancer=Eg;function nX(){tX&&(0,$P.registerLoadBalancerType)(kw,Eg,Nd)}Bo.setup=nX});var xw=x(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.OutlierDetectionLoadBalancingConfig=rt.BaseSubchannelWrapper=rt.registerAdminService=rt.FilterStackFactory=rt.BaseFilter=rt.PickResultType=rt.QueuePicker=rt.UnavailablePicker=rt.ChildLoadBalancerHandler=rt.subchannelAddressToString=rt.validateLoadBalancingConfig=rt.getFirstUsableConfig=rt.registerLoadBalancerType=rt.createChildChannelControlHelper=rt.BackoffTimeout=rt.durationToMs=rt.uriToString=rt.createResolver=rt.registerResolver=rt.log=rt.trace=void 0;var YP=ir();Object.defineProperty(rt,"trace",{enumerable:!0,get:function(){return YP.trace}});Object.defineProperty(rt,"log",{enumerable:!0,get:function(){return YP.log}});var KP=Wn();Object.defineProperty(rt,"registerResolver",{enumerable:!0,get:function(){return KP.registerResolver}});Object.defineProperty(rt,"createResolver",{enumerable:!0,get:function(){return KP.createResolver}});var sX=Ni();Object.defineProperty(rt,"uriToString",{enumerable:!0,get:function(){return sX.uriToString}});var oX=bw();Object.defineProperty(rt,"durationToMs",{enumerable:!0,get:function(){return oX.durationToMs}});var aX=Zu();Object.defineProperty(rt,"BackoffTimeout",{enumerable:!0,get:function(){return aX.BackoffTimeout}});var Tg=vo();Object.defineProperty(rt,"createChildChannelControlHelper",{enumerable:!0,get:function(){return Tg.createChildChannelControlHelper}});Object.defineProperty(rt,"registerLoadBalancerType",{enumerable:!0,get:function(){return Tg.registerLoadBalancerType}});Object.defineProperty(rt,"getFirstUsableConfig",{enumerable:!0,get:function(){return Tg.getFirstUsableConfig}});Object.defineProperty(rt,"validateLoadBalancingConfig",{enumerable:!0,get:function(){return Tg.validateLoadBalancingConfig}});var lX=Hn();Object.defineProperty(rt,"subchannelAddressToString",{enumerable:!0,get:function(){return lX.subchannelAddressToString}});var cX=ep();Object.defineProperty(rt,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return cX.ChildLoadBalancerHandler}});var Aw=_o();Object.defineProperty(rt,"UnavailablePicker",{enumerable:!0,get:function(){return Aw.UnavailablePicker}});Object.defineProperty(rt,"QueuePicker",{enumerable:!0,get:function(){return Aw.QueuePicker}});Object.defineProperty(rt,"PickResultType",{enumerable:!0,get:function(){return Aw.PickResultType}});var uX=Kp();Object.defineProperty(rt,"BaseFilter",{enumerable:!0,get:function(){return uX.BaseFilter}});var dX=qS();Object.defineProperty(rt,"FilterStackFactory",{enumerable:!0,get:function(){return dX.FilterStackFactory}});var fX=rp();Object.defineProperty(rt,"registerAdminService",{enumerable:!0,get:function(){return fX.registerAdminService}});var hX=ug();Object.defineProperty(rt,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return hX.BaseSubchannelWrapper}});var pX=Rw();Object.defineProperty(rt,"OutlierDetectionLoadBalancingConfig",{enumerable:!0,get:function(){return pX.OutlierDetectionLoadBalancingConfig}})});var t6=x(Cg=>{"use strict";Object.defineProperty(Cg,"__esModule",{value:!0});Cg.setup=void 0;var XP=Wn(),QP=require("dns"),e6=require("util"),gX=H1(),Ow=wt(),Nw=ii(),mX=ir(),yX=wt(),Uo=Ni(),JP=require("net"),vX=Zu(),bX="dns_resolver";function pc(r){mX.trace(yX.LogVerbosity.DEBUG,bX,r)}var ZP=443,SX=3e4,wX=e6.promisify(QP.resolveTxt),_X=e6.promisify(QP.lookup);function EX(...r){let t=[];for(let i=0;i<Math.max.apply(null,r.map(n=>n.length));i++)for(let n of r)i<n.length&&t.push(n[i]);return t}var Dw=class{constructor(t,i,n){var s,o,l;this.target=t,this.listener=i,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,pc("Resolver constructed for target "+(0,Uo.uriToString)(t));let h=(0,Uo.splitHostPort)(t.path);h===null?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,JP.isIPv4)(h.host)||(0,JP.isIPv6)(h.host)?(this.ipResult=[{host:h.host,port:(s=h.port)!==null&&s!==void 0?s:ZP}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=h.host,this.port=(o=h.port)!==null&&o!==void 0?o:ZP),this.percentage=Math.random()*100,n["grpc.service_config_disable_resolution"]===1&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:Ow.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,Uo.uriToString)(this.target)}`,metadata:new Nw.Metadata};let p={initialDelay:n["grpc.initial_reconnect_backoff_ms"],maxDelay:n["grpc.max_reconnect_backoff_ms"]};this.backoff=new vX.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},p),this.backoff.unref(),this.minTimeBetweenResolutionsMs=(l=n["grpc.dns_min_time_between_resolutions_ms"])!==null&&l!==void 0?l:SX,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(this.ipResult!==null){pc("Returning IP address for target "+(0,Uo.uriToString)(this.target)),setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}),this.backoff.stop(),this.backoff.reset();return}if(this.dnsHostname===null)pc("Failed to parse DNS address "+(0,Uo.uriToString)(this.target)),setImmediate(()=>{this.listener.onError({code:Ow.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,Uo.uriToString)(this.target)}`,metadata:new Nw.Metadata})}),this.stopNextResolutionTimer();else{if(this.pendingLookupPromise!==null)return;pc("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let t=this.dnsHostname;this.pendingLookupPromise=_X(t,{all:!0}),this.pendingLookupPromise.then(i=>{if(this.pendingLookupPromise===null)return;this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop();let n=i.filter(l=>l.family===4),s=i.filter(l=>l.family===6);this.latestLookupResult=EX(s,n).map(l=>({host:l.address,port:+this.port}));let o="["+this.latestLookupResult.map(l=>l.host+":"+l.port).join(",")+"]";if(pc("Resolved addresses for target "+(0,Uo.uriToString)(this.target)+": "+o),this.latestLookupResult.length===0){this.listener.onError(this.defaultResolutionError);return}this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},i=>{this.pendingLookupPromise!==null&&(pc("Resolution error for target "+(0,Uo.uriToString)(this.target)+": "+i.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError))}),this.isServiceConfigEnabled&&this.pendingTxtPromise===null&&(this.pendingTxtPromise=wX(t),this.pendingTxtPromise.then(i=>{if(this.pendingTxtPromise!==null){this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,gX.extractAndSelectServiceConfig)(i,this.percentage)}catch(n){this.latestServiceConfigError={code:Ow.Status.UNAVAILABLE,details:`Parsing service config failed with error ${n.message}`,metadata:new Nw.Metadata}}this.latestLookupResult!==null&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}},i=>{}))}}startNextResolutionTimer(){var t,i;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=(i=(t=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs)).unref)===null||i===void 0?void 0:i.call(t),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){this.pendingLookupPromise===null&&(this.continueResolving=!1,this.startResolution(),this.backoff.runOnce(),this.startNextResolutionTimer())}updateResolution(){this.pendingLookupPromise===null&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?this.continueResolving=!0:this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null}static getDefaultAuthority(t){return t.path}};function TX(){(0,XP.registerResolver)("dns",Dw),(0,XP.registerDefaultScheme)("dns")}Cg.setup=TX});var r6=x(kg=>{"use strict";Object.defineProperty(kg,"__esModule",{value:!0});kg.setup=void 0;var CX=Wn(),Pw=class{constructor(t,i,n){this.listener=i,this.addresses=[];let s;t.authority===""?s="/"+t.path:s=t.path,this.addresses=[{path:s}]}updateResolution(){process.nextTick(this.listener.onSuccessfulResolution,this.addresses,null,null,null,{})}destroy(){}static getDefaultAuthority(t){return"localhost"}};function kX(){(0,CX.registerResolver)("unix",Pw)}kg.setup=kX});var a6=x(Ag=>{"use strict";Object.defineProperty(Ag,"__esModule",{value:!0});Ag.setup=void 0;var i6=require("net"),Rg=wt(),Iw=ii(),n6=Wn(),s6=Ni(),RX=ir(),xX="ip_resolver";function o6(r){RX.trace(Rg.LogVerbosity.DEBUG,xX,r)}var Lw="ipv4",Mw="ipv6",AX=443,xg=class{constructor(t,i,n){var s;this.listener=i,this.addresses=[],this.error=null,o6("Resolver constructed for target "+(0,s6.uriToString)(t));let o=[];if(!(t.scheme===Lw||t.scheme===Mw)){this.error={code:Rg.Status.UNAVAILABLE,details:`Unrecognized scheme ${t.scheme} in IP resolver`,metadata:new Iw.Metadata};return}let l=t.path.split(",");for(let h of l){let p=(0,s6.splitHostPort)(h);if(p===null){this.error={code:Rg.Status.UNAVAILABLE,details:`Failed to parse ${t.scheme} address ${h}`,metadata:new Iw.Metadata};return}if(t.scheme===Lw&&!(0,i6.isIPv4)(p.host)||t.scheme===Mw&&!(0,i6.isIPv6)(p.host)){this.error={code:Rg.Status.UNAVAILABLE,details:`Failed to parse ${t.scheme} address ${h}`,metadata:new Iw.Metadata};return}o.push({host:p.host,port:(s=p.port)!==null&&s!==void 0?s:AX})}this.addresses=o,o6("Parsed "+t.scheme+" address list "+this.addresses)}updateResolution(){process.nextTick(()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.addresses,null,null,null,{})})}destroy(){}static getDefaultAuthority(t){return t.path.split(",")[0]}};function OX(){(0,n6.registerResolver)(Lw,xg),(0,n6.registerResolver)(Mw,xg)}Ag.setup=OX});var u6=x(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.setup=is.PickFirstLoadBalancer=is.shuffled=is.PickFirstLoadBalancingConfig=void 0;var l6=vo(),si=zi(),Og=_o(),NX=ir(),DX=wt(),PX="pick_first";function Fw(r){NX.trace(DX.LogVerbosity.DEBUG,PX,r)}var Dd="pick_first",IX=250,Pd=class r{constructor(t){this.shuffleAddressList=t}getLoadBalancerName(){return Dd}toJsonObject(){return{[Dd]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(t){if("shuffleAddressList"in t&&typeof t.shuffleAddressList!="boolean")throw new Error("pick_first config field shuffleAddressList must be a boolean if provided");return new r(t.shuffleAddressList===!0)}};is.PickFirstLoadBalancingConfig=Pd;var jw=class{constructor(t){this.subchannel=t}pick(t){return{pickResultType:Og.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}};function c6(r){let t=r.slice();for(let i=t.length-1;i>1;i--){let n=Math.floor(Math.random()*(i+1)),s=t[i];t[i]=t[n],t[n]=s}return t}is.shuffled=c6;var Ng=class{constructor(t){this.channelControlHelper=t,this.children=[],this.currentState=si.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(i,n,s)=>{this.onSubchannelStateUpdate(i,n,s)},this.triedAllSubchannels=!1,this.stickyTransientFailureMode=!1,this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout)}allChildrenHaveReportedTF(){return this.children.every(t=>t.hasReportedTransientFailure)}calculateAndReportNewState(){this.currentPick?this.updateState(si.ConnectivityState.READY,new jw(this.currentPick)):this.children.length===0?this.updateState(si.ConnectivityState.IDLE,new Og.QueuePicker(this)):this.stickyTransientFailureMode?this.updateState(si.ConnectivityState.TRANSIENT_FAILURE,new Og.UnavailablePicker):this.updateState(si.ConnectivityState.CONNECTING,new Og.QueuePicker(this))}maybeEnterStickyTransientFailureMode(){if(!this.stickyTransientFailureMode&&this.allChildrenHaveReportedTF()){this.stickyTransientFailureMode=!0,this.channelControlHelper.requestReresolution();for(let{subchannel:t}of this.children)t.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){if(this.currentPick!==null){let t=this.currentPick;this.currentPick=null,t.unref(),t.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(t.getChannelzRef())}}onSubchannelStateUpdate(t,i,n){var s;if(!((s=this.currentPick)===null||s===void 0)&&s.realSubchannelEquals(t)){n!==si.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState(),this.channelControlHelper.requestReresolution());return}for(let[o,l]of this.children.entries())if(t.realSubchannelEquals(l.subchannel)){n===si.ConnectivityState.READY&&this.pickSubchannel(l.subchannel),n===si.ConnectivityState.TRANSIENT_FAILURE&&(l.hasReportedTransientFailure=!0,this.maybeEnterStickyTransientFailureMode(),o===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(o+1)),l.subchannel.startConnecting();return}}startNextSubchannelConnecting(t){if(clearTimeout(this.connectionDelayTimeout),!(this.triedAllSubchannels||this.stickyTransientFailureMode)){for(let[i,n]of this.children.entries())if(i>=t){let s=n.subchannel.getConnectivityState();if(s===si.ConnectivityState.IDLE||s===si.ConnectivityState.CONNECTING){this.startConnecting(i);return}}this.triedAllSubchannels=!0,this.maybeEnterStickyTransientFailureMode()}}startConnecting(t){var i,n;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=t,this.children[t].subchannel.getConnectivityState()===si.ConnectivityState.IDLE&&(Fw("Start connecting to subchannel with address "+this.children[t].subchannel.getAddress()),process.nextTick(()=>{var s;(s=this.children[t])===null||s===void 0||s.subchannel.startConnecting()})),this.connectionDelayTimeout=(n=(i=setTimeout(()=>{this.startNextSubchannelConnecting(t+1)},IX)).unref)===null||n===void 0?void 0:n.call(i)}pickSubchannel(t){t!==this.currentPick&&(Fw("Pick subchannel with address "+t.getAddress()),this.stickyTransientFailureMode=!1,this.currentPick!==null&&(this.currentPick.unref(),this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef()),this.currentPick.removeConnectivityStateListener(this.subchannelStateListener)),this.currentPick=t,t.ref(),this.channelControlHelper.addChannelzChild(t.getChannelzRef()),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState())}updateState(t,i){Fw(si.ConnectivityState[this.currentState]+" -> "+si.ConnectivityState[t]),this.currentState=t,this.channelControlHelper.updateState(t,i)}resetSubchannelList(){for(let t of this.children)t.subchannel!==this.currentPick&&t.subchannel.removeConnectivityStateListener(this.subchannelStateListener),t.subchannel.unref(),this.channelControlHelper.removeChannelzChild(t.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[],this.triedAllSubchannels=!1}updateAddressList(t,i){if(!(i instanceof Pd))return;i.getShuffleAddressList()&&(t=c6(t));let n=t.map(s=>({subchannel:this.channelControlHelper.createSubchannel(s,{}),hasReportedTransientFailure:!1}));for(let{subchannel:s}of n)s.ref(),this.channelControlHelper.addChannelzChild(s.getChannelzRef());this.resetSubchannelList(),this.children=n;for(let{subchannel:s}of this.children)if(s.addConnectivityStateListener(this.subchannelStateListener),s.getConnectivityState()===si.ConnectivityState.READY){this.pickSubchannel(s);return}for(let s of this.children)s.subchannel.getConnectivityState()===si.ConnectivityState.TRANSIENT_FAILURE&&(s.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}exitIdle(){}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return Dd}};is.PickFirstLoadBalancer=Ng;function LX(){(0,l6.registerLoadBalancerType)(Dd,Ng,Pd),(0,l6.registerDefaultLoadBalancerType)(Dd)}is.setup=LX});var f6=x(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});gc.setup=gc.RoundRobinLoadBalancer=void 0;var MX=vo(),Hr=zi(),Dg=_o(),FX=Hn(),jX=ir(),BX=wt(),UX="round_robin";function d6(r){jX.trace(BX.LogVerbosity.DEBUG,UX,r)}var Pg="round_robin",Bw=class r{getLoadBalancerName(){return Pg}constructor(){}toJsonObject(){return{[Pg]:{}}}static createFromJson(t){return new r}},Uw=class{constructor(t,i=0){this.subchannelList=t,this.nextIndex=i}pick(t){let i=this.subchannelList[this.nextIndex];return this.nextIndex=(this.nextIndex+1)%this.subchannelList.length,{pickResultType:Dg.PickResultType.COMPLETE,subchannel:i,status:null,onCallStarted:null,onCallEnded:null}}peekNextSubchannel(){return this.subchannelList[this.nextIndex]}},Ig=class{constructor(t){this.channelControlHelper=t,this.subchannels=[],this.currentState=Hr.ConnectivityState.IDLE,this.currentReadyPicker=null,this.subchannelStateListener=(i,n,s)=>{this.calculateAndUpdateState(),(s===Hr.ConnectivityState.TRANSIENT_FAILURE||s===Hr.ConnectivityState.IDLE)&&(this.channelControlHelper.requestReresolution(),i.startConnecting())}}countSubchannelsWithState(t){return this.subchannels.filter(i=>i.getConnectivityState()===t).length}calculateAndUpdateState(){if(this.countSubchannelsWithState(Hr.ConnectivityState.READY)>0){let t=this.subchannels.filter(n=>n.getConnectivityState()===Hr.ConnectivityState.READY),i=0;this.currentReadyPicker!==null&&(i=t.indexOf(this.currentReadyPicker.peekNextSubchannel()),i<0&&(i=0)),this.updateState(Hr.ConnectivityState.READY,new Uw(t,i))}else this.countSubchannelsWithState(Hr.ConnectivityState.CONNECTING)>0?this.updateState(Hr.ConnectivityState.CONNECTING,new Dg.QueuePicker(this)):this.countSubchannelsWithState(Hr.ConnectivityState.TRANSIENT_FAILURE)>0?this.updateState(Hr.ConnectivityState.TRANSIENT_FAILURE,new Dg.UnavailablePicker):this.updateState(Hr.ConnectivityState.IDLE,new Dg.QueuePicker(this))}updateState(t,i){d6(Hr.ConnectivityState[this.currentState]+" -> "+Hr.ConnectivityState[t]),t===Hr.ConnectivityState.READY?this.currentReadyPicker=i:this.currentReadyPicker=null,this.currentState=t,this.channelControlHelper.updateState(t,i)}resetSubchannelList(){for(let t of this.subchannels)t.removeConnectivityStateListener(this.subchannelStateListener),t.unref(),this.channelControlHelper.removeChannelzChild(t.getChannelzRef());this.subchannels=[]}updateAddressList(t,i){this.resetSubchannelList(),d6("Connect to address list "+t.map(n=>(0,FX.subchannelAddressToString)(n))),this.subchannels=t.map(n=>this.channelControlHelper.createSubchannel(n,{}));for(let n of this.subchannels){n.ref(),n.addConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.addChannelzChild(n.getChannelzRef());let s=n.getConnectivityState();(s===Hr.ConnectivityState.IDLE||s===Hr.ConnectivityState.TRANSIENT_FAILURE)&&n.startConnecting()}this.calculateAndUpdateState()}exitIdle(){for(let t of this.subchannels)t.startConnecting()}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return Pg}};gc.RoundRobinLoadBalancer=Ig;function qX(){(0,MX.registerLoadBalancerType)(Pg,Ig,Bw)}gc.setup=qX});var Bg=x(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.experimental=Le.addAdminServicesToServer=Le.getChannelzHandlers=Le.getChannelzServiceDefinition=Le.InterceptorConfigurationError=Le.InterceptingCall=Le.RequesterBuilder=Le.ListenerBuilder=Le.StatusBuilder=Le.getClientChannel=Le.ServerCredentials=Le.Server=Le.setLogVerbosity=Le.setLogger=Le.load=Le.loadObject=Le.CallCredentials=Le.ChannelCredentials=Le.waitForClientReady=Le.closeClient=Le.Channel=Le.makeGenericClientConstructor=Le.makeClientConstructor=Le.loadPackageDefinition=Le.Client=Le.compressionAlgorithms=Le.propagate=Le.connectivityState=Le.status=Le.logVerbosity=Le.Metadata=Le.credentials=void 0;var Lg=F1();Object.defineProperty(Le,"CallCredentials",{enumerable:!0,get:function(){return Lg.CallCredentials}});var WX=gb();Object.defineProperty(Le,"Channel",{enumerable:!0,get:function(){return WX.ChannelImplementation}});var zX=WS();Object.defineProperty(Le,"compressionAlgorithms",{enumerable:!0,get:function(){return zX.CompressionAlgorithms}});var HX=zi();Object.defineProperty(Le,"connectivityState",{enumerable:!0,get:function(){return HX.ConnectivityState}});var Mg=Gh();Object.defineProperty(Le,"ChannelCredentials",{enumerable:!0,get:function(){return Mg.ChannelCredentials}});var h6=pb();Object.defineProperty(Le,"Client",{enumerable:!0,get:function(){return h6.Client}});var Fg=wt();Object.defineProperty(Le,"logVerbosity",{enumerable:!0,get:function(){return Fg.LogVerbosity}});Object.defineProperty(Le,"status",{enumerable:!0,get:function(){return Fg.Status}});Object.defineProperty(Le,"propagate",{enumerable:!0,get:function(){return Fg.Propagate}});var qw=ir(),Ww=yb();Object.defineProperty(Le,"loadPackageDefinition",{enumerable:!0,get:function(){return Ww.loadPackageDefinition}});Object.defineProperty(Le,"makeClientConstructor",{enumerable:!0,get:function(){return Ww.makeClientConstructor}});Object.defineProperty(Le,"makeGenericClientConstructor",{enumerable:!0,get:function(){return Ww.makeClientConstructor}});var VX=ii();Object.defineProperty(Le,"Metadata",{enumerable:!0,get:function(){return VX.Metadata}});var $X=WP();Object.defineProperty(Le,"Server",{enumerable:!0,get:function(){return $X.Server}});var GX=gw();Object.defineProperty(Le,"ServerCredentials",{enumerable:!0,get:function(){return GX.ServerCredentials}});var YX=zP();Object.defineProperty(Le,"StatusBuilder",{enumerable:!0,get:function(){return YX.StatusBuilder}});Le.credentials={combineChannelCredentials:(r,...t)=>t.reduce((i,n)=>i.compose(n),r),combineCallCredentials:(r,...t)=>t.reduce((i,n)=>i.compose(n),r),createInsecure:Mg.ChannelCredentials.createInsecure,createSsl:Mg.ChannelCredentials.createSsl,createFromSecureContext:Mg.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:Lg.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:Lg.CallCredentials.createFromGoogleCredential,createEmpty:Lg.CallCredentials.createEmpty};var KX=r=>r.close();Le.closeClient=KX;var XX=(r,t,i)=>r.waitForReady(t,i);Le.waitForClientReady=XX;var JX=(r,t)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};Le.loadObject=JX;var ZX=(r,t,i)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};Le.load=ZX;var QX=r=>{qw.setLogger(r)};Le.setLogger=QX;var eJ=r=>{qw.setLoggerVerbosity(r)};Le.setLogVerbosity=eJ;var tJ=r=>h6.Client.prototype.getChannel.call(r);Le.getClientChannel=tJ;var jg=db();Object.defineProperty(Le,"ListenerBuilder",{enumerable:!0,get:function(){return jg.ListenerBuilder}});Object.defineProperty(Le,"RequesterBuilder",{enumerable:!0,get:function(){return jg.RequesterBuilder}});Object.defineProperty(Le,"InterceptingCall",{enumerable:!0,get:function(){return jg.InterceptingCall}});Object.defineProperty(Le,"InterceptorConfigurationError",{enumerable:!0,get:function(){return jg.InterceptorConfigurationError}});var p6=Aa();Object.defineProperty(Le,"getChannelzServiceDefinition",{enumerable:!0,get:function(){return p6.getChannelzServiceDefinition}});Object.defineProperty(Le,"getChannelzHandlers",{enumerable:!0,get:function(){return p6.getChannelzHandlers}});var rJ=rp();Object.defineProperty(Le,"addAdminServicesToServer",{enumerable:!0,get:function(){return rJ.addAdminServicesToServer}});var iJ=xw();Le.experimental=iJ;var nJ=t6(),sJ=r6(),oJ=a6(),aJ=u6(),lJ=f6(),cJ=Rw(),uJ=Aa(),dJ=IS().version;qw.trace(Fg.LogVerbosity.DEBUG,"index","Loading @grpc/grpc-js version "+dJ),nJ.setup(),sJ.setup(),oJ.setup(),aJ.setup(),lJ.setup(),cJ.setup(),uJ.setup()});var zw=x((exports,module)=>{var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(r,t,i){r instanceof String&&(r=String(r));for(var n=r.length,s=0;s<n;s++){var o=r[s];if(t.call(i,o,s,r))return{i:s,v:o}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(r,t,i){r!=Array.prototype&&r!=Object.prototype&&(r[t]=i.value)};$jscomp.getGlobal=function(r){return typeof window<"u"&&window===r?r:typeof global<"u"&&global!=null?global:r};$jscomp.global=$jscomp.getGlobal(exports);$jscomp.polyfill=function(r,t,i,n){if(t){for(i=$jscomp.global,r=r.split("."),n=0;n<r.length-1;n++){var s=r[n];s in i||(i[s]={}),i=i[s]}r=r[r.length-1],n=i[r],t=t(n),t!=n&&t!=null&&$jscomp.defineProperty(i,r,{configurable:!0,writable:!0,value:t})}};$jscomp.polyfill("Array.prototype.findIndex",function(r){return r||function(t,i){return $jscomp.findInternal(this,t,i).i}},"es6","es3");$jscomp.checkStringArgs=function(r,t,i){if(r==null)throw new TypeError("The 'this' value for String.prototype."+i+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+i+" must not be a regular expression");return r+""};$jscomp.polyfill("String.prototype.endsWith",function(r){return r||function(t,i){var n=$jscomp.checkStringArgs(this,t,"endsWith");t+="",i===void 0&&(i=n.length),i=Math.max(0,Math.min(i|0,n.length));for(var s=t.length;0<s&&0<i;)if(n[--i]!=t[--s])return!1;return 0>=s}},"es6","es3");$jscomp.polyfill("Array.prototype.find",function(r){return r||function(t,i){return $jscomp.findInternal(this,t,i).v}},"es6","es3");$jscomp.polyfill("String.prototype.startsWith",function(r){return r||function(t,i){var n=$jscomp.checkStringArgs(this,t,"startsWith");t+="";var s=n.length,o=t.length;i=Math.max(0,Math.min(i|0,n.length));for(var l=0;l<o&&i<s;)if(n[i++]!=t[l++])return!1;return l>=o}},"es6","es3");$jscomp.polyfill("String.prototype.repeat",function(r){return r||function(t){var i=$jscomp.checkStringArgs(this,null,"repeat");if(0>t||1342177279<t)throw new RangeError("Invalid count value");t|=0;for(var n="";t;)t&1&&(n+=i),(t>>>=1)&&(i+=i);return n}},"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=exports||self;goog.exportPath_=function(r,t,i){r=r.split("."),i=i||goog.global,r[0]in i||typeof i.execScript>"u"||i.execScript("var "+r[0]);for(var n;r.length&&(n=r.shift());)r.length||t===void 0?i=i[n]&&i[n]!==Object.prototype[n]?i[n]:i[n]={}:i[n]=t};goog.define=function(r,t){if(!COMPILED){var i=goog.global.CLOSURE_UNCOMPILED_DEFINES,n=goog.global.CLOSURE_DEFINES;i&&i.nodeType===void 0&&Object.prototype.hasOwnProperty.call(i,r)?t=i[r]:n&&n.nodeType===void 0&&Object.prototype.hasOwnProperty.call(n,r)&&(t=n[r])}return t};goog.FEATURESET_YEAR=2012;goog.DEBUG=!0;goog.LOCALE="en";goog.TRUSTED_SITE=!0;goog.STRICT_MODE_COMPATIBLE=!1;goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG;goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1;goog.provide=function(r){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");if(!COMPILED&&goog.isProvided_(r))throw Error('Namespace "'+r+'" already declared.');goog.constructNamespace_(r)};goog.constructNamespace_=function(r,t){if(!COMPILED){delete goog.implicitNamespaces_[r];for(var i=r;(i=i.substring(0,i.lastIndexOf(".")))&&!goog.getObjectByName(i);)goog.implicitNamespaces_[i]=!0}goog.exportPath_(r,t)};goog.getScriptNonce=function(r){return r&&r!=goog.global?goog.getScriptNonce_(r.document):(goog.cspNonce_===null&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)};goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/;goog.cspNonce_=null;goog.getScriptNonce_=function(r){return(r=r.querySelector&&r.querySelector("script[nonce]"))&&(r=r.nonce||r.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(r)?r:""};goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;goog.module=function(r){if(typeof r!="string"||!r||r.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+r+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=r,!COMPILED){if(goog.isProvided_(r))throw Error('Namespace "'+r+'" already declared.');delete goog.implicitNamespaces_[r]}};goog.module.get=function(r){return goog.module.getInternal_(r)};goog.module.getInternal_=function(r){if(!COMPILED){if(r in goog.loadedModules_)return goog.loadedModules_[r].exports;if(!goog.implicitNamespaces_[r])return r=goog.getObjectByName(r),r??null}return null};goog.ModuleType={ES6:"es6",GOOG:"goog"};goog.moduleLoaderState_=null;goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()};goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG};goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var r=goog.global.$jscomp;return r?typeof r.getCurrentModulePath!="function"?!1:!!r.getCurrentModulePath():!1};goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInGoogModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0};goog.declareModuleId=function(r){if(!COMPILED){if(!goog.isInEs6ModuleLoader_())throw Error("goog.declareModuleId may only be called from within an ES6 module");if(goog.moduleLoaderState_&&goog.moduleLoaderState_.moduleName)throw Error("goog.declareModuleId may only be called once per module.");if(r in goog.loadedModules_)throw Error('Module with namespace "'+r+'" already exists.')}if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=r;else{var t=goog.global.$jscomp;if(!t||typeof t.getCurrentModulePath!="function")throw Error('Module with namespace "'+r+'" has been loaded incorrectly.');t=t.require(t.getCurrentModulePath()),goog.loadedModules_[r]={exports:t,type:goog.ModuleType.ES6,moduleId:r}}};goog.setTestOnly=function(r){if(goog.DISALLOW_TEST_ONLY_CODE)throw r=r||"",Error("Importing test-only code into non-debug environment"+(r?": "+r:"."))};goog.forwardDeclare=function(r){};COMPILED||(goog.isProvided_=function(r){return r in goog.loadedModules_||!goog.implicitNamespaces_[r]&&goog.getObjectByName(r)!=null},goog.implicitNamespaces_={"goog.module":!0});goog.getObjectByName=function(r,t){r=r.split("."),t=t||goog.global;for(var i=0;i<r.length;i++)if(t=t[r[i]],t==null)return null;return t};goog.globalize=function(r,t){t=t||goog.global;for(var i in r)t[i]=r[i]};goog.addDependency=function(r,t,i,n){!COMPILED&&goog.DEPENDENCIES_ENABLED&&goog.debugLoader_.addDependency(r,t,i,n)};goog.ENABLE_DEBUG_LOADER=!0;goog.logToConsole_=function(r){goog.global.console&&goog.global.console.error(r)};goog.require=function(r){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.debugLoader_.requested(r),goog.isProvided_(r)){if(goog.isInModuleLoader_())return goog.module.getInternal_(r)}else if(goog.ENABLE_DEBUG_LOADER){var t=goog.moduleLoaderState_;goog.moduleLoaderState_=null;try{goog.debugLoader_.load_(r)}finally{goog.moduleLoaderState_=t}}return null}};goog.requireType=function(r){return{}};goog.basePath="";goog.nullFunction=function(){};goog.abstractMethod=function(){throw Error("unimplemented abstract method")};goog.addSingletonGetter=function(r){r.instance_=void 0,r.getInstance=function(){return r.instance_?r.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=r),r.instance_=new r)}};goog.instantiatedSingletons_=[];goog.LOAD_MODULE_USING_EVAL=!0;goog.SEAL_MODULE_EXPORTS=goog.DEBUG;goog.loadedModules_={};goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER;goog.TRANSPILE="detect";goog.ASSUME_ES_MODULES_TRANSPILED=!1;goog.TRANSPILE_TO_LANGUAGE="";goog.TRANSPILER="transpile.js";goog.hasBadLetScoping=null;goog.useSafari10Workaround=function(){if(goog.hasBadLetScoping==null){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(r){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping};goog.workaroundSafari10EvalBug=function(r){return"(function(){"+r+`
;})();
`};goog.loadModule=function(r){var t=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(r))var i=r.call(void 0,{});else if(typeof r=="string")goog.useSafari10Workaround()&&(r=goog.workaroundSafari10EvalBug(r)),i=goog.loadModuleFromSource_.call(void 0,r);else throw Error("Invalid module definition");var n=goog.moduleLoaderState_.moduleName;if(typeof n=="string"&&n)goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(n,i):goog.SEAL_MODULE_EXPORTS&&Object.seal&&typeof i=="object"&&i!=null&&Object.seal(i),goog.loadedModules_[n]={exports:i,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName};else throw Error('Invalid module name "'+n+'"')}finally{goog.moduleLoaderState_=t}};goog.loadModuleFromSource_=function(a){return eval(a),{}};goog.normalizePath_=function(r){r=r.split("/");for(var t=0;t<r.length;)r[t]=="."?r.splice(t,1):t&&r[t]==".."&&r[t-1]&&r[t-1]!=".."?r.splice(--t,2):t++;return r.join("/")};goog.loadFileSync_=function(r){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(r);try{var t=new goog.global.XMLHttpRequest;return t.open("get",r,!1),t.send(),t.status==0||t.status==200?t.responseText:null}catch{return null}};goog.transpile_=function(r,t,i){var n=goog.global.$jscomp;n||(goog.global.$jscomp=n={});var s=n.transpile;if(!s){var o=goog.basePath+goog.TRANSPILER,l=goog.loadFileSync_(o);if(l){if(function(){(0,eval)(l+`
//# sourceURL=`+o)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,n=goog.global.$jscomp,s=n.transpile}}return s||(s=n.transpile=function(h,p){return goog.logToConsole_(p+" requires transpilation but no transpiler was found."),h}),s(r,t,i)};goog.typeOf=function(r){var t=typeof r;if(t=="object")if(r){if(r instanceof Array)return"array";if(r instanceof Object)return t;var i=Object.prototype.toString.call(r);if(i=="[object Window]")return"object";if(i=="[object Array]"||typeof r.length=="number"&&typeof r.splice<"u"&&typeof r.propertyIsEnumerable<"u"&&!r.propertyIsEnumerable("splice"))return"array";if(i=="[object Function]"||typeof r.call<"u"&&typeof r.propertyIsEnumerable<"u"&&!r.propertyIsEnumerable("call"))return"function"}else return"null";else if(t=="function"&&typeof r.call>"u")return"object";return t};goog.isArray=function(r){return goog.typeOf(r)=="array"};goog.isArrayLike=function(r){var t=goog.typeOf(r);return t=="array"||t=="object"&&typeof r.length=="number"};goog.isDateLike=function(r){return goog.isObject(r)&&typeof r.getFullYear=="function"};goog.isFunction=function(r){return goog.typeOf(r)=="function"};goog.isObject=function(r){var t=typeof r;return t=="object"&&r!=null||t=="function"};goog.getUid=function(r){return Object.prototype.hasOwnProperty.call(r,goog.UID_PROPERTY_)&&r[goog.UID_PROPERTY_]||(r[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=function(r){return!!r[goog.UID_PROPERTY_]};goog.removeUid=function(r){r!==null&&"removeAttribute"in r&&r.removeAttribute(goog.UID_PROPERTY_);try{delete r[goog.UID_PROPERTY_]}catch{}};goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0);goog.uidCounter_=0;goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;goog.cloneObject=function(r){var t=goog.typeOf(r);if(t=="object"||t=="array"){if(typeof r.clone=="function")return r.clone();t=t=="array"?[]:{};for(var i in r)t[i]=goog.cloneObject(r[i]);return t}return r};goog.bindNative_=function(r,t,i){return r.call.apply(r.bind,arguments)};goog.bindJs_=function(r,t,i){if(!r)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,n),r.apply(t,s)}}return function(){return r.apply(t,arguments)}};goog.bind=function(r,t,i){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)};goog.partial=function(r,t){var i=Array.prototype.slice.call(arguments,1);return function(){var n=i.slice();return n.push.apply(n,arguments),r.apply(this,n)}};goog.mixin=function(r,t){for(var i in t)r[i]=t[i]};goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date};goog.globalEval=function(r){if(goog.global.execScript)goog.global.execScript(r,"JavaScript");else if(goog.global.eval){if(goog.evalWorksForGlobals_==null){try{goog.global.eval("var _evalTest_ = 1;")}catch{}if(typeof goog.global._evalTest_<"u"){try{delete goog.global._evalTest_}catch{}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(r);else{var t=goog.global.document,i=t.createElement("script");i.type="text/javascript",i.defer=!1,i.appendChild(t.createTextNode(r)),t.head.appendChild(i),t.head.removeChild(i)}}else throw Error("goog.globalEval not available")};goog.evalWorksForGlobals_=null;goog.getCssName=function(r,t){if(String(r).charAt(0)==".")throw Error('className passed in goog.getCssName must not start with ".". You passed: '+r);var i=function(s){return goog.cssNameMapping_[s]||s},n=function(s){s=s.split("-");for(var o=[],l=0;l<s.length;l++)o.push(i(s[l]));return o.join("-")};return n=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?i:n:function(s){return s},r=t?r+"-"+n(t):n(r),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(r):r};goog.setCssNameMapping=function(r,t){goog.cssNameMapping_=r,goog.cssNameMappingStyle_=t};!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING);goog.getMsg=function(r,t,i){return i&&i.html&&(r=r.replace(/</g,"&lt;")),t&&(r=r.replace(/\{\$([^}]+)}/g,function(n,s){return t!=null&&s in t?t[s]:n})),r};goog.getMsgWithFallback=function(r,t){return r};goog.exportSymbol=function(r,t,i){goog.exportPath_(r,t,i)};goog.exportProperty=function(r,t,i){r[t]=i};goog.inherits=function(r,t){function i(){}i.prototype=t.prototype,r.superClass_=t.prototype,r.prototype=new i,r.prototype.constructor=r,r.base=function(n,s,o){for(var l=Array(arguments.length-2),h=2;h<arguments.length;h++)l[h-2]=arguments[h];return t.prototype[s].apply(n,l)}};goog.scope=function(r){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");r.call(goog.global)};COMPILED||(goog.global.COMPILED=COMPILED);goog.defineClass=function(r,t){var i=t.constructor,n=t.statics;return i&&i!=Object.prototype.constructor||(i=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),i=goog.defineClass.createSealingConstructor_(i,r),r&&goog.inherits(i,r),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(i.prototype,t),n!=null&&(n instanceof Function?n(i):goog.defineClass.applyProperties_(i,n)),i};goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG;goog.defineClass.createSealingConstructor_=function(r,t){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return r;var i=!goog.defineClass.isUnsealable_(t),n=function(){var s=r.apply(this,arguments)||this;return s[goog.UID_PROPERTY_]=s[goog.UID_PROPERTY_],this.constructor===n&&i&&Object.seal instanceof Function&&Object.seal(s),s};return n};goog.defineClass.isUnsealable_=function(r){return r&&r.prototype&&r.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]};goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");goog.defineClass.applyProperties_=function(r,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);for(var n=0;n<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;n++)i=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[n],Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])};goog.tagUnsealableClass=function(r){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(r.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)};goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable";!COMPILED&&goog.DEPENDENCIES_ENABLED&&(goog.inHtmlDocument_=function(){var r=goog.global.document;return r!=null&&"write"in r},goog.isDocumentLoading_=function(){var r=goog.global.document;return r.attachEvent?r.readyState!="complete":r.readyState=="loading"},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH!=null&&typeof goog.global.CLOSURE_BASE_PATH=="string")goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_()){var r=goog.global.document,t=r.currentScript;for(r=t?[t]:r.getElementsByTagName("SCRIPT"),t=r.length-1;0<=t;--t){var i=r[t].src,n=i.lastIndexOf("?");if(n=n==-1?i.length:n,i.substr(n-7,7)=="base.js"){goog.basePath=i.substr(0,n-7);break}}}},goog.findBasePath_(),goog.Transpiler=function(){this.requiresTranspilation_=null,this.transpilationTarget_=goog.TRANSPILE_TO_LANGUAGE},goog.Transpiler.prototype.createRequiresTranspilation_=function(){function a(r,t){e?d[r]=!0:t()?(c=r,d[r]=!1):e=d[r]=!0}function b(a){try{return!!eval(a)}catch(r){return!1}}var c="es3",d={es3:!1},e=!1,f=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"";return a("es5",function(){return b("[1,].length==1")}),a("es6",function(){return f.match(/Edge\/(\d+)(\.\d)*/i)?!1:b('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')}),a("es7",function(){return b("2 ** 2 == 4")}),a("es8",function(){return b("async () => 1, true")}),a("es9",function(){return b("({...rest} = {}), true")}),a("es_next",function(){return!1}),{target:c,map:d}},goog.Transpiler.prototype.needsTranspile=function(r,t){if(goog.TRANSPILE=="always")return!0;if(goog.TRANSPILE=="never")return!1;if(!this.requiresTranspilation_){var i=this.createRequiresTranspilation_();this.requiresTranspilation_=i.map,this.transpilationTarget_=this.transpilationTarget_||i.target}if(r in this.requiresTranspilation_)return this.requiresTranspilation_[r]?!0:!(!goog.inHtmlDocument_()||t!="es6"||"noModule"in goog.global.document.createElement("script"));throw Error("Unknown language mode: "+r)},goog.Transpiler.prototype.transpile=function(r,t){return goog.transpile_(r,t,this.transpilationTarget_)},goog.transpiler_=new goog.Transpiler,goog.protectScriptTag_=function(r){return r.replace(/<\/(SCRIPT)/ig,"\\x3c/$1")},goog.DebugLoader_=function(){this.dependencies_={},this.idToPath_={},this.written_={},this.loadingDeps_=[],this.depsToLoad_=[],this.paused_=!1,this.factory_=new goog.DependencyFactory(goog.transpiler_),this.deferredCallbacks_={},this.deferredQueue_=[]},goog.DebugLoader_.prototype.bootstrap=function(r,t){function i(){n&&(goog.global.setTimeout(n,0),n=null)}var n=t;if(r.length){t=[];for(var s=0;s<r.length;s++){var o=this.getPathFromDeps_(r[s]);if(!o)throw Error("Unregonized namespace: "+r[s]);t.push(this.dependencies_[o])}o=goog.require;var l=0;for(s=0;s<r.length;s++)o(r[s]),t[s].onLoad(function(){++l==r.length&&i()})}else i()},goog.DebugLoader_.prototype.loadClosureDeps=function(){this.depsToLoad_.push(this.factory_.createDependency(goog.normalizePath_(goog.basePath+"deps.js"),"deps.js",[],[],{},!1)),this.loadDeps_()},goog.DebugLoader_.prototype.requested=function(r,t){(r=this.getPathFromDeps_(r))&&(t||this.areDepsLoaded_(this.dependencies_[r].requires))&&(t=this.deferredCallbacks_[r])&&(delete this.deferredCallbacks_[r],t())},goog.DebugLoader_.prototype.setDependencyFactory=function(r){this.factory_=r},goog.DebugLoader_.prototype.load_=function(r){if(this.getPathFromDeps_(r)){var t=this,i=[],n=function(s){var o=t.getPathFromDeps_(s);if(!o)throw Error("Bad dependency path or symbol: "+s);if(!t.written_[o]){for(t.written_[o]=!0,s=t.dependencies_[o],o=0;o<s.requires.length;o++)goog.isProvided_(s.requires[o])||n(s.requires[o]);i.push(s)}};n(r),r=!!this.depsToLoad_.length,this.depsToLoad_=this.depsToLoad_.concat(i),this.paused_||r||this.loadDeps_()}else throw r="goog.require could not find: "+r,goog.logToConsole_(r),Error(r)},goog.DebugLoader_.prototype.loadDeps_=function(){for(var r=this,t=this.paused_;this.depsToLoad_.length&&!t;)(function(){var i=!1,n=r.depsToLoad_.shift(),s=!1;r.loading_(n);var o={pause:function(){if(i)throw Error("Cannot call pause after the call to load.");t=!0},resume:function(){i?r.resume_():t=!1},loaded:function(){if(s)throw Error("Double call to loaded.");s=!0,r.loaded_(n)},pending:function(){for(var l=[],h=0;h<r.loadingDeps_.length;h++)l.push(r.loadingDeps_[h]);return l},setModuleState:function(l){goog.moduleLoaderState_={type:l,moduleName:"",declareLegacyNamespace:!1}},registerEs6ModuleExports:function(l,h,p){p&&(goog.loadedModules_[p]={exports:h,type:goog.ModuleType.ES6,moduleId:p||""})},registerGoogModuleExports:function(l,h){goog.loadedModules_[l]={exports:h,type:goog.ModuleType.GOOG,moduleId:l}},clearModuleState:function(){goog.moduleLoaderState_=null},defer:function(l){if(i)throw Error("Cannot register with defer after the call to load.");r.defer_(n,l)},areDepsLoaded:function(){return r.areDepsLoaded_(n.requires)}};try{n.load(o)}finally{i=!0}})();t&&this.pause_()},goog.DebugLoader_.prototype.pause_=function(){this.paused_=!0},goog.DebugLoader_.prototype.resume_=function(){this.paused_&&(this.paused_=!1,this.loadDeps_())},goog.DebugLoader_.prototype.loading_=function(r){this.loadingDeps_.push(r)},goog.DebugLoader_.prototype.loaded_=function(r){for(var t=0;t<this.loadingDeps_.length;t++)if(this.loadingDeps_[t]==r){this.loadingDeps_.splice(t,1);break}for(t=0;t<this.deferredQueue_.length;t++)if(this.deferredQueue_[t]==r.path){this.deferredQueue_.splice(t,1);break}if(this.loadingDeps_.length==this.deferredQueue_.length&&!this.depsToLoad_.length)for(;this.deferredQueue_.length;)this.requested(this.deferredQueue_.shift(),!0);r.loaded()},goog.DebugLoader_.prototype.areDepsLoaded_=function(r){for(var t=0;t<r.length;t++){var i=this.getPathFromDeps_(r[t]);if(!i||!(i in this.deferredCallbacks_||goog.isProvided_(r[t])))return!1}return!0},goog.DebugLoader_.prototype.getPathFromDeps_=function(r){return r in this.idToPath_?this.idToPath_[r]:r in this.dependencies_?r:null},goog.DebugLoader_.prototype.defer_=function(r,t){this.deferredCallbacks_[r.path]=t,this.deferredQueue_.push(r.path)},goog.LoadController=function(){},goog.LoadController.prototype.pause=function(){},goog.LoadController.prototype.resume=function(){},goog.LoadController.prototype.loaded=function(){},goog.LoadController.prototype.pending=function(){},goog.LoadController.prototype.registerEs6ModuleExports=function(r,t,i){},goog.LoadController.prototype.setModuleState=function(r){},goog.LoadController.prototype.clearModuleState=function(){},goog.LoadController.prototype.defer=function(r){},goog.LoadController.prototype.areDepsLoaded=function(){},goog.Dependency=function(r,t,i,n,s){this.path=r,this.relativePath=t,this.provides=i,this.requires=n,this.loadFlags=s,this.loaded_=!1,this.loadCallbacks_=[]},goog.Dependency.prototype.getPathName=function(){var r=this.path,t=r.indexOf("://");return 0<=t&&(r=r.substring(t+3),t=r.indexOf("/"),0<=t&&(r=r.substring(t+1))),r},goog.Dependency.prototype.onLoad=function(r){this.loaded_?r():this.loadCallbacks_.push(r)},goog.Dependency.prototype.loaded=function(){this.loaded_=!0;var r=this.loadCallbacks_;this.loadCallbacks_=[];for(var t=0;t<r.length;t++)r[t]()},goog.Dependency.defer_=!1,goog.Dependency.callbackMap_={},goog.Dependency.registerCallback_=function(r){var t=Math.random().toString(32);return goog.Dependency.callbackMap_[t]=r,t},goog.Dependency.unregisterCallback_=function(r){delete goog.Dependency.callbackMap_[r]},goog.Dependency.callback_=function(r,t){if(r in goog.Dependency.callbackMap_){for(var i=goog.Dependency.callbackMap_[r],n=[],s=1;s<arguments.length;s++)n.push(arguments[s]);i.apply(void 0,n)}else throw Error("Callback key "+r+" does not exist (was base.js loaded more than once?).")},goog.Dependency.prototype.load=function(r){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?r.loaded():r.pause();else if(goog.inHtmlDocument_()){var t=goog.global.document;if(t.readyState=="complete"&&!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING){if(/\bdeps.js$/.test(this.path)){r.loaded();return}throw Error('Cannot write "'+this.path+'" after document load')}if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&goog.isDocumentLoading_()){var i=goog.Dependency.registerCallback_(function(o){goog.DebugLoader_.IS_OLD_IE_&&o.readyState!="complete"||(goog.Dependency.unregisterCallback_(i),r.loaded())}),n=!goog.DebugLoader_.IS_OLD_IE_&&goog.getScriptNonce()?' nonce="'+goog.getScriptNonce()+'"':"";n='<script src="'+this.path+'" '+(goog.DebugLoader_.IS_OLD_IE_?"onreadystatechange":"onload")+`="goog.Dependency.callback_('`+i+`', this)" type="text/javascript" `+(goog.Dependency.defer_?"defer":"")+n+"></script>",t.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(n):n)}else{var s=t.createElement("script");s.defer=goog.Dependency.defer_,s.async=!1,s.type="text/javascript",(n=goog.getScriptNonce())&&s.setAttribute("nonce",n),goog.DebugLoader_.IS_OLD_IE_?(r.pause(),s.onreadystatechange=function(){(s.readyState=="loaded"||s.readyState=="complete")&&(r.loaded(),r.resume())}):s.onload=function(){s.onload=null,r.loaded()},s.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(this.path):this.path,t.head.appendChild(s)}}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),this.relativePath=="deps.js"?(goog.logToConsole_("Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, or setting CLOSURE_NO_DEPS to true."),r.loaded()):r.pause()},goog.Es6ModuleDependency=function(r,t,i,n,s){goog.Dependency.call(this,r,t,i,n,s)},goog.inherits(goog.Es6ModuleDependency,goog.Dependency),goog.Es6ModuleDependency.prototype.load=function(r){function t(g,m){g=m?'<script type="module" crossorigin>'+m+"</script>":'<script type="module" crossorigin src="'+g+'"></script>',n.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(g):g)}function i(g,m){var y=n.createElement("script");y.defer=!0,y.async=!1,y.type="module",y.setAttribute("crossorigin",!0);var S=goog.getScriptNonce();S&&y.setAttribute("nonce",S),m?y.textContent=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScript(m):m:y.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(g):g,n.head.appendChild(y)}if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?r.loaded():r.pause();else if(goog.inHtmlDocument_()){var n=goog.global.document,s=this;if(goog.isDocumentLoading_()){var o=t;goog.Dependency.defer_=!0}else o=i;var l=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(l),r.setModuleState(goog.ModuleType.ES6)});o(void 0,'goog.Dependency.callback_("'+l+'")'),o(this.path,void 0);var h=goog.Dependency.registerCallback_(function(g){goog.Dependency.unregisterCallback_(h),r.registerEs6ModuleExports(s.path,g,goog.moduleLoaderState_.moduleName)});o(void 0,'import * as m from "'+this.path+'"; goog.Dependency.callback_("'+h+'", m)');var p=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(p),r.clearModuleState(),r.loaded()});o(void 0,'goog.Dependency.callback_("'+p+'")')}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),r.pause()},goog.TransformedDependency=function(r,t,i,n,s){goog.Dependency.call(this,r,t,i,n,s),this.contents_=null,this.lazyFetch_=!goog.inHtmlDocument_()||!("noModule"in goog.global.document.createElement("script"))},goog.inherits(goog.TransformedDependency,goog.Dependency),goog.TransformedDependency.prototype.load=function(r){function t(){s.contents_=goog.loadFileSync_(s.path),s.contents_&&(s.contents_=s.transform(s.contents_),s.contents_&&(s.contents_+=`
//# sourceURL=`+s.path))}function i(){if(s.lazyFetch_&&t(),s.contents_){o&&r.setModuleState(goog.ModuleType.ES6);try{var m=s.contents_;if(s.contents_=null,goog.globalEval(m),o)var y=goog.moduleLoaderState_.moduleName}finally{o&&r.clearModuleState()}o&&goog.global.$jscomp.require.ensure([s.getPathName()],function(){r.registerEs6ModuleExports(s.path,goog.global.$jscomp.require(s.getPathName()),y)}),r.loaded()}}function n(){var m=goog.global.document,y=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(y),i()}),S='<script type="text/javascript">'+goog.protectScriptTag_('goog.Dependency.callback_("'+y+'");')+"</script>";m.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(S):S)}var s=this;if(goog.global.CLOSURE_IMPORT_SCRIPT)t(),this.contents_&&goog.global.CLOSURE_IMPORT_SCRIPT("",this.contents_)?(this.contents_=null,r.loaded()):r.pause();else{var o=this.loadFlags.module==goog.ModuleType.ES6;this.lazyFetch_||t();var l=1<r.pending().length,h=l&&goog.DebugLoader_.IS_OLD_IE_;if(l=goog.Dependency.defer_&&(l||goog.isDocumentLoading_()),h||l)r.defer(function(){i()});else{var p=goog.global.document;if(h=goog.inHtmlDocument_()&&"ActiveXObject"in goog.global,o&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()&&!h){goog.Dependency.defer_=!0,r.pause();var g=p.onreadystatechange;p.onreadystatechange=function(){p.readyState=="interactive"&&(p.onreadystatechange=g,i(),r.resume()),goog.isFunction(g)&&g.apply(void 0,arguments)}}else!goog.DebugLoader_.IS_OLD_IE_&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()?n():i()}}},goog.TransformedDependency.prototype.transform=function(r){},goog.TranspiledDependency=function(r,t,i,n,s,o){goog.TransformedDependency.call(this,r,t,i,n,s),this.transpiler=o},goog.inherits(goog.TranspiledDependency,goog.TransformedDependency),goog.TranspiledDependency.prototype.transform=function(r){return this.transpiler.transpile(r,this.getPathName())},goog.PreTranspiledEs6ModuleDependency=function(r,t,i,n,s){goog.TransformedDependency.call(this,r,t,i,n,s)},goog.inherits(goog.PreTranspiledEs6ModuleDependency,goog.TransformedDependency),goog.PreTranspiledEs6ModuleDependency.prototype.transform=function(r){return r},goog.GoogModuleDependency=function(r,t,i,n,s,o,l){goog.TransformedDependency.call(this,r,t,i,n,s),this.needsTranspile_=o,this.transpiler_=l},goog.inherits(goog.GoogModuleDependency,goog.TransformedDependency),goog.GoogModuleDependency.prototype.transform=function(r){return this.needsTranspile_&&(r=this.transpiler_.transpile(r,this.getPathName())),goog.LOAD_MODULE_USING_EVAL&&goog.global.JSON!==void 0?"goog.loadModule("+goog.global.JSON.stringify(r+`
//# sourceURL=`+this.path+`
`)+");":'goog.loadModule(function(exports) {"use strict";'+r+`
;return exports});
//# sourceURL=`+this.path+`
`},goog.DebugLoader_.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.DebugLoader_.prototype.addDependency=function(r,t,i,n){t=t||[],r=r.replace(/\\/g,"/");var s=goog.normalizePath_(goog.basePath+r);for(n&&typeof n!="boolean"||(n=n?{module:goog.ModuleType.GOOG}:{}),i=this.factory_.createDependency(s,r,t,i,n,goog.transpiler_.needsTranspile(n.lang||"es3",n.module)),this.dependencies_[s]=i,i=0;i<t.length;i++)this.idToPath_[t[i]]=s;this.idToPath_[r]=s},goog.DependencyFactory=function(r){this.transpiler=r},goog.DependencyFactory.prototype.createDependency=function(r,t,i,n,s,o){return s.module==goog.ModuleType.GOOG?new goog.GoogModuleDependency(r,t,i,n,s,o,this.transpiler):o?new goog.TranspiledDependency(r,t,i,n,s,this.transpiler):s.module==goog.ModuleType.ES6?goog.TRANSPILE=="never"&&goog.ASSUME_ES_MODULES_TRANSPILED?new goog.PreTranspiledEs6ModuleDependency(r,t,i,n,s):new goog.Es6ModuleDependency(r,t,i,n,s):new goog.Dependency(r,t,i,n,s)},goog.debugLoader_=new goog.DebugLoader_,goog.loadClosureDeps=function(){goog.debugLoader_.loadClosureDeps()},goog.setDependencyFactory=function(r){goog.debugLoader_.setDependencyFactory(r)},goog.global.CLOSURE_NO_DEPS||goog.debugLoader_.loadClosureDeps(),goog.bootstrap=function(r,t){goog.debugLoader_.bootstrap(r,t)});goog.TRUSTED_TYPES_POLICY_NAME="";goog.identity_=function(r){return r};goog.createTrustedTypesPolicy=function(r){var t=null,i=goog.global.trustedTypes||goog.global.TrustedTypes;if(!i||!i.createPolicy)return t;try{t=i.createPolicy(r,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(n){goog.logToConsole_(n.message)}return t};goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null;goog.object={};goog.object.is=function(r,t){return r===t?r!==0||1/r===1/t:r!==r&&t!==t};goog.object.forEach=function(r,t,i){for(var n in r)t.call(i,r[n],n,r)};goog.object.filter=function(r,t,i){var n={},s;for(s in r)t.call(i,r[s],s,r)&&(n[s]=r[s]);return n};goog.object.map=function(r,t,i){var n={},s;for(s in r)n[s]=t.call(i,r[s],s,r);return n};goog.object.some=function(r,t,i){for(var n in r)if(t.call(i,r[n],n,r))return!0;return!1};goog.object.every=function(r,t,i){for(var n in r)if(!t.call(i,r[n],n,r))return!1;return!0};goog.object.getCount=function(r){var t=0,i;for(i in r)t++;return t};goog.object.getAnyKey=function(r){for(var t in r)return t};goog.object.getAnyValue=function(r){for(var t in r)return r[t]};goog.object.contains=function(r,t){return goog.object.containsValue(r,t)};goog.object.getValues=function(r){var t=[],i=0,n;for(n in r)t[i++]=r[n];return t};goog.object.getKeys=function(r){var t=[],i=0,n;for(n in r)t[i++]=n;return t};goog.object.getValueByKeys=function(r,t){var i=goog.isArrayLike(t),n=i?t:arguments;for(i=i?0:1;i<n.length;i++){if(r==null)return;r=r[n[i]]}return r};goog.object.containsKey=function(r,t){return r!==null&&t in r};goog.object.containsValue=function(r,t){for(var i in r)if(r[i]==t)return!0;return!1};goog.object.findKey=function(r,t,i){for(var n in r)if(t.call(i,r[n],n,r))return n};goog.object.findValue=function(r,t,i){return(t=goog.object.findKey(r,t,i))&&r[t]};goog.object.isEmpty=function(r){for(var t in r)return!1;return!0};goog.object.clear=function(r){for(var t in r)delete r[t]};goog.object.remove=function(r,t){var i;return(i=t in r)&&delete r[t],i};goog.object.add=function(r,t,i){if(r!==null&&t in r)throw Error('The object already contains the key "'+t+'"');goog.object.set(r,t,i)};goog.object.get=function(r,t,i){return r!==null&&t in r?r[t]:i};goog.object.set=function(r,t,i){r[t]=i};goog.object.setIfUndefined=function(r,t,i){return t in r?r[t]:r[t]=i};goog.object.setWithReturnValueIfNotSet=function(r,t,i){return t in r?r[t]:(i=i(),r[t]=i)};goog.object.equals=function(r,t){for(var i in r)if(!(i in t)||r[i]!==t[i])return!1;for(var n in t)if(!(n in r))return!1;return!0};goog.object.clone=function(r){var t={},i;for(i in r)t[i]=r[i];return t};goog.object.unsafeClone=function(r){var t=goog.typeOf(r);if(t=="object"||t=="array"){if(goog.isFunction(r.clone))return r.clone();t=t=="array"?[]:{};for(var i in r)t[i]=goog.object.unsafeClone(r[i]);return t}return r};goog.object.transpose=function(r){var t={},i;for(i in r)t[r[i]]=i;return t};goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");goog.object.extend=function(r,t){for(var i,n,s=1;s<arguments.length;s++){n=arguments[s];for(i in n)r[i]=n[i];for(var o=0;o<goog.object.PROTOTYPE_FIELDS_.length;o++)i=goog.object.PROTOTYPE_FIELDS_[o],Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}};goog.object.create=function(r){var t=arguments.length;if(t==1&&Array.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(t%2)throw Error("Uneven number of arguments");for(var i={},n=0;n<t;n+=2)i[arguments[n]]=arguments[n+1];return i};goog.object.createSet=function(r){var t=arguments.length;if(t==1&&Array.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var i={},n=0;n<t;n++)i[arguments[n]]=!0;return i};goog.object.createImmutableView=function(r){var t=r;return Object.isFrozen&&!Object.isFrozen(r)&&(t=Object.create(r),Object.freeze(t)),t};goog.object.isImmutableView=function(r){return!!Object.isFrozen&&Object.isFrozen(r)};goog.object.getAllPropertyNames=function(r,t,i){if(!r)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(r);for(var n={};r&&(r!==Object.prototype||t)&&(r!==Function.prototype||i);){for(var s=Object.getOwnPropertyNames(r),o=0;o<s.length;o++)n[s[o]]=!0;r=Object.getPrototypeOf(r)}return goog.object.getKeys(n)};goog.object.getSuperClass=function(r){return(r=Object.getPrototypeOf(r.prototype))&&r.constructor};var jspb={asserts:{}};jspb.asserts.doAssertFailure=function(r,t,i,n){var s="Assertion failed";if(i){s+=": "+i;var o=n}else r&&(s+=": "+r,o=t);throw Error(""+s,o||[])};jspb.asserts.assert=function(r,t,i){for(var n=[],s=2;s<arguments.length;++s)n[s-2]=arguments[s];return r||jspb.asserts.doAssertFailure("",null,t,n),r};jspb.asserts.assertString=function(r,t,i){for(var n=[],s=2;s<arguments.length;++s)n[s-2]=arguments[s];return typeof r!="string"&&jspb.asserts.doAssertFailure("Expected string but got %s: %s.",[goog.typeOf(r),r],t,n),r};jspb.asserts.assertArray=function(r,t,i){for(var n=[],s=2;s<arguments.length;++s)n[s-2]=arguments[s];return Array.isArray(r)||jspb.asserts.doAssertFailure("Expected array but got %s: %s.",[goog.typeOf(r),r],t,n),r};jspb.asserts.fail=function(r,t){for(var i=[],n=1;n<arguments.length;++n)i[n-1]=arguments[n];throw Error("Failure"+(r?": "+r:""),i)};jspb.asserts.assertInstanceof=function(r,t,i,n){for(var s=[],o=3;o<arguments.length;++o)s[o-3]=arguments[o];return r instanceof t||jspb.asserts.doAssertFailure("Expected instanceof %s but got %s.",[jspb.asserts.getType(t),jspb.asserts.getType(r)],i,s),r};jspb.asserts.getType=function(r){return r instanceof Function?r.displayName||r.name||"unknown type name":r instanceof Object?r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r):r===null?"null":typeof r};jspb.BinaryConstants={};jspb.ConstBinaryMessage=function(){};jspb.BinaryMessage=function(){};jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31};jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5};jspb.BinaryConstants.FieldTypeToWireType=function(r){var t=jspb.BinaryConstants.FieldType,i=jspb.BinaryConstants.WireType;switch(r){case t.INT32:case t.INT64:case t.UINT32:case t.UINT64:case t.SINT32:case t.SINT64:case t.BOOL:case t.ENUM:case t.VHASH64:return i.VARINT;case t.DOUBLE:case t.FIXED64:case t.SFIXED64:case t.FHASH64:return i.FIXED64;case t.STRING:case t.MESSAGE:case t.BYTES:return i.DELIMITED;case t.FLOAT:case t.FIXED32:case t.SFIXED32:return i.FIXED32;default:return i.INVALID}};jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1;jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60;jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54;jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22;jspb.BinaryConstants.FLOAT64_EPS=5e-324;jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324;jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292;jspb.BinaryConstants.TWO_TO_20=1048576;jspb.BinaryConstants.TWO_TO_23=8388608;jspb.BinaryConstants.TWO_TO_31=2147483648;jspb.BinaryConstants.TWO_TO_32=4294967296;jspb.BinaryConstants.TWO_TO_52=4503599627370496;jspb.BinaryConstants.TWO_TO_63=9223372036854776e3;jspb.BinaryConstants.TWO_TO_64=18446744073709552e3;jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0";goog.debug={};goog.debug.Error=function(r){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var t=Error().stack;t&&(this.stack=t)}r&&(this.message=String(r)),this.reportErrorToServer=!0};goog.inherits(goog.debug.Error,Error);goog.debug.Error.prototype.name="CustomError";goog.dom={};goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12};goog.asserts={};goog.asserts.ENABLE_ASSERTS=goog.DEBUG;goog.asserts.AssertionError=function(r,t){goog.debug.Error.call(this,goog.asserts.subs_(r,t)),this.messagePattern=r};goog.inherits(goog.asserts.AssertionError,goog.debug.Error);goog.asserts.AssertionError.prototype.name="AssertionError";goog.asserts.DEFAULT_ERROR_HANDLER=function(r){throw r};goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER;goog.asserts.subs_=function(r,t){r=r.split("%s");for(var i="",n=r.length-1,s=0;s<n;s++)i+=r[s]+(s<t.length?t[s]:"%s");return i+r[n]};goog.asserts.doAssertFailure_=function(r,t,i,n){var s="Assertion failed";if(i){s+=": "+i;var o=n}else r&&(s+=": "+r,o=t);r=new goog.asserts.AssertionError(""+s,o||[]),goog.asserts.errorHandler_(r)};goog.asserts.setErrorHandler=function(r){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=r)};goog.asserts.assert=function(r,t,i){return goog.asserts.ENABLE_ASSERTS&&!r&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),r};goog.asserts.assertExists=function(r,t,i){return goog.asserts.ENABLE_ASSERTS&&r==null&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[r],t,Array.prototype.slice.call(arguments,2)),r};goog.asserts.fail=function(r,t){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1)))};goog.asserts.assertNumber=function(r,t,i){return goog.asserts.ENABLE_ASSERTS&&typeof r!="number"&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(r),r],t,Array.prototype.slice.call(arguments,2)),r};goog.asserts.assertString=function(r,t,i){return goog.asserts.ENABLE_ASSERTS&&typeof r!="string"&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(r),r],t,Array.prototype.slice.call(arguments,2)),r};goog.asserts.assertFunction=function(r,t,i){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(r)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(r),r],t,Array.prototype.slice.call(arguments,2)),r};goog.asserts.assertObject=function(r,t,i){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(r)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(r),r],t,Array.prototype.slice.call(arguments,2)),r};goog.asserts.assertArray=function(r,t,i){return goog.asserts.ENABLE_ASSERTS&&!Array.isArray(r)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(r),r],t,Array.prototype.slice.call(arguments,2)),r};goog.asserts.assertBoolean=function(r,t,i){return goog.asserts.ENABLE_ASSERTS&&typeof r!="boolean"&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(r),r],t,Array.prototype.slice.call(arguments,2)),r};goog.asserts.assertElement=function(r,t,i){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(r)&&r.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(r),r],t,Array.prototype.slice.call(arguments,2)),r};goog.asserts.assertInstanceof=function(r,t,i,n){return!goog.asserts.ENABLE_ASSERTS||r instanceof t||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(t),goog.asserts.getType_(r)],i,Array.prototype.slice.call(arguments,3)),r};goog.asserts.assertFinite=function(r,t,i){return!goog.asserts.ENABLE_ASSERTS||typeof r=="number"&&isFinite(r)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[r],t,Array.prototype.slice.call(arguments,2)),r};goog.asserts.assertObjectPrototypeIsIntact=function(){for(var r in Object.prototype)goog.asserts.fail(r+" should not be enumerable in Object.prototype.")};goog.asserts.getType_=function(r){return r instanceof Function?r.displayName||r.name||"unknown type name":r instanceof Object?r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r):r===null?"null":typeof r};goog.array={};goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE;goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR;goog.array.peek=function(r){return r[r.length-1]};goog.array.last=goog.array.peek;goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(r,t,i){return goog.asserts.assert(r.length!=null),Array.prototype.indexOf.call(r,t,i)}:function(r,t,i){if(i=i==null?0:0>i?Math.max(0,r.length+i):i,typeof r=="string")return typeof t!="string"||t.length!=1?-1:r.indexOf(t,i);for(;i<r.length;i++)if(i in r&&r[i]===t)return i;return-1};goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(r,t,i){return goog.asserts.assert(r.length!=null),Array.prototype.lastIndexOf.call(r,t,i??r.length-1)}:function(r,t,i){if(i=i??r.length-1,0>i&&(i=Math.max(0,r.length+i)),typeof r=="string")return typeof t!="string"||t.length!=1?-1:r.lastIndexOf(t,i);for(;0<=i;i--)if(i in r&&r[i]===t)return i;return-1};goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(r,t,i){goog.asserts.assert(r.length!=null),Array.prototype.forEach.call(r,t,i)}:function(r,t,i){for(var n=r.length,s=typeof r=="string"?r.split(""):r,o=0;o<n;o++)o in s&&t.call(i,s[o],o,r)};goog.array.forEachRight=function(r,t,i){var n=r.length,s=typeof r=="string"?r.split(""):r;for(--n;0<=n;--n)n in s&&t.call(i,s[n],n,r)};goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(r,t,i){return goog.asserts.assert(r.length!=null),Array.prototype.filter.call(r,t,i)}:function(r,t,i){for(var n=r.length,s=[],o=0,l=typeof r=="string"?r.split(""):r,h=0;h<n;h++)if(h in l){var p=l[h];t.call(i,p,h,r)&&(s[o++]=p)}return s};goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(r,t,i){return goog.asserts.assert(r.length!=null),Array.prototype.map.call(r,t,i)}:function(r,t,i){for(var n=r.length,s=Array(n),o=typeof r=="string"?r.split(""):r,l=0;l<n;l++)l in o&&(s[l]=t.call(i,o[l],l,r));return s};goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(r,t,i,n){return goog.asserts.assert(r.length!=null),n&&(t=goog.bind(t,n)),Array.prototype.reduce.call(r,t,i)}:function(r,t,i,n){var s=i;return goog.array.forEach(r,function(o,l){s=t.call(n,s,o,l,r)}),s};goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(r,t,i,n){return goog.asserts.assert(r.length!=null),goog.asserts.assert(t!=null),n&&(t=goog.bind(t,n)),Array.prototype.reduceRight.call(r,t,i)}:function(r,t,i,n){var s=i;return goog.array.forEachRight(r,function(o,l){s=t.call(n,s,o,l,r)}),s};goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(r,t,i){return goog.asserts.assert(r.length!=null),Array.prototype.some.call(r,t,i)}:function(r,t,i){for(var n=r.length,s=typeof r=="string"?r.split(""):r,o=0;o<n;o++)if(o in s&&t.call(i,s[o],o,r))return!0;return!1};goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(r,t,i){return goog.asserts.assert(r.length!=null),Array.prototype.every.call(r,t,i)}:function(r,t,i){for(var n=r.length,s=typeof r=="string"?r.split(""):r,o=0;o<n;o++)if(o in s&&!t.call(i,s[o],o,r))return!1;return!0};goog.array.count=function(r,t,i){var n=0;return goog.array.forEach(r,function(s,o,l){t.call(i,s,o,l)&&++n},i),n};goog.array.find=function(r,t,i){return t=goog.array.findIndex(r,t,i),0>t?null:typeof r=="string"?r.charAt(t):r[t]};goog.array.findIndex=function(r,t,i){for(var n=r.length,s=typeof r=="string"?r.split(""):r,o=0;o<n;o++)if(o in s&&t.call(i,s[o],o,r))return o;return-1};goog.array.findRight=function(r,t,i){return t=goog.array.findIndexRight(r,t,i),0>t?null:typeof r=="string"?r.charAt(t):r[t]};goog.array.findIndexRight=function(r,t,i){var n=r.length,s=typeof r=="string"?r.split(""):r;for(--n;0<=n;n--)if(n in s&&t.call(i,s[n],n,r))return n;return-1};goog.array.contains=function(r,t){return 0<=goog.array.indexOf(r,t)};goog.array.isEmpty=function(r){return r.length==0};goog.array.clear=function(r){if(!Array.isArray(r))for(var t=r.length-1;0<=t;t--)delete r[t];r.length=0};goog.array.insert=function(r,t){goog.array.contains(r,t)||r.push(t)};goog.array.insertAt=function(r,t,i){goog.array.splice(r,i,0,t)};goog.array.insertArrayAt=function(r,t,i){goog.partial(goog.array.splice,r,i,0).apply(null,t)};goog.array.insertBefore=function(r,t,i){var n;arguments.length==2||0>(n=goog.array.indexOf(r,i))?r.push(t):goog.array.insertAt(r,t,n)};goog.array.remove=function(r,t){t=goog.array.indexOf(r,t);var i;return(i=0<=t)&&goog.array.removeAt(r,t),i};goog.array.removeLast=function(r,t){return t=goog.array.lastIndexOf(r,t),0<=t?(goog.array.removeAt(r,t),!0):!1};goog.array.removeAt=function(r,t){return goog.asserts.assert(r.length!=null),Array.prototype.splice.call(r,t,1).length==1};goog.array.removeIf=function(r,t,i){return t=goog.array.findIndex(r,t,i),0<=t?(goog.array.removeAt(r,t),!0):!1};goog.array.removeAllIf=function(r,t,i){var n=0;return goog.array.forEachRight(r,function(s,o){t.call(i,s,o,r)&&goog.array.removeAt(r,o)&&n++}),n};goog.array.concat=function(r){return Array.prototype.concat.apply([],arguments)};goog.array.join=function(r){return Array.prototype.concat.apply([],arguments)};goog.array.toArray=function(r){var t=r.length;if(0<t){for(var i=Array(t),n=0;n<t;n++)i[n]=r[n];return i}return[]};goog.array.clone=goog.array.toArray;goog.array.extend=function(r,t){for(var i=1;i<arguments.length;i++){var n=arguments[i];if(goog.isArrayLike(n)){var s=r.length||0,o=n.length||0;r.length=s+o;for(var l=0;l<o;l++)r[s+l]=n[l]}else r.push(n)}};goog.array.splice=function(r,t,i,n){return goog.asserts.assert(r.length!=null),Array.prototype.splice.apply(r,goog.array.slice(arguments,1))};goog.array.slice=function(r,t,i){return goog.asserts.assert(r.length!=null),2>=arguments.length?Array.prototype.slice.call(r,t):Array.prototype.slice.call(r,t,i)};goog.array.removeDuplicates=function(r,t,i){t=t||r;var n=function(p){return goog.isObject(p)?"o"+goog.getUid(p):(typeof p).charAt(0)+p};i=i||n,n={};for(var s=0,o=0;o<r.length;){var l=r[o++],h=i(l);Object.prototype.hasOwnProperty.call(n,h)||(n[h]=!0,t[s++]=l)}t.length=s};goog.array.binarySearch=function(r,t,i){return goog.array.binarySearch_(r,i||goog.array.defaultCompare,!1,t)};goog.array.binarySelect=function(r,t,i){return goog.array.binarySearch_(r,t,!0,void 0,i)};goog.array.binarySearch_=function(r,t,i,n,s){for(var o=0,l=r.length,h;o<l;){var p=o+(l-o>>>1),g=i?t.call(s,r[p],p,r):t(n,r[p]);0<g?o=p+1:(l=p,h=!g)}return h?o:-o-1};goog.array.sort=function(r,t){r.sort(t||goog.array.defaultCompare)};goog.array.stableSort=function(r,t){for(var i=Array(r.length),n=0;n<r.length;n++)i[n]={index:n,value:r[n]};var s=t||goog.array.defaultCompare;for(goog.array.sort(i,function(o,l){return s(o.value,l.value)||o.index-l.index}),n=0;n<r.length;n++)r[n]=i[n].value};goog.array.sortByKey=function(r,t,i){var n=i||goog.array.defaultCompare;goog.array.sort(r,function(s,o){return n(t(s),t(o))})};goog.array.sortObjectsByKey=function(r,t,i){goog.array.sortByKey(r,function(n){return n[t]},i)};goog.array.isSorted=function(r,t,i){t=t||goog.array.defaultCompare;for(var n=1;n<r.length;n++){var s=t(r[n-1],r[n]);if(0<s||s==0&&i)return!1}return!0};goog.array.equals=function(r,t,i){if(!goog.isArrayLike(r)||!goog.isArrayLike(t)||r.length!=t.length)return!1;var n=r.length;i=i||goog.array.defaultCompareEquality;for(var s=0;s<n;s++)if(!i(r[s],t[s]))return!1;return!0};goog.array.compare3=function(r,t,i){i=i||goog.array.defaultCompare;for(var n=Math.min(r.length,t.length),s=0;s<n;s++){var o=i(r[s],t[s]);if(o!=0)return o}return goog.array.defaultCompare(r.length,t.length)};goog.array.defaultCompare=function(r,t){return r>t?1:r<t?-1:0};goog.array.inverseDefaultCompare=function(r,t){return-goog.array.defaultCompare(r,t)};goog.array.defaultCompareEquality=function(r,t){return r===t};goog.array.binaryInsert=function(r,t,i){return i=goog.array.binarySearch(r,t,i),0>i?(goog.array.insertAt(r,t,-(i+1)),!0):!1};goog.array.binaryRemove=function(r,t,i){return t=goog.array.binarySearch(r,t,i),0<=t?goog.array.removeAt(r,t):!1};goog.array.bucket=function(r,t,i){for(var n={},s=0;s<r.length;s++){var o=r[s],l=t.call(i,o,s,r);l!==void 0&&(n[l]||(n[l]=[])).push(o)}return n};goog.array.toObject=function(r,t,i){var n={};return goog.array.forEach(r,function(s,o){n[t.call(i,s,o,r)]=s}),n};goog.array.range=function(r,t,i){var n=[],s=0,o=r;if(i=i||1,t!==void 0&&(s=r,o=t),0>i*(o-s))return[];if(0<i)for(r=s;r<o;r+=i)n.push(r);else for(r=s;r>o;r+=i)n.push(r);return n};goog.array.repeat=function(r,t){for(var i=[],n=0;n<t;n++)i[n]=r;return i};goog.array.flatten=function(r){for(var t=[],i=0;i<arguments.length;i++){var n=arguments[i];if(Array.isArray(n))for(var s=0;s<n.length;s+=8192){var o=goog.array.slice(n,s,s+8192);o=goog.array.flatten.apply(null,o);for(var l=0;l<o.length;l++)t.push(o[l])}else t.push(n)}return t};goog.array.rotate=function(r,t){return goog.asserts.assert(r.length!=null),r.length&&(t%=r.length,0<t?Array.prototype.unshift.apply(r,r.splice(-t,t)):0>t&&Array.prototype.push.apply(r,r.splice(0,-t))),r};goog.array.moveItem=function(r,t,i){goog.asserts.assert(0<=t&&t<r.length),goog.asserts.assert(0<=i&&i<r.length),t=Array.prototype.splice.call(r,t,1),Array.prototype.splice.call(r,i,0,t[0])};goog.array.zip=function(r){if(!arguments.length)return[];for(var t=[],i=arguments[0].length,n=1;n<arguments.length;n++)arguments[n].length<i&&(i=arguments[n].length);for(n=0;n<i;n++){for(var s=[],o=0;o<arguments.length;o++)s.push(arguments[o][n]);t.push(s)}return t};goog.array.shuffle=function(r,t){t=t||Math.random;for(var i=r.length-1;0<i;i--){var n=Math.floor(t()*(i+1)),s=r[i];r[i]=r[n],r[n]=s}};goog.array.copyByIndex=function(r,t){var i=[];return goog.array.forEach(t,function(n){i.push(r[n])}),i};goog.array.concatMap=function(r,t,i){return goog.array.concat.apply([],goog.array.map(r,t,i))};goog.crypt={};goog.crypt.stringToByteArray=function(r){for(var t=[],i=0,n=0;n<r.length;n++){var s=r.charCodeAt(n);255<s&&(t[i++]=s&255,s>>=8),t[i++]=s}return t};goog.crypt.byteArrayToString=function(r){if(8192>=r.length)return String.fromCharCode.apply(null,r);for(var t="",i=0;i<r.length;i+=8192){var n=goog.array.slice(r,i,i+8192);t+=String.fromCharCode.apply(null,n)}return t};goog.crypt.byteArrayToHex=function(r,t){return goog.array.map(r,function(i){return i=i.toString(16),1<i.length?i:"0"+i}).join(t||"")};goog.crypt.hexToByteArray=function(r){goog.asserts.assert(r.length%2==0,"Key string length must be multiple of 2");for(var t=[],i=0;i<r.length;i+=2)t.push(parseInt(r.substring(i,i+2),16));return t};goog.crypt.stringToUtf8ByteArray=function(r){for(var t=[],i=0,n=0;n<r.length;n++){var s=r.charCodeAt(n);128>s?t[i++]=s:(2048>s?t[i++]=s>>6|192:((s&64512)==55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)==56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++n)&1023),t[i++]=s>>18|240,t[i++]=s>>12&63|128):t[i++]=s>>12|224,t[i++]=s>>6&63|128),t[i++]=s&63|128)}return t};goog.crypt.utf8ByteArrayToString=function(r){for(var t=[],i=0,n=0;i<r.length;){var s=r[i++];if(128>s)t[n++]=String.fromCharCode(s);else if(191<s&&224>s){var o=r[i++];t[n++]=String.fromCharCode((s&31)<<6|o&63)}else if(239<s&&365>s){o=r[i++];var l=r[i++],h=r[i++];s=((s&7)<<18|(o&63)<<12|(l&63)<<6|h&63)-65536,t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(s&1023))}else o=r[i++],l=r[i++],t[n++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}return t.join("")};goog.crypt.xorByteArray=function(r,t){goog.asserts.assert(r.length==t.length,"XOR array lengths must match");for(var i=[],n=0;n<r.length;n++)i.push(r[n]^t[n]);return i};goog.dom.asserts={};goog.dom.asserts.assertIsLocation=function(r){if(goog.asserts.ENABLE_ASSERTS){var t=goog.dom.asserts.getWindow_(r);t&&(!r||!(r instanceof t.Location)&&r instanceof t.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(r))}return r};goog.dom.asserts.assertIsElementType_=function(r,t){if(goog.asserts.ENABLE_ASSERTS){var i=goog.dom.asserts.getWindow_(r);i&&typeof i[t]<"u"&&(r&&(r instanceof i[t]||!(r instanceof i.Location||r instanceof i.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,goog.dom.asserts.debugStringForType_(r)))}return r};goog.dom.asserts.assertIsHTMLAnchorElement=function(r){return goog.dom.asserts.assertIsElementType_(r,"HTMLAnchorElement")};goog.dom.asserts.assertIsHTMLButtonElement=function(r){return goog.dom.asserts.assertIsElementType_(r,"HTMLButtonElement")};goog.dom.asserts.assertIsHTMLLinkElement=function(r){return goog.dom.asserts.assertIsElementType_(r,"HTMLLinkElement")};goog.dom.asserts.assertIsHTMLImageElement=function(r){return goog.dom.asserts.assertIsElementType_(r,"HTMLImageElement")};goog.dom.asserts.assertIsHTMLAudioElement=function(r){return goog.dom.asserts.assertIsElementType_(r,"HTMLAudioElement")};goog.dom.asserts.assertIsHTMLVideoElement=function(r){return goog.dom.asserts.assertIsElementType_(r,"HTMLVideoElement")};goog.dom.asserts.assertIsHTMLInputElement=function(r){return goog.dom.asserts.assertIsElementType_(r,"HTMLInputElement")};goog.dom.asserts.assertIsHTMLTextAreaElement=function(r){return goog.dom.asserts.assertIsElementType_(r,"HTMLTextAreaElement")};goog.dom.asserts.assertIsHTMLCanvasElement=function(r){return goog.dom.asserts.assertIsElementType_(r,"HTMLCanvasElement")};goog.dom.asserts.assertIsHTMLEmbedElement=function(r){return goog.dom.asserts.assertIsElementType_(r,"HTMLEmbedElement")};goog.dom.asserts.assertIsHTMLFormElement=function(r){return goog.dom.asserts.assertIsElementType_(r,"HTMLFormElement")};goog.dom.asserts.assertIsHTMLFrameElement=function(r){return goog.dom.asserts.assertIsElementType_(r,"HTMLFrameElement")};goog.dom.asserts.assertIsHTMLIFrameElement=function(r){return goog.dom.asserts.assertIsElementType_(r,"HTMLIFrameElement")};goog.dom.asserts.assertIsHTMLObjectElement=function(r){return goog.dom.asserts.assertIsElementType_(r,"HTMLObjectElement")};goog.dom.asserts.assertIsHTMLScriptElement=function(r){return goog.dom.asserts.assertIsElementType_(r,"HTMLScriptElement")};goog.dom.asserts.debugStringForType_=function(r){if(goog.isObject(r))try{return r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r)}catch{return"<object could not be stringified>"}else return r===void 0?"undefined":r===null?"null":typeof r};goog.dom.asserts.getWindow_=function(r){try{var t=r&&r.ownerDocument,i=t&&(t.defaultView||t.parentWindow);if(i=i||goog.global,i.Element&&i.Location)return i}catch{}return null};goog.functions={};goog.functions.constant=function(r){return function(){return r}};goog.functions.FALSE=function(){return!1};goog.functions.TRUE=function(){return!0};goog.functions.NULL=function(){return null};goog.functions.identity=function(r,t){return r};goog.functions.error=function(r){return function(){throw Error(r)}};goog.functions.fail=function(r){return function(){throw r}};goog.functions.lock=function(r,t){return t=t||0,function(){return r.apply(this,Array.prototype.slice.call(arguments,0,t))}};goog.functions.nth=function(r){return function(){return arguments[r]}};goog.functions.partialRight=function(r,t){var i=Array.prototype.slice.call(arguments,1);return function(){var n=Array.prototype.slice.call(arguments);return n.push.apply(n,i),r.apply(this,n)}};goog.functions.withReturnValue=function(r,t){return goog.functions.sequence(r,goog.functions.constant(t))};goog.functions.equalTo=function(r,t){return function(i){return t?r==i:r===i}};goog.functions.compose=function(r,t){var i=arguments,n=i.length;return function(){var s;n&&(s=i[n-1].apply(this,arguments));for(var o=n-2;0<=o;o--)s=i[o].call(this,s);return s}};goog.functions.sequence=function(r){var t=arguments,i=t.length;return function(){for(var n,s=0;s<i;s++)n=t[s].apply(this,arguments);return n}};goog.functions.and=function(r){var t=arguments,i=t.length;return function(){for(var n=0;n<i;n++)if(!t[n].apply(this,arguments))return!1;return!0}};goog.functions.or=function(r){var t=arguments,i=t.length;return function(){for(var n=0;n<i;n++)if(t[n].apply(this,arguments))return!0;return!1}};goog.functions.not=function(r){return function(){return!r.apply(this,arguments)}};goog.functions.create=function(r,t){var i=function(){};return i.prototype=r.prototype,i=new i,r.apply(i,Array.prototype.slice.call(arguments,1)),i};goog.functions.CACHE_RETURN_VALUE=!0;goog.functions.cacheReturnValue=function(r){var t=!1,i;return function(){return goog.functions.CACHE_RETURN_VALUE?(t||(i=r(),t=!0),i):r()}};goog.functions.once=function(r){var t=r;return function(){if(t){var i=t;t=null,i()}}};goog.functions.debounce=function(r,t,i){var n=0;return function(s){goog.global.clearTimeout(n);var o=arguments;n=goog.global.setTimeout(function(){r.apply(i,o)},t)}};goog.functions.throttle=function(r,t,i){var n=0,s=!1,o=[],l=function(){n=0,s&&(s=!1,h())},h=function(){n=goog.global.setTimeout(l,t),r.apply(i,o)};return function(p){o=arguments,n?s=!0:h()}};goog.functions.rateLimit=function(r,t,i){var n=0,s=function(){n=0};return function(o){n||(n=goog.global.setTimeout(s,t),r.apply(i,arguments))}};goog.dom.HtmlElement=function(){};goog.dom.TagName=function(r){this.tagName_=r};goog.dom.TagName.prototype.toString=function(){return this.tagName_};goog.dom.TagName.A=new goog.dom.TagName("A");goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR");goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM");goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS");goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET");goog.dom.TagName.AREA=new goog.dom.TagName("AREA");goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE");goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE");goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO");goog.dom.TagName.B=new goog.dom.TagName("B");goog.dom.TagName.BASE=new goog.dom.TagName("BASE");goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT");goog.dom.TagName.BDI=new goog.dom.TagName("BDI");goog.dom.TagName.BDO=new goog.dom.TagName("BDO");goog.dom.TagName.BIG=new goog.dom.TagName("BIG");goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE");goog.dom.TagName.BODY=new goog.dom.TagName("BODY");goog.dom.TagName.BR=new goog.dom.TagName("BR");goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON");goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS");goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION");goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER");goog.dom.TagName.CITE=new goog.dom.TagName("CITE");goog.dom.TagName.CODE=new goog.dom.TagName("CODE");goog.dom.TagName.COL=new goog.dom.TagName("COL");goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP");goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND");goog.dom.TagName.DATA=new goog.dom.TagName("DATA");goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST");goog.dom.TagName.DD=new goog.dom.TagName("DD");goog.dom.TagName.DEL=new goog.dom.TagName("DEL");goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS");goog.dom.TagName.DFN=new goog.dom.TagName("DFN");goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG");goog.dom.TagName.DIR=new goog.dom.TagName("DIR");goog.dom.TagName.DIV=new goog.dom.TagName("DIV");goog.dom.TagName.DL=new goog.dom.TagName("DL");goog.dom.TagName.DT=new goog.dom.TagName("DT");goog.dom.TagName.EM=new goog.dom.TagName("EM");goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED");goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET");goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION");goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE");goog.dom.TagName.FONT=new goog.dom.TagName("FONT");goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER");goog.dom.TagName.FORM=new goog.dom.TagName("FORM");goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME");goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET");goog.dom.TagName.H1=new goog.dom.TagName("H1");goog.dom.TagName.H2=new goog.dom.TagName("H2");goog.dom.TagName.H3=new goog.dom.TagName("H3");goog.dom.TagName.H4=new goog.dom.TagName("H4");goog.dom.TagName.H5=new goog.dom.TagName("H5");goog.dom.TagName.H6=new goog.dom.TagName("H6");goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD");goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER");goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP");goog.dom.TagName.HR=new goog.dom.TagName("HR");goog.dom.TagName.HTML=new goog.dom.TagName("HTML");goog.dom.TagName.I=new goog.dom.TagName("I");goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME");goog.dom.TagName.IMG=new goog.dom.TagName("IMG");goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT");goog.dom.TagName.INS=new goog.dom.TagName("INS");goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX");goog.dom.TagName.KBD=new goog.dom.TagName("KBD");goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN");goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL");goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND");goog.dom.TagName.LI=new goog.dom.TagName("LI");goog.dom.TagName.LINK=new goog.dom.TagName("LINK");goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN");goog.dom.TagName.MAP=new goog.dom.TagName("MAP");goog.dom.TagName.MARK=new goog.dom.TagName("MARK");goog.dom.TagName.MATH=new goog.dom.TagName("MATH");goog.dom.TagName.MENU=new goog.dom.TagName("MENU");goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM");goog.dom.TagName.META=new goog.dom.TagName("META");goog.dom.TagName.METER=new goog.dom.TagName("METER");goog.dom.TagName.NAV=new goog.dom.TagName("NAV");goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES");goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT");goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT");goog.dom.TagName.OL=new goog.dom.TagName("OL");goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP");goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION");goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT");goog.dom.TagName.P=new goog.dom.TagName("P");goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM");goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE");goog.dom.TagName.PRE=new goog.dom.TagName("PRE");goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS");goog.dom.TagName.Q=new goog.dom.TagName("Q");goog.dom.TagName.RP=new goog.dom.TagName("RP");goog.dom.TagName.RT=new goog.dom.TagName("RT");goog.dom.TagName.RTC=new goog.dom.TagName("RTC");goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY");goog.dom.TagName.S=new goog.dom.TagName("S");goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP");goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT");goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION");goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT");goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL");goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE");goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN");goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE");goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG");goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE");goog.dom.TagName.SUB=new goog.dom.TagName("SUB");goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY");goog.dom.TagName.SUP=new goog.dom.TagName("SUP");goog.dom.TagName.SVG=new goog.dom.TagName("SVG");goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE");goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY");goog.dom.TagName.TD=new goog.dom.TagName("TD");goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE");goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA");goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT");goog.dom.TagName.TH=new goog.dom.TagName("TH");goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD");goog.dom.TagName.TIME=new goog.dom.TagName("TIME");goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE");goog.dom.TagName.TR=new goog.dom.TagName("TR");goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK");goog.dom.TagName.TT=new goog.dom.TagName("TT");goog.dom.TagName.U=new goog.dom.TagName("U");goog.dom.TagName.UL=new goog.dom.TagName("UL");goog.dom.TagName.VAR=new goog.dom.TagName("VAR");goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO");goog.dom.TagName.WBR=new goog.dom.TagName("WBR");goog.dom.tags={};goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};goog.dom.tags.isVoidTag=function(r){return goog.dom.tags.VOID_TAGS_[r]===!0};goog.html={};goog.html.trustedtypes={};goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null;goog.string={};goog.string.TypedString=function(){};goog.string.Const=function(r,t){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=r===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&t||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_};goog.string.Const.prototype.implementsGoogStringTypedString=!0;goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_};goog.DEBUG&&(goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"});goog.string.Const.unwrap=function(r){return r instanceof goog.string.Const&&r.constructor===goog.string.Const&&r.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?r.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+r+"'"),"type_error:Const")};goog.string.Const.from=function(r){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,r)};goog.string.Const.TYPE_MARKER_={};goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={};goog.string.Const.EMPTY=goog.string.Const.from("");goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0;goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog.html.SafeScript.fromConstant=function(r){return r=goog.string.Const.unwrap(r),r.length===0?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(r)};goog.html.SafeScript.fromConstantAndArgs=function(r,t){for(var i=[],n=1;n<arguments.length;n++)i.push(goog.html.SafeScript.stringify_(arguments[n]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(r)+")("+i.join(", ")+");")};goog.html.SafeScript.fromJson=function(r){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(r))};goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()};goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"});goog.html.SafeScript.unwrap=function(r){return goog.html.SafeScript.unwrapTrustedScript(r).toString()};goog.html.SafeScript.unwrapTrustedScript=function(r){return r instanceof goog.html.SafeScript&&r.constructor===goog.html.SafeScript&&r.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?r.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+r+"' of type "+goog.typeOf(r)),"type_error:SafeScript")};goog.html.SafeScript.stringify_=function(r){return JSON.stringify(r).replace(/</g,"\\x3c")};goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(r){return new goog.html.SafeScript().initSecurityPrivateDoNotAccessOrElse_(r)};goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(r){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(r):r,this};goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("");goog.fs={};goog.fs.url={};goog.fs.url.createObjectUrl=function(r){return goog.fs.url.getUrlObject_().createObjectURL(r)};goog.fs.url.revokeObjectUrl=function(r){goog.fs.url.getUrlObject_().revokeObjectURL(r)};goog.fs.url.UrlObject_=function(){};goog.fs.url.UrlObject_.prototype.createObjectURL=function(r){};goog.fs.url.UrlObject_.prototype.revokeObjectURL=function(r){};goog.fs.url.getUrlObject_=function(){var r=goog.fs.url.findUrlObject_();if(r!=null)return r;throw Error("This browser doesn't seem to support blob URLs")};goog.fs.url.findUrlObject_=function(){return goog.global.URL!==void 0&&goog.global.URL.createObjectURL!==void 0?goog.global.URL:goog.global.webkitURL!==void 0&&goog.global.webkitURL.createObjectURL!==void 0?goog.global.webkitURL:goog.global.createObjectURL!==void 0?goog.global:null};goog.fs.url.browserSupportsObjectUrls=function(){return goog.fs.url.findUrlObject_()!=null};goog.fs.blob={};goog.fs.blob.getBlob=function(r){var t=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(t!==void 0){t=new t;for(var i=0;i<arguments.length;i++)t.append(arguments[i]);return t.getBlob()}return goog.fs.blob.getBlobWithProperties(goog.array.toArray(arguments))};goog.fs.blob.getBlobWithProperties=function(r,t,i){var n=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(n!==void 0){n=new n;for(var s=0;s<r.length;s++)n.append(r[s],i);return n.getBlob(t)}if(goog.global.Blob!==void 0)return n={},t&&(n.type=t),i&&(n.endings=i),new Blob(r,n);throw Error("This browser doesn't seem to support creating Blobs")};goog.i18n={};goog.i18n.bidi={};goog.i18n.bidi.FORCE_RTL=!1;goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||(goog.LOCALE.substring(0,2).toLowerCase()=="ar"||goog.LOCALE.substring(0,2).toLowerCase()=="fa"||goog.LOCALE.substring(0,2).toLowerCase()=="he"||goog.LOCALE.substring(0,2).toLowerCase()=="iw"||goog.LOCALE.substring(0,2).toLowerCase()=="ps"||goog.LOCALE.substring(0,2).toLowerCase()=="sd"||goog.LOCALE.substring(0,2).toLowerCase()=="ug"||goog.LOCALE.substring(0,2).toLowerCase()=="ur"||goog.LOCALE.substring(0,2).toLowerCase()=="yi")&&(goog.LOCALE.length==2||goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")||3<=goog.LOCALE.length&&goog.LOCALE.substring(0,3).toLowerCase()=="ckb"&&(goog.LOCALE.length==3||goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")||7<=goog.LOCALE.length&&(goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")&&(goog.LOCALE.substring(3,7).toLowerCase()=="adlm"||goog.LOCALE.substring(3,7).toLowerCase()=="arab"||goog.LOCALE.substring(3,7).toLowerCase()=="hebr"||goog.LOCALE.substring(3,7).toLowerCase()=="nkoo"||goog.LOCALE.substring(3,7).toLowerCase()=="rohg"||goog.LOCALE.substring(3,7).toLowerCase()=="thaa")||8<=goog.LOCALE.length&&(goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")&&(goog.LOCALE.substring(4,8).toLowerCase()=="adlm"||goog.LOCALE.substring(4,8).toLowerCase()=="arab"||goog.LOCALE.substring(4,8).toLowerCase()=="hebr"||goog.LOCALE.substring(4,8).toLowerCase()=="nkoo"||goog.LOCALE.substring(4,8).toLowerCase()=="rohg"||goog.LOCALE.substring(4,8).toLowerCase()=="thaa");goog.i18n.bidi.Format={LRE:"\u202A",RLE:"\u202B",PDF:"\u202C",LRM:"\u200E",RLM:"\u200F"};goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0};goog.i18n.bidi.RIGHT="right";goog.i18n.bidi.LEFT="left";goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT;goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT;goog.i18n.bidi.toDir=function(r,t){return typeof r=="number"?0<r?goog.i18n.bidi.Dir.LTR:0>r?goog.i18n.bidi.Dir.RTL:t?null:goog.i18n.bidi.Dir.NEUTRAL:r==null?null:r?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR};goog.i18n.bidi.ltrChars_="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0900-\u1FFF\u200E\u2C00-\uD801\uD804-\uD839\uD83C-\uDBFF\uF900-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF";goog.i18n.bidi.rtlChars_="\u0591-\u06EF\u06FA-\u08FF\u200F\uD802-\uD803\uD83A-\uD83B\uFB1D-\uFDFF\uFE70-\uFEFC";goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g;goog.i18n.bidi.stripHtmlIfNeeded_=function(r,t){return t?r.replace(goog.i18n.bidi.htmlSkipReg_,""):r};goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]");goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]");goog.i18n.bidi.hasAnyRtl=function(r,t){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(r,t))};goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl;goog.i18n.bidi.hasAnyLtr=function(r,t){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(r,t))};goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]");goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]");goog.i18n.bidi.isRtlChar=function(r){return goog.i18n.bidi.rtlRe_.test(r)};goog.i18n.bidi.isLtrChar=function(r){return goog.i18n.bidi.ltrRe_.test(r)};goog.i18n.bidi.isNeutralChar=function(r){return!goog.i18n.bidi.isLtrChar(r)&&!goog.i18n.bidi.isRtlChar(r)};goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]");goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]");goog.i18n.bidi.startsWithRtl=function(r,t){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(r,t))};goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl;goog.i18n.bidi.startsWithLtr=function(r,t){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(r,t))};goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr;goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/;goog.i18n.bidi.isNeutralText=function(r,t){return r=goog.i18n.bidi.stripHtmlIfNeeded_(r,t),goog.i18n.bidi.isRequiredLtrRe_.test(r)||!goog.i18n.bidi.hasAnyLtr(r)&&!goog.i18n.bidi.hasAnyRtl(r)};goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$");goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$");goog.i18n.bidi.endsWithLtr=function(r,t){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(r,t))};goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr;goog.i18n.bidi.endsWithRtl=function(r,t){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(r,t))};goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl;goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;goog.i18n.bidi.isRtlLanguage=function(r){return goog.i18n.bidi.rtlLocalesRe_.test(r)};goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g;goog.i18n.bidi.guardBracketInText=function(r,t){return t=(t===void 0?goog.i18n.bidi.hasAnyRtl(r):t)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,r.replace(goog.i18n.bidi.bracketGuardTextRe_,t+"$&"+t)};goog.i18n.bidi.enforceRtlInHtml=function(r){return r.charAt(0)=="<"?r.replace(/<\w+/,"$& dir=rtl"):`
<span dir=rtl>`+r+"</span>"};goog.i18n.bidi.enforceRtlInText=function(r){return goog.i18n.bidi.Format.RLE+r+goog.i18n.bidi.Format.PDF};goog.i18n.bidi.enforceLtrInHtml=function(r){return r.charAt(0)=="<"?r.replace(/<\w+/,"$& dir=ltr"):`
<span dir=ltr>`+r+"</span>"};goog.i18n.bidi.enforceLtrInText=function(r){return goog.i18n.bidi.Format.LRE+r+goog.i18n.bidi.Format.PDF};goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g;goog.i18n.bidi.leftRe_=/left/gi;goog.i18n.bidi.rightRe_=/right/gi;goog.i18n.bidi.tempRe_=/%%%%/g;goog.i18n.bidi.mirrorCSS=function(r){return r.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)};goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g;goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g;goog.i18n.bidi.normalizeHebrewQuote=function(r){return r.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1\u05F4").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1\u05F3")};goog.i18n.bidi.wordSeparatorRe_=/\s+/;goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/;goog.i18n.bidi.rtlDetectionThreshold_=.4;goog.i18n.bidi.estimateDirection=function(r,t){var i=0,n=0,s=!1;for(r=goog.i18n.bidi.stripHtmlIfNeeded_(r,t).split(goog.i18n.bidi.wordSeparatorRe_),t=0;t<r.length;t++){var o=r[t];goog.i18n.bidi.startsWithRtl(o)?(i++,n++):goog.i18n.bidi.isRequiredLtrRe_.test(o)?s=!0:goog.i18n.bidi.hasAnyLtr(o)?n++:goog.i18n.bidi.hasNumeralsRe_.test(o)&&(s=!0)}return n==0?s?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:i/n>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR};goog.i18n.bidi.detectRtlDirectionality=function(r,t){return goog.i18n.bidi.estimateDirection(r,t)==goog.i18n.bidi.Dir.RTL};goog.i18n.bidi.setElementDirAndAlign=function(r,t){r&&(t=goog.i18n.bidi.toDir(t))&&(r.style.textAlign=t==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,r.dir=t==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")};goog.i18n.bidi.setElementDirByTextDirectionality=function(r,t){switch(goog.i18n.bidi.estimateDirection(t)){case goog.i18n.bidi.Dir.LTR:r.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:r.dir="rtl";break;default:r.removeAttribute("dir")}};goog.i18n.bidi.DirectionalString=function(){};goog.html.TrustedResourceUrl=function(r,t){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=r===goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_&&t||"",this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0;goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()};goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0;goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR};goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(r,t){var i=goog.html.TrustedResourceUrl.unwrap(this);i=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(i);var n=i[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(i[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",i[2]||"",r)+goog.html.TrustedResourceUrl.stringifyParams_("#",n,t))};goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"});goog.html.TrustedResourceUrl.unwrap=function(r){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(r).toString()};goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(r){return r instanceof goog.html.TrustedResourceUrl&&r.constructor===goog.html.TrustedResourceUrl&&r.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?r.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+r+"' of type "+goog.typeOf(r)),"type_error:TrustedResourceUrl")};goog.html.TrustedResourceUrl.format=function(r,t){var i=goog.string.Const.unwrap(r);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(i))throw Error("Invalid TrustedResourceUrl format: "+i);return r=i.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(n,s){if(!Object.prototype.hasOwnProperty.call(t,s))throw Error('Found marker, "'+s+'", in format string, "'+i+'", but no valid label mapping found in args: '+JSON.stringify(t));return n=t[s],n instanceof goog.string.Const?goog.string.Const.unwrap(n):encodeURIComponent(String(n))}),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(r)};goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g;goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i;goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/;goog.html.TrustedResourceUrl.formatWithParams=function(r,t,i,n){return goog.html.TrustedResourceUrl.format(r,t).cloneWithParams(i,n)};goog.html.TrustedResourceUrl.fromConstant=function(r){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(r))};goog.html.TrustedResourceUrl.fromConstants=function(r){for(var t="",i=0;i<r.length;i++)t+=goog.string.Const.unwrap(r[i]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)};goog.html.TrustedResourceUrl.fromSafeScript=function(r){return r=goog.fs.blob.getBlobWithProperties([goog.html.SafeScript.unwrap(r)],"text/javascript"),r=goog.fs.url.createObjectUrl(r),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(r)};goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(r){return r=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(r):r,new goog.html.TrustedResourceUrl(goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_,r)};goog.html.TrustedResourceUrl.stringifyParams_=function(r,t,i){if(i==null)return t;if(typeof i=="string")return i?r+encodeURIComponent(i):"";for(var n in i){var s=i[n];s=Array.isArray(s)?s:[s];for(var o=0;o<s.length;o++){var l=s[o];l!=null&&(t||(t=r),t+=(t.length>r.length?"&":"")+encodeURIComponent(n)+"="+encodeURIComponent(String(l)))}}return t};goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_={};goog.string.internal={};goog.string.internal.startsWith=function(r,t){return r.lastIndexOf(t,0)==0};goog.string.internal.endsWith=function(r,t){var i=r.length-t.length;return 0<=i&&r.indexOf(t,i)==i};goog.string.internal.caseInsensitiveStartsWith=function(r,t){return goog.string.internal.caseInsensitiveCompare(t,r.substr(0,t.length))==0};goog.string.internal.caseInsensitiveEndsWith=function(r,t){return goog.string.internal.caseInsensitiveCompare(t,r.substr(r.length-t.length,t.length))==0};goog.string.internal.caseInsensitiveEquals=function(r,t){return r.toLowerCase()==t.toLowerCase()};goog.string.internal.isEmptyOrWhitespace=function(r){return/^[\s\xa0]*$/.test(r)};goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};goog.string.internal.caseInsensitiveCompare=function(r,t){return r=String(r).toLowerCase(),t=String(t).toLowerCase(),r<t?-1:r==t?0:1};goog.string.internal.newLineToBr=function(r,t){return r.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")};goog.string.internal.htmlEscape=function(r,t){if(t)r=r.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(r))return r;r.indexOf("&")!=-1&&(r=r.replace(goog.string.internal.AMP_RE_,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(goog.string.internal.LT_RE_,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(goog.string.internal.GT_RE_,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(goog.string.internal.QUOT_RE_,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(goog.string.internal.NULL_RE_,"&#0;"))}return r};goog.string.internal.AMP_RE_=/&/g;goog.string.internal.LT_RE_=/</g;goog.string.internal.GT_RE_=/>/g;goog.string.internal.QUOT_RE_=/"/g;goog.string.internal.SINGLE_QUOTE_RE_=/'/g;goog.string.internal.NULL_RE_=/\x00/g;goog.string.internal.ALL_RE_=/[\x00&<>"']/;goog.string.internal.whitespaceEscape=function(r,t){return goog.string.internal.newLineToBr(r.replace(/  /g," &#160;"),t)};goog.string.internal.contains=function(r,t){return r.indexOf(t)!=-1};goog.string.internal.caseInsensitiveContains=function(r,t){return goog.string.internal.contains(r.toLowerCase(),t.toLowerCase())};goog.string.internal.compareVersions=function(r,t){var i=0;r=goog.string.internal.trim(String(r)).split("."),t=goog.string.internal.trim(String(t)).split(".");for(var n=Math.max(r.length,t.length),s=0;i==0&&s<n;s++){var o=r[s]||"",l=t[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],o[0].length==0&&l[0].length==0)break;i=o[1].length==0?0:parseInt(o[1],10);var h=l[1].length==0?0:parseInt(l[1],10);i=goog.string.internal.compareElements_(i,h)||goog.string.internal.compareElements_(o[2].length==0,l[2].length==0)||goog.string.internal.compareElements_(o[2],l[2]),o=o[3],l=l[3]}while(i==0)}return i};goog.string.internal.compareElements_=function(r,t){return r<t?-1:r>t?1:0};goog.html.SafeUrl=function(r,t){this.privateDoNotAccessOrElseSafeUrlWrappedValue_=r===goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_&&t||"",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez";goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0;goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()};goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0;goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR};goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"});goog.html.SafeUrl.unwrap=function(r){return r instanceof goog.html.SafeUrl&&r.constructor===goog.html.SafeUrl&&r.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?r.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+r+"' of type "+goog.typeOf(r)),"type_error:SafeUrl")};goog.html.SafeUrl.fromConstant=function(r){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(r))};goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i;goog.html.SafeUrl.isSafeMimeType=function(r){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(r)};goog.html.SafeUrl.fromBlob=function(r){return r=goog.html.SafeUrl.isSafeMimeType(r.type)?goog.fs.url.createObjectUrl(r):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(r)};goog.html.SafeUrl.fromMediaSource=function(r){return goog.asserts.assert("MediaSource"in goog.global,"No support for MediaSource"),r=r instanceof MediaSource?goog.fs.url.createObjectUrl(r):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(r)};goog.html.DATA_URL_PATTERN_=/^data:(.*);base64,[a-z0-9+\/]+=*$/i;goog.html.SafeUrl.fromDataUrl=function(r){r=r.replace(/(%0A|%0D)/g,"");var t=r.match(goog.html.DATA_URL_PATTERN_);return t=t&&goog.html.SafeUrl.isSafeMimeType(t[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t?r:goog.html.SafeUrl.INNOCUOUS_STRING)};goog.html.SafeUrl.fromTelUrl=function(r){return goog.string.internal.caseInsensitiveStartsWith(r,"tel:")||(r=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(r)};goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i;goog.html.SafeUrl.fromSipUrl=function(r){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(r))||(r=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(r)};goog.html.SafeUrl.fromFacebookMessengerUrl=function(r){return goog.string.internal.caseInsensitiveStartsWith(r,"fb-messenger://share")||(r=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(r)};goog.html.SafeUrl.fromWhatsAppUrl=function(r){return goog.string.internal.caseInsensitiveStartsWith(r,"whatsapp://send")||(r=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(r)};goog.html.SafeUrl.fromSmsUrl=function(r){return goog.string.internal.caseInsensitiveStartsWith(r,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(r)||(r=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(r)};goog.html.SafeUrl.isSmsUrlBodyValid_=function(r){var t=r.indexOf("#");if(0<t&&(r=r.substring(0,t)),t=r.match(/[?&]body=/gi),!t)return!0;if(1<t.length)return!1;if(r=r.match(/[?&]body=([^&]*)/)[1],!r)return!0;try{decodeURIComponent(r)}catch{return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(r)};goog.html.SafeUrl.fromSshUrl=function(r){return goog.string.internal.caseInsensitiveStartsWith(r,"ssh://")||(r=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(r)};goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(r,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,r,t)};goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(r,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,r,t)};goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(r,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,r,t)};goog.html.SafeUrl.sanitizeExtensionUrl_=function(r,t,i){return(r=r.exec(t))?(r=r[1],(i instanceof goog.string.Const?[goog.string.Const.unwrap(i)]:i.map(function(n){return goog.string.Const.unwrap(n)})).indexOf(r)==-1&&(t=goog.html.SafeUrl.INNOCUOUS_STRING)):t=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)};goog.html.SafeUrl.fromTrustedResourceUrl=function(r){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(r))};goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_;goog.html.SafeUrl.sanitize=function(r){return r instanceof goog.html.SafeUrl?r:(r=typeof r=="object"&&r.implementsGoogStringTypedString?r.getTypedStringValue():String(r),goog.html.SAFE_URL_PATTERN_.test(r)||(r=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(r))};goog.html.SafeUrl.sanitizeAssertUnchanged=function(r,t){return r instanceof goog.html.SafeUrl?r:(r=typeof r=="object"&&r.implementsGoogStringTypedString?r.getTypedStringValue():String(r),t&&/^data:/i.test(r)&&(t=goog.html.SafeUrl.fromDataUrl(r),t.getTypedStringValue()==r)?t:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(r),"%s does not match the safe URL pattern",r)||(r=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(r)))};goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(r){return new goog.html.SafeUrl(goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_,r)};goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank");goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_={};goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0;goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog.html.SafeStyle.fromConstant=function(r){return r=goog.string.Const.unwrap(r),r.length===0?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(r,";"),"Last character of style string is not ';': "+r),goog.asserts.assert(goog.string.internal.contains(r,":"),`Style string must contain at least one ':', to specify a "name: value" pair: `+r),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(r))};goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_};goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"});goog.html.SafeStyle.unwrap=function(r){return r instanceof goog.html.SafeStyle&&r.constructor===goog.html.SafeStyle&&r.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?r.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+r+"' of type "+goog.typeOf(r)),"type_error:SafeStyle")};goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(r){return new goog.html.SafeStyle().initSecurityPrivateDoNotAccessOrElse_(r)};goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(r){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=r,this};goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse("");goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez";goog.html.SafeStyle.create=function(r){var t="",i;for(i in r){if(!/^[-_a-zA-Z0-9]+$/.test(i))throw Error("Name allows only [-_a-zA-Z0-9], got: "+i);var n=r[i];n!=null&&(n=Array.isArray(n)?goog.array.map(n,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(n),t+=i+":"+n+";")}return t?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t):goog.html.SafeStyle.EMPTY};goog.html.SafeStyle.sanitizePropertyValue_=function(r){if(r instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(r).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(r=r instanceof goog.string.Const?goog.string.Const.unwrap(r):goog.html.SafeStyle.sanitizePropertyValueString_(String(r)),/[{;}]/.test(r))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[r]);return r};goog.html.SafeStyle.sanitizePropertyValueString_=function(r){var t=r.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");if(goog.html.SafeStyle.VALUE_RE_.test(t)){if(goog.html.SafeStyle.COMMENT_RE_.test(r))return goog.asserts.fail("String value disallows comments, got: "+r),goog.html.SafeStyle.INNOCUOUS_STRING;if(!goog.html.SafeStyle.hasBalancedQuotes_(r))return goog.asserts.fail("String value requires balanced quotes, got: "+r),goog.html.SafeStyle.INNOCUOUS_STRING;if(!goog.html.SafeStyle.hasBalancedSquareBrackets_(r))return goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+r),goog.html.SafeStyle.INNOCUOUS_STRING}else return goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+r),goog.html.SafeStyle.INNOCUOUS_STRING;return goog.html.SafeStyle.sanitizeUrl_(r)};goog.html.SafeStyle.hasBalancedQuotes_=function(r){for(var t=!0,i=!0,n=0;n<r.length;n++){var s=r.charAt(n);s=="'"&&i?t=!t:s=='"'&&t&&(i=!i)}return t&&i};goog.html.SafeStyle.hasBalancedSquareBrackets_=function(r){for(var t=!0,i=/^[-_a-zA-Z0-9]$/,n=0;n<r.length;n++){var s=r.charAt(n);if(s=="]"){if(t)return!1;t=!0}else if(s=="["){if(!t)return!1;t=!1}else if(!t&&!i.test(s))return!1}return t};goog.html.SafeStyle.VALUE_ALLOWED_CHARS_=`[-,."'%_!# a-zA-Z0-9\\[\\]]`;goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$");goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g;goog.html.SafeStyle.ALLOWED_FUNCTIONS_="calc cubic-bezier fit-content hsl hsla linear-gradient matrix minmax repeat rgb rgba (rotate|scale|translate)(X|Y|Z|3d)?".split(" ");goog.html.SafeStyle.FUNCTIONS_RE_=new RegExp("\\b("+goog.html.SafeStyle.ALLOWED_FUNCTIONS_.join("|")+")\\([-+*/0-9a-z.%\\[\\], ]+\\)","g");goog.html.SafeStyle.COMMENT_RE_=/\/\*/;goog.html.SafeStyle.sanitizeUrl_=function(r){return r.replace(goog.html.SafeStyle.URL_RE_,function(t,i,n,s){var o="";return n=n.replace(/^(['"])(.*)\1$/,function(l,h,p){return o=h,p}),t=goog.html.SafeUrl.sanitize(n).getTypedStringValue(),i+o+t+o+s})};goog.html.SafeStyle.concat=function(r){var t="",i=function(n){Array.isArray(n)?goog.array.forEach(n,i):t+=goog.html.SafeStyle.unwrap(n)};return goog.array.forEach(arguments,i),t?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t):goog.html.SafeStyle.EMPTY};goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0;goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog.html.SafeStyleSheet.createRule=function(r,t){if(goog.string.internal.contains(r,"<"))throw Error("Selector does not allow '<', got: "+r);var i=r.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(i))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+r);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(i))throw Error("() and [] in selector must be balanced, got: "+r);return t instanceof goog.html.SafeStyle||(t=goog.html.SafeStyle.create(t)),r=r+"{"+goog.html.SafeStyle.unwrap(t).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(r)};goog.html.SafeStyleSheet.hasBalancedBrackets_=function(r){for(var t={"(":")","[":"]"},i=[],n=0;n<r.length;n++){var s=r[n];if(t[s])i.push(t[s]);else if(goog.object.contains(t,s)&&i.pop()!=s)return!1}return i.length==0};goog.html.SafeStyleSheet.concat=function(r){var t="",i=function(n){Array.isArray(n)?goog.array.forEach(n,i):t+=goog.html.SafeStyleSheet.unwrap(n)};return goog.array.forEach(arguments,i),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)};goog.html.SafeStyleSheet.fromConstant=function(r){return r=goog.string.Const.unwrap(r),r.length===0?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(r,"<"),"Forbidden '<' character in style sheet string: "+r),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(r))};goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_};goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"});goog.html.SafeStyleSheet.unwrap=function(r){return r instanceof goog.html.SafeStyleSheet&&r.constructor===goog.html.SafeStyleSheet&&r.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?r.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+r+"' of type "+goog.typeOf(r)),"type_error:SafeStyleSheet")};goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(r){return new goog.html.SafeStyleSheet().initSecurityPrivateDoNotAccessOrElse_(r)};goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(r){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=r,this};goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse("");goog.labs={};goog.labs.userAgent={};goog.labs.userAgent.util={};goog.labs.userAgent.util.getNativeUserAgentString_=function(){var r=goog.labs.userAgent.util.getNavigator_();return r&&(r=r.userAgent)?r:""};goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator};goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_();goog.labs.userAgent.util.setUserAgent=function(r){goog.labs.userAgent.util.userAgent_=r||goog.labs.userAgent.util.getNativeUserAgentString_()};goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_};goog.labs.userAgent.util.matchUserAgent=function(r){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(t,r)};goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(r){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(t,r)};goog.labs.userAgent.util.extractVersionTuples=function(r){for(var t=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,i=[],n;n=t.exec(r);)i.push([n[1],n[2],n[3]||void 0]);return i};goog.labs.userAgent.browser={};goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")};goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")};goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")};goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")};goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")};goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")};goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))};goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")};goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")};goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()};goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())};goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_;goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_;goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_;goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_;goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_;goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_;goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_;goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_;goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_;goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_;goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_;goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")};goog.labs.userAgent.browser.getVersion=function(){function r(s){return s=goog.array.find(s,n),i[s]||""}var t=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(t);t=goog.labs.userAgent.util.extractVersionTuples(t);var i={};goog.array.forEach(t,function(s){i[s[0]]=s[1]});var n=goog.partial(goog.object.containsKey,i);return goog.labs.userAgent.browser.isOpera()?r(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?r(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?r(["Edg"]):goog.labs.userAgent.browser.isChrome()?r(["Chrome","CriOS","HeadlessChrome"]):(t=t[2])&&t[1]||""};goog.labs.userAgent.browser.isVersionOrHigher=function(r){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),r)};goog.labs.userAgent.browser.getIEVersion_=function(r){var t=/rv: *([\d\.]*)/.exec(r);if(t&&t[1])return t[1];t="";var i=/MSIE +([\d\.]+)/.exec(r);if(i&&i[1])if(r=/Trident\/(\d.\d)/.exec(r),i[1]=="7.0")if(r&&r[1])switch(r[1]){case"4.0":t="8.0";break;case"5.0":t="9.0";break;case"6.0":t="10.0";break;case"7.0":t="11.0"}else t="7.0";else t=i[1];return t};goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null};goog.html.SafeHtml.ENABLE_ERROR_MESSAGES=goog.DEBUG;goog.html.SafeHtml.SUPPORT_STYLE_ATTRIBUTE=!0;goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0;goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_};goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0;goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()};goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"});goog.html.SafeHtml.unwrap=function(r){return goog.html.SafeHtml.unwrapTrustedHTML(r).toString()};goog.html.SafeHtml.unwrapTrustedHTML=function(r){return r instanceof goog.html.SafeHtml&&r.constructor===goog.html.SafeHtml&&r.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?r.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+r+"' of type "+goog.typeOf(r)),"type_error:SafeHtml")};goog.html.SafeHtml.htmlEscape=function(r){if(r instanceof goog.html.SafeHtml)return r;var t=typeof r=="object",i=null;return t&&r.implementsGoogI18nBidiDirectionalString&&(i=r.getDirection()),r=t&&r.implementsGoogStringTypedString?r.getTypedStringValue():String(r),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(r),i)};goog.html.SafeHtml.htmlEscapePreservingNewlines=function(r){return r instanceof goog.html.SafeHtml?r:(r=goog.html.SafeHtml.htmlEscape(r),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(r)),r.getDirection()))};goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(r){return r instanceof goog.html.SafeHtml?r:(r=goog.html.SafeHtml.htmlEscape(r),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(r)),r.getDirection()))};goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape;goog.html.SafeHtml.comment=function(r){return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!--"+goog.string.internal.htmlEscape(r)+"-->",null)};goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/;goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0};goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0};goog.html.SafeHtml.create=function(r,t,i){return goog.html.SafeHtml.verifyTagName(String(r)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(r),t,i)};goog.html.SafeHtml.verifyTagName=function(r){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(r))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"Invalid tag name <"+r+">.":"");if(r.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"Tag name <"+r+"> is not allowed for SafeHtml.":"")};goog.html.SafeHtml.createIframe=function(r,t,i,n){r&&goog.html.TrustedResourceUrl.unwrap(r);var s={};return s.src=r||null,s.srcdoc=t&&goog.html.SafeHtml.unwrap(t),r=goog.html.SafeHtml.combineAttributes(s,{sandbox:""},i),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",r,n)};goog.html.SafeHtml.createSandboxIframe=function(r,t,i,n){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"The browser does not support sandboxed iframes.":"");var s={};return s.src=r?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(r)):null,s.srcdoc=t||null,s.sandbox="",r=goog.html.SafeHtml.combineAttributes(s,{},i),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",r,n)};goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype};goog.html.SafeHtml.createScriptSrc=function(r,t){return goog.html.TrustedResourceUrl.unwrap(r),r=goog.html.SafeHtml.combineAttributes({src:r},{},t),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",r)};goog.html.SafeHtml.createScript=function(r,t){for(var i in t){var n=i.toLowerCase();if(n=="language"||n=="src"||n=="text"||n=="type")throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot set "'+n+'" attribute':"")}for(i="",r=goog.array.concat(r),n=0;n<r.length;n++)i+=goog.html.SafeScript.unwrap(r[n]);return r=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(i,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",t,r)};goog.html.SafeHtml.createStyle=function(r,t){t=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},t);var i="";r=goog.array.concat(r);for(var n=0;n<r.length;n++)i+=goog.html.SafeStyleSheet.unwrap(r[n]);return r=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(i,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",t,r)};goog.html.SafeHtml.createMetaRefresh=function(r,t){return r=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(r)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(t||0)+"; url="+r})};goog.html.SafeHtml.getAttrNameAndValue_=function(r,t,i){if(i instanceof goog.string.Const)i=goog.string.Const.unwrap(i);else if(t.toLowerCase()=="style")if(goog.html.SafeHtml.SUPPORT_STYLE_ATTRIBUTE)i=goog.html.SafeHtml.getStyleValue_(i);else throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "style" not supported.':"");else{if(/^on/i.test(t))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+t+'" requires goog.string.Const value, "'+i+'" given.':"");if(t.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(i instanceof goog.html.TrustedResourceUrl)i=goog.html.TrustedResourceUrl.unwrap(i);else if(i instanceof goog.html.SafeUrl)i=goog.html.SafeUrl.unwrap(i);else if(typeof i=="string")i=goog.html.SafeUrl.sanitize(i).getTypedStringValue();else throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+t+'" on tag "'+r+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+i+'" given.':"")}return i.implementsGoogStringTypedString&&(i=i.getTypedStringValue()),goog.asserts.assert(typeof i=="string"||typeof i=="number","String or number value expected, got "+typeof i+" with value: "+i),t+'="'+goog.string.internal.htmlEscape(String(i))+'"'};goog.html.SafeHtml.getStyleValue_=function(r){if(!goog.isObject(r))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof r+" given: "+r:"");return r instanceof goog.html.SafeStyle||(r=goog.html.SafeStyle.create(r)),goog.html.SafeStyle.unwrap(r)};goog.html.SafeHtml.createWithDir=function(r,t,i,n){return t=goog.html.SafeHtml.create(t,i,n),t.dir_=r,t};goog.html.SafeHtml.join=function(r,t){r=goog.html.SafeHtml.htmlEscape(r);var i=r.getDirection(),n=[],s=function(o){Array.isArray(o)?goog.array.forEach(o,s):(o=goog.html.SafeHtml.htmlEscape(o),n.push(goog.html.SafeHtml.unwrap(o)),o=o.getDirection(),i==goog.i18n.bidi.Dir.NEUTRAL?i=o:o!=goog.i18n.bidi.Dir.NEUTRAL&&i!=o&&(i=null))};return goog.array.forEach(t,s),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n.join(goog.html.SafeHtml.unwrap(r)),i)};goog.html.SafeHtml.concat=function(r){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))};goog.html.SafeHtml.concatWithDir=function(r,t){var i=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return i.dir_=r,i};goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(r,t){return new goog.html.SafeHtml().initSecurityPrivateDoNotAccessOrElse_(r,t)};goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(r,t){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(r):r,this.dir_=t,this};goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(r,t,i){var n=null,s="<"+r+goog.html.SafeHtml.stringifyAttributes(r,t);return i==null?i=[]:Array.isArray(i)||(i=[i]),goog.dom.tags.isVoidTag(r.toLowerCase())?(goog.asserts.assert(!i.length,"Void tag <"+r+"> does not allow content."),s+=">"):(n=goog.html.SafeHtml.concat(i),s+=">"+goog.html.SafeHtml.unwrap(n)+"</"+r+">",n=n.getDirection()),(r=t&&t.dir)&&(n=/^(ltr|rtl|auto)$/i.test(r)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(s,n)};goog.html.SafeHtml.stringifyAttributes=function(r,t){var i="";if(t)for(var n in t){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(n))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Invalid attribute name "'+n+'".':"");var s=t[n];s!=null&&(i+=" "+goog.html.SafeHtml.getAttrNameAndValue_(r,n,s))}return i};goog.html.SafeHtml.combineAttributes=function(r,t,i){var n={},s;for(s in r)goog.asserts.assert(s.toLowerCase()==s,"Must be lower case"),n[s]=r[s];for(s in t)goog.asserts.assert(s.toLowerCase()==s,"Must be lower case"),n[s]=t[s];if(i)for(s in i){var o=s.toLowerCase();if(o in r)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot override "'+o+'" attribute, got "'+s+'" with value "'+i[s]+'"':"");o in t&&delete n[o],n[s]=i[s]}return n};goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL);goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL);goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL);goog.html.uncheckedconversions={};goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(r,t,i){return goog.asserts.assertString(goog.string.Const.unwrap(r),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(r)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(t,i||null)};goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(r,t){return goog.asserts.assertString(goog.string.Const.unwrap(r),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(r)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t)};goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(r,t){return goog.asserts.assertString(goog.string.Const.unwrap(r),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(r)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t)};goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(r,t){return goog.asserts.assertString(goog.string.Const.unwrap(r),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(r)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)};goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(r,t){return goog.asserts.assertString(goog.string.Const.unwrap(r),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(r)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)};goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(r,t){return goog.asserts.assertString(goog.string.Const.unwrap(r),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(r)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)};goog.dom.safe={};goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"};goog.dom.safe.insertAdjacentHtml=function(r,t,i){r.insertAdjacentHTML(t,goog.html.SafeHtml.unwrapTrustedHTML(i))};goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0};goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue(function(){if(goog.DEBUG&&typeof document>"u")return!1;var r=document.createElement("div"),t=document.createElement("div");return t.appendChild(document.createElement("div")),r.appendChild(t),goog.DEBUG&&!r.firstChild?!1:(t=r.firstChild.firstChild,r.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),!t.parentElement)});goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(r,t){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;r.lastChild;)r.removeChild(r.lastChild);r.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(t)};goog.dom.safe.setInnerHtml=function(r,t){if(goog.asserts.ENABLE_ASSERTS){var i=r.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[i])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+r.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(r,t)};goog.dom.safe.setOuterHtml=function(r,t){r.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(t)};goog.dom.safe.setFormElementAction=function(r,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLFormElement(r).action=goog.html.SafeUrl.unwrap(t)};goog.dom.safe.setButtonFormAction=function(r,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLButtonElement(r).formAction=goog.html.SafeUrl.unwrap(t)};goog.dom.safe.setInputFormAction=function(r,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLInputElement(r).formAction=goog.html.SafeUrl.unwrap(t)};goog.dom.safe.setStyle=function(r,t){r.style.cssText=goog.html.SafeStyle.unwrap(t)};goog.dom.safe.documentWrite=function(r,t){r.write(goog.html.SafeHtml.unwrapTrustedHTML(t))};goog.dom.safe.setAnchorHref=function(r,t){goog.dom.asserts.assertIsHTMLAnchorElement(r),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),r.href=goog.html.SafeUrl.unwrap(t)};goog.dom.safe.setImageSrc=function(r,t){if(goog.dom.asserts.assertIsHTMLImageElement(r),!(t instanceof goog.html.SafeUrl)){var i=/^data:image\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,i)}r.src=goog.html.SafeUrl.unwrap(t)};goog.dom.safe.setAudioSrc=function(r,t){if(goog.dom.asserts.assertIsHTMLAudioElement(r),!(t instanceof goog.html.SafeUrl)){var i=/^data:audio\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,i)}r.src=goog.html.SafeUrl.unwrap(t)};goog.dom.safe.setVideoSrc=function(r,t){if(goog.dom.asserts.assertIsHTMLVideoElement(r),!(t instanceof goog.html.SafeUrl)){var i=/^data:video\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,i)}r.src=goog.html.SafeUrl.unwrap(t)};goog.dom.safe.setEmbedSrc=function(r,t){goog.dom.asserts.assertIsHTMLEmbedElement(r),r.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)};goog.dom.safe.setFrameSrc=function(r,t){goog.dom.asserts.assertIsHTMLFrameElement(r),r.src=goog.html.TrustedResourceUrl.unwrap(t)};goog.dom.safe.setIframeSrc=function(r,t){goog.dom.asserts.assertIsHTMLIFrameElement(r),r.src=goog.html.TrustedResourceUrl.unwrap(t)};goog.dom.safe.setIframeSrcdoc=function(r,t){goog.dom.asserts.assertIsHTMLIFrameElement(r),r.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(t)};goog.dom.safe.setLinkHrefAndRel=function(r,t,i){goog.dom.asserts.assertIsHTMLLinkElement(r),r.rel=i,goog.string.internal.caseInsensitiveContains(i,"stylesheet")?(goog.asserts.assert(t instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),r.href=goog.html.TrustedResourceUrl.unwrap(t)):r.href=t instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrap(t):t instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrap(t):goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitizeAssertUnchanged(t))};goog.dom.safe.setObjectData=function(r,t){goog.dom.asserts.assertIsHTMLObjectElement(r),r.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)};goog.dom.safe.setScriptSrc=function(r,t){goog.dom.asserts.assertIsHTMLScriptElement(r),r.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t),(t=goog.getScriptNonce())&&r.setAttribute("nonce",t)};goog.dom.safe.setScriptContent=function(r,t){goog.dom.asserts.assertIsHTMLScriptElement(r),r.text=goog.html.SafeScript.unwrapTrustedScript(t),(t=goog.getScriptNonce())&&r.setAttribute("nonce",t)};goog.dom.safe.setLocationHref=function(r,t){goog.dom.asserts.assertIsLocation(r),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),r.href=goog.html.SafeUrl.unwrap(t)};goog.dom.safe.assignLocation=function(r,t){goog.dom.asserts.assertIsLocation(r),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),r.assign(goog.html.SafeUrl.unwrap(t))};goog.dom.safe.replaceLocation=function(r,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),r.replace(goog.html.SafeUrl.unwrap(t))};goog.dom.safe.openInWindow=function(r,t,i,n,s){return r=r instanceof goog.html.SafeUrl?r:goog.html.SafeUrl.sanitizeAssertUnchanged(r),t=t||goog.global,i=i instanceof goog.string.Const?goog.string.Const.unwrap(i):i||"",t.open(goog.html.SafeUrl.unwrap(r),i,n,s)};goog.dom.safe.parseFromStringHtml=function(r,t){return goog.dom.safe.parseFromString(r,t,"text/html")};goog.dom.safe.parseFromString=function(r,t,i){return r.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(t),i)};goog.dom.safe.createImageFromBlob=function(r){if(!/^image\/.*/g.test(r.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var t=goog.global.URL.createObjectURL(r);return r=new goog.global.Image,r.onload=function(){goog.global.URL.revokeObjectURL(t)},goog.dom.safe.setImageSrc(r,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),t)),r};goog.string.DETECT_DOUBLE_ESCAPING=!1;goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1;goog.string.Unicode={NBSP:"\xA0"};goog.string.startsWith=goog.string.internal.startsWith;goog.string.endsWith=goog.string.internal.endsWith;goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith;goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith;goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals;goog.string.subs=function(r,t){for(var i=r.split("%s"),n="",s=Array.prototype.slice.call(arguments,1);s.length&&1<i.length;)n+=i.shift()+s.shift();return n+i.join("%s")};goog.string.collapseWhitespace=function(r){return r.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")};goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace;goog.string.isEmptyString=function(r){return r.length==0};goog.string.isEmpty=goog.string.isEmptyOrWhitespace;goog.string.isEmptyOrWhitespaceSafe=function(r){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(r))};goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe;goog.string.isBreakingWhitespace=function(r){return!/[^\t\n\r ]/.test(r)};goog.string.isAlpha=function(r){return!/[^a-zA-Z]/.test(r)};goog.string.isNumeric=function(r){return!/[^0-9]/.test(r)};goog.string.isAlphaNumeric=function(r){return!/[^a-zA-Z0-9]/.test(r)};goog.string.isSpace=function(r){return r==" "};goog.string.isUnicodeChar=function(r){return r.length==1&&" "<=r&&"~">=r||"\x80"<=r&&"\uFFFD">=r};goog.string.stripNewlines=function(r){return r.replace(/(\r\n|\r|\n)+/g," ")};goog.string.canonicalizeNewlines=function(r){return r.replace(/(\r\n|\r|\n)/g,`
`)};goog.string.normalizeWhitespace=function(r){return r.replace(/\xa0|\s/g," ")};goog.string.normalizeSpaces=function(r){return r.replace(/\xa0|[ \t]+/g," ")};goog.string.collapseBreakingSpaces=function(r){return r.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};goog.string.trim=goog.string.internal.trim;goog.string.trimLeft=function(r){return r.replace(/^[\s\xa0]+/,"")};goog.string.trimRight=function(r){return r.replace(/[\s\xa0]+$/,"")};goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare;goog.string.numberAwareCompare_=function(r,t,i){if(r==t)return 0;if(!r)return-1;if(!t)return 1;for(var n=r.toLowerCase().match(i),s=t.toLowerCase().match(i),o=Math.min(n.length,s.length),l=0;l<o;l++){i=n[l];var h=s[l];if(i!=h)return r=parseInt(i,10),!isNaN(r)&&(t=parseInt(h,10),!isNaN(t)&&r-t)?r-t:i<h?-1:1}return n.length!=s.length?n.length-s.length:r<t?-1:1};goog.string.intAwareCompare=function(r,t){return goog.string.numberAwareCompare_(r,t,/\d+|\D+/g)};goog.string.floatAwareCompare=function(r,t){return goog.string.numberAwareCompare_(r,t,/\d+|\.\d+|\D+/g)};goog.string.numerateCompare=goog.string.floatAwareCompare;goog.string.urlEncode=function(r){return encodeURIComponent(String(r))};goog.string.urlDecode=function(r){return decodeURIComponent(r.replace(/\+/g," "))};goog.string.newLineToBr=goog.string.internal.newLineToBr;goog.string.htmlEscape=function(r,t){return r=goog.string.internal.htmlEscape(r,t),goog.string.DETECT_DOUBLE_ESCAPING&&(r=r.replace(goog.string.E_RE_,"&#101;")),r};goog.string.E_RE_=/e/g;goog.string.unescapeEntities=function(r){return goog.string.contains(r,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(r):goog.string.unescapePureXmlEntities_(r):r};goog.string.unescapeEntitiesWithDocument=function(r,t){return goog.string.contains(r,"&")?goog.string.unescapeEntitiesUsingDom_(r,t):r};goog.string.unescapeEntitiesUsingDom_=function(r,t){var i={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},n=t?t.createElement("div"):goog.global.document.createElement("div");return r.replace(goog.string.HTML_ENTITY_PATTERN_,function(s,o){var l=i[s];return l||(o.charAt(0)=="#"&&(o=+("0"+o.substr(1)),isNaN(o)||(l=String.fromCharCode(o))),l||(goog.dom.safe.setInnerHtml(n,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),s+" ")),l=n.firstChild.nodeValue.slice(0,-1)),i[s]=l)})};goog.string.unescapePureXmlEntities_=function(r){return r.replace(/&([^;]+);/g,function(t,i){switch(i){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return i.charAt(0)!="#"||(i=+("0"+i.substr(1)),isNaN(i))?t:String.fromCharCode(i)}})};goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g;goog.string.whitespaceEscape=function(r,t){return goog.string.newLineToBr(r.replace(/  /g," &#160;"),t)};goog.string.preserveSpaces=function(r){return r.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)};goog.string.stripQuotes=function(r,t){for(var i=t.length,n=0;n<i;n++){var s=i==1?t:t.charAt(n);if(r.charAt(0)==s&&r.charAt(r.length-1)==s)return r.substring(1,r.length-1)}return r};goog.string.truncate=function(r,t,i){return i&&(r=goog.string.unescapeEntities(r)),r.length>t&&(r=r.substring(0,t-3)+"..."),i&&(r=goog.string.htmlEscape(r)),r};goog.string.truncateMiddle=function(r,t,i,n){if(i&&(r=goog.string.unescapeEntities(r)),n&&r.length>t){n>t&&(n=t);var s=r.length-n;r=r.substring(0,t-n)+"..."+r.substring(s)}else r.length>t&&(n=Math.floor(t/2),s=r.length-n,r=r.substring(0,n+t%2)+"..."+r.substring(s));return i&&(r=goog.string.htmlEscape(r)),r};goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"};goog.string.jsEscapeCache_={"'":"\\'"};goog.string.quote=function(r){r=String(r);for(var t=['"'],i=0;i<r.length;i++){var n=r.charAt(i),s=n.charCodeAt(0);t[i+1]=goog.string.specialEscapeChars_[n]||(31<s&&127>s?n:goog.string.escapeChar(n))}return t.push('"'),t.join("")};goog.string.escapeString=function(r){for(var t=[],i=0;i<r.length;i++)t[i]=goog.string.escapeChar(r.charAt(i));return t.join("")};goog.string.escapeChar=function(r){if(r in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[r];if(r in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[r]=goog.string.specialEscapeChars_[r];var t=r.charCodeAt(0);if(31<t&&127>t)var i=r;else 256>t?(i="\\x",(16>t||256<t)&&(i+="0")):(i="\\u",4096>t&&(i+="0")),i+=t.toString(16).toUpperCase();return goog.string.jsEscapeCache_[r]=i};goog.string.contains=goog.string.internal.contains;goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains;goog.string.countOf=function(r,t){return r&&t?r.split(t).length-1:0};goog.string.removeAt=function(r,t,i){var n=r;return 0<=t&&t<r.length&&0<i&&(n=r.substr(0,t)+r.substr(t+i,r.length-t-i)),n};goog.string.remove=function(r,t){return r.replace(t,"")};goog.string.removeAll=function(r,t){return t=new RegExp(goog.string.regExpEscape(t),"g"),r.replace(t,"")};goog.string.replaceAll=function(r,t,i){return t=new RegExp(goog.string.regExpEscape(t),"g"),r.replace(t,i.replace(/\$/g,"$$$$"))};goog.string.regExpEscape=function(r){return String(r).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};goog.string.repeat=String.prototype.repeat?function(r,t){return r.repeat(t)}:function(r,t){return Array(t+1).join(r)};goog.string.padNumber=function(r,t,i){return r=i!==void 0?r.toFixed(i):String(r),i=r.indexOf("."),i==-1&&(i=r.length),goog.string.repeat("0",Math.max(0,t-i))+r};goog.string.makeSafe=function(r){return r==null?"":String(r)};goog.string.buildString=function(r){return Array.prototype.join.call(arguments,"")};goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)};goog.string.compareVersions=goog.string.internal.compareVersions;goog.string.hashCode=function(r){for(var t=0,i=0;i<r.length;++i)t=31*t+r.charCodeAt(i)>>>0;return t};goog.string.uniqueStringCounter_=2147483648*Math.random()|0;goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++};goog.string.toNumber=function(r){var t=Number(r);return t==0&&goog.string.isEmptyOrWhitespace(r)?NaN:t};goog.string.isLowerCamelCase=function(r){return/^[a-z]+([A-Z][a-z]*)*$/.test(r)};goog.string.isUpperCamelCase=function(r){return/^([A-Z][a-z]*)+$/.test(r)};goog.string.toCamelCase=function(r){return String(r).replace(/\-([a-z])/g,function(t,i){return i.toUpperCase()})};goog.string.toSelectorCase=function(r){return String(r).replace(/([A-Z])/g,"-$1").toLowerCase()};goog.string.toTitleCase=function(r,t){return t=typeof t=="string"?goog.string.regExpEscape(t):"\\s",r.replace(new RegExp("(^"+(t?"|["+t+"]+":"")+")([a-z])","g"),function(i,n,s){return n+s.toUpperCase()})};goog.string.capitalize=function(r){return String(r.charAt(0)).toUpperCase()+String(r.substr(1)).toLowerCase()};goog.string.parseInt=function(r){return isFinite(r)&&(r=String(r)),typeof r=="string"?/^\s*-?0x/i.test(r)?parseInt(r,16):parseInt(r,10):NaN};goog.string.splitLimit=function(r,t,i){r=r.split(t);for(var n=[];0<i&&r.length;)n.push(r.shift()),i--;return r.length&&n.push(r.join(t)),n};goog.string.lastComponent=function(r,t){if(t)typeof t=="string"&&(t=[t]);else return r;for(var i=-1,n=0;n<t.length;n++)if(t[n]!=""){var s=r.lastIndexOf(t[n]);s>i&&(i=s)}return i==-1?r:r.slice(i+1)};goog.string.editDistance=function(r,t){var i=[],n=[];if(r==t)return 0;if(!r.length||!t.length)return Math.max(r.length,t.length);for(var s=0;s<t.length+1;s++)i[s]=s;for(s=0;s<r.length;s++){n[0]=s+1;for(var o=0;o<t.length;o++)n[o+1]=Math.min(n[o]+1,i[o+1]+1,i[o]+ +(r[s]!=t[o]));for(o=0;o<i.length;o++)i[o]=n[o]}return n[t.length]};goog.labs.userAgent.engine={};goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")};goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")};goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")};goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()};goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()};goog.labs.userAgent.engine.getVersion=function(){var r=goog.labs.userAgent.util.getUserAgent();if(r){r=goog.labs.userAgent.util.extractVersionTuples(r);var t=goog.labs.userAgent.engine.getEngineTuple_(r);if(t)return t[0]=="Gecko"?goog.labs.userAgent.engine.getVersionForKey_(r,"Firefox"):t[1];r=r[0];var i;if(r&&(i=r[2])&&(i=/Trident\/([^\s;]+)/.exec(i)))return i[1]}return""};goog.labs.userAgent.engine.getEngineTuple_=function(r){if(!goog.labs.userAgent.engine.isEdge())return r[1];for(var t=0;t<r.length;t++){var i=r[t];if(i[0]=="Edge")return i}};goog.labs.userAgent.engine.isVersionOrHigher=function(r){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),r)};goog.labs.userAgent.engine.getVersionForKey_=function(r,t){return(r=goog.array.find(r,function(i){return t==i[0]}))&&r[1]||""};goog.labs.userAgent.platform={};goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")};goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")};goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")};goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")};goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()};goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")};goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")};goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")};goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")};goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")};goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")};goog.labs.userAgent.platform.getVersion=function(){var r=goog.labs.userAgent.util.getUserAgent(),t="";return goog.labs.userAgent.platform.isWindows()?(t=/Windows (?:NT|Phone) ([0-9.]+)/,t=(r=t.exec(r))?r[1]:"0.0"):goog.labs.userAgent.platform.isIos()?(t=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/,t=(r=t.exec(r))&&r[1].replace(/_/g,".")):goog.labs.userAgent.platform.isMacintosh()?(t=/Mac OS X ([0-9_.]+)/,t=(r=t.exec(r))?r[1].replace(/_/g,"."):"10"):goog.labs.userAgent.platform.isKaiOS()?(t=/(?:KaiOS)\/(\S+)/i,t=(r=t.exec(r))&&r[1]):goog.labs.userAgent.platform.isAndroid()?(t=/Android\s+([^\);]+)(\)|;)/,t=(r=t.exec(r))&&r[1]):goog.labs.userAgent.platform.isChromeOS()&&(t=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/,t=(r=t.exec(r))&&r[1]),t||""};goog.labs.userAgent.platform.isVersionOrHigher=function(r){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),r)};goog.reflect={};goog.reflect.object=function(r,t){return t};goog.reflect.objectProperty=function(r,t){return r};goog.reflect.sinkValue=function(r){return goog.reflect.sinkValue[" "](r),r};goog.reflect.sinkValue[" "]=goog.nullFunction;goog.reflect.canAccessProperty=function(r,t){try{return goog.reflect.sinkValue(r[t]),!0}catch{}return!1};goog.reflect.cache=function(r,t,i,n){return n=n?n(t):t,Object.prototype.hasOwnProperty.call(r,n)?r[n]:r[n]=i(t)};goog.userAgent={};goog.userAgent.ASSUME_IE=!1;goog.userAgent.ASSUME_EDGE=!1;goog.userAgent.ASSUME_GECKO=!1;goog.userAgent.ASSUME_WEBKIT=!1;goog.userAgent.ASSUME_MOBILE_WEBKIT=!1;goog.userAgent.ASSUME_OPERA=!1;goog.userAgent.ASSUME_ANY_VERSION=!1;goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA;goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()};goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null};goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()};goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera();goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE();goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge();goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE;goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko();goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit();goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")};goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_();goog.userAgent.SAFARI=goog.userAgent.WEBKIT;goog.userAgent.determinePlatform_=function(){var r=goog.userAgent.getNavigatorTyped();return r&&r.platform||""};goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_();goog.userAgent.ASSUME_MAC=!1;goog.userAgent.ASSUME_WINDOWS=!1;goog.userAgent.ASSUME_LINUX=!1;goog.userAgent.ASSUME_X11=!1;goog.userAgent.ASSUME_ANDROID=!1;goog.userAgent.ASSUME_IPHONE=!1;goog.userAgent.ASSUME_IPAD=!1;goog.userAgent.ASSUME_IPOD=!1;goog.userAgent.ASSUME_KAIOS=!1;goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD;goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh();goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows();goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()};goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_();goog.userAgent.isX11_=function(){var r=goog.userAgent.getNavigatorTyped();return!!r&&goog.string.contains(r.appVersion||"","X11")};goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_();goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid();goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone();goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad();goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod();goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos();goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS();goog.userAgent.determineVersion_=function(){var r="",t=goog.userAgent.getVersionRegexResult_();return t&&(r=t?t[1]:""),goog.userAgent.IE&&(t=goog.userAgent.getDocumentMode_(),t!=null&&t>parseFloat(r))?String(t):r};goog.userAgent.getVersionRegexResult_=function(){var r=goog.userAgent.getUserAgentString();if(goog.userAgent.GECKO)return/rv:([^\);]+)(\)|;)/.exec(r);if(goog.userAgent.EDGE)return/Edge\/([\d\.]+)/.exec(r);if(goog.userAgent.IE)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(goog.userAgent.WEBKIT)return/WebKit\/(\S+)/.exec(r);if(goog.userAgent.OPERA)return/(?:Version)[ \/]?(\S+)/.exec(r)};goog.userAgent.getDocumentMode_=function(){var r=goog.global.document;return r?r.documentMode:void 0};goog.userAgent.VERSION=goog.userAgent.determineVersion_();goog.userAgent.compare=function(r,t){return goog.string.compareVersions(r,t)};goog.userAgent.isVersionOrHigherCache_={};goog.userAgent.isVersionOrHigher=function(r){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,r,function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,r)})};goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher;goog.userAgent.isDocumentModeOrHigher=function(r){return Number(goog.userAgent.DOCUMENT_MODE)>=r};goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher;goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE){var r=goog.userAgent.getDocumentMode_();return r||parseInt(goog.userAgent.VERSION,10)||void 0}}();goog.userAgent.product={};goog.userAgent.product.ASSUME_FIREFOX=!1;goog.userAgent.product.ASSUME_IPHONE=!1;goog.userAgent.product.ASSUME_IPAD=!1;goog.userAgent.product.ASSUME_ANDROID=!1;goog.userAgent.product.ASSUME_CHROME=!1;goog.userAgent.product.ASSUME_SAFARI=!1;goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI;goog.userAgent.product.OPERA=goog.userAgent.OPERA;goog.userAgent.product.IE=goog.userAgent.IE;goog.userAgent.product.EDGE=goog.userAgent.EDGE;goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox();goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()};goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_();goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad();goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser();goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome();goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()};goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_();goog.crypt.base64={};goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=";goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.";goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4};goog.crypt.base64.paddingChars_="=.";goog.crypt.base64.isPadding_=function(r){return goog.string.contains(goog.crypt.base64.paddingChars_,r)};goog.crypt.base64.byteToCharMaps_={};goog.crypt.base64.charToByteMap_=null;goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA;goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||typeof goog.global.btoa=="function";goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&typeof goog.global.atob=="function";goog.crypt.base64.encodeByteArray=function(r,t){goog.asserts.assert(goog.isArrayLike(r),"encodeByteArray takes an array as a parameter"),t===void 0&&(t=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),t=goog.crypt.base64.byteToCharMaps_[t];for(var i=[],n=0;n<r.length;n+=3){var s=r[n],o=n+1<r.length,l=o?r[n+1]:0,h=n+2<r.length,p=h?r[n+2]:0,g=s>>2;s=(s&3)<<4|l>>4,l=(l&15)<<2|p>>6,p&=63,h||(p=64,o||(l=64)),i.push(t[g],t[s],t[l]||"",t[p]||"")}return i.join("")};goog.crypt.base64.encodeString=function(r,t){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!t?goog.global.btoa(r):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(r),t)};goog.crypt.base64.decodeString=function(r,t){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!t)return goog.global.atob(r);var i="";return goog.crypt.base64.decodeStringInternal_(r,function(n){i+=String.fromCharCode(n)}),i};goog.crypt.base64.decodeStringToByteArray=function(r,t){var i=[];return goog.crypt.base64.decodeStringInternal_(r,function(n){i.push(n)}),i};goog.crypt.base64.decodeStringToUint8Array=function(r){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var t=r.length,i=3*t/4;i%3?i=Math.floor(i):goog.crypt.base64.isPadding_(r[t-1])&&(i=goog.crypt.base64.isPadding_(r[t-2])?i-2:i-1);var n=new Uint8Array(i),s=0;return goog.crypt.base64.decodeStringInternal_(r,function(o){n[s++]=o}),n.subarray(0,s)};goog.crypt.base64.decodeStringInternal_=function(r,t){function i(p){for(;n<r.length;){var g=r.charAt(n++),m=goog.crypt.base64.charToByteMap_[g];if(m!=null)return m;if(!goog.string.isEmptyOrWhitespace(g))throw Error("Unknown base64 encoding at char: "+g)}return p}goog.crypt.base64.init_();for(var n=0;;){var s=i(-1),o=i(0),l=i(64),h=i(64);if(h===64&&s===-1)break;t(s<<2|o>>4),l!=64&&(t(o<<4&240|l>>2),h!=64&&t(l<<6&192|h))}};goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var r=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),t=["+/=","+/","-_=","-_.","-_"],i=0;5>i;i++){var n=r.concat(t[i].split(""));goog.crypt.base64.byteToCharMaps_[i]=n;for(var s=0;s<n.length;s++){var o=n[s],l=goog.crypt.base64.charToByteMap_[o];l===void 0?goog.crypt.base64.charToByteMap_[o]=s:goog.asserts.assert(l===s)}}}};jspb.utils={};jspb.utils.split64Low=0;jspb.utils.split64High=0;jspb.utils.splitUint64=function(r){var t=r>>>0;r=Math.floor((r-t)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=t,jspb.utils.split64High=r};jspb.utils.splitInt64=function(r){var t=0>r;r=Math.abs(r);var i=r>>>0;r=Math.floor((r-i)/jspb.BinaryConstants.TWO_TO_32),r>>>=0,t&&(r=~r>>>0,i=(~i>>>0)+1,4294967295<i&&(i=0,r++,4294967295<r&&(r=0))),jspb.utils.split64Low=i,jspb.utils.split64High=r};jspb.utils.splitZigzag64=function(r){var t=0>r;r=2*Math.abs(r),jspb.utils.splitUint64(r),r=jspb.utils.split64Low;var i=jspb.utils.split64High;t&&(r==0?i==0?i=r=4294967295:(i--,r=4294967295):r--),jspb.utils.split64Low=r,jspb.utils.split64High=i};jspb.utils.splitFloat32=function(r){var t=0>r?1:0;if(r=t?-r:r,r===0)0<1/r?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(r))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(r>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|2139095040)>>>0;else if(r<jspb.BinaryConstants.FLOAT32_MIN)r=Math.round(r/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|r)>>>0;else{var i=Math.floor(Math.log(r)/Math.LN2);r*=Math.pow(2,-i),r=Math.round(r*jspb.BinaryConstants.TWO_TO_23),16777216<=r&&++i,jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|i+127<<23|r&8388607)>>>0}};jspb.utils.splitFloat64=function(r){var t=0>r?1:0;if(r=t?-r:r,r===0)jspb.utils.split64High=0<1/r?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(r))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(r>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(t<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(r<jspb.BinaryConstants.FLOAT64_MIN){var i=r/Math.pow(2,-1074);r=i/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(t<<31|r)>>>0,jspb.utils.split64Low=i>>>0}else{i=r;var n=0;if(2<=i)for(;2<=i&&1023>n;)n++,i/=2;else for(;1>i&&-1022<n;)i*=2,n--;i=r*Math.pow(2,-n),r=i*jspb.BinaryConstants.TWO_TO_20&1048575,i=i*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(t<<31|n+1023<<20|r)>>>0,jspb.utils.split64Low=i}};jspb.utils.splitHash64=function(r){var t=r.charCodeAt(0),i=r.charCodeAt(1),n=r.charCodeAt(2),s=r.charCodeAt(3),o=r.charCodeAt(4),l=r.charCodeAt(5),h=r.charCodeAt(6);r=r.charCodeAt(7),jspb.utils.split64Low=t+(i<<8)+(n<<16)+(s<<24)>>>0,jspb.utils.split64High=o+(l<<8)+(h<<16)+(r<<24)>>>0};jspb.utils.joinUint64=function(r,t){return t*jspb.BinaryConstants.TWO_TO_32+(r>>>0)};jspb.utils.joinInt64=function(r,t){var i=t&2147483648;return i&&(r=~r+1>>>0,t=~t>>>0,r==0&&(t=t+1>>>0)),r=jspb.utils.joinUint64(r,t),i?-r:r};jspb.utils.toZigzag64=function(r,t,i){var n=t>>31;return i(r<<1^n,(t<<1|r>>>31)^n)};jspb.utils.joinZigzag64=function(r,t){return jspb.utils.fromZigzag64(r,t,jspb.utils.joinInt64)};jspb.utils.fromZigzag64=function(r,t,i){var n=-(r&1);return i((r>>>1|t<<31)^n,t>>>1^n)};jspb.utils.joinFloat32=function(r,t){t=2*(r>>31)+1;var i=r>>>23&255;return r&=8388607,i==255?r?NaN:1/0*t:i==0?t*Math.pow(2,-149)*r:t*Math.pow(2,i-150)*(r+Math.pow(2,23))};jspb.utils.joinFloat64=function(r,t){var i=2*(t>>31)+1,n=t>>>20&2047;return r=jspb.BinaryConstants.TWO_TO_32*(t&1048575)+r,n==2047?r?NaN:1/0*i:n==0?i*Math.pow(2,-1074)*r:i*Math.pow(2,n-1075)*(r+jspb.BinaryConstants.TWO_TO_52)};jspb.utils.joinHash64=function(r,t){return String.fromCharCode(r>>>0&255,r>>>8&255,r>>>16&255,r>>>24&255,t>>>0&255,t>>>8&255,t>>>16&255,t>>>24&255)};jspb.utils.DIGITS="0123456789abcdef".split("");jspb.utils.ZERO_CHAR_CODE_=48;jspb.utils.A_CHAR_CODE_=97;jspb.utils.joinUnsignedDecimalString=function(r,t){function i(s,o){return s=s?String(s):"",o?"0000000".slice(s.length)+s:s}if(2097151>=t)return""+jspb.utils.joinUint64(r,t);var n=(r>>>24|t<<8)>>>0&16777215;return t=t>>16&65535,r=(r&16777215)+6777216*n+6710656*t,n+=8147497*t,t*=2,1e7<=r&&(n+=Math.floor(r/1e7),r%=1e7),1e7<=n&&(t+=Math.floor(n/1e7),n%=1e7),i(t,0)+i(n,t)+i(r,1)};jspb.utils.joinSignedDecimalString=function(r,t){var i=t&2147483648;return i&&(r=~r+1>>>0,t=~t+(r==0?1:0)>>>0),r=jspb.utils.joinUnsignedDecimalString(r,t),i?"-"+r:r};jspb.utils.hash64ToDecimalString=function(r,t){jspb.utils.splitHash64(r),r=jspb.utils.split64Low;var i=jspb.utils.split64High;return t?jspb.utils.joinSignedDecimalString(r,i):jspb.utils.joinUnsignedDecimalString(r,i)};jspb.utils.hash64ArrayToDecimalStrings=function(r,t){for(var i=Array(r.length),n=0;n<r.length;n++)i[n]=jspb.utils.hash64ToDecimalString(r[n],t);return i};jspb.utils.decimalStringToHash64=function(r){function t(l,h){for(var p=0;8>p&&(l!==1||0<h);p++)h=l*s[p]+h,s[p]=h&255,h>>>=8}function i(){for(var l=0;8>l;l++)s[l]=~s[l]&255}jspb.asserts.assert(0<r.length);var n=!1;r[0]==="-"&&(n=!0,r=r.slice(1));for(var s=[0,0,0,0,0,0,0,0],o=0;o<r.length;o++)t(10,r.charCodeAt(o)-jspb.utils.ZERO_CHAR_CODE_);return n&&(i(),t(1,1)),goog.crypt.byteArrayToString(s)};jspb.utils.splitDecimalString=function(r){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(r))};jspb.utils.toHexDigit_=function(r){return String.fromCharCode(10>r?jspb.utils.ZERO_CHAR_CODE_+r:jspb.utils.A_CHAR_CODE_-10+r)};jspb.utils.fromHexCharCode_=function(r){return r>=jspb.utils.A_CHAR_CODE_?r-jspb.utils.A_CHAR_CODE_+10:r-jspb.utils.ZERO_CHAR_CODE_};jspb.utils.hash64ToHexString=function(r){var t=Array(18);t[0]="0",t[1]="x";for(var i=0;8>i;i++){var n=r.charCodeAt(7-i);t[2*i+2]=jspb.utils.toHexDigit_(n>>4),t[2*i+3]=jspb.utils.toHexDigit_(n&15)}return t.join("")};jspb.utils.hexStringToHash64=function(r){r=r.toLowerCase(),jspb.asserts.assert(r.length==18),jspb.asserts.assert(r[0]=="0"),jspb.asserts.assert(r[1]=="x");for(var t="",i=0;8>i;i++){var n=jspb.utils.fromHexCharCode_(r.charCodeAt(2*i+2)),s=jspb.utils.fromHexCharCode_(r.charCodeAt(2*i+3));t=String.fromCharCode(16*n+s)+t}return t};jspb.utils.hash64ToNumber=function(r,t){jspb.utils.splitHash64(r),r=jspb.utils.split64Low;var i=jspb.utils.split64High;return t?jspb.utils.joinInt64(r,i):jspb.utils.joinUint64(r,i)};jspb.utils.numberToHash64=function(r){return jspb.utils.splitInt64(r),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)};jspb.utils.countVarints=function(r,t,i){for(var n=0,s=t;s<i;s++)n+=r[s]>>7;return i-t-n};jspb.utils.countVarintFields=function(r,t,i,n){var s=0;if(n=8*n+jspb.BinaryConstants.WireType.VARINT,128>n)for(;t<i&&r[t++]==n;)for(s++;;){var o=r[t++];if(!(o&128))break}else for(;t<i;){for(o=n;128<o;){if(r[t]!=(o&127|128))return s;t++,o>>=7}if(r[t++]!=o)break;for(s++;o=r[t++],(o&128)!=0;);}return s};jspb.utils.countFixedFields_=function(r,t,i,n,s){var o=0;if(128>n)for(;t<i&&r[t++]==n;)o++,t+=s;else for(;t<i;){for(var l=n;128<l;){if(r[t++]!=(l&127|128))return o;l>>=7}if(r[t++]!=l)break;o++,t+=s}return o};jspb.utils.countFixed32Fields=function(r,t,i,n){return jspb.utils.countFixedFields_(r,t,i,8*n+jspb.BinaryConstants.WireType.FIXED32,4)};jspb.utils.countFixed64Fields=function(r,t,i,n){return jspb.utils.countFixedFields_(r,t,i,8*n+jspb.BinaryConstants.WireType.FIXED64,8)};jspb.utils.countDelimitedFields=function(r,t,i,n){var s=0;for(n=8*n+jspb.BinaryConstants.WireType.DELIMITED;t<i;){for(var o=n;128<o;){if(r[t++]!=(o&127|128))return s;o>>=7}if(r[t++]!=o)break;s++;for(var l=0,h=1;o=r[t++],l+=(o&127)*h,h*=128,(o&128)!=0;);t+=l}return s};jspb.utils.debugBytesToTextFormat=function(r){var t='"';if(r){r=jspb.utils.byteSourceToUint8Array(r);for(var i=0;i<r.length;i++)t+="\\x",16>r[i]&&(t+="0"),t+=r[i].toString(16)}return t+'"'};jspb.utils.debugScalarToTextFormat=function(r){return typeof r=="string"?goog.string.quote(r):r.toString()};jspb.utils.stringToByteArray=function(r){for(var t=new Uint8Array(r.length),i=0;i<r.length;i++){var n=r.charCodeAt(i);if(255<n)throw Error("Conversion error: string contains codepoint outside of byte range");t[i]=n}return t};jspb.utils.byteSourceToUint8Array=function(r){return r.constructor===Uint8Array?r:r.constructor===ArrayBuffer||r.constructor===Array?new Uint8Array(r):r.constructor===String?goog.crypt.base64.decodeStringToUint8Array(r):r instanceof Uint8Array?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):(jspb.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))};jspb.BinaryDecoder=function(r,t,i){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,r&&this.setBlock(r,t,i)};jspb.BinaryDecoder.instanceCache_=[];jspb.BinaryDecoder.alloc=function(r,t,i){if(jspb.BinaryDecoder.instanceCache_.length){var n=jspb.BinaryDecoder.instanceCache_.pop();return r&&n.setBlock(r,t,i),n}return new jspb.BinaryDecoder(r,t,i)};jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)};jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)};jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1};jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_};jspb.BinaryDecoder.prototype.setBlock=function(r,t,i){this.bytes_=jspb.utils.byteSourceToUint8Array(r),this.start_=t!==void 0?t:0,this.end_=i!==void 0?this.start_+i:this.bytes_.length,this.cursor_=this.start_};jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_};jspb.BinaryDecoder.prototype.setEnd=function(r){this.end_=r};jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_};jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_};jspb.BinaryDecoder.prototype.setCursor=function(r){this.cursor_=r};jspb.BinaryDecoder.prototype.advance=function(r){this.cursor_+=r,jspb.asserts.assert(this.cursor_<=this.end_)};jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_};jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_};jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_};jspb.BinaryDecoder.prototype.readSplitVarint64=function(r){for(var t=128,i=0,n=0,s=0;4>s&&128<=t;s++)t=this.bytes_[this.cursor_++],i|=(t&127)<<7*s;if(128<=t&&(t=this.bytes_[this.cursor_++],i|=(t&127)<<28,n|=(t&127)>>4),128<=t)for(s=0;5>s&&128<=t;s++)t=this.bytes_[this.cursor_++],n|=(t&127)<<7*s+3;if(128>t)return r(i>>>0,n>>>0);jspb.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0};jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(r){return this.readSplitVarint64(function(t,i){return jspb.utils.fromZigzag64(t,i,r)})};jspb.BinaryDecoder.prototype.readSplitFixed64=function(r){var t=this.bytes_,i=this.cursor_;this.cursor_+=8;for(var n=0,s=0,o=i+7;o>=i;o--)n=n<<8|t[o],s=s<<8|t[o+4];return r(n,s)};jspb.BinaryDecoder.prototype.skipVarint=function(){for(;this.bytes_[this.cursor_]&128;)this.cursor_++;this.cursor_++};jspb.BinaryDecoder.prototype.unskipVarint=function(r){for(;128<r;)this.cursor_--,r>>>=7;this.cursor_--};jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var r=this.bytes_,t=r[this.cursor_+0],i=t&127;return 128>t?(this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),i):(t=r[this.cursor_+1],i|=(t&127)<<7,128>t?(this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),i):(t=r[this.cursor_+2],i|=(t&127)<<14,128>t?(this.cursor_+=3,jspb.asserts.assert(this.cursor_<=this.end_),i):(t=r[this.cursor_+3],i|=(t&127)<<21,128>t?(this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),i):(t=r[this.cursor_+4],i|=(t&15)<<28,128>t?(this.cursor_+=5,jspb.asserts.assert(this.cursor_<=this.end_),i>>>0):(this.cursor_+=5,128<=r[this.cursor_++]&&128<=r[this.cursor_++]&&128<=r[this.cursor_++]&&128<=r[this.cursor_++]&&128<=r[this.cursor_++]&&jspb.asserts.assert(!1),jspb.asserts.assert(this.cursor_<=this.end_),i)))))};jspb.BinaryDecoder.prototype.readSignedVarint32=function(){return~~this.readUnsignedVarint32()};jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()};jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()};jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var r=this.readUnsignedVarint32();return r>>>1^-(r&1)};jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)};jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)};jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)};jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)};jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)};jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)};jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)};jspb.BinaryDecoder.prototype.readUint8=function(){var r=this.bytes_[this.cursor_+0];return this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),r};jspb.BinaryDecoder.prototype.readUint16=function(){var r=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),r<<0|t<<8};jspb.BinaryDecoder.prototype.readUint32=function(){var r=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],i=this.bytes_[this.cursor_+2],n=this.bytes_[this.cursor_+3];return this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),(r<<0|t<<8|i<<16|n<<24)>>>0};jspb.BinaryDecoder.prototype.readUint64=function(){var r=this.readUint32(),t=this.readUint32();return jspb.utils.joinUint64(r,t)};jspb.BinaryDecoder.prototype.readUint64String=function(){var r=this.readUint32(),t=this.readUint32();return jspb.utils.joinUnsignedDecimalString(r,t)};jspb.BinaryDecoder.prototype.readInt8=function(){var r=this.bytes_[this.cursor_+0];return this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),r<<24>>24};jspb.BinaryDecoder.prototype.readInt16=function(){var r=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),(r<<0|t<<8)<<16>>16};jspb.BinaryDecoder.prototype.readInt32=function(){var r=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],i=this.bytes_[this.cursor_+2],n=this.bytes_[this.cursor_+3];return this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),r<<0|t<<8|i<<16|n<<24};jspb.BinaryDecoder.prototype.readInt64=function(){var r=this.readUint32(),t=this.readUint32();return jspb.utils.joinInt64(r,t)};jspb.BinaryDecoder.prototype.readInt64String=function(){var r=this.readUint32(),t=this.readUint32();return jspb.utils.joinSignedDecimalString(r,t)};jspb.BinaryDecoder.prototype.readFloat=function(){var r=this.readUint32();return jspb.utils.joinFloat32(r,0)};jspb.BinaryDecoder.prototype.readDouble=function(){var r=this.readUint32(),t=this.readUint32();return jspb.utils.joinFloat64(r,t)};jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]};jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()};jspb.BinaryDecoder.prototype.readString=function(r){var t=this.bytes_,i=this.cursor_;r=i+r;for(var n=[],s="";i<r;){var o=t[i++];if(128>o)n.push(o);else{if(192>o)continue;if(224>o){var l=t[i++];n.push((o&31)<<6|l&63)}else if(240>o){l=t[i++];var h=t[i++];n.push((o&15)<<12|(l&63)<<6|h&63)}else if(248>o){l=t[i++],h=t[i++];var p=t[i++];o=(o&7)<<18|(l&63)<<12|(h&63)<<6|p&63,o-=65536,n.push((o>>10&1023)+55296,(o&1023)+56320)}}8192<=n.length&&(s+=String.fromCharCode.apply(null,n),n.length=0)}return s+=goog.crypt.byteArrayToString(n),this.cursor_=i,s};jspb.BinaryDecoder.prototype.readStringWithLength=function(){var r=this.readUnsignedVarint32();return this.readString(r)};jspb.BinaryDecoder.prototype.readBytes=function(r){if(0>r||this.cursor_+r>this.bytes_.length)return this.error_=!0,jspb.asserts.fail("Invalid byte length!"),new Uint8Array(0);var t=this.bytes_.subarray(this.cursor_,this.cursor_+r);return this.cursor_+=r,jspb.asserts.assert(this.cursor_<=this.end_),t};jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)};jspb.BinaryDecoder.prototype.readFixedHash64=function(){var r=this.bytes_,t=this.cursor_,i=r[t+0],n=r[t+1],s=r[t+2],o=r[t+3],l=r[t+4],h=r[t+5],p=r[t+6];return r=r[t+7],this.cursor_+=8,String.fromCharCode(i,n,s,o,l,h,p,r)};jspb.BinaryReader=function(r,t,i){this.decoder_=jspb.BinaryDecoder.alloc(r,t,i),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null};jspb.BinaryReader.instanceCache_=[];jspb.BinaryReader.alloc=function(r,t,i){if(jspb.BinaryReader.instanceCache_.length){var n=jspb.BinaryReader.instanceCache_.pop();return r&&n.decoder_.setBlock(r,t,i),n}return new jspb.BinaryReader(r,t,i)};jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc;jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)};jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_};jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()};jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()};jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_};goog.exportProperty(jspb.BinaryReader.prototype,"getFieldNumber",jspb.BinaryReader.prototype.getFieldNumber);jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_};jspb.BinaryReader.prototype.isDelimited=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED};goog.exportProperty(jspb.BinaryReader.prototype,"isDelimited",jspb.BinaryReader.prototype.isDelimited);jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP};goog.exportProperty(jspb.BinaryReader.prototype,"isEndGroup",jspb.BinaryReader.prototype.isEndGroup);jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()};jspb.BinaryReader.prototype.setBlock=function(r,t,i){this.decoder_.setBlock(r,t,i),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID};jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID};jspb.BinaryReader.prototype.advance=function(r){this.decoder_.advance(r)};jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return jspb.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var r=this.decoder_.readUnsignedVarint32(),t=r>>>3;return r&=7,r!=jspb.BinaryConstants.WireType.VARINT&&r!=jspb.BinaryConstants.WireType.FIXED32&&r!=jspb.BinaryConstants.WireType.FIXED64&&r!=jspb.BinaryConstants.WireType.DELIMITED&&r!=jspb.BinaryConstants.WireType.START_GROUP&&r!=jspb.BinaryConstants.WireType.END_GROUP?(jspb.asserts.fail("Invalid wire type: %s (at position %s)",r,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=t,this.nextWireType_=r,!0)};goog.exportProperty(jspb.BinaryReader.prototype,"nextField",jspb.BinaryReader.prototype.nextField);jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)};jspb.BinaryReader.prototype.skipMatchingFields=function(){var r=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==r;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()};jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(jspb.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()};jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)jspb.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var r=this.decoder_.readUnsignedVarint32();this.decoder_.advance(r)}};jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(jspb.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)};jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(jspb.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)};jspb.BinaryReader.prototype.skipGroup=function(){var r=this.nextField_;do{if(!this.nextField()){jspb.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=r&&(jspb.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}while(1)};jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:jspb.asserts.fail("Invalid wire encoding for field.")}};jspb.BinaryReader.prototype.registerReadCallback=function(r,t){this.readCallbacks_===null&&(this.readCallbacks_={}),jspb.asserts.assert(!this.readCallbacks_[r]),this.readCallbacks_[r]=t};jspb.BinaryReader.prototype.runReadCallback=function(r){return jspb.asserts.assert(this.readCallbacks_!==null),r=this.readCallbacks_[r],jspb.asserts.assert(r),r(this)};jspb.BinaryReader.prototype.readAny=function(r){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(r);var t=jspb.BinaryConstants.FieldType;switch(r){case t.DOUBLE:return this.readDouble();case t.FLOAT:return this.readFloat();case t.INT64:return this.readInt64();case t.UINT64:return this.readUint64();case t.INT32:return this.readInt32();case t.FIXED64:return this.readFixed64();case t.FIXED32:return this.readFixed32();case t.BOOL:return this.readBool();case t.STRING:return this.readString();case t.GROUP:jspb.asserts.fail("Group field type not supported in readAny()");case t.MESSAGE:jspb.asserts.fail("Message field type not supported in readAny()");case t.BYTES:return this.readBytes();case t.UINT32:return this.readUint32();case t.ENUM:return this.readEnum();case t.SFIXED32:return this.readSfixed32();case t.SFIXED64:return this.readSfixed64();case t.SINT32:return this.readSint32();case t.SINT64:return this.readSint64();case t.FHASH64:return this.readFixedHash64();case t.VHASH64:return this.readVarintHash64();default:jspb.asserts.fail("Invalid field type in readAny()")}return 0};jspb.BinaryReader.prototype.readMessage=function(r,t){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var i=this.decoder_.getEnd(),n=this.decoder_.readUnsignedVarint32();n=this.decoder_.getCursor()+n,this.decoder_.setEnd(n),t(r,this),this.decoder_.setCursor(n),this.decoder_.setEnd(i)};goog.exportProperty(jspb.BinaryReader.prototype,"readMessage",jspb.BinaryReader.prototype.readMessage);jspb.BinaryReader.prototype.readGroup=function(r,t,i){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),jspb.asserts.assert(this.nextField_==r),i(t,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(jspb.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)};goog.exportProperty(jspb.BinaryReader.prototype,"readGroup",jspb.BinaryReader.prototype.readGroup);jspb.BinaryReader.prototype.getFieldDecoder=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var r=this.decoder_.readUnsignedVarint32(),t=this.decoder_.getCursor(),i=t+r;return r=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),t,r),this.decoder_.setCursor(i),r};jspb.BinaryReader.prototype.readInt32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()};goog.exportProperty(jspb.BinaryReader.prototype,"readInt32",jspb.BinaryReader.prototype.readInt32);jspb.BinaryReader.prototype.readInt32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()};jspb.BinaryReader.prototype.readInt64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()};goog.exportProperty(jspb.BinaryReader.prototype,"readInt64",jspb.BinaryReader.prototype.readInt64);jspb.BinaryReader.prototype.readInt64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()};jspb.BinaryReader.prototype.readUint32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()};goog.exportProperty(jspb.BinaryReader.prototype,"readUint32",jspb.BinaryReader.prototype.readUint32);jspb.BinaryReader.prototype.readUint32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()};jspb.BinaryReader.prototype.readUint64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()};goog.exportProperty(jspb.BinaryReader.prototype,"readUint64",jspb.BinaryReader.prototype.readUint64);jspb.BinaryReader.prototype.readUint64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()};jspb.BinaryReader.prototype.readSint32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()};goog.exportProperty(jspb.BinaryReader.prototype,"readSint32",jspb.BinaryReader.prototype.readSint32);jspb.BinaryReader.prototype.readSint64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()};goog.exportProperty(jspb.BinaryReader.prototype,"readSint64",jspb.BinaryReader.prototype.readSint64);jspb.BinaryReader.prototype.readSint64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()};jspb.BinaryReader.prototype.readFixed32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()};goog.exportProperty(jspb.BinaryReader.prototype,"readFixed32",jspb.BinaryReader.prototype.readFixed32);jspb.BinaryReader.prototype.readFixed64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()};goog.exportProperty(jspb.BinaryReader.prototype,"readFixed64",jspb.BinaryReader.prototype.readFixed64);jspb.BinaryReader.prototype.readFixed64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()};jspb.BinaryReader.prototype.readSfixed32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()};goog.exportProperty(jspb.BinaryReader.prototype,"readSfixed32",jspb.BinaryReader.prototype.readSfixed32);jspb.BinaryReader.prototype.readSfixed32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()};jspb.BinaryReader.prototype.readSfixed64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()};goog.exportProperty(jspb.BinaryReader.prototype,"readSfixed64",jspb.BinaryReader.prototype.readSfixed64);jspb.BinaryReader.prototype.readSfixed64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()};jspb.BinaryReader.prototype.readFloat=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()};goog.exportProperty(jspb.BinaryReader.prototype,"readFloat",jspb.BinaryReader.prototype.readFloat);jspb.BinaryReader.prototype.readDouble=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()};goog.exportProperty(jspb.BinaryReader.prototype,"readDouble",jspb.BinaryReader.prototype.readDouble);jspb.BinaryReader.prototype.readBool=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()};goog.exportProperty(jspb.BinaryReader.prototype,"readBool",jspb.BinaryReader.prototype.readBool);jspb.BinaryReader.prototype.readEnum=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()};goog.exportProperty(jspb.BinaryReader.prototype,"readEnum",jspb.BinaryReader.prototype.readEnum);jspb.BinaryReader.prototype.readString=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var r=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(r)};goog.exportProperty(jspb.BinaryReader.prototype,"readString",jspb.BinaryReader.prototype.readString);jspb.BinaryReader.prototype.readBytes=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var r=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(r)};goog.exportProperty(jspb.BinaryReader.prototype,"readBytes",jspb.BinaryReader.prototype.readBytes);jspb.BinaryReader.prototype.readVarintHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()};jspb.BinaryReader.prototype.readSintHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()};jspb.BinaryReader.prototype.readSplitVarint64=function(r){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(r)};jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(r){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(function(t,i){return jspb.utils.fromZigzag64(t,i,r)})};jspb.BinaryReader.prototype.readFixedHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()};jspb.BinaryReader.prototype.readSplitFixed64=function(r){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(r)};jspb.BinaryReader.prototype.readPackedField_=function(r){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.readUnsignedVarint32();t=this.decoder_.getCursor()+t;for(var i=[];this.decoder_.getCursor()<t;)i.push(r.call(this.decoder_));return i};jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)};goog.exportProperty(jspb.BinaryReader.prototype,"readPackedInt32",jspb.BinaryReader.prototype.readPackedInt32);jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)};jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)};goog.exportProperty(jspb.BinaryReader.prototype,"readPackedInt64",jspb.BinaryReader.prototype.readPackedInt64);jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)};jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)};goog.exportProperty(jspb.BinaryReader.prototype,"readPackedUint32",jspb.BinaryReader.prototype.readPackedUint32);jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)};jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)};goog.exportProperty(jspb.BinaryReader.prototype,"readPackedUint64",jspb.BinaryReader.prototype.readPackedUint64);jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)};jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)};goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSint32",jspb.BinaryReader.prototype.readPackedSint32);jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)};goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSint64",jspb.BinaryReader.prototype.readPackedSint64);jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)};jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)};goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFixed32",jspb.BinaryReader.prototype.readPackedFixed32);jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)};goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFixed64",jspb.BinaryReader.prototype.readPackedFixed64);jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)};jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)};goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSfixed32",jspb.BinaryReader.prototype.readPackedSfixed32);jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)};goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSfixed64",jspb.BinaryReader.prototype.readPackedSfixed64);jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)};jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)};goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFloat",jspb.BinaryReader.prototype.readPackedFloat);jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)};goog.exportProperty(jspb.BinaryReader.prototype,"readPackedDouble",jspb.BinaryReader.prototype.readPackedDouble);jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)};goog.exportProperty(jspb.BinaryReader.prototype,"readPackedBool",jspb.BinaryReader.prototype.readPackedBool);jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)};goog.exportProperty(jspb.BinaryReader.prototype,"readPackedEnum",jspb.BinaryReader.prototype.readPackedEnum);jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)};jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)};jspb.BinaryEncoder=function(){this.buffer_=[]};jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length};jspb.BinaryEncoder.prototype.end=function(){var r=this.buffer_;return this.buffer_=[],r};jspb.BinaryEncoder.prototype.writeSplitVarint64=function(r,t){for(jspb.asserts.assert(r==Math.floor(r)),jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=r&&r<jspb.BinaryConstants.TWO_TO_32),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32);0<t||127<r;)this.buffer_.push(r&127|128),r=(r>>>7|t<<25)>>>0,t>>>=7;this.buffer_.push(r)};jspb.BinaryEncoder.prototype.writeSplitFixed64=function(r,t){jspb.asserts.assert(r==Math.floor(r)),jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=r&&r<jspb.BinaryConstants.TWO_TO_32),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(r),this.writeUint32(t)};jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(r){for(jspb.asserts.assert(r==Math.floor(r)),jspb.asserts.assert(0<=r&&r<jspb.BinaryConstants.TWO_TO_32);127<r;)this.buffer_.push(r&127|128),r>>>=7;this.buffer_.push(r)};jspb.BinaryEncoder.prototype.writeSignedVarint32=function(r){if(jspb.asserts.assert(r==Math.floor(r)),jspb.asserts.assert(r>=-jspb.BinaryConstants.TWO_TO_31&&r<jspb.BinaryConstants.TWO_TO_31),0<=r)this.writeUnsignedVarint32(r);else{for(var t=0;9>t;t++)this.buffer_.push(r&127|128),r>>=7;this.buffer_.push(1)}};jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(r){jspb.asserts.assert(r==Math.floor(r)),jspb.asserts.assert(0<=r&&r<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(r),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)};jspb.BinaryEncoder.prototype.writeSignedVarint64=function(r){jspb.asserts.assert(r==Math.floor(r)),jspb.asserts.assert(r>=-jspb.BinaryConstants.TWO_TO_63&&r<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(r),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)};jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(r){jspb.asserts.assert(r==Math.floor(r)),jspb.asserts.assert(r>=-jspb.BinaryConstants.TWO_TO_31&&r<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((r<<1^r>>31)>>>0)};jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(r){jspb.asserts.assert(r==Math.floor(r)),jspb.asserts.assert(r>=-jspb.BinaryConstants.TWO_TO_63&&r<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(r),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)};jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(r){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(r))};jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(r){var t=this;jspb.utils.splitHash64(r),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,function(i,n){t.writeSplitVarint64(i>>>0,n>>>0)})};jspb.BinaryEncoder.prototype.writeUint8=function(r){jspb.asserts.assert(r==Math.floor(r)),jspb.asserts.assert(0<=r&&256>r),this.buffer_.push(r>>>0&255)};jspb.BinaryEncoder.prototype.writeUint16=function(r){jspb.asserts.assert(r==Math.floor(r)),jspb.asserts.assert(0<=r&&65536>r),this.buffer_.push(r>>>0&255),this.buffer_.push(r>>>8&255)};jspb.BinaryEncoder.prototype.writeUint32=function(r){jspb.asserts.assert(r==Math.floor(r)),jspb.asserts.assert(0<=r&&r<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(r>>>0&255),this.buffer_.push(r>>>8&255),this.buffer_.push(r>>>16&255),this.buffer_.push(r>>>24&255)};jspb.BinaryEncoder.prototype.writeUint64=function(r){jspb.asserts.assert(r==Math.floor(r)),jspb.asserts.assert(0<=r&&r<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(r),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)};jspb.BinaryEncoder.prototype.writeInt8=function(r){jspb.asserts.assert(r==Math.floor(r)),jspb.asserts.assert(-128<=r&&128>r),this.buffer_.push(r>>>0&255)};jspb.BinaryEncoder.prototype.writeInt16=function(r){jspb.asserts.assert(r==Math.floor(r)),jspb.asserts.assert(-32768<=r&&32768>r),this.buffer_.push(r>>>0&255),this.buffer_.push(r>>>8&255)};jspb.BinaryEncoder.prototype.writeInt32=function(r){jspb.asserts.assert(r==Math.floor(r)),jspb.asserts.assert(r>=-jspb.BinaryConstants.TWO_TO_31&&r<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(r>>>0&255),this.buffer_.push(r>>>8&255),this.buffer_.push(r>>>16&255),this.buffer_.push(r>>>24&255)};jspb.BinaryEncoder.prototype.writeInt64=function(r){jspb.asserts.assert(r==Math.floor(r)),jspb.asserts.assert(r>=-jspb.BinaryConstants.TWO_TO_63&&r<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(r),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)};jspb.BinaryEncoder.prototype.writeInt64String=function(r){jspb.asserts.assert(r==Math.floor(r)),jspb.asserts.assert(+r>=-jspb.BinaryConstants.TWO_TO_63&&+r<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(r)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)};jspb.BinaryEncoder.prototype.writeFloat=function(r){jspb.asserts.assert(r===1/0||r===-1/0||isNaN(r)||r>=-jspb.BinaryConstants.FLOAT32_MAX&&r<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(r),this.writeUint32(jspb.utils.split64Low)};jspb.BinaryEncoder.prototype.writeDouble=function(r){jspb.asserts.assert(r===1/0||r===-1/0||isNaN(r)||r>=-jspb.BinaryConstants.FLOAT64_MAX&&r<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(r),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)};jspb.BinaryEncoder.prototype.writeBool=function(r){jspb.asserts.assert(typeof r=="boolean"||typeof r=="number"),this.buffer_.push(r?1:0)};jspb.BinaryEncoder.prototype.writeEnum=function(r){jspb.asserts.assert(r==Math.floor(r)),jspb.asserts.assert(r>=-jspb.BinaryConstants.TWO_TO_31&&r<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(r)};jspb.BinaryEncoder.prototype.writeBytes=function(r){this.buffer_.push.apply(this.buffer_,r)};jspb.BinaryEncoder.prototype.writeVarintHash64=function(r){jspb.utils.splitHash64(r),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)};jspb.BinaryEncoder.prototype.writeFixedHash64=function(r){jspb.utils.splitHash64(r),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)};jspb.BinaryEncoder.prototype.writeString=function(r){var t=this.buffer_.length;jspb.asserts.assertString(r);for(var i=0;i<r.length;i++){var n=r.charCodeAt(i);if(128>n)this.buffer_.push(n);else if(2048>n)this.buffer_.push(n>>6|192),this.buffer_.push(n&63|128);else if(65536>n)if(55296<=n&&56319>=n&&i+1<r.length){var s=r.charCodeAt(i+1);56320<=s&&57343>=s&&(n=1024*(n-55296)+s-56320+65536,this.buffer_.push(n>>18|240),this.buffer_.push(n>>12&63|128),this.buffer_.push(n>>6&63|128),this.buffer_.push(n&63|128),i++)}else this.buffer_.push(n>>12|224),this.buffer_.push(n>>6&63|128),this.buffer_.push(n&63|128)}return this.buffer_.length-t};jspb.arith={};jspb.arith.UInt64=function(r,t){this.lo=r,this.hi=t};jspb.arith.UInt64.prototype.cmp=function(r){return this.hi<r.hi||this.hi==r.hi&&this.lo<r.lo?-1:this.hi==r.hi&&this.lo==r.lo?0:1};jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(this.hi&1)<<31)>>>0,this.hi>>>1>>>0)};jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)};jspb.arith.UInt64.prototype.msb=function(){return!!(this.hi&2147483648)};jspb.arith.UInt64.prototype.lsb=function(){return!!(this.lo&1)};jspb.arith.UInt64.prototype.zero=function(){return this.lo==0&&this.hi==0};jspb.arith.UInt64.prototype.add=function(r){return new jspb.arith.UInt64((this.lo+r.lo&4294967295)>>>0>>>0,((this.hi+r.hi&4294967295)>>>0)+(4294967296<=this.lo+r.lo?1:0)>>>0)};jspb.arith.UInt64.prototype.sub=function(r){return new jspb.arith.UInt64((this.lo-r.lo&4294967295)>>>0>>>0,((this.hi-r.hi&4294967295)>>>0)-(0>this.lo-r.lo?1:0)>>>0)};jspb.arith.UInt64.mul32x32=function(r,t){var i=r&65535;r>>>=16;var n=t&65535,s=t>>>16;for(t=i*n+65536*(i*s&65535)+65536*(r*n&65535),i=r*s+(i*s>>>16)+(r*n>>>16);4294967296<=t;)t-=4294967296,i+=1;return new jspb.arith.UInt64(t>>>0,i>>>0)};jspb.arith.UInt64.prototype.mul=function(r){var t=jspb.arith.UInt64.mul32x32(this.lo,r);return r=jspb.arith.UInt64.mul32x32(this.hi,r),r.hi=r.lo,r.lo=0,t.add(r)};jspb.arith.UInt64.prototype.div=function(r){if(r==0)return[];var t=new jspb.arith.UInt64(0,0),i=new jspb.arith.UInt64(this.lo,this.hi);r=new jspb.arith.UInt64(r,0);for(var n=new jspb.arith.UInt64(1,0);!r.msb();)r=r.leftShift(),n=n.leftShift();for(;!n.zero();)0>=r.cmp(i)&&(t=t.add(n),i=i.sub(r)),r=r.rightShift(),n=n.rightShift();return[t,i]};jspb.arith.UInt64.prototype.toString=function(){for(var r="",t=this;!t.zero();){t=t.div(10);var i=t[0];r=t[1].lo+r,t=i}return r==""&&(r="0"),r};jspb.arith.UInt64.fromString=function(r){for(var t=new jspb.arith.UInt64(0,0),i=new jspb.arith.UInt64(0,0),n=0;n<r.length;n++){if("0">r[n]||"9"<r[n])return null;var s=parseInt(r[n],10);i.lo=s,t=t.mul(10).add(i)}return t};jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)};jspb.arith.Int64=function(r,t){this.lo=r,this.hi=t};jspb.arith.Int64.prototype.add=function(r){return new jspb.arith.Int64((this.lo+r.lo&4294967295)>>>0>>>0,((this.hi+r.hi&4294967295)>>>0)+(4294967296<=this.lo+r.lo?1:0)>>>0)};jspb.arith.Int64.prototype.sub=function(r){return new jspb.arith.Int64((this.lo-r.lo&4294967295)>>>0>>>0,((this.hi-r.hi&4294967295)>>>0)-(0>this.lo-r.lo?1:0)>>>0)};jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)};jspb.arith.Int64.prototype.toString=function(){var r=(this.hi&2147483648)!=0,t=new jspb.arith.UInt64(this.lo,this.hi);return r&&(t=new jspb.arith.UInt64(0,0).sub(t)),(r?"-":"")+t.toString()};jspb.arith.Int64.fromString=function(r){var t=0<r.length&&r[0]=="-";return t&&(r=r.substring(1)),r=jspb.arith.UInt64.fromString(r),r===null?null:(t&&(r=new jspb.arith.UInt64(0,0).sub(r)),new jspb.arith.Int64(r.lo,r.hi))};jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]};jspb.BinaryWriter.prototype.appendUint8Array_=function(r){var t=this.encoder_.end();this.blocks_.push(t),this.blocks_.push(r),this.totalLength_+=t.length+r.length};jspb.BinaryWriter.prototype.beginDelimited_=function(r){return this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.DELIMITED),r=this.encoder_.end(),this.blocks_.push(r),this.totalLength_+=r.length,r.push(this.totalLength_),r};jspb.BinaryWriter.prototype.endDelimited_=function(r){var t=r.pop();for(t=this.totalLength_+this.encoder_.length()-t,jspb.asserts.assert(0<=t);127<t;)r.push(t&127|128),t>>>=7,this.totalLength_++;r.push(t),this.totalLength_++};jspb.BinaryWriter.prototype.writeSerializedMessage=function(r,t,i){this.appendUint8Array_(r.subarray(t,i))};jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(r,t,i){r!=null&&t!=null&&i!=null&&this.writeSerializedMessage(r,t,i)};jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]};jspb.BinaryWriter.prototype.getResultBuffer=function(){jspb.asserts.assert(this.bookmarks_.length==0);for(var r=new Uint8Array(this.totalLength_+this.encoder_.length()),t=this.blocks_,i=t.length,n=0,s=0;s<i;s++){var o=t[s];r.set(o,n),n+=o.length}return t=this.encoder_.end(),r.set(t,n),n+=t.length,jspb.asserts.assert(n==r.length),this.blocks_=[r],r};goog.exportProperty(jspb.BinaryWriter.prototype,"getResultBuffer",jspb.BinaryWriter.prototype.getResultBuffer);jspb.BinaryWriter.prototype.getResultBase64String=function(r){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),r)};jspb.BinaryWriter.prototype.beginSubMessage=function(r){this.bookmarks_.push(this.beginDelimited_(r))};jspb.BinaryWriter.prototype.endSubMessage=function(){jspb.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())};jspb.BinaryWriter.prototype.writeFieldHeader_=function(r,t){jspb.asserts.assert(1<=r&&r==Math.floor(r)),this.encoder_.writeUnsignedVarint32(8*r+t)};jspb.BinaryWriter.prototype.writeAny=function(r,t,i){var n=jspb.BinaryConstants.FieldType;switch(r){case n.DOUBLE:this.writeDouble(t,i);break;case n.FLOAT:this.writeFloat(t,i);break;case n.INT64:this.writeInt64(t,i);break;case n.UINT64:this.writeUint64(t,i);break;case n.INT32:this.writeInt32(t,i);break;case n.FIXED64:this.writeFixed64(t,i);break;case n.FIXED32:this.writeFixed32(t,i);break;case n.BOOL:this.writeBool(t,i);break;case n.STRING:this.writeString(t,i);break;case n.GROUP:jspb.asserts.fail("Group field type not supported in writeAny()");break;case n.MESSAGE:jspb.asserts.fail("Message field type not supported in writeAny()");break;case n.BYTES:this.writeBytes(t,i);break;case n.UINT32:this.writeUint32(t,i);break;case n.ENUM:this.writeEnum(t,i);break;case n.SFIXED32:this.writeSfixed32(t,i);break;case n.SFIXED64:this.writeSfixed64(t,i);break;case n.SINT32:this.writeSint32(t,i);break;case n.SINT64:this.writeSint64(t,i);break;case n.FHASH64:this.writeFixedHash64(t,i);break;case n.VHASH64:this.writeVarintHash64(t,i);break;default:jspb.asserts.fail("Invalid field type in writeAny()")}};jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(r,t){t!=null&&(this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(t))};jspb.BinaryWriter.prototype.writeSignedVarint32_=function(r,t){t!=null&&(this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))};jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(r,t){t!=null&&(this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(t))};jspb.BinaryWriter.prototype.writeSignedVarint64_=function(r,t){t!=null&&(this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(t))};jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(r,t){t!=null&&(this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(t))};jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(r,t){t!=null&&(this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(t))};jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(r,t){t!=null&&(this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(t))};jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(r,t){t!=null&&(this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(t))};jspb.BinaryWriter.prototype.writeInt32=function(r,t){t!=null&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(r,t))};goog.exportProperty(jspb.BinaryWriter.prototype,"writeInt32",jspb.BinaryWriter.prototype.writeInt32);jspb.BinaryWriter.prototype.writeInt32String=function(r,t){t!=null&&(t=parseInt(t,10),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(r,t))};jspb.BinaryWriter.prototype.writeInt64=function(r,t){t!=null&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(r,t))};goog.exportProperty(jspb.BinaryWriter.prototype,"writeInt64",jspb.BinaryWriter.prototype.writeInt64);jspb.BinaryWriter.prototype.writeInt64String=function(r,t){t!=null&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))};jspb.BinaryWriter.prototype.writeUint32=function(r,t){t!=null&&(jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(r,t))};goog.exportProperty(jspb.BinaryWriter.prototype,"writeUint32",jspb.BinaryWriter.prototype.writeUint32);jspb.BinaryWriter.prototype.writeUint32String=function(r,t){t!=null&&(t=parseInt(t,10),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(r,t))};jspb.BinaryWriter.prototype.writeUint64=function(r,t){t!=null&&(jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(r,t))};goog.exportProperty(jspb.BinaryWriter.prototype,"writeUint64",jspb.BinaryWriter.prototype.writeUint64);jspb.BinaryWriter.prototype.writeUint64String=function(r,t){t!=null&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))};jspb.BinaryWriter.prototype.writeSint32=function(r,t){t!=null&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(r,t))};goog.exportProperty(jspb.BinaryWriter.prototype,"writeSint32",jspb.BinaryWriter.prototype.writeSint32);jspb.BinaryWriter.prototype.writeSint64=function(r,t){t!=null&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(r,t))};goog.exportProperty(jspb.BinaryWriter.prototype,"writeSint64",jspb.BinaryWriter.prototype.writeSint64);jspb.BinaryWriter.prototype.writeSintHash64=function(r,t){t!=null&&this.writeZigzagVarintHash64_(r,t)};jspb.BinaryWriter.prototype.writeSint64String=function(r,t){t!=null&&this.writeZigzagVarint64String_(r,t)};jspb.BinaryWriter.prototype.writeFixed32=function(r,t){t!=null&&(jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(t))};goog.exportProperty(jspb.BinaryWriter.prototype,"writeFixed32",jspb.BinaryWriter.prototype.writeFixed32);jspb.BinaryWriter.prototype.writeFixed64=function(r,t){t!=null&&(jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(t))};goog.exportProperty(jspb.BinaryWriter.prototype,"writeFixed64",jspb.BinaryWriter.prototype.writeFixed64);jspb.BinaryWriter.prototype.writeFixed64String=function(r,t){t!=null&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))};jspb.BinaryWriter.prototype.writeSfixed32=function(r,t){t!=null&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(t))};goog.exportProperty(jspb.BinaryWriter.prototype,"writeSfixed32",jspb.BinaryWriter.prototype.writeSfixed32);jspb.BinaryWriter.prototype.writeSfixed64=function(r,t){t!=null&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(t))};goog.exportProperty(jspb.BinaryWriter.prototype,"writeSfixed64",jspb.BinaryWriter.prototype.writeSfixed64);jspb.BinaryWriter.prototype.writeSfixed64String=function(r,t){t!=null&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))};jspb.BinaryWriter.prototype.writeFloat=function(r,t){t!=null&&(this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(t))};goog.exportProperty(jspb.BinaryWriter.prototype,"writeFloat",jspb.BinaryWriter.prototype.writeFloat);jspb.BinaryWriter.prototype.writeDouble=function(r,t){t!=null&&(this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(t))};goog.exportProperty(jspb.BinaryWriter.prototype,"writeDouble",jspb.BinaryWriter.prototype.writeDouble);jspb.BinaryWriter.prototype.writeBool=function(r,t){t!=null&&(jspb.asserts.assert(typeof t=="boolean"||typeof t=="number"),this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(t))};goog.exportProperty(jspb.BinaryWriter.prototype,"writeBool",jspb.BinaryWriter.prototype.writeBool);jspb.BinaryWriter.prototype.writeEnum=function(r,t){t!=null&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))};goog.exportProperty(jspb.BinaryWriter.prototype,"writeEnum",jspb.BinaryWriter.prototype.writeEnum);jspb.BinaryWriter.prototype.writeString=function(r,t){t!=null&&(r=this.beginDelimited_(r),this.encoder_.writeString(t),this.endDelimited_(r))};goog.exportProperty(jspb.BinaryWriter.prototype,"writeString",jspb.BinaryWriter.prototype.writeString);jspb.BinaryWriter.prototype.writeBytes=function(r,t){t!=null&&(t=jspb.utils.byteSourceToUint8Array(t),this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),this.appendUint8Array_(t))};goog.exportProperty(jspb.BinaryWriter.prototype,"writeBytes",jspb.BinaryWriter.prototype.writeBytes);jspb.BinaryWriter.prototype.writeMessage=function(r,t,i){t!=null&&(r=this.beginDelimited_(r),i(t,this),this.endDelimited_(r))};goog.exportProperty(jspb.BinaryWriter.prototype,"writeMessage",jspb.BinaryWriter.prototype.writeMessage);jspb.BinaryWriter.prototype.writeMessageSet=function(r,t,i){t!=null&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(r),r=this.beginDelimited_(3),i(t,this),this.endDelimited_(r),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))};jspb.BinaryWriter.prototype.writeGroup=function(r,t,i){t!=null&&(this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.START_GROUP),i(t,this),this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.END_GROUP))};goog.exportProperty(jspb.BinaryWriter.prototype,"writeGroup",jspb.BinaryWriter.prototype.writeGroup);jspb.BinaryWriter.prototype.writeFixedHash64=function(r,t){t!=null&&(jspb.asserts.assert(t.length==8),this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(t))};jspb.BinaryWriter.prototype.writeVarintHash64=function(r,t){t!=null&&(jspb.asserts.assert(t.length==8),this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(t))};jspb.BinaryWriter.prototype.writeSplitFixed64=function(r,t,i){this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t,i)};jspb.BinaryWriter.prototype.writeSplitVarint64=function(r,t,i){this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t,i)};jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(r,t,i){this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.VARINT);var n=this.encoder_;jspb.utils.toZigzag64(t,i,function(s,o){n.writeSplitVarint64(s>>>0,o>>>0)})};jspb.BinaryWriter.prototype.writeRepeatedInt32=function(r,t){if(t!=null)for(var i=0;i<t.length;i++)this.writeSignedVarint32_(r,t[i])};goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedInt32",jspb.BinaryWriter.prototype.writeRepeatedInt32);jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(r,t){if(t!=null)for(var i=0;i<t.length;i++)this.writeInt32String(r,t[i])};jspb.BinaryWriter.prototype.writeRepeatedInt64=function(r,t){if(t!=null)for(var i=0;i<t.length;i++)this.writeSignedVarint64_(r,t[i])};goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedInt64",jspb.BinaryWriter.prototype.writeRepeatedInt64);jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(r,t,i,n){if(t!=null)for(var s=0;s<t.length;s++)this.writeSplitFixed64(r,i(t[s]),n(t[s]))};jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(r,t,i,n){if(t!=null)for(var s=0;s<t.length;s++)this.writeSplitVarint64(r,i(t[s]),n(t[s]))};jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(r,t,i,n){if(t!=null)for(var s=0;s<t.length;s++)this.writeSplitZigzagVarint64(r,i(t[s]),n(t[s]))};jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(r,t){if(t!=null)for(var i=0;i<t.length;i++)this.writeInt64String(r,t[i])};jspb.BinaryWriter.prototype.writeRepeatedUint32=function(r,t){if(t!=null)for(var i=0;i<t.length;i++)this.writeUnsignedVarint32_(r,t[i])};goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedUint32",jspb.BinaryWriter.prototype.writeRepeatedUint32);jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(r,t){if(t!=null)for(var i=0;i<t.length;i++)this.writeUint32String(r,t[i])};jspb.BinaryWriter.prototype.writeRepeatedUint64=function(r,t){if(t!=null)for(var i=0;i<t.length;i++)this.writeUnsignedVarint64_(r,t[i])};goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedUint64",jspb.BinaryWriter.prototype.writeRepeatedUint64);jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(r,t){if(t!=null)for(var i=0;i<t.length;i++)this.writeUint64String(r,t[i])};jspb.BinaryWriter.prototype.writeRepeatedSint32=function(r,t){if(t!=null)for(var i=0;i<t.length;i++)this.writeZigzagVarint32_(r,t[i])};goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSint32",jspb.BinaryWriter.prototype.writeRepeatedSint32);jspb.BinaryWriter.prototype.writeRepeatedSint64=function(r,t){if(t!=null)for(var i=0;i<t.length;i++)this.writeZigzagVarint64_(r,t[i])};goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSint64",jspb.BinaryWriter.prototype.writeRepeatedSint64);jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(r,t){if(t!=null)for(var i=0;i<t.length;i++)this.writeZigzagVarint64String_(r,t[i])};jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(r,t){if(t!=null)for(var i=0;i<t.length;i++)this.writeZigzagVarintHash64_(r,t[i])};jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(r,t){if(t!=null)for(var i=0;i<t.length;i++)this.writeFixed32(r,t[i])};goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed32",jspb.BinaryWriter.prototype.writeRepeatedFixed32);jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(r,t){if(t!=null)for(var i=0;i<t.length;i++)this.writeFixed64(r,t[i])};goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed64",jspb.BinaryWriter.prototype.writeRepeatedFixed64);jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(r,t){if(t!=null)for(var i=0;i<t.length;i++)this.writeFixed64String(r,t[i])};goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed64String",jspb.BinaryWriter.prototype.writeRepeatedFixed64String);jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(r,t){if(t!=null)for(var i=0;i<t.length;i++)this.writeSfixed32(r,t[i])};goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSfixed32",jspb.BinaryWriter.prototype.writeRepeatedSfixed32);jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(r,t){if(t!=null)for(var i=0;i<t.length;i++)this.writeSfixed64(r,t[i])};goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSfixed64",jspb.BinaryWriter.prototype.writeRepeatedSfixed64);jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(r,t){if(t!=null)for(var i=0;i<t.length;i++)this.writeSfixed64String(r,t[i])};jspb.BinaryWriter.prototype.writeRepeatedFloat=function(r,t){if(t!=null)for(var i=0;i<t.length;i++)this.writeFloat(r,t[i])};goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFloat",jspb.BinaryWriter.prototype.writeRepeatedFloat);jspb.BinaryWriter.prototype.writeRepeatedDouble=function(r,t){if(t!=null)for(var i=0;i<t.length;i++)this.writeDouble(r,t[i])};goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedDouble",jspb.BinaryWriter.prototype.writeRepeatedDouble);jspb.BinaryWriter.prototype.writeRepeatedBool=function(r,t){if(t!=null)for(var i=0;i<t.length;i++)this.writeBool(r,t[i])};goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedBool",jspb.BinaryWriter.prototype.writeRepeatedBool);jspb.BinaryWriter.prototype.writeRepeatedEnum=function(r,t){if(t!=null)for(var i=0;i<t.length;i++)this.writeEnum(r,t[i])};goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedEnum",jspb.BinaryWriter.prototype.writeRepeatedEnum);jspb.BinaryWriter.prototype.writeRepeatedString=function(r,t){if(t!=null)for(var i=0;i<t.length;i++)this.writeString(r,t[i])};goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedString",jspb.BinaryWriter.prototype.writeRepeatedString);jspb.BinaryWriter.prototype.writeRepeatedBytes=function(r,t){if(t!=null)for(var i=0;i<t.length;i++)this.writeBytes(r,t[i])};goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedBytes",jspb.BinaryWriter.prototype.writeRepeatedBytes);jspb.BinaryWriter.prototype.writeRepeatedMessage=function(r,t,i){if(t!=null)for(var n=0;n<t.length;n++){var s=this.beginDelimited_(r);i(t[n],this),this.endDelimited_(s)}};goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedMessage",jspb.BinaryWriter.prototype.writeRepeatedMessage);jspb.BinaryWriter.prototype.writeRepeatedGroup=function(r,t,i){if(t!=null)for(var n=0;n<t.length;n++)this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.START_GROUP),i(t[n],this),this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.END_GROUP)};goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedGroup",jspb.BinaryWriter.prototype.writeRepeatedGroup);jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(r,t){if(t!=null)for(var i=0;i<t.length;i++)this.writeFixedHash64(r,t[i])};jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(r,t){if(t!=null)for(var i=0;i<t.length;i++)this.writeVarintHash64(r,t[i])};jspb.BinaryWriter.prototype.writePackedInt32=function(r,t){if(t!=null&&t.length){r=this.beginDelimited_(r);for(var i=0;i<t.length;i++)this.encoder_.writeSignedVarint32(t[i]);this.endDelimited_(r)}};goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedInt32",jspb.BinaryWriter.prototype.writePackedInt32);jspb.BinaryWriter.prototype.writePackedInt32String=function(r,t){if(t!=null&&t.length){r=this.beginDelimited_(r);for(var i=0;i<t.length;i++)this.encoder_.writeSignedVarint32(parseInt(t[i],10));this.endDelimited_(r)}};jspb.BinaryWriter.prototype.writePackedInt64=function(r,t){if(t!=null&&t.length){r=this.beginDelimited_(r);for(var i=0;i<t.length;i++)this.encoder_.writeSignedVarint64(t[i]);this.endDelimited_(r)}};goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedInt64",jspb.BinaryWriter.prototype.writePackedInt64);jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(r,t,i,n){if(t!=null){r=this.beginDelimited_(r);for(var s=0;s<t.length;s++)this.encoder_.writeSplitFixed64(i(t[s]),n(t[s]));this.endDelimited_(r)}};jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(r,t,i,n){if(t!=null){r=this.beginDelimited_(r);for(var s=0;s<t.length;s++)this.encoder_.writeSplitVarint64(i(t[s]),n(t[s]));this.endDelimited_(r)}};jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(r,t,i,n){if(t!=null){r=this.beginDelimited_(r);for(var s=this.encoder_,o=0;o<t.length;o++)jspb.utils.toZigzag64(i(t[o]),n(t[o]),function(l,h){s.writeSplitVarint64(l>>>0,h>>>0)});this.endDelimited_(r)}};jspb.BinaryWriter.prototype.writePackedInt64String=function(r,t){if(t!=null&&t.length){r=this.beginDelimited_(r);for(var i=0;i<t.length;i++){var n=jspb.arith.Int64.fromString(t[i]);this.encoder_.writeSplitVarint64(n.lo,n.hi)}this.endDelimited_(r)}};jspb.BinaryWriter.prototype.writePackedUint32=function(r,t){if(t!=null&&t.length){r=this.beginDelimited_(r);for(var i=0;i<t.length;i++)this.encoder_.writeUnsignedVarint32(t[i]);this.endDelimited_(r)}};goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedUint32",jspb.BinaryWriter.prototype.writePackedUint32);jspb.BinaryWriter.prototype.writePackedUint32String=function(r,t){if(t!=null&&t.length){r=this.beginDelimited_(r);for(var i=0;i<t.length;i++)this.encoder_.writeUnsignedVarint32(parseInt(t[i],10));this.endDelimited_(r)}};jspb.BinaryWriter.prototype.writePackedUint64=function(r,t){if(t!=null&&t.length){r=this.beginDelimited_(r);for(var i=0;i<t.length;i++)this.encoder_.writeUnsignedVarint64(t[i]);this.endDelimited_(r)}};goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedUint64",jspb.BinaryWriter.prototype.writePackedUint64);jspb.BinaryWriter.prototype.writePackedUint64String=function(r,t){if(t!=null&&t.length){r=this.beginDelimited_(r);for(var i=0;i<t.length;i++){var n=jspb.arith.UInt64.fromString(t[i]);this.encoder_.writeSplitVarint64(n.lo,n.hi)}this.endDelimited_(r)}};jspb.BinaryWriter.prototype.writePackedSint32=function(r,t){if(t!=null&&t.length){r=this.beginDelimited_(r);for(var i=0;i<t.length;i++)this.encoder_.writeZigzagVarint32(t[i]);this.endDelimited_(r)}};goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSint32",jspb.BinaryWriter.prototype.writePackedSint32);jspb.BinaryWriter.prototype.writePackedSint64=function(r,t){if(t!=null&&t.length){r=this.beginDelimited_(r);for(var i=0;i<t.length;i++)this.encoder_.writeZigzagVarint64(t[i]);this.endDelimited_(r)}};goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSint64",jspb.BinaryWriter.prototype.writePackedSint64);jspb.BinaryWriter.prototype.writePackedSint64String=function(r,t){if(t!=null&&t.length){r=this.beginDelimited_(r);for(var i=0;i<t.length;i++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(t[i]));this.endDelimited_(r)}};jspb.BinaryWriter.prototype.writePackedSintHash64=function(r,t){if(t!=null&&t.length){r=this.beginDelimited_(r);for(var i=0;i<t.length;i++)this.encoder_.writeZigzagVarintHash64(t[i]);this.endDelimited_(r)}};jspb.BinaryWriter.prototype.writePackedFixed32=function(r,t){if(t!=null&&t.length)for(this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),r=0;r<t.length;r++)this.encoder_.writeUint32(t[r])};goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFixed32",jspb.BinaryWriter.prototype.writePackedFixed32);jspb.BinaryWriter.prototype.writePackedFixed64=function(r,t){if(t!=null&&t.length)for(this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),r=0;r<t.length;r++)this.encoder_.writeUint64(t[r])};goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFixed64",jspb.BinaryWriter.prototype.writePackedFixed64);jspb.BinaryWriter.prototype.writePackedFixed64String=function(r,t){if(t!=null&&t.length)for(this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),r=0;r<t.length;r++){var i=jspb.arith.UInt64.fromString(t[r]);this.encoder_.writeSplitFixed64(i.lo,i.hi)}};jspb.BinaryWriter.prototype.writePackedSfixed32=function(r,t){if(t!=null&&t.length)for(this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),r=0;r<t.length;r++)this.encoder_.writeInt32(t[r])};goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSfixed32",jspb.BinaryWriter.prototype.writePackedSfixed32);jspb.BinaryWriter.prototype.writePackedSfixed64=function(r,t){if(t!=null&&t.length)for(this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),r=0;r<t.length;r++)this.encoder_.writeInt64(t[r])};goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSfixed64",jspb.BinaryWriter.prototype.writePackedSfixed64);jspb.BinaryWriter.prototype.writePackedSfixed64String=function(r,t){if(t!=null&&t.length)for(this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),r=0;r<t.length;r++)this.encoder_.writeInt64String(t[r])};jspb.BinaryWriter.prototype.writePackedFloat=function(r,t){if(t!=null&&t.length)for(this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),r=0;r<t.length;r++)this.encoder_.writeFloat(t[r])};goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFloat",jspb.BinaryWriter.prototype.writePackedFloat);jspb.BinaryWriter.prototype.writePackedDouble=function(r,t){if(t!=null&&t.length)for(this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),r=0;r<t.length;r++)this.encoder_.writeDouble(t[r])};goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedDouble",jspb.BinaryWriter.prototype.writePackedDouble);jspb.BinaryWriter.prototype.writePackedBool=function(r,t){if(t!=null&&t.length)for(this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),r=0;r<t.length;r++)this.encoder_.writeBool(t[r])};goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedBool",jspb.BinaryWriter.prototype.writePackedBool);jspb.BinaryWriter.prototype.writePackedEnum=function(r,t){if(t!=null&&t.length){r=this.beginDelimited_(r);for(var i=0;i<t.length;i++)this.encoder_.writeEnum(t[i]);this.endDelimited_(r)}};goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedEnum",jspb.BinaryWriter.prototype.writePackedEnum);jspb.BinaryWriter.prototype.writePackedFixedHash64=function(r,t){if(t!=null&&t.length)for(this.writeFieldHeader_(r,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),r=0;r<t.length;r++)this.encoder_.writeFixedHash64(t[r])};jspb.BinaryWriter.prototype.writePackedVarintHash64=function(r,t){if(t!=null&&t.length){r=this.beginDelimited_(r);for(var i=0;i<t.length;i++)this.encoder_.writeVarintHash64(t[i]);this.endDelimited_(r)}};jspb.Map=function(r,t){this.arr_=r,this.valueCtor_=t,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()};goog.exportSymbol("jspb.Map",jspb.Map);jspb.Map.prototype.loadFromArray_=function(){for(var r=0;r<this.arr_.length;r++){var t=this.arr_[r],i=t[0];this.map_[i.toString()]=new jspb.Map.Entry_(i,t[1])}this.arrClean=!0};jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var r=this.map_,t;for(t in r)if(Object.prototype.hasOwnProperty.call(r,t)){var i=r[t].valueWrapper;i&&i.toArray()}}}else{for(this.arr_.length=0,r=this.stringKeys_(),r.sort(),t=0;t<r.length;t++){var n=this.map_[r[t]];(i=n.valueWrapper)&&i.toArray(),this.arr_.push([n.key,n.value])}this.arrClean=!0}return this.arr_};goog.exportProperty(jspb.Map.prototype,"toArray",jspb.Map.prototype.toArray);jspb.Map.prototype.toObject=function(r,t){for(var i=this.toArray(),n=[],s=0;s<i.length;s++){var o=this.map_[i[s][0].toString()];this.wrapEntry_(o);var l=o.valueWrapper;l?(jspb.asserts.assert(t),n.push([o.key,t(r,l)])):n.push([o.key,o.value])}return n};goog.exportProperty(jspb.Map.prototype,"toObject",jspb.Map.prototype.toObject);jspb.Map.fromObject=function(r,t,i){t=new jspb.Map([],t);for(var n=0;n<r.length;n++){var s=r[n][0],o=i(r[n][1]);t.set(s,o)}return t};goog.exportProperty(jspb.Map,"fromObject",jspb.Map.fromObject);jspb.Map.ArrayIteratorIterable_=function(r){this.idx_=0,this.arr_=r};jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}};typeof Symbol<"u"&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this});jspb.Map.prototype.getLength=function(){return this.stringKeys_().length};goog.exportProperty(jspb.Map.prototype,"getLength",jspb.Map.prototype.getLength);jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1};goog.exportProperty(jspb.Map.prototype,"clear",jspb.Map.prototype.clear);jspb.Map.prototype.del=function(r){r=r.toString();var t=this.map_.hasOwnProperty(r);return delete this.map_[r],this.arrClean=!1,t};goog.exportProperty(jspb.Map.prototype,"del",jspb.Map.prototype.del);jspb.Map.prototype.getEntryList=function(){var r=[],t=this.stringKeys_();t.sort();for(var i=0;i<t.length;i++){var n=this.map_[t[i]];r.push([n.key,n.value])}return r};goog.exportProperty(jspb.Map.prototype,"getEntryList",jspb.Map.prototype.getEntryList);jspb.Map.prototype.entries=function(){var r=[],t=this.stringKeys_();t.sort();for(var i=0;i<t.length;i++){var n=this.map_[t[i]];r.push([n.key,this.wrapEntry_(n)])}return new jspb.Map.ArrayIteratorIterable_(r)};goog.exportProperty(jspb.Map.prototype,"entries",jspb.Map.prototype.entries);jspb.Map.prototype.keys=function(){var r=[],t=this.stringKeys_();t.sort();for(var i=0;i<t.length;i++)r.push(this.map_[t[i]].key);return new jspb.Map.ArrayIteratorIterable_(r)};goog.exportProperty(jspb.Map.prototype,"keys",jspb.Map.prototype.keys);jspb.Map.prototype.values=function(){var r=[],t=this.stringKeys_();t.sort();for(var i=0;i<t.length;i++)r.push(this.wrapEntry_(this.map_[t[i]]));return new jspb.Map.ArrayIteratorIterable_(r)};goog.exportProperty(jspb.Map.prototype,"values",jspb.Map.prototype.values);jspb.Map.prototype.forEach=function(r,t){var i=this.stringKeys_();i.sort();for(var n=0;n<i.length;n++){var s=this.map_[i[n]];r.call(t,this.wrapEntry_(s),s.key,this)}};goog.exportProperty(jspb.Map.prototype,"forEach",jspb.Map.prototype.forEach);jspb.Map.prototype.set=function(r,t){var i=new jspb.Map.Entry_(r);return this.valueCtor_?(i.valueWrapper=t,i.value=t.toArray()):i.value=t,this.map_[r.toString()]=i,this.arrClean=!1,this};goog.exportProperty(jspb.Map.prototype,"set",jspb.Map.prototype.set);jspb.Map.prototype.wrapEntry_=function(r){return this.valueCtor_?(r.valueWrapper||(r.valueWrapper=new this.valueCtor_(r.value)),r.valueWrapper):r.value};jspb.Map.prototype.get=function(r){if(r=this.map_[r.toString()])return this.wrapEntry_(r)};goog.exportProperty(jspb.Map.prototype,"get",jspb.Map.prototype.get);jspb.Map.prototype.has=function(r){return r.toString()in this.map_};goog.exportProperty(jspb.Map.prototype,"has",jspb.Map.prototype.has);jspb.Map.prototype.serializeBinary=function(r,t,i,n,s){var o=this.stringKeys_();o.sort();for(var l=0;l<o.length;l++){var h=this.map_[o[l]];t.beginSubMessage(r),i.call(t,1,h.key),this.valueCtor_?n.call(t,2,this.wrapEntry_(h),s):n.call(t,2,h.value),t.endSubMessage()}};goog.exportProperty(jspb.Map.prototype,"serializeBinary",jspb.Map.prototype.serializeBinary);jspb.Map.deserializeBinary=function(r,t,i,n,s,o,l){for(;t.nextField()&&!t.isEndGroup();){var h=t.getFieldNumber();h==1?o=i.call(t):h==2&&(r.valueCtor_?(jspb.asserts.assert(s),l||(l=new r.valueCtor_),n.call(t,l,s)):l=n.call(t))}jspb.asserts.assert(o!=null),jspb.asserts.assert(l!=null),r.set(o,l)};goog.exportProperty(jspb.Map,"deserializeBinary",jspb.Map.deserializeBinary);jspb.Map.prototype.stringKeys_=function(){var r=this.map_,t=[],i;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.push(i);return t};jspb.Map.Entry_=function(r,t){this.key=r,this.value=t,this.valueWrapper=void 0};jspb.ExtensionFieldInfo=function(r,t,i,n,s){this.fieldIndex=r,this.fieldName=t,this.ctor=i,this.toObjectFn=n,this.isRepeated=s};goog.exportSymbol("jspb.ExtensionFieldInfo",jspb.ExtensionFieldInfo);jspb.ExtensionFieldBinaryInfo=function(r,t,i,n,s,o){this.fieldInfo=r,this.binaryReaderFn=t,this.binaryWriterFn=i,this.binaryMessageSerializeFn=n,this.binaryMessageDeserializeFn=s,this.isPacked=o};goog.exportSymbol("jspb.ExtensionFieldBinaryInfo",jspb.ExtensionFieldBinaryInfo);jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor};goog.exportProperty(jspb.ExtensionFieldInfo.prototype,"isMessageType",jspb.ExtensionFieldInfo.prototype.isMessageType);jspb.Message=function(){};goog.exportSymbol("jspb.Message",jspb.Message);jspb.Message.GENERATE_TO_OBJECT=!0;goog.exportProperty(jspb.Message,"GENERATE_TO_OBJECT",jspb.Message.GENERATE_TO_OBJECT);jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE;goog.exportProperty(jspb.Message,"GENERATE_FROM_OBJECT",jspb.Message.GENERATE_FROM_OBJECT);jspb.Message.GENERATE_TO_STRING=!0;jspb.Message.ASSUME_LOCAL_ARRAYS=!1;jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0;jspb.Message.SUPPORTS_UINT8ARRAY_=typeof Uint8Array=="function";jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_};goog.exportProperty(jspb.Message.prototype,"getJsPbMessageId",jspb.Message.prototype.getJsPbMessageId);jspb.Message.getIndex_=function(r,t){return t+r.arrayIndexOffset_};jspb.Message.hiddenES6Property_=function(){};jspb.Message.getFieldNumber_=function(r,t){return t-r.arrayIndexOffset_};jspb.Message.initialize=function(r,t,i,n,s,o){if(r.wrappers_=null,t||(t=i?[i]:[]),r.messageId_=i?String(i):void 0,r.arrayIndexOffset_=i===0?-1:0,r.array=t,jspb.Message.initPivotAndExtensionObject_(r,n),r.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(r.repeatedFields=s),s)for(t=0;t<s.length;t++)i=s[t],i<r.pivot_?(i=jspb.Message.getIndex_(r,i),r.array[i]=r.array[i]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(r),r.extensionObject_[i]=r.extensionObject_[i]||jspb.Message.EMPTY_LIST_SENTINEL_);if(o&&o.length)for(t=0;t<o.length;t++)jspb.Message.computeOneofCase(r,o[t])};goog.exportProperty(jspb.Message,"initialize",jspb.Message.initialize);jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[];jspb.Message.isArray_=function(r){return jspb.Message.ASSUME_LOCAL_ARRAYS?r instanceof Array:Array.isArray(r)};jspb.Message.isExtensionObject_=function(r){return r!==null&&typeof r=="object"&&!jspb.Message.isArray_(r)&&!(jspb.Message.SUPPORTS_UINT8ARRAY_&&r instanceof Uint8Array)};jspb.Message.initPivotAndExtensionObject_=function(r,t){var i=r.array.length,n=-1;if(i&&(n=i-1,i=r.array[n],jspb.Message.isExtensionObject_(i))){r.pivot_=jspb.Message.getFieldNumber_(r,n),r.extensionObject_=i;return}-1<t?(r.pivot_=Math.max(t,jspb.Message.getFieldNumber_(r,n+1)),r.extensionObject_=null):r.pivot_=Number.MAX_VALUE};jspb.Message.maybeInitEmptyExtensionObject_=function(r){var t=jspb.Message.getIndex_(r,r.pivot_);r.array[t]||(r.extensionObject_=r.array[t]={})};jspb.Message.toObjectList=function(r,t,i){for(var n=[],s=0;s<r.length;s++)n[s]=t.call(r[s],i,r[s]);return n};goog.exportProperty(jspb.Message,"toObjectList",jspb.Message.toObjectList);jspb.Message.toObjectExtension=function(r,t,i,n,s){for(var o in i){var l=i[o],h=n.call(r,l);if(h!=null){for(var p in l.fieldName)if(l.fieldName.hasOwnProperty(p))break;t[p]=l.toObjectFn?l.isRepeated?jspb.Message.toObjectList(h,l.toObjectFn,s):l.toObjectFn(s,h):h}}};goog.exportProperty(jspb.Message,"toObjectExtension",jspb.Message.toObjectExtension);jspb.Message.serializeBinaryExtensions=function(r,t,i,n){for(var s in i){var o=i[s],l=o.fieldInfo;if(!o.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var h=n.call(r,l);if(h!=null)if(l.isMessageType())if(o.binaryMessageSerializeFn)o.binaryWriterFn.call(t,l.fieldIndex,h,o.binaryMessageSerializeFn);else throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");else o.binaryWriterFn.call(t,l.fieldIndex,h)}};goog.exportProperty(jspb.Message,"serializeBinaryExtensions",jspb.Message.serializeBinaryExtensions);jspb.Message.readBinaryExtension=function(r,t,i,n,s){var o=i[t.getFieldNumber()];if(o){if(i=o.fieldInfo,!o.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(i.isMessageType()){var l=new i.ctor;o.binaryReaderFn.call(t,l,o.binaryMessageDeserializeFn)}else l=o.binaryReaderFn.call(t);i.isRepeated&&!o.isPacked?(t=n.call(r,i))?t.push(l):s.call(r,i,[l]):s.call(r,i,l)}else t.skipField()};goog.exportProperty(jspb.Message,"readBinaryExtension",jspb.Message.readBinaryExtension);jspb.Message.getField=function(r,t){if(t<r.pivot_){t=jspb.Message.getIndex_(r,t);var i=r.array[t];return i===jspb.Message.EMPTY_LIST_SENTINEL_?r.array[t]=[]:i}if(r.extensionObject_)return i=r.extensionObject_[t],i===jspb.Message.EMPTY_LIST_SENTINEL_?r.extensionObject_[t]=[]:i};goog.exportProperty(jspb.Message,"getField",jspb.Message.getField);jspb.Message.getRepeatedField=function(r,t){return jspb.Message.getField(r,t)};goog.exportProperty(jspb.Message,"getRepeatedField",jspb.Message.getRepeatedField);jspb.Message.getOptionalFloatingPointField=function(r,t){return r=jspb.Message.getField(r,t),r==null?r:+r};goog.exportProperty(jspb.Message,"getOptionalFloatingPointField",jspb.Message.getOptionalFloatingPointField);jspb.Message.getBooleanField=function(r,t){return r=jspb.Message.getField(r,t),r==null?r:!!r};goog.exportProperty(jspb.Message,"getBooleanField",jspb.Message.getBooleanField);jspb.Message.getRepeatedFloatingPointField=function(r,t){var i=jspb.Message.getRepeatedField(r,t);if(r.convertedPrimitiveFields_||(r.convertedPrimitiveFields_={}),!r.convertedPrimitiveFields_[t]){for(var n=0;n<i.length;n++)i[n]=+i[n];r.convertedPrimitiveFields_[t]=!0}return i};goog.exportProperty(jspb.Message,"getRepeatedFloatingPointField",jspb.Message.getRepeatedFloatingPointField);jspb.Message.getRepeatedBooleanField=function(r,t){var i=jspb.Message.getRepeatedField(r,t);if(r.convertedPrimitiveFields_||(r.convertedPrimitiveFields_={}),!r.convertedPrimitiveFields_[t]){for(var n=0;n<i.length;n++)i[n]=!!i[n];r.convertedPrimitiveFields_[t]=!0}return i};goog.exportProperty(jspb.Message,"getRepeatedBooleanField",jspb.Message.getRepeatedBooleanField);jspb.Message.bytesAsB64=function(r){return r==null||typeof r=="string"?r:jspb.Message.SUPPORTS_UINT8ARRAY_&&r instanceof Uint8Array?goog.crypt.base64.encodeByteArray(r):(jspb.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(r)),null)};goog.exportProperty(jspb.Message,"bytesAsB64",jspb.Message.bytesAsB64);jspb.Message.bytesAsU8=function(r){return r==null||r instanceof Uint8Array?r:typeof r=="string"?goog.crypt.base64.decodeStringToUint8Array(r):(jspb.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(r)),null)};goog.exportProperty(jspb.Message,"bytesAsU8",jspb.Message.bytesAsU8);jspb.Message.bytesListAsB64=function(r){return jspb.Message.assertConsistentTypes_(r),r.length&&typeof r[0]!="string"?goog.array.map(r,jspb.Message.bytesAsB64):r};goog.exportProperty(jspb.Message,"bytesListAsB64",jspb.Message.bytesListAsB64);jspb.Message.bytesListAsU8=function(r){return jspb.Message.assertConsistentTypes_(r),!r.length||r[0]instanceof Uint8Array?r:goog.array.map(r,jspb.Message.bytesAsU8)};goog.exportProperty(jspb.Message,"bytesListAsU8",jspb.Message.bytesListAsU8);jspb.Message.assertConsistentTypes_=function(r){if(goog.DEBUG&&r&&1<r.length){var t=goog.typeOf(r[0]);goog.array.forEach(r,function(i){goog.typeOf(i)!=t&&jspb.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(i)+" expected "+t)})}};jspb.Message.getFieldWithDefault=function(r,t,i){return r=jspb.Message.getField(r,t),r??i};goog.exportProperty(jspb.Message,"getFieldWithDefault",jspb.Message.getFieldWithDefault);jspb.Message.getBooleanFieldWithDefault=function(r,t,i){return r=jspb.Message.getBooleanField(r,t),r??i};goog.exportProperty(jspb.Message,"getBooleanFieldWithDefault",jspb.Message.getBooleanFieldWithDefault);jspb.Message.getFloatingPointFieldWithDefault=function(r,t,i){return r=jspb.Message.getOptionalFloatingPointField(r,t),r??i};goog.exportProperty(jspb.Message,"getFloatingPointFieldWithDefault",jspb.Message.getFloatingPointFieldWithDefault);jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault;goog.exportProperty(jspb.Message,"getFieldProto3",jspb.Message.getFieldProto3);jspb.Message.getMapField=function(r,t,i,n){if(r.wrappers_||(r.wrappers_={}),t in r.wrappers_)return r.wrappers_[t];var s=jspb.Message.getField(r,t);if(!s){if(i)return;s=[],jspb.Message.setField(r,t,s)}return r.wrappers_[t]=new jspb.Map(s,n)};goog.exportProperty(jspb.Message,"getMapField",jspb.Message.getMapField);jspb.Message.setField=function(r,t,i){return jspb.asserts.assertInstanceof(r,jspb.Message),t<r.pivot_?r.array[jspb.Message.getIndex_(r,t)]=i:(jspb.Message.maybeInitEmptyExtensionObject_(r),r.extensionObject_[t]=i),r};goog.exportProperty(jspb.Message,"setField",jspb.Message.setField);jspb.Message.setProto3IntField=function(r,t,i){return jspb.Message.setFieldIgnoringDefault_(r,t,i,0)};goog.exportProperty(jspb.Message,"setProto3IntField",jspb.Message.setProto3IntField);jspb.Message.setProto3FloatField=function(r,t,i){return jspb.Message.setFieldIgnoringDefault_(r,t,i,0)};goog.exportProperty(jspb.Message,"setProto3FloatField",jspb.Message.setProto3FloatField);jspb.Message.setProto3BooleanField=function(r,t,i){return jspb.Message.setFieldIgnoringDefault_(r,t,i,!1)};goog.exportProperty(jspb.Message,"setProto3BooleanField",jspb.Message.setProto3BooleanField);jspb.Message.setProto3StringField=function(r,t,i){return jspb.Message.setFieldIgnoringDefault_(r,t,i,"")};goog.exportProperty(jspb.Message,"setProto3StringField",jspb.Message.setProto3StringField);jspb.Message.setProto3BytesField=function(r,t,i){return jspb.Message.setFieldIgnoringDefault_(r,t,i,"")};goog.exportProperty(jspb.Message,"setProto3BytesField",jspb.Message.setProto3BytesField);jspb.Message.setProto3EnumField=function(r,t,i){return jspb.Message.setFieldIgnoringDefault_(r,t,i,0)};goog.exportProperty(jspb.Message,"setProto3EnumField",jspb.Message.setProto3EnumField);jspb.Message.setProto3StringIntField=function(r,t,i){return jspb.Message.setFieldIgnoringDefault_(r,t,i,"0")};goog.exportProperty(jspb.Message,"setProto3StringIntField",jspb.Message.setProto3StringIntField);jspb.Message.setFieldIgnoringDefault_=function(r,t,i,n){return jspb.asserts.assertInstanceof(r,jspb.Message),i!==n?jspb.Message.setField(r,t,i):t<r.pivot_?r.array[jspb.Message.getIndex_(r,t)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(r),delete r.extensionObject_[t]),r};jspb.Message.addToRepeatedField=function(r,t,i,n){return jspb.asserts.assertInstanceof(r,jspb.Message),t=jspb.Message.getRepeatedField(r,t),n!=null?t.splice(n,0,i):t.push(i),r};goog.exportProperty(jspb.Message,"addToRepeatedField",jspb.Message.addToRepeatedField);jspb.Message.setOneofField=function(r,t,i,n){return jspb.asserts.assertInstanceof(r,jspb.Message),(i=jspb.Message.computeOneofCase(r,i))&&i!==t&&n!==void 0&&(r.wrappers_&&i in r.wrappers_&&(r.wrappers_[i]=void 0),jspb.Message.setField(r,i,void 0)),jspb.Message.setField(r,t,n)};goog.exportProperty(jspb.Message,"setOneofField",jspb.Message.setOneofField);jspb.Message.computeOneofCase=function(r,t){for(var i,n,s=0;s<t.length;s++){var o=t[s],l=jspb.Message.getField(r,o);l!=null&&(i=o,n=l,jspb.Message.setField(r,o,void 0))}return i?(jspb.Message.setField(r,i,n),i):0};goog.exportProperty(jspb.Message,"computeOneofCase",jspb.Message.computeOneofCase);jspb.Message.getWrapperField=function(r,t,i,n){if(r.wrappers_||(r.wrappers_={}),!r.wrappers_[i]){var s=jspb.Message.getField(r,i);(n||s)&&(r.wrappers_[i]=new t(s))}return r.wrappers_[i]};goog.exportProperty(jspb.Message,"getWrapperField",jspb.Message.getWrapperField);jspb.Message.getRepeatedWrapperField=function(r,t,i){return jspb.Message.wrapRepeatedField_(r,t,i),t=r.wrappers_[i],t==jspb.Message.EMPTY_LIST_SENTINEL_&&(t=r.wrappers_[i]=[]),t};goog.exportProperty(jspb.Message,"getRepeatedWrapperField",jspb.Message.getRepeatedWrapperField);jspb.Message.wrapRepeatedField_=function(r,t,i){if(r.wrappers_||(r.wrappers_={}),!r.wrappers_[i]){for(var n=jspb.Message.getRepeatedField(r,i),s=[],o=0;o<n.length;o++)s[o]=new t(n[o]);r.wrappers_[i]=s}};jspb.Message.setWrapperField=function(r,t,i){jspb.asserts.assertInstanceof(r,jspb.Message),r.wrappers_||(r.wrappers_={});var n=i&&i.toArray();return r.wrappers_[t]=i,jspb.Message.setField(r,t,n)};goog.exportProperty(jspb.Message,"setWrapperField",jspb.Message.setWrapperField);jspb.Message.setOneofWrapperField=function(r,t,i,n){jspb.asserts.assertInstanceof(r,jspb.Message),r.wrappers_||(r.wrappers_={});var s=n&&n.toArray();return r.wrappers_[t]=n,jspb.Message.setOneofField(r,t,i,s)};goog.exportProperty(jspb.Message,"setOneofWrapperField",jspb.Message.setOneofWrapperField);jspb.Message.setRepeatedWrapperField=function(r,t,i){jspb.asserts.assertInstanceof(r,jspb.Message),r.wrappers_||(r.wrappers_={}),i=i||[];for(var n=[],s=0;s<i.length;s++)n[s]=i[s].toArray();return r.wrappers_[t]=i,jspb.Message.setField(r,t,n)};goog.exportProperty(jspb.Message,"setRepeatedWrapperField",jspb.Message.setRepeatedWrapperField);jspb.Message.addToRepeatedWrapperField=function(r,t,i,n,s){jspb.Message.wrapRepeatedField_(r,n,t);var o=r.wrappers_[t];return o||(o=r.wrappers_[t]=[]),i=i||new n,r=jspb.Message.getRepeatedField(r,t),s!=null?(o.splice(s,0,i),r.splice(s,0,i.toArray())):(o.push(i),r.push(i.toArray())),i};goog.exportProperty(jspb.Message,"addToRepeatedWrapperField",jspb.Message.addToRepeatedWrapperField);jspb.Message.toMap=function(r,t,i,n){for(var s={},o=0;o<r.length;o++)s[t.call(r[o])]=i?i.call(r[o],n,r[o]):r[o];return s};goog.exportProperty(jspb.Message,"toMap",jspb.Message.toMap);jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var r in this.wrappers_){var t=this.wrappers_[r];if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]&&t[i].toArray();else t&&t.toArray()}};jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array};goog.exportProperty(jspb.Message.prototype,"toArray",jspb.Message.prototype.toArray);jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()});jspb.Message.prototype.getExtension=function(r){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var t=r.fieldIndex;if(r.isRepeated){if(r.isMessageType())return this.wrappers_[t]||(this.wrappers_[t]=goog.array.map(this.extensionObject_[t]||[],function(i){return new r.ctor(i)})),this.wrappers_[t]}else if(r.isMessageType())return!this.wrappers_[t]&&this.extensionObject_[t]&&(this.wrappers_[t]=new r.ctor(this.extensionObject_[t])),this.wrappers_[t];return this.extensionObject_[t]}};goog.exportProperty(jspb.Message.prototype,"getExtension",jspb.Message.prototype.getExtension);jspb.Message.prototype.setExtension=function(r,t){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var i=r.fieldIndex;return r.isRepeated?(t=t||[],r.isMessageType()?(this.wrappers_[i]=t,this.extensionObject_[i]=goog.array.map(t,function(n){return n.toArray()})):this.extensionObject_[i]=t):r.isMessageType()?(this.wrappers_[i]=t,this.extensionObject_[i]=t&&t.toArray()):this.extensionObject_[i]=t,this};goog.exportProperty(jspb.Message.prototype,"setExtension",jspb.Message.prototype.setExtension);jspb.Message.difference=function(r,t){if(!(r instanceof t.constructor))throw Error("Messages have different types.");var i=r.toArray();t=t.toArray();var n=[],s=0,o=i.length>t.length?i.length:t.length;for(r.getJsPbMessageId()&&(n[0]=r.getJsPbMessageId(),s=1);s<o;s++)jspb.Message.compareFields(i[s],t[s])||(n[s]=t[s]);return new r.constructor(n)};goog.exportProperty(jspb.Message,"difference",jspb.Message.difference);jspb.Message.equals=function(r,t){return r==t||!(!r||!t)&&r instanceof t.constructor&&jspb.Message.compareFields(r.toArray(),t.toArray())};goog.exportProperty(jspb.Message,"equals",jspb.Message.equals);jspb.Message.compareExtensions=function(r,t){r=r||{},t=t||{};var i={},n;for(n in r)i[n]=0;for(n in t)i[n]=0;for(n in i)if(!jspb.Message.compareFields(r[n],t[n]))return!1;return!0};goog.exportProperty(jspb.Message,"compareExtensions",jspb.Message.compareExtensions);jspb.Message.compareFields=function(r,t){if(r==t)return!0;if(!goog.isObject(r)||!goog.isObject(t))return typeof r=="number"&&isNaN(r)||typeof t=="number"&&isNaN(t)?String(r)==String(t):!1;if(r.constructor!=t.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&r.constructor===Uint8Array){if(r.length!=t.length)return!1;for(var i=0;i<r.length;i++)if(r[i]!=t[i])return!1;return!0}if(r.constructor===Array){var n=void 0,s=void 0,o=Math.max(r.length,t.length);for(i=0;i<o;i++){var l=r[i],h=t[i];if(l&&l.constructor==Object&&(jspb.asserts.assert(n===void 0),jspb.asserts.assert(i===r.length-1),n=l,l=void 0),h&&h.constructor==Object&&(jspb.asserts.assert(s===void 0),jspb.asserts.assert(i===t.length-1),s=h,h=void 0),!jspb.Message.compareFields(l,h))return!1}return n||s?(n=n||{},s=s||{},jspb.Message.compareExtensions(n,s)):!0}if(r.constructor===Object)return jspb.Message.compareExtensions(r,t);throw Error("Invalid type in JSPB array")};goog.exportProperty(jspb.Message,"compareFields",jspb.Message.compareFields);jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)};goog.exportProperty(jspb.Message.prototype,"cloneMessage",jspb.Message.prototype.cloneMessage);jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)};goog.exportProperty(jspb.Message.prototype,"clone",jspb.Message.prototype.clone);jspb.Message.clone=function(r){return jspb.Message.cloneMessage(r)};goog.exportProperty(jspb.Message,"clone",jspb.Message.clone);jspb.Message.cloneMessage=function(r){return new r.constructor(jspb.Message.clone_(r.toArray()))};jspb.Message.copyInto=function(r,t){jspb.asserts.assertInstanceof(r,jspb.Message),jspb.asserts.assertInstanceof(t,jspb.Message),jspb.asserts.assert(r.constructor==t.constructor,"Copy source and target message should have the same type."),r=jspb.Message.clone(r);for(var i=t.toArray(),n=r.toArray(),s=i.length=0;s<n.length;s++)i[s]=n[s];t.wrappers_=r.wrappers_,t.extensionObject_=r.extensionObject_};goog.exportProperty(jspb.Message,"copyInto",jspb.Message.copyInto);jspb.Message.clone_=function(r){if(Array.isArray(r)){for(var t=Array(r.length),i=0;i<r.length;i++){var n=r[i];n!=null&&(t[i]=typeof n=="object"?jspb.Message.clone_(jspb.asserts.assert(n)):n)}return t}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&r instanceof Uint8Array)return new Uint8Array(r);t={};for(i in r)n=r[i],n!=null&&(t[i]=typeof n=="object"?jspb.Message.clone_(jspb.asserts.assert(n)):n);return t};jspb.Message.registerMessageType=function(r,t){t.messageId=r};goog.exportProperty(jspb.Message,"registerMessageType",jspb.Message.registerMessageType);jspb.Message.messageSetExtensions={};jspb.Message.messageSetExtensionsBinary={};jspb.Export={};typeof exports=="object"&&(exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf)});var Id=x(g6=>{"use strict";var Se=zw(),gt=Se,mi=function(){return this?this:typeof window<"u"?window:typeof mi<"u"?mi:typeof self<"u"?self:Function("return this")()}.call(null);gt.exportSymbol("proto.eCompileType",null,mi);gt.exportSymbol("proto.mCompile",null,mi);gt.exportSymbol("proto.mCompileStatus",null,mi);gt.exportSymbol("proto.mContext",null,mi);gt.exportSymbol("proto.mEmpty",null,mi);gt.exportSymbol("proto.mLink",null,mi);gt.exportSymbol("proto.mLinkedFile",null,mi);gt.exportSymbol("proto.mLspStart",null,mi);gt.exportSymbol("proto.mLspStatus",null,mi);gt.exportSymbol("proto.mSession",null,mi);gt.exportSymbol("proto.mUpdateProgram",null,mi);gt.exportSymbol("proto.mUpload",null,mi);proto.mUpdateProgram=function(r){Se.Message.initialize(this,r,0,-1,null,null)};gt.inherits(proto.mUpdateProgram,Se.Message);gt.DEBUG&&!COMPILED&&(proto.mUpdateProgram.displayName="proto.mUpdateProgram");proto.mSession=function(r){Se.Message.initialize(this,r,0,-1,null,null)};gt.inherits(proto.mSession,Se.Message);gt.DEBUG&&!COMPILED&&(proto.mSession.displayName="proto.mSession");proto.mCompile=function(r){Se.Message.initialize(this,r,0,-1,null,null)};gt.inherits(proto.mCompile,Se.Message);gt.DEBUG&&!COMPILED&&(proto.mCompile.displayName="proto.mCompile");proto.mUpload=function(r){Se.Message.initialize(this,r,0,-1,null,null)};gt.inherits(proto.mUpload,Se.Message);gt.DEBUG&&!COMPILED&&(proto.mUpload.displayName="proto.mUpload");proto.mCompileStatus=function(r){Se.Message.initialize(this,r,0,-1,null,null)};gt.inherits(proto.mCompileStatus,Se.Message);gt.DEBUG&&!COMPILED&&(proto.mCompileStatus.displayName="proto.mCompileStatus");proto.mEmpty=function(r){Se.Message.initialize(this,r,0,-1,null,null)};gt.inherits(proto.mEmpty,Se.Message);gt.DEBUG&&!COMPILED&&(proto.mEmpty.displayName="proto.mEmpty");proto.mContext=function(r){Se.Message.initialize(this,r,0,-1,null,null)};gt.inherits(proto.mContext,Se.Message);gt.DEBUG&&!COMPILED&&(proto.mContext.displayName="proto.mContext");proto.mLink=function(r){Se.Message.initialize(this,r,0,-1,null,null)};gt.inherits(proto.mLink,Se.Message);gt.DEBUG&&!COMPILED&&(proto.mLink.displayName="proto.mLink");proto.mLinkedFile=function(r){Se.Message.initialize(this,r,0,-1,null,null)};gt.inherits(proto.mLinkedFile,Se.Message);gt.DEBUG&&!COMPILED&&(proto.mLinkedFile.displayName="proto.mLinkedFile");proto.mLspStart=function(r){Se.Message.initialize(this,r,0,-1,null,null)};gt.inherits(proto.mLspStart,Se.Message);gt.DEBUG&&!COMPILED&&(proto.mLspStart.displayName="proto.mLspStart");proto.mLspStatus=function(r){Se.Message.initialize(this,r,0,-1,null,null)};gt.inherits(proto.mLspStatus,Se.Message);gt.DEBUG&&!COMPILED&&(proto.mLspStatus.displayName="proto.mLspStatus");Se.Message.GENERATE_TO_OBJECT&&(proto.mUpdateProgram.prototype.toObject=function(r){return proto.mUpdateProgram.toObject(r,this)},proto.mUpdateProgram.toObject=function(r,t){var i,n={ctx:(i=t.getCtx())&&proto.mContext.toObject(r,i),did:Se.Message.getFieldWithDefault(t,2,"")};return r&&(n.$jspbMessageInstance=t),n});proto.mUpdateProgram.deserializeBinary=function(r){var t=new Se.BinaryReader(r),i=new proto.mUpdateProgram;return proto.mUpdateProgram.deserializeBinaryFromReader(i,t)};proto.mUpdateProgram.deserializeBinaryFromReader=function(r,t){for(;t.nextField()&&!t.isEndGroup();){var i=t.getFieldNumber();switch(i){case 1:var n=new proto.mContext;t.readMessage(n,proto.mContext.deserializeBinaryFromReader),r.setCtx(n);break;case 2:var n=t.readString();r.setDid(n);break;default:t.skipField();break}}return r};proto.mUpdateProgram.prototype.serializeBinary=function(){var r=new Se.BinaryWriter;return proto.mUpdateProgram.serializeBinaryToWriter(this,r),r.getResultBuffer()};proto.mUpdateProgram.serializeBinaryToWriter=function(r,t){var i=void 0;i=r.getCtx(),i!=null&&t.writeMessage(1,i,proto.mContext.serializeBinaryToWriter),i=r.getDid(),i.length>0&&t.writeString(2,i)};proto.mUpdateProgram.prototype.getCtx=function(){return Se.Message.getWrapperField(this,proto.mContext,1)};proto.mUpdateProgram.prototype.setCtx=function(r){return Se.Message.setWrapperField(this,1,r)};proto.mUpdateProgram.prototype.clearCtx=function(){return this.setCtx(void 0)};proto.mUpdateProgram.prototype.hasCtx=function(){return Se.Message.getField(this,1)!=null};proto.mUpdateProgram.prototype.getDid=function(){return Se.Message.getFieldWithDefault(this,2,"")};proto.mUpdateProgram.prototype.setDid=function(r){return Se.Message.setProto3StringField(this,2,r)};Se.Message.GENERATE_TO_OBJECT&&(proto.mSession.prototype.toObject=function(r){return proto.mSession.toObject(r,this)},proto.mSession.toObject=function(r,t){var i,n={ctx:(i=t.getCtx())&&proto.mContext.toObject(r,i)};return r&&(n.$jspbMessageInstance=t),n});proto.mSession.deserializeBinary=function(r){var t=new Se.BinaryReader(r),i=new proto.mSession;return proto.mSession.deserializeBinaryFromReader(i,t)};proto.mSession.deserializeBinaryFromReader=function(r,t){for(;t.nextField()&&!t.isEndGroup();){var i=t.getFieldNumber();switch(i){case 1:var n=new proto.mContext;t.readMessage(n,proto.mContext.deserializeBinaryFromReader),r.setCtx(n);break;default:t.skipField();break}}return r};proto.mSession.prototype.serializeBinary=function(){var r=new Se.BinaryWriter;return proto.mSession.serializeBinaryToWriter(this,r),r.getResultBuffer()};proto.mSession.serializeBinaryToWriter=function(r,t){var i=void 0;i=r.getCtx(),i!=null&&t.writeMessage(1,i,proto.mContext.serializeBinaryToWriter)};proto.mSession.prototype.getCtx=function(){return Se.Message.getWrapperField(this,proto.mContext,1)};proto.mSession.prototype.setCtx=function(r){return Se.Message.setWrapperField(this,1,r)};proto.mSession.prototype.clearCtx=function(){return this.setCtx(void 0)};proto.mSession.prototype.hasCtx=function(){return Se.Message.getField(this,1)!=null};Se.Message.GENERATE_TO_OBJECT&&(proto.mCompile.prototype.toObject=function(r){return proto.mCompile.toObject(r,this)},proto.mCompile.toObject=function(r,t){var i,n={ctx:(i=t.getCtx())&&proto.mContext.toObject(r,i),name:Se.Message.getFieldWithDefault(t,1,""),type:Se.Message.getFieldWithDefault(t,3,0)};return r&&(n.$jspbMessageInstance=t),n});proto.mCompile.deserializeBinary=function(r){var t=new Se.BinaryReader(r),i=new proto.mCompile;return proto.mCompile.deserializeBinaryFromReader(i,t)};proto.mCompile.deserializeBinaryFromReader=function(r,t){for(;t.nextField()&&!t.isEndGroup();){var i=t.getFieldNumber();switch(i){case 2:var n=new proto.mContext;t.readMessage(n,proto.mContext.deserializeBinaryFromReader),r.setCtx(n);break;case 1:var n=t.readString();r.setName(n);break;case 3:var n=t.readEnum();r.setType(n);break;default:t.skipField();break}}return r};proto.mCompile.prototype.serializeBinary=function(){var r=new Se.BinaryWriter;return proto.mCompile.serializeBinaryToWriter(this,r),r.getResultBuffer()};proto.mCompile.serializeBinaryToWriter=function(r,t){var i=void 0;i=r.getCtx(),i!=null&&t.writeMessage(2,i,proto.mContext.serializeBinaryToWriter),i=r.getName(),i.length>0&&t.writeString(1,i),i=r.getType(),i!==0&&t.writeEnum(3,i)};proto.mCompile.prototype.getCtx=function(){return Se.Message.getWrapperField(this,proto.mContext,2)};proto.mCompile.prototype.setCtx=function(r){return Se.Message.setWrapperField(this,2,r)};proto.mCompile.prototype.clearCtx=function(){return this.setCtx(void 0)};proto.mCompile.prototype.hasCtx=function(){return Se.Message.getField(this,2)!=null};proto.mCompile.prototype.getName=function(){return Se.Message.getFieldWithDefault(this,1,"")};proto.mCompile.prototype.setName=function(r){return Se.Message.setProto3StringField(this,1,r)};proto.mCompile.prototype.getType=function(){return Se.Message.getFieldWithDefault(this,3,0)};proto.mCompile.prototype.setType=function(r){return Se.Message.setProto3EnumField(this,3,r)};Se.Message.GENERATE_TO_OBJECT&&(proto.mUpload.prototype.toObject=function(r){return proto.mUpload.toObject(r,this)},proto.mUpload.toObject=function(r,t){var i,n={ctx:(i=t.getCtx())&&proto.mContext.toObject(r,i),data:t.getData_asB64()};return r&&(n.$jspbMessageInstance=t),n});proto.mUpload.deserializeBinary=function(r){var t=new Se.BinaryReader(r),i=new proto.mUpload;return proto.mUpload.deserializeBinaryFromReader(i,t)};proto.mUpload.deserializeBinaryFromReader=function(r,t){for(;t.nextField()&&!t.isEndGroup();){var i=t.getFieldNumber();switch(i){case 2:var n=new proto.mContext;t.readMessage(n,proto.mContext.deserializeBinaryFromReader),r.setCtx(n);break;case 1:var n=t.readBytes();r.setData(n);break;default:t.skipField();break}}return r};proto.mUpload.prototype.serializeBinary=function(){var r=new Se.BinaryWriter;return proto.mUpload.serializeBinaryToWriter(this,r),r.getResultBuffer()};proto.mUpload.serializeBinaryToWriter=function(r,t){var i=void 0;i=r.getCtx(),i!=null&&t.writeMessage(2,i,proto.mContext.serializeBinaryToWriter),i=r.getData_asU8(),i.length>0&&t.writeBytes(1,i)};proto.mUpload.prototype.getCtx=function(){return Se.Message.getWrapperField(this,proto.mContext,2)};proto.mUpload.prototype.setCtx=function(r){return Se.Message.setWrapperField(this,2,r)};proto.mUpload.prototype.clearCtx=function(){return this.setCtx(void 0)};proto.mUpload.prototype.hasCtx=function(){return Se.Message.getField(this,2)!=null};proto.mUpload.prototype.getData=function(){return Se.Message.getFieldWithDefault(this,1,"")};proto.mUpload.prototype.getData_asB64=function(){return Se.Message.bytesAsB64(this.getData())};proto.mUpload.prototype.getData_asU8=function(){return Se.Message.bytesAsU8(this.getData())};proto.mUpload.prototype.setData=function(r){return Se.Message.setProto3BytesField(this,1,r)};Se.Message.GENERATE_TO_OBJECT&&(proto.mCompileStatus.prototype.toObject=function(r){return proto.mCompileStatus.toObject(r,this)},proto.mCompileStatus.toObject=function(r,t){var i,n={code:Se.Message.getFieldWithDefault(t,1,0),message:Se.Message.getFieldWithDefault(t,2,"")};return r&&(n.$jspbMessageInstance=t),n});proto.mCompileStatus.deserializeBinary=function(r){var t=new Se.BinaryReader(r),i=new proto.mCompileStatus;return proto.mCompileStatus.deserializeBinaryFromReader(i,t)};proto.mCompileStatus.deserializeBinaryFromReader=function(r,t){for(;t.nextField()&&!t.isEndGroup();){var i=t.getFieldNumber();switch(i){case 1:var n=t.readInt32();r.setCode(n);break;case 2:var n=t.readString();r.setMessage(n);break;default:t.skipField();break}}return r};proto.mCompileStatus.prototype.serializeBinary=function(){var r=new Se.BinaryWriter;return proto.mCompileStatus.serializeBinaryToWriter(this,r),r.getResultBuffer()};proto.mCompileStatus.serializeBinaryToWriter=function(r,t){var i=void 0;i=r.getCode(),i!==0&&t.writeInt32(1,i),i=r.getMessage(),i.length>0&&t.writeString(2,i)};proto.mCompileStatus.prototype.getCode=function(){return Se.Message.getFieldWithDefault(this,1,0)};proto.mCompileStatus.prototype.setCode=function(r){return Se.Message.setProto3IntField(this,1,r)};proto.mCompileStatus.prototype.getMessage=function(){return Se.Message.getFieldWithDefault(this,2,"")};proto.mCompileStatus.prototype.setMessage=function(r){return Se.Message.setProto3StringField(this,2,r)};Se.Message.GENERATE_TO_OBJECT&&(proto.mEmpty.prototype.toObject=function(r){return proto.mEmpty.toObject(r,this)},proto.mEmpty.toObject=function(r,t){var i,n={};return r&&(n.$jspbMessageInstance=t),n});proto.mEmpty.deserializeBinary=function(r){var t=new Se.BinaryReader(r),i=new proto.mEmpty;return proto.mEmpty.deserializeBinaryFromReader(i,t)};proto.mEmpty.deserializeBinaryFromReader=function(r,t){for(;t.nextField()&&!t.isEndGroup();){var i=t.getFieldNumber();switch(i){default:t.skipField();break}}return r};proto.mEmpty.prototype.serializeBinary=function(){var r=new Se.BinaryWriter;return proto.mEmpty.serializeBinaryToWriter(this,r),r.getResultBuffer()};proto.mEmpty.serializeBinaryToWriter=function(r,t){var i=void 0};Se.Message.GENERATE_TO_OBJECT&&(proto.mContext.prototype.toObject=function(r){return proto.mContext.toObject(r,this)},proto.mContext.toObject=function(r,t){var i,n={sessid:Se.Message.getFieldWithDefault(t,1,"")};return r&&(n.$jspbMessageInstance=t),n});proto.mContext.deserializeBinary=function(r){var t=new Se.BinaryReader(r),i=new proto.mContext;return proto.mContext.deserializeBinaryFromReader(i,t)};proto.mContext.deserializeBinaryFromReader=function(r,t){for(;t.nextField()&&!t.isEndGroup();){var i=t.getFieldNumber();switch(i){case 1:var n=t.readString();r.setSessid(n);break;default:t.skipField();break}}return r};proto.mContext.prototype.serializeBinary=function(){var r=new Se.BinaryWriter;return proto.mContext.serializeBinaryToWriter(this,r),r.getResultBuffer()};proto.mContext.serializeBinaryToWriter=function(r,t){var i=void 0;i=r.getSessid(),i.length>0&&t.writeString(1,i)};proto.mContext.prototype.getSessid=function(){return Se.Message.getFieldWithDefault(this,1,"")};proto.mContext.prototype.setSessid=function(r){return Se.Message.setProto3StringField(this,1,r)};Se.Message.GENERATE_TO_OBJECT&&(proto.mLink.prototype.toObject=function(r){return proto.mLink.toObject(r,this)},proto.mLink.toObject=function(r,t){var i,n={ctx:(i=t.getCtx())&&proto.mContext.toObject(r,i),target:Se.Message.getFieldWithDefault(t,1,"")};return r&&(n.$jspbMessageInstance=t),n});proto.mLink.deserializeBinary=function(r){var t=new Se.BinaryReader(r),i=new proto.mLink;return proto.mLink.deserializeBinaryFromReader(i,t)};proto.mLink.deserializeBinaryFromReader=function(r,t){for(;t.nextField()&&!t.isEndGroup();){var i=t.getFieldNumber();switch(i){case 2:var n=new proto.mContext;t.readMessage(n,proto.mContext.deserializeBinaryFromReader),r.setCtx(n);break;case 1:var n=t.readString();r.setTarget(n);break;default:t.skipField();break}}return r};proto.mLink.prototype.serializeBinary=function(){var r=new Se.BinaryWriter;return proto.mLink.serializeBinaryToWriter(this,r),r.getResultBuffer()};proto.mLink.serializeBinaryToWriter=function(r,t){var i=void 0;i=r.getCtx(),i!=null&&t.writeMessage(2,i,proto.mContext.serializeBinaryToWriter),i=r.getTarget(),i.length>0&&t.writeString(1,i)};proto.mLink.prototype.getCtx=function(){return Se.Message.getWrapperField(this,proto.mContext,2)};proto.mLink.prototype.setCtx=function(r){return Se.Message.setWrapperField(this,2,r)};proto.mLink.prototype.clearCtx=function(){return this.setCtx(void 0)};proto.mLink.prototype.hasCtx=function(){return Se.Message.getField(this,2)!=null};proto.mLink.prototype.getTarget=function(){return Se.Message.getFieldWithDefault(this,1,"")};proto.mLink.prototype.setTarget=function(r){return Se.Message.setProto3StringField(this,1,r)};Se.Message.GENERATE_TO_OBJECT&&(proto.mLinkedFile.prototype.toObject=function(r){return proto.mLinkedFile.toObject(r,this)},proto.mLinkedFile.toObject=function(r,t){var i,n={data:t.getData_asB64()};return r&&(n.$jspbMessageInstance=t),n});proto.mLinkedFile.deserializeBinary=function(r){var t=new Se.BinaryReader(r),i=new proto.mLinkedFile;return proto.mLinkedFile.deserializeBinaryFromReader(i,t)};proto.mLinkedFile.deserializeBinaryFromReader=function(r,t){for(;t.nextField()&&!t.isEndGroup();){var i=t.getFieldNumber();switch(i){case 1:var n=t.readBytes();r.setData(n);break;default:t.skipField();break}}return r};proto.mLinkedFile.prototype.serializeBinary=function(){var r=new Se.BinaryWriter;return proto.mLinkedFile.serializeBinaryToWriter(this,r),r.getResultBuffer()};proto.mLinkedFile.serializeBinaryToWriter=function(r,t){var i=void 0;i=r.getData_asU8(),i.length>0&&t.writeBytes(1,i)};proto.mLinkedFile.prototype.getData=function(){return Se.Message.getFieldWithDefault(this,1,"")};proto.mLinkedFile.prototype.getData_asB64=function(){return Se.Message.bytesAsB64(this.getData())};proto.mLinkedFile.prototype.getData_asU8=function(){return Se.Message.bytesAsU8(this.getData())};proto.mLinkedFile.prototype.setData=function(r){return Se.Message.setProto3BytesField(this,1,r)};Se.Message.GENERATE_TO_OBJECT&&(proto.mLspStart.prototype.toObject=function(r){return proto.mLspStart.toObject(r,this)},proto.mLspStart.toObject=function(r,t){var i,n={ctx:(i=t.getCtx())&&proto.mContext.toObject(r,i),wspath:Se.Message.getFieldWithDefault(t,2,"")};return r&&(n.$jspbMessageInstance=t),n});proto.mLspStart.deserializeBinary=function(r){var t=new Se.BinaryReader(r),i=new proto.mLspStart;return proto.mLspStart.deserializeBinaryFromReader(i,t)};proto.mLspStart.deserializeBinaryFromReader=function(r,t){for(;t.nextField()&&!t.isEndGroup();){var i=t.getFieldNumber();switch(i){case 1:var n=new proto.mContext;t.readMessage(n,proto.mContext.deserializeBinaryFromReader),r.setCtx(n);break;case 2:var n=t.readString();r.setWspath(n);break;default:t.skipField();break}}return r};proto.mLspStart.prototype.serializeBinary=function(){var r=new Se.BinaryWriter;return proto.mLspStart.serializeBinaryToWriter(this,r),r.getResultBuffer()};proto.mLspStart.serializeBinaryToWriter=function(r,t){var i=void 0;i=r.getCtx(),i!=null&&t.writeMessage(1,i,proto.mContext.serializeBinaryToWriter),i=r.getWspath(),i.length>0&&t.writeString(2,i)};proto.mLspStart.prototype.getCtx=function(){return Se.Message.getWrapperField(this,proto.mContext,1)};proto.mLspStart.prototype.setCtx=function(r){return Se.Message.setWrapperField(this,1,r)};proto.mLspStart.prototype.clearCtx=function(){return this.setCtx(void 0)};proto.mLspStart.prototype.hasCtx=function(){return Se.Message.getField(this,1)!=null};proto.mLspStart.prototype.getWspath=function(){return Se.Message.getFieldWithDefault(this,2,"")};proto.mLspStart.prototype.setWspath=function(r){return Se.Message.setProto3StringField(this,2,r)};Se.Message.GENERATE_TO_OBJECT&&(proto.mLspStatus.prototype.toObject=function(r){return proto.mLspStatus.toObject(r,this)},proto.mLspStatus.toObject=function(r,t){var i,n={port:Se.Message.getFieldWithDefault(t,1,0)};return r&&(n.$jspbMessageInstance=t),n});proto.mLspStatus.deserializeBinary=function(r){var t=new Se.BinaryReader(r),i=new proto.mLspStatus;return proto.mLspStatus.deserializeBinaryFromReader(i,t)};proto.mLspStatus.deserializeBinaryFromReader=function(r,t){for(;t.nextField()&&!t.isEndGroup();){var i=t.getFieldNumber();switch(i){case 1:var n=t.readUint32();r.setPort(n);break;default:t.skipField();break}}return r};proto.mLspStatus.prototype.serializeBinary=function(){var r=new Se.BinaryWriter;return proto.mLspStatus.serializeBinaryToWriter(this,r),r.getResultBuffer()};proto.mLspStatus.serializeBinaryToWriter=function(r,t){var i=void 0;i=r.getPort(),i!==0&&t.writeUint32(1,i)};proto.mLspStatus.prototype.getPort=function(){return Se.Message.getFieldWithDefault(this,1,0)};proto.mLspStatus.prototype.setPort=function(r){return Se.Message.setProto3IntField(this,1,r)};proto.eCompileType={COMPILE_PROJECT:0,COMPILE_ETHERCAT:1,COMPILE_CANOPEN:2};gt.object.extend(g6,proto)});var v6=x($w=>{"use strict";var fJ=Bg(),ht=Id();function hJ(r){if(!(r instanceof ht.mCompile))throw new Error("Expected argument of type mCompile");return Buffer.from(r.serializeBinary())}function pJ(r){return ht.mCompile.deserializeBinary(new Uint8Array(r))}function gJ(r){if(!(r instanceof ht.mCompileStatus))throw new Error("Expected argument of type mCompileStatus");return Buffer.from(r.serializeBinary())}function mJ(r){return ht.mCompileStatus.deserializeBinary(new Uint8Array(r))}function yJ(r){if(!(r instanceof ht.mContext))throw new Error("Expected argument of type mContext");return Buffer.from(r.serializeBinary())}function vJ(r){return ht.mContext.deserializeBinary(new Uint8Array(r))}function Hw(r){if(!(r instanceof ht.mEmpty))throw new Error("Expected argument of type mEmpty");return Buffer.from(r.serializeBinary())}function Vw(r){return ht.mEmpty.deserializeBinary(new Uint8Array(r))}function bJ(r){if(!(r instanceof ht.mLink))throw new Error("Expected argument of type mLink");return Buffer.from(r.serializeBinary())}function SJ(r){return ht.mLink.deserializeBinary(new Uint8Array(r))}function wJ(r){if(!(r instanceof ht.mLinkedFile))throw new Error("Expected argument of type mLinkedFile");return Buffer.from(r.serializeBinary())}function _J(r){return ht.mLinkedFile.deserializeBinary(new Uint8Array(r))}function EJ(r){if(!(r instanceof ht.mLspStart))throw new Error("Expected argument of type mLspStart");return Buffer.from(r.serializeBinary())}function TJ(r){return ht.mLspStart.deserializeBinary(new Uint8Array(r))}function CJ(r){if(!(r instanceof ht.mLspStatus))throw new Error("Expected argument of type mLspStatus");return Buffer.from(r.serializeBinary())}function kJ(r){return ht.mLspStatus.deserializeBinary(new Uint8Array(r))}function RJ(r){if(!(r instanceof ht.mSession))throw new Error("Expected argument of type mSession");return Buffer.from(r.serializeBinary())}function xJ(r){return ht.mSession.deserializeBinary(new Uint8Array(r))}function AJ(r){if(!(r instanceof ht.mUpdateProgram))throw new Error("Expected argument of type mUpdateProgram");return Buffer.from(r.serializeBinary())}function OJ(r){return ht.mUpdateProgram.deserializeBinary(new Uint8Array(r))}function m6(r){if(!(r instanceof ht.mUpload))throw new Error("Expected argument of type mUpload");return Buffer.from(r.serializeBinary())}function y6(r){return ht.mUpload.deserializeBinary(new Uint8Array(r))}var NJ=$w.CompileServiceService={session:{path:"/CompileService/Session",requestStream:!1,responseStream:!1,requestType:ht.mSession,responseType:ht.mContext,requestSerialize:RJ,requestDeserialize:xJ,responseSerialize:yJ,responseDeserialize:vJ},upload:{path:"/CompileService/Upload",requestStream:!1,responseStream:!1,requestType:ht.mUpload,responseType:ht.mEmpty,requestSerialize:m6,requestDeserialize:y6,responseSerialize:Hw,responseDeserialize:Vw},lspStart:{path:"/CompileService/LspStart",requestStream:!1,responseStream:!1,requestType:ht.mLspStart,responseType:ht.mLspStatus,requestSerialize:EJ,requestDeserialize:TJ,responseSerialize:CJ,responseDeserialize:kJ},compile:{path:"/CompileService/Compile",requestStream:!1,responseStream:!1,requestType:ht.mCompile,responseType:ht.mCompileStatus,requestSerialize:hJ,requestDeserialize:pJ,responseSerialize:gJ,responseDeserialize:mJ},update:{path:"/CompileService/Update",requestStream:!1,responseStream:!1,requestType:ht.mUpload,responseType:ht.mEmpty,requestSerialize:m6,requestDeserialize:y6,responseSerialize:Hw,responseDeserialize:Vw},link:{path:"/CompileService/Link",requestStream:!1,responseStream:!1,requestType:ht.mLink,responseType:ht.mLinkedFile,requestSerialize:bJ,requestDeserialize:SJ,responseSerialize:wJ,responseDeserialize:_J},updateProgram:{path:"/CompileService/UpdateProgram",requestStream:!1,responseStream:!1,requestType:ht.mUpdateProgram,responseType:ht.mEmpty,requestSerialize:AJ,requestDeserialize:OJ,responseSerialize:Hw,responseDeserialize:Vw}};$w.CompileServiceClient=fJ.makeGenericClientConstructor(NJ)});var Gw=x(b6=>{"use strict";var we=zw(),ct=we,Vr=function(){return this?this:typeof window<"u"?window:typeof Vr<"u"?Vr:typeof self<"u"?self:Function("return this")()}.call(null);ct.exportSymbol("proto.eEdgeCommand",null,Vr);ct.exportSymbol("proto.eEdgeDeviceStatus",null,Vr);ct.exportSymbol("proto.mEdgeCommand",null,Vr);ct.exportSymbol("proto.mEdgeContext",null,Vr);ct.exportSymbol("proto.mEdgeDevice",null,Vr);ct.exportSymbol("proto.mEdgeDeviceList",null,Vr);ct.exportSymbol("proto.mEdgeDownloadProgram",null,Vr);ct.exportSymbol("proto.mEdgeEmpty",null,Vr);ct.exportSymbol("proto.mEdgeFetchCommand",null,Vr);ct.exportSymbol("proto.mEdgeListDevices",null,Vr);ct.exportSymbol("proto.mEdgeProgramData",null,Vr);ct.exportSymbol("proto.mEdgeRunProgram",null,Vr);ct.exportSymbol("proto.mEdgeSession",null,Vr);ct.exportSymbol("proto.mEdgeUpdateProgram",null,Vr);proto.mEdgeSession=function(r){we.Message.initialize(this,r,0,-1,null,null)};ct.inherits(proto.mEdgeSession,we.Message);ct.DEBUG&&!COMPILED&&(proto.mEdgeSession.displayName="proto.mEdgeSession");proto.mEdgeUpdateProgram=function(r){we.Message.initialize(this,r,0,-1,null,null)};ct.inherits(proto.mEdgeUpdateProgram,we.Message);ct.DEBUG&&!COMPILED&&(proto.mEdgeUpdateProgram.displayName="proto.mEdgeUpdateProgram");proto.mEdgeFetchCommand=function(r){we.Message.initialize(this,r,0,-1,null,null)};ct.inherits(proto.mEdgeFetchCommand,we.Message);ct.DEBUG&&!COMPILED&&(proto.mEdgeFetchCommand.displayName="proto.mEdgeFetchCommand");proto.mEdgeCommand=function(r){we.Message.initialize(this,r,0,-1,null,null)};ct.inherits(proto.mEdgeCommand,we.Message);ct.DEBUG&&!COMPILED&&(proto.mEdgeCommand.displayName="proto.mEdgeCommand");proto.mEdgeListDevices=function(r){we.Message.initialize(this,r,0,-1,null,null)};ct.inherits(proto.mEdgeListDevices,we.Message);ct.DEBUG&&!COMPILED&&(proto.mEdgeListDevices.displayName="proto.mEdgeListDevices");proto.mEdgeRunProgram=function(r){we.Message.initialize(this,r,0,-1,null,null)};ct.inherits(proto.mEdgeRunProgram,we.Message);ct.DEBUG&&!COMPILED&&(proto.mEdgeRunProgram.displayName="proto.mEdgeRunProgram");proto.mEdgeEmpty=function(r){we.Message.initialize(this,r,0,-1,null,null)};ct.inherits(proto.mEdgeEmpty,we.Message);ct.DEBUG&&!COMPILED&&(proto.mEdgeEmpty.displayName="proto.mEdgeEmpty");proto.mEdgeContext=function(r){we.Message.initialize(this,r,0,-1,null,null)};ct.inherits(proto.mEdgeContext,we.Message);ct.DEBUG&&!COMPILED&&(proto.mEdgeContext.displayName="proto.mEdgeContext");proto.mEdgeDeviceList=function(r){we.Message.initialize(this,r,0,-1,proto.mEdgeDeviceList.repeatedFields_,null)};ct.inherits(proto.mEdgeDeviceList,we.Message);ct.DEBUG&&!COMPILED&&(proto.mEdgeDeviceList.displayName="proto.mEdgeDeviceList");proto.mEdgeDevice=function(r){we.Message.initialize(this,r,0,-1,null,null)};ct.inherits(proto.mEdgeDevice,we.Message);ct.DEBUG&&!COMPILED&&(proto.mEdgeDevice.displayName="proto.mEdgeDevice");proto.mEdgeDownloadProgram=function(r){we.Message.initialize(this,r,0,-1,null,null)};ct.inherits(proto.mEdgeDownloadProgram,we.Message);ct.DEBUG&&!COMPILED&&(proto.mEdgeDownloadProgram.displayName="proto.mEdgeDownloadProgram");proto.mEdgeProgramData=function(r){we.Message.initialize(this,r,0,-1,null,null)};ct.inherits(proto.mEdgeProgramData,we.Message);ct.DEBUG&&!COMPILED&&(proto.mEdgeProgramData.displayName="proto.mEdgeProgramData");we.Message.GENERATE_TO_OBJECT&&(proto.mEdgeSession.prototype.toObject=function(r){return proto.mEdgeSession.toObject(r,this)},proto.mEdgeSession.toObject=function(r,t){var i,n={ctx:(i=t.getCtx())&&proto.mEdgeContext.toObject(r,i)};return r&&(n.$jspbMessageInstance=t),n});proto.mEdgeSession.deserializeBinary=function(r){var t=new we.BinaryReader(r),i=new proto.mEdgeSession;return proto.mEdgeSession.deserializeBinaryFromReader(i,t)};proto.mEdgeSession.deserializeBinaryFromReader=function(r,t){for(;t.nextField()&&!t.isEndGroup();){var i=t.getFieldNumber();switch(i){case 1:var n=new proto.mEdgeContext;t.readMessage(n,proto.mEdgeContext.deserializeBinaryFromReader),r.setCtx(n);break;default:t.skipField();break}}return r};proto.mEdgeSession.prototype.serializeBinary=function(){var r=new we.BinaryWriter;return proto.mEdgeSession.serializeBinaryToWriter(this,r),r.getResultBuffer()};proto.mEdgeSession.serializeBinaryToWriter=function(r,t){var i=void 0;i=r.getCtx(),i!=null&&t.writeMessage(1,i,proto.mEdgeContext.serializeBinaryToWriter)};proto.mEdgeSession.prototype.getCtx=function(){return we.Message.getWrapperField(this,proto.mEdgeContext,1)};proto.mEdgeSession.prototype.setCtx=function(r){return we.Message.setWrapperField(this,1,r)};proto.mEdgeSession.prototype.clearCtx=function(){return this.setCtx(void 0)};proto.mEdgeSession.prototype.hasCtx=function(){return we.Message.getField(this,1)!=null};we.Message.GENERATE_TO_OBJECT&&(proto.mEdgeUpdateProgram.prototype.toObject=function(r){return proto.mEdgeUpdateProgram.toObject(r,this)},proto.mEdgeUpdateProgram.toObject=function(r,t){var i,n={ctx:(i=t.getCtx())&&proto.mEdgeContext.toObject(r,i),data:t.getData_asB64()};return r&&(n.$jspbMessageInstance=t),n});proto.mEdgeUpdateProgram.deserializeBinary=function(r){var t=new we.BinaryReader(r),i=new proto.mEdgeUpdateProgram;return proto.mEdgeUpdateProgram.deserializeBinaryFromReader(i,t)};proto.mEdgeUpdateProgram.deserializeBinaryFromReader=function(r,t){for(;t.nextField()&&!t.isEndGroup();){var i=t.getFieldNumber();switch(i){case 2:var n=new proto.mEdgeContext;t.readMessage(n,proto.mEdgeContext.deserializeBinaryFromReader),r.setCtx(n);break;case 1:var n=t.readBytes();r.setData(n);break;default:t.skipField();break}}return r};proto.mEdgeUpdateProgram.prototype.serializeBinary=function(){var r=new we.BinaryWriter;return proto.mEdgeUpdateProgram.serializeBinaryToWriter(this,r),r.getResultBuffer()};proto.mEdgeUpdateProgram.serializeBinaryToWriter=function(r,t){var i=void 0;i=r.getCtx(),i!=null&&t.writeMessage(2,i,proto.mEdgeContext.serializeBinaryToWriter),i=r.getData_asU8(),i.length>0&&t.writeBytes(1,i)};proto.mEdgeUpdateProgram.prototype.getCtx=function(){return we.Message.getWrapperField(this,proto.mEdgeContext,2)};proto.mEdgeUpdateProgram.prototype.setCtx=function(r){return we.Message.setWrapperField(this,2,r)};proto.mEdgeUpdateProgram.prototype.clearCtx=function(){return this.setCtx(void 0)};proto.mEdgeUpdateProgram.prototype.hasCtx=function(){return we.Message.getField(this,2)!=null};proto.mEdgeUpdateProgram.prototype.getData=function(){return we.Message.getFieldWithDefault(this,1,"")};proto.mEdgeUpdateProgram.prototype.getData_asB64=function(){return we.Message.bytesAsB64(this.getData())};proto.mEdgeUpdateProgram.prototype.getData_asU8=function(){return we.Message.bytesAsU8(this.getData())};proto.mEdgeUpdateProgram.prototype.setData=function(r){return we.Message.setProto3BytesField(this,1,r)};we.Message.GENERATE_TO_OBJECT&&(proto.mEdgeFetchCommand.prototype.toObject=function(r){return proto.mEdgeFetchCommand.toObject(r,this)},proto.mEdgeFetchCommand.toObject=function(r,t){var i,n={ctx:(i=t.getCtx())&&proto.mEdgeContext.toObject(r,i)};return r&&(n.$jspbMessageInstance=t),n});proto.mEdgeFetchCommand.deserializeBinary=function(r){var t=new we.BinaryReader(r),i=new proto.mEdgeFetchCommand;return proto.mEdgeFetchCommand.deserializeBinaryFromReader(i,t)};proto.mEdgeFetchCommand.deserializeBinaryFromReader=function(r,t){for(;t.nextField()&&!t.isEndGroup();){var i=t.getFieldNumber();switch(i){case 1:var n=new proto.mEdgeContext;t.readMessage(n,proto.mEdgeContext.deserializeBinaryFromReader),r.setCtx(n);break;default:t.skipField();break}}return r};proto.mEdgeFetchCommand.prototype.serializeBinary=function(){var r=new we.BinaryWriter;return proto.mEdgeFetchCommand.serializeBinaryToWriter(this,r),r.getResultBuffer()};proto.mEdgeFetchCommand.serializeBinaryToWriter=function(r,t){var i=void 0;i=r.getCtx(),i!=null&&t.writeMessage(1,i,proto.mEdgeContext.serializeBinaryToWriter)};proto.mEdgeFetchCommand.prototype.getCtx=function(){return we.Message.getWrapperField(this,proto.mEdgeContext,1)};proto.mEdgeFetchCommand.prototype.setCtx=function(r){return we.Message.setWrapperField(this,1,r)};proto.mEdgeFetchCommand.prototype.clearCtx=function(){return this.setCtx(void 0)};proto.mEdgeFetchCommand.prototype.hasCtx=function(){return we.Message.getField(this,1)!=null};we.Message.GENERATE_TO_OBJECT&&(proto.mEdgeCommand.prototype.toObject=function(r){return proto.mEdgeCommand.toObject(r,this)},proto.mEdgeCommand.toObject=function(r,t){var i,n={cmd:we.Message.getFieldWithDefault(t,1,0)};return r&&(n.$jspbMessageInstance=t),n});proto.mEdgeCommand.deserializeBinary=function(r){var t=new we.BinaryReader(r),i=new proto.mEdgeCommand;return proto.mEdgeCommand.deserializeBinaryFromReader(i,t)};proto.mEdgeCommand.deserializeBinaryFromReader=function(r,t){for(;t.nextField()&&!t.isEndGroup();){var i=t.getFieldNumber();switch(i){case 1:var n=t.readEnum();r.setCmd(n);break;default:t.skipField();break}}return r};proto.mEdgeCommand.prototype.serializeBinary=function(){var r=new we.BinaryWriter;return proto.mEdgeCommand.serializeBinaryToWriter(this,r),r.getResultBuffer()};proto.mEdgeCommand.serializeBinaryToWriter=function(r,t){var i=void 0;i=r.getCmd(),i!==0&&t.writeEnum(1,i)};proto.mEdgeCommand.prototype.getCmd=function(){return we.Message.getFieldWithDefault(this,1,0)};proto.mEdgeCommand.prototype.setCmd=function(r){return we.Message.setProto3EnumField(this,1,r)};we.Message.GENERATE_TO_OBJECT&&(proto.mEdgeListDevices.prototype.toObject=function(r){return proto.mEdgeListDevices.toObject(r,this)},proto.mEdgeListDevices.toObject=function(r,t){var i,n={ctx:(i=t.getCtx())&&proto.mEdgeContext.toObject(r,i)};return r&&(n.$jspbMessageInstance=t),n});proto.mEdgeListDevices.deserializeBinary=function(r){var t=new we.BinaryReader(r),i=new proto.mEdgeListDevices;return proto.mEdgeListDevices.deserializeBinaryFromReader(i,t)};proto.mEdgeListDevices.deserializeBinaryFromReader=function(r,t){for(;t.nextField()&&!t.isEndGroup();){var i=t.getFieldNumber();switch(i){case 1:var n=new proto.mEdgeContext;t.readMessage(n,proto.mEdgeContext.deserializeBinaryFromReader),r.setCtx(n);break;default:t.skipField();break}}return r};proto.mEdgeListDevices.prototype.serializeBinary=function(){var r=new we.BinaryWriter;return proto.mEdgeListDevices.serializeBinaryToWriter(this,r),r.getResultBuffer()};proto.mEdgeListDevices.serializeBinaryToWriter=function(r,t){var i=void 0;i=r.getCtx(),i!=null&&t.writeMessage(1,i,proto.mEdgeContext.serializeBinaryToWriter)};proto.mEdgeListDevices.prototype.getCtx=function(){return we.Message.getWrapperField(this,proto.mEdgeContext,1)};proto.mEdgeListDevices.prototype.setCtx=function(r){return we.Message.setWrapperField(this,1,r)};proto.mEdgeListDevices.prototype.clearCtx=function(){return this.setCtx(void 0)};proto.mEdgeListDevices.prototype.hasCtx=function(){return we.Message.getField(this,1)!=null};we.Message.GENERATE_TO_OBJECT&&(proto.mEdgeRunProgram.prototype.toObject=function(r){return proto.mEdgeRunProgram.toObject(r,this)},proto.mEdgeRunProgram.toObject=function(r,t){var i,n={ctx:(i=t.getCtx())&&proto.mEdgeContext.toObject(r,i)};return r&&(n.$jspbMessageInstance=t),n});proto.mEdgeRunProgram.deserializeBinary=function(r){var t=new we.BinaryReader(r),i=new proto.mEdgeRunProgram;return proto.mEdgeRunProgram.deserializeBinaryFromReader(i,t)};proto.mEdgeRunProgram.deserializeBinaryFromReader=function(r,t){for(;t.nextField()&&!t.isEndGroup();){var i=t.getFieldNumber();switch(i){case 1:var n=new proto.mEdgeContext;t.readMessage(n,proto.mEdgeContext.deserializeBinaryFromReader),r.setCtx(n);break;default:t.skipField();break}}return r};proto.mEdgeRunProgram.prototype.serializeBinary=function(){var r=new we.BinaryWriter;return proto.mEdgeRunProgram.serializeBinaryToWriter(this,r),r.getResultBuffer()};proto.mEdgeRunProgram.serializeBinaryToWriter=function(r,t){var i=void 0;i=r.getCtx(),i!=null&&t.writeMessage(1,i,proto.mEdgeContext.serializeBinaryToWriter)};proto.mEdgeRunProgram.prototype.getCtx=function(){return we.Message.getWrapperField(this,proto.mEdgeContext,1)};proto.mEdgeRunProgram.prototype.setCtx=function(r){return we.Message.setWrapperField(this,1,r)};proto.mEdgeRunProgram.prototype.clearCtx=function(){return this.setCtx(void 0)};proto.mEdgeRunProgram.prototype.hasCtx=function(){return we.Message.getField(this,1)!=null};we.Message.GENERATE_TO_OBJECT&&(proto.mEdgeEmpty.prototype.toObject=function(r){return proto.mEdgeEmpty.toObject(r,this)},proto.mEdgeEmpty.toObject=function(r,t){var i,n={};return r&&(n.$jspbMessageInstance=t),n});proto.mEdgeEmpty.deserializeBinary=function(r){var t=new we.BinaryReader(r),i=new proto.mEdgeEmpty;return proto.mEdgeEmpty.deserializeBinaryFromReader(i,t)};proto.mEdgeEmpty.deserializeBinaryFromReader=function(r,t){for(;t.nextField()&&!t.isEndGroup();){var i=t.getFieldNumber();switch(i){default:t.skipField();break}}return r};proto.mEdgeEmpty.prototype.serializeBinary=function(){var r=new we.BinaryWriter;return proto.mEdgeEmpty.serializeBinaryToWriter(this,r),r.getResultBuffer()};proto.mEdgeEmpty.serializeBinaryToWriter=function(r,t){var i=void 0};we.Message.GENERATE_TO_OBJECT&&(proto.mEdgeContext.prototype.toObject=function(r){return proto.mEdgeContext.toObject(r,this)},proto.mEdgeContext.toObject=function(r,t){var i,n={sessid:we.Message.getFieldWithDefault(t,1,""),device:(i=t.getDevice())&&proto.mEdgeDevice.toObject(r,i)};return r&&(n.$jspbMessageInstance=t),n});proto.mEdgeContext.deserializeBinary=function(r){var t=new we.BinaryReader(r),i=new proto.mEdgeContext;return proto.mEdgeContext.deserializeBinaryFromReader(i,t)};proto.mEdgeContext.deserializeBinaryFromReader=function(r,t){for(;t.nextField()&&!t.isEndGroup();){var i=t.getFieldNumber();switch(i){case 1:var n=t.readString();r.setSessid(n);break;case 2:var n=new proto.mEdgeDevice;t.readMessage(n,proto.mEdgeDevice.deserializeBinaryFromReader),r.setDevice(n);break;default:t.skipField();break}}return r};proto.mEdgeContext.prototype.serializeBinary=function(){var r=new we.BinaryWriter;return proto.mEdgeContext.serializeBinaryToWriter(this,r),r.getResultBuffer()};proto.mEdgeContext.serializeBinaryToWriter=function(r,t){var i=void 0;i=r.getSessid(),i.length>0&&t.writeString(1,i),i=r.getDevice(),i!=null&&t.writeMessage(2,i,proto.mEdgeDevice.serializeBinaryToWriter)};proto.mEdgeContext.prototype.getSessid=function(){return we.Message.getFieldWithDefault(this,1,"")};proto.mEdgeContext.prototype.setSessid=function(r){return we.Message.setProto3StringField(this,1,r)};proto.mEdgeContext.prototype.getDevice=function(){return we.Message.getWrapperField(this,proto.mEdgeDevice,2)};proto.mEdgeContext.prototype.setDevice=function(r){return we.Message.setWrapperField(this,2,r)};proto.mEdgeContext.prototype.clearDevice=function(){return this.setDevice(void 0)};proto.mEdgeContext.prototype.hasDevice=function(){return we.Message.getField(this,2)!=null};proto.mEdgeDeviceList.repeatedFields_=[1];we.Message.GENERATE_TO_OBJECT&&(proto.mEdgeDeviceList.prototype.toObject=function(r){return proto.mEdgeDeviceList.toObject(r,this)},proto.mEdgeDeviceList.toObject=function(r,t){var i,n={devicesList:we.Message.toObjectList(t.getDevicesList(),proto.mEdgeDevice.toObject,r)};return r&&(n.$jspbMessageInstance=t),n});proto.mEdgeDeviceList.deserializeBinary=function(r){var t=new we.BinaryReader(r),i=new proto.mEdgeDeviceList;return proto.mEdgeDeviceList.deserializeBinaryFromReader(i,t)};proto.mEdgeDeviceList.deserializeBinaryFromReader=function(r,t){for(;t.nextField()&&!t.isEndGroup();){var i=t.getFieldNumber();switch(i){case 1:var n=new proto.mEdgeDevice;t.readMessage(n,proto.mEdgeDevice.deserializeBinaryFromReader),r.addDevices(n);break;default:t.skipField();break}}return r};proto.mEdgeDeviceList.prototype.serializeBinary=function(){var r=new we.BinaryWriter;return proto.mEdgeDeviceList.serializeBinaryToWriter(this,r),r.getResultBuffer()};proto.mEdgeDeviceList.serializeBinaryToWriter=function(r,t){var i=void 0;i=r.getDevicesList(),i.length>0&&t.writeRepeatedMessage(1,i,proto.mEdgeDevice.serializeBinaryToWriter)};proto.mEdgeDeviceList.prototype.getDevicesList=function(){return we.Message.getRepeatedWrapperField(this,proto.mEdgeDevice,1)};proto.mEdgeDeviceList.prototype.setDevicesList=function(r){return we.Message.setRepeatedWrapperField(this,1,r)};proto.mEdgeDeviceList.prototype.addDevices=function(r,t){return we.Message.addToRepeatedWrapperField(this,1,r,proto.mEdgeDevice,t)};proto.mEdgeDeviceList.prototype.clearDevicesList=function(){return this.setDevicesList([])};we.Message.GENERATE_TO_OBJECT&&(proto.mEdgeDevice.prototype.toObject=function(r){return proto.mEdgeDevice.toObject(r,this)},proto.mEdgeDevice.toObject=function(r,t){var i,n={name:we.Message.getFieldWithDefault(t,1,""),did:we.Message.getFieldWithDefault(t,2,""),status:we.Message.getFieldWithDefault(t,3,0)};return r&&(n.$jspbMessageInstance=t),n});proto.mEdgeDevice.deserializeBinary=function(r){var t=new we.BinaryReader(r),i=new proto.mEdgeDevice;return proto.mEdgeDevice.deserializeBinaryFromReader(i,t)};proto.mEdgeDevice.deserializeBinaryFromReader=function(r,t){for(;t.nextField()&&!t.isEndGroup();){var i=t.getFieldNumber();switch(i){case 1:var n=t.readString();r.setName(n);break;case 2:var n=t.readString();r.setDid(n);break;case 3:var n=t.readEnum();r.setStatus(n);break;default:t.skipField();break}}return r};proto.mEdgeDevice.prototype.serializeBinary=function(){var r=new we.BinaryWriter;return proto.mEdgeDevice.serializeBinaryToWriter(this,r),r.getResultBuffer()};proto.mEdgeDevice.serializeBinaryToWriter=function(r,t){var i=void 0;i=r.getName(),i.length>0&&t.writeString(1,i),i=r.getDid(),i.length>0&&t.writeString(2,i),i=r.getStatus(),i!==0&&t.writeEnum(3,i)};proto.mEdgeDevice.prototype.getName=function(){return we.Message.getFieldWithDefault(this,1,"")};proto.mEdgeDevice.prototype.setName=function(r){return we.Message.setProto3StringField(this,1,r)};proto.mEdgeDevice.prototype.getDid=function(){return we.Message.getFieldWithDefault(this,2,"")};proto.mEdgeDevice.prototype.setDid=function(r){return we.Message.setProto3StringField(this,2,r)};proto.mEdgeDevice.prototype.getStatus=function(){return we.Message.getFieldWithDefault(this,3,0)};proto.mEdgeDevice.prototype.setStatus=function(r){return we.Message.setProto3EnumField(this,3,r)};we.Message.GENERATE_TO_OBJECT&&(proto.mEdgeDownloadProgram.prototype.toObject=function(r){return proto.mEdgeDownloadProgram.toObject(r,this)},proto.mEdgeDownloadProgram.toObject=function(r,t){var i,n={ctx:(i=t.getCtx())&&proto.mEdgeContext.toObject(r,i)};return r&&(n.$jspbMessageInstance=t),n});proto.mEdgeDownloadProgram.deserializeBinary=function(r){var t=new we.BinaryReader(r),i=new proto.mEdgeDownloadProgram;return proto.mEdgeDownloadProgram.deserializeBinaryFromReader(i,t)};proto.mEdgeDownloadProgram.deserializeBinaryFromReader=function(r,t){for(;t.nextField()&&!t.isEndGroup();){var i=t.getFieldNumber();switch(i){case 1:var n=new proto.mEdgeContext;t.readMessage(n,proto.mEdgeContext.deserializeBinaryFromReader),r.setCtx(n);break;default:t.skipField();break}}return r};proto.mEdgeDownloadProgram.prototype.serializeBinary=function(){var r=new we.BinaryWriter;return proto.mEdgeDownloadProgram.serializeBinaryToWriter(this,r),r.getResultBuffer()};proto.mEdgeDownloadProgram.serializeBinaryToWriter=function(r,t){var i=void 0;i=r.getCtx(),i!=null&&t.writeMessage(1,i,proto.mEdgeContext.serializeBinaryToWriter)};proto.mEdgeDownloadProgram.prototype.getCtx=function(){return we.Message.getWrapperField(this,proto.mEdgeContext,1)};proto.mEdgeDownloadProgram.prototype.setCtx=function(r){return we.Message.setWrapperField(this,1,r)};proto.mEdgeDownloadProgram.prototype.clearCtx=function(){return this.setCtx(void 0)};proto.mEdgeDownloadProgram.prototype.hasCtx=function(){return we.Message.getField(this,1)!=null};we.Message.GENERATE_TO_OBJECT&&(proto.mEdgeProgramData.prototype.toObject=function(r){return proto.mEdgeProgramData.toObject(r,this)},proto.mEdgeProgramData.toObject=function(r,t){var i,n={data:t.getData_asB64()};return r&&(n.$jspbMessageInstance=t),n});proto.mEdgeProgramData.deserializeBinary=function(r){var t=new we.BinaryReader(r),i=new proto.mEdgeProgramData;return proto.mEdgeProgramData.deserializeBinaryFromReader(i,t)};proto.mEdgeProgramData.deserializeBinaryFromReader=function(r,t){for(;t.nextField()&&!t.isEndGroup();){var i=t.getFieldNumber();switch(i){case 1:var n=t.readBytes();r.setData(n);break;default:t.skipField();break}}return r};proto.mEdgeProgramData.prototype.serializeBinary=function(){var r=new we.BinaryWriter;return proto.mEdgeProgramData.serializeBinaryToWriter(this,r),r.getResultBuffer()};proto.mEdgeProgramData.serializeBinaryToWriter=function(r,t){var i=void 0;i=r.getData_asU8(),i.length>0&&t.writeBytes(1,i)};proto.mEdgeProgramData.prototype.getData=function(){return we.Message.getFieldWithDefault(this,1,"")};proto.mEdgeProgramData.prototype.getData_asB64=function(){return we.Message.bytesAsB64(this.getData())};proto.mEdgeProgramData.prototype.getData_asU8=function(){return we.Message.bytesAsU8(this.getData())};proto.mEdgeProgramData.prototype.setData=function(r){return we.Message.setProto3BytesField(this,1,r)};proto.eEdgeCommand={CMDRUN:0,CMDSTOP:1};proto.eEdgeDeviceStatus={UNKNOWN:0,RUNNING:1,STOP:2};ct.object.extend(b6,proto)});var _6=x(Yw=>{"use strict";var DJ=Bg(),yt=Gw();function PJ(r){if(!(r instanceof yt.mEdgeCommand))throw new Error("Expected argument of type mEdgeCommand");return Buffer.from(r.serializeBinary())}function IJ(r){return yt.mEdgeCommand.deserializeBinary(new Uint8Array(r))}function LJ(r){if(!(r instanceof yt.mEdgeContext))throw new Error("Expected argument of type mEdgeContext");return Buffer.from(r.serializeBinary())}function MJ(r){return yt.mEdgeContext.deserializeBinary(new Uint8Array(r))}function FJ(r){if(!(r instanceof yt.mEdgeDeviceList))throw new Error("Expected argument of type mEdgeDeviceList");return Buffer.from(r.serializeBinary())}function jJ(r){return yt.mEdgeDeviceList.deserializeBinary(new Uint8Array(r))}function BJ(r){if(!(r instanceof yt.mEdgeDownloadProgram))throw new Error("Expected argument of type mEdgeDownloadProgram");return Buffer.from(r.serializeBinary())}function UJ(r){return yt.mEdgeDownloadProgram.deserializeBinary(new Uint8Array(r))}function S6(r){if(!(r instanceof yt.mEdgeEmpty))throw new Error("Expected argument of type mEdgeEmpty");return Buffer.from(r.serializeBinary())}function w6(r){return yt.mEdgeEmpty.deserializeBinary(new Uint8Array(r))}function qJ(r){if(!(r instanceof yt.mEdgeFetchCommand))throw new Error("Expected argument of type mEdgeFetchCommand");return Buffer.from(r.serializeBinary())}function WJ(r){return yt.mEdgeFetchCommand.deserializeBinary(new Uint8Array(r))}function zJ(r){if(!(r instanceof yt.mEdgeListDevices))throw new Error("Expected argument of type mEdgeListDevices");return Buffer.from(r.serializeBinary())}function HJ(r){return yt.mEdgeListDevices.deserializeBinary(new Uint8Array(r))}function VJ(r){if(!(r instanceof yt.mEdgeProgramData))throw new Error("Expected argument of type mEdgeProgramData");return Buffer.from(r.serializeBinary())}function $J(r){return yt.mEdgeProgramData.deserializeBinary(new Uint8Array(r))}function GJ(r){if(!(r instanceof yt.mEdgeRunProgram))throw new Error("Expected argument of type mEdgeRunProgram");return Buffer.from(r.serializeBinary())}function YJ(r){return yt.mEdgeRunProgram.deserializeBinary(new Uint8Array(r))}function KJ(r){if(!(r instanceof yt.mEdgeSession))throw new Error("Expected argument of type mEdgeSession");return Buffer.from(r.serializeBinary())}function XJ(r){return yt.mEdgeSession.deserializeBinary(new Uint8Array(r))}function JJ(r){if(!(r instanceof yt.mEdgeUpdateProgram))throw new Error("Expected argument of type mEdgeUpdateProgram");return Buffer.from(r.serializeBinary())}function ZJ(r){return yt.mEdgeUpdateProgram.deserializeBinary(new Uint8Array(r))}var QJ=Yw.EdgeServiceService={edgeSession:{path:"/EdgeService/EdgeSession",requestStream:!1,responseStream:!1,requestType:yt.mEdgeSession,responseType:yt.mEdgeContext,requestSerialize:KJ,requestDeserialize:XJ,responseSerialize:LJ,responseDeserialize:MJ},edgeDownloadProgram:{path:"/EdgeService/EdgeDownloadProgram",requestStream:!1,responseStream:!1,requestType:yt.mEdgeDownloadProgram,responseType:yt.mEdgeProgramData,requestSerialize:BJ,requestDeserialize:UJ,responseSerialize:VJ,responseDeserialize:$J},edgeFetchCommand:{path:"/EdgeService/EdgeFetchCommand",requestStream:!1,responseStream:!1,requestType:yt.mEdgeFetchCommand,responseType:yt.mEdgeCommand,requestSerialize:qJ,requestDeserialize:WJ,responseSerialize:PJ,responseDeserialize:IJ},edgeListDevices:{path:"/EdgeService/EdgeListDevices",requestStream:!1,responseStream:!1,requestType:yt.mEdgeListDevices,responseType:yt.mEdgeDeviceList,requestSerialize:zJ,requestDeserialize:HJ,responseSerialize:FJ,responseDeserialize:jJ},edgeUpdateProgram:{path:"/EdgeService/EdgeUpdateProgram",requestStream:!1,responseStream:!1,requestType:yt.mEdgeUpdateProgram,responseType:yt.mEdgeEmpty,requestSerialize:JJ,requestDeserialize:ZJ,responseSerialize:S6,responseDeserialize:w6},edgeRunProgram:{path:"/EdgeService/EdgeRunProgram",requestStream:!1,responseStream:!1,requestType:yt.mEdgeRunProgram,responseType:yt.mEdgeEmpty,requestSerialize:GJ,requestDeserialize:YJ,responseSerialize:S6,responseDeserialize:w6}};Yw.EdgeServiceClient=DJ.makeGenericClientConstructor(QJ)});var D6=x(Wg=>{"use strict";Object.defineProperty(Wg,"__esModule",{value:!0});Wg.boolean=void 0;var iZ=function(r){switch(Object.prototype.toString.call(r)){case"[object String]":return["true","t","yes","y","on","1"].includes(r.trim().toLowerCase());case"[object Number]":return r.valueOf()===1;case"[object Boolean]":return r.valueOf();default:return!1}};Wg.boolean=iZ});var P6=x(zg=>{"use strict";Object.defineProperty(zg,"__esModule",{value:!0});zg.isBooleanable=void 0;var nZ=function(r){switch(Object.prototype.toString.call(r)){case"[object String]":return["true","t","yes","y","on","1","false","f","no","n","off","0"].includes(r.trim().toLowerCase());case"[object Number]":return[0,1].includes(r.valueOf());case"[object Boolean]":return!0;default:return!1}};zg.isBooleanable=nZ});var I6=x(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});yc.isBooleanable=yc.boolean=void 0;var sZ=D6();Object.defineProperty(yc,"boolean",{enumerable:!0,get:function(){return sZ.boolean}});var oZ=P6();Object.defineProperty(yc,"isBooleanable",{enumerable:!0,get:function(){return oZ.isBooleanable}})});var L6=x(Hg=>{"use strict";Object.defineProperty(Hg,"__esModule",{value:!0});Hg.tokenize=void 0;var aZ=/(?:%(?<flag>([+0-]|-\+))?(?<width>\d+)?(?<position>\d+\$)?(?<precision>\.\d+)?(?<conversion>[%BCESb-iosux]))|(\\%)/g,lZ=r=>{let t,i=[],n=0,s=0,o=null;for(;(t=aZ.exec(r))!==null;){t.index>s&&(o={literal:r.slice(s,t.index),type:"literal"},i.push(o));let l=t[0];s=t.index+l.length,l==="\\%"||l==="%%"?o&&o.type==="literal"?o.literal+="%":(o={literal:"%",type:"literal"},i.push(o)):t.groups&&(o={conversion:t.groups.conversion,flag:t.groups.flag||null,placeholder:l,position:t.groups.position?Number.parseInt(t.groups.position,10)-1:n++,precision:t.groups.precision?Number.parseInt(t.groups.precision.slice(1),10):null,type:"placeholder",width:t.groups.width?Number.parseInt(t.groups.width,10):null},i.push(o))}return s<=r.length-1&&(o&&o.type==="literal"?o.literal+=r.slice(s):i.push({literal:r.slice(s),type:"literal"})),i};Hg.tokenize=lZ});var F6=x(Vg=>{"use strict";Object.defineProperty(Vg,"__esModule",{value:!0});Vg.createPrintf=void 0;var M6=I6(),cZ=L6(),uZ=(r,t)=>t.placeholder,dZ=r=>{var t;let i=(o,l,h)=>h==="-"?o.padEnd(l," "):h==="-+"?((Number(o)>=0?"+":"")+o).padEnd(l," "):h==="+"?((Number(o)>=0?"+":"")+o).padStart(l," "):h==="0"?o.padStart(l,"0"):o.padStart(l," "),n=(t=r?.formatUnboundExpression)!==null&&t!==void 0?t:uZ,s={};return(o,...l)=>{let h=s[o];h||(h=s[o]=cZ.tokenize(o));let p="";for(let g of h)if(g.type==="literal")p+=g.literal;else{let m=l[g.position];if(m===void 0)p+=n(o,g,l);else if(g.conversion==="b")p+=M6.boolean(m)?"true":"false";else if(g.conversion==="B")p+=M6.boolean(m)?"TRUE":"FALSE";else if(g.conversion==="c")p+=m;else if(g.conversion==="C")p+=String(m).toUpperCase();else if(g.conversion==="i"||g.conversion==="d")m=String(Math.trunc(m)),g.width!==null&&(m=i(m,g.width,g.flag)),p+=m;else if(g.conversion==="e")p+=Number(m).toExponential();else if(g.conversion==="E")p+=Number(m).toExponential().toUpperCase();else if(g.conversion==="f")g.precision!==null&&(m=Number(m).toFixed(g.precision)),g.width!==null&&(m=i(String(m),g.width,g.flag)),p+=m;else if(g.conversion==="o")p+=(Number.parseInt(String(m),10)>>>0).toString(8);else if(g.conversion==="s")g.width!==null&&(m=i(String(m),g.width,g.flag)),p+=m;else if(g.conversion==="S")g.width!==null&&(m=i(String(m),g.width,g.flag)),p+=String(m).toUpperCase();else if(g.conversion==="u")p+=Number.parseInt(String(m),10)>>>0;else if(g.conversion==="x")m=(Number.parseInt(String(m),10)>>>0).toString(16),g.width!==null&&(m=i(String(m),g.width,g.flag)),p+=m;else throw new Error("Unknown format specifier.")}return p}};Vg.createPrintf=dZ});var B6=x(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});vc.printf=vc.createPrintf=void 0;var j6=F6();Object.defineProperty(vc,"createPrintf",{enumerable:!0,get:function(){return j6.createPrintf}});vc.printf=j6.createPrintf()});var U6=x((dve,fZ)=>{fZ.exports={name:"i18n",description:"lightweight translation module with dynamic json storage",version:"0.15.1",homepage:"http://github.com/mashpie/i18n-node",repository:{type:"git",url:"http://github.com/mashpie/i18n-node.git"},author:"Marcus Spiegel <marcus.spiegel@gmail.com>",funding:{url:"https://github.com/sponsors/mashpie"},main:"./index",files:["i18n.js","index.js","SECURITY.md"],keywords:["template","i18n","l10n"],directories:{lib:"."},dependencies:{"@messageformat/core":"^3.0.0",debug:"^4.3.3","fast-printf":"^1.6.9","make-plural":"^7.0.0","math-interval-parser":"^2.0.1",mustache:"^4.2.0"},devDependencies:{async:"^3.2.3","cookie-parser":"^1.4.6",eslint:"^8.8.0","eslint-config-prettier":"^8.3.0","eslint-config-standard":"^17.0.0","eslint-plugin-import":"^2.25.4","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-promise":"^6.0.0","eslint-plugin-standard":"^5.0.0",express:"^4.17.2",husky:"^8.0.1","lint-staged":"^12.3.2",mocha:"^10.0.0",nyc:"^15.1.0",prettier:"^2.5.1",should:"^13.2.3",sinon:"^14.0.0",yaml:"^2.1.0",zombie:"^6.1.4"},engines:{node:">=10"},scripts:{test:"mocha --exit","test-ci":"nyc mocha -- --exit",coverage:"nyc report --reporter=lcov"},"lint-staged":{"*.js":"eslint --cache --fix"},license:"MIT",husky:{hooks:{"pre-commit":"lint-staged"}}}});var W6=x((fve,q6)=>{var bc=1e3,Sc=bc*60,wc=Sc*60,Ia=wc*24,hZ=Ia*7,pZ=Ia*365.25;q6.exports=function(r,t){t=t||{};var i=typeof r;if(i==="string"&&r.length>0)return gZ(r);if(i==="number"&&isFinite(r))return t.long?yZ(r):mZ(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function gZ(r){if(r=String(r),!(r.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(t){var i=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return i*pZ;case"weeks":case"week":case"w":return i*hZ;case"days":case"day":case"d":return i*Ia;case"hours":case"hour":case"hrs":case"hr":case"h":return i*wc;case"minutes":case"minute":case"mins":case"min":case"m":return i*Sc;case"seconds":case"second":case"secs":case"sec":case"s":return i*bc;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function mZ(r){var t=Math.abs(r);return t>=Ia?Math.round(r/Ia)+"d":t>=wc?Math.round(r/wc)+"h":t>=Sc?Math.round(r/Sc)+"m":t>=bc?Math.round(r/bc)+"s":r+"ms"}function yZ(r){var t=Math.abs(r);return t>=Ia?$g(r,t,Ia,"day"):t>=wc?$g(r,t,wc,"hour"):t>=Sc?$g(r,t,Sc,"minute"):t>=bc?$g(r,t,bc,"second"):r+" ms"}function $g(r,t,i,n){var s=t>=i*1.5;return Math.round(r/i)+" "+n+(s?"s":"")}});var a_=x((hve,z6)=>{function vZ(r){i.debug=i,i.default=i,i.coerce=p,i.disable=o,i.enable=s,i.enabled=l,i.humanize=W6(),i.destroy=g,Object.keys(r).forEach(m=>{i[m]=r[m]}),i.names=[],i.skips=[],i.formatters={};function t(m){let y=0;for(let S=0;S<m.length;S++)y=(y<<5)-y+m.charCodeAt(S),y|=0;return i.colors[Math.abs(y)%i.colors.length]}i.selectColor=t;function i(m){let y,S=null,w,C;function _(...R){if(!_.enabled)return;let D=_,I=Number(new Date),M=I-(y||I);D.diff=M,D.prev=y,D.curr=I,y=I,R[0]=i.coerce(R[0]),typeof R[0]!="string"&&R.unshift("%O");let L=0;R[0]=R[0].replace(/%([a-zA-Z%])/g,(K,Q)=>{if(K==="%%")return"%";L++;let le=i.formatters[Q];if(typeof le=="function"){let ge=R[L];K=le.call(D,ge),R.splice(L,1),L--}return K}),i.formatArgs.call(D,R),(D.log||i.log).apply(D,R)}return _.namespace=m,_.useColors=i.useColors(),_.color=i.selectColor(m),_.extend=n,_.destroy=i.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>S!==null?S:(w!==i.namespaces&&(w=i.namespaces,C=i.enabled(m)),C),set:R=>{S=R}}),typeof i.init=="function"&&i.init(_),_}function n(m,y){let S=i(this.namespace+(typeof y>"u"?":":y)+m);return S.log=this.log,S}function s(m){i.save(m),i.namespaces=m,i.names=[],i.skips=[];let y,S=(typeof m=="string"?m:"").split(/[\s,]+/),w=S.length;for(y=0;y<w;y++)S[y]&&(m=S[y].replace(/\*/g,".*?"),m[0]==="-"?i.skips.push(new RegExp("^"+m.slice(1)+"$")):i.names.push(new RegExp("^"+m+"$")))}function o(){let m=[...i.names.map(h),...i.skips.map(h).map(y=>"-"+y)].join(",");return i.enable(""),m}function l(m){if(m[m.length-1]==="*")return!0;let y,S;for(y=0,S=i.skips.length;y<S;y++)if(i.skips[y].test(m))return!1;for(y=0,S=i.names.length;y<S;y++)if(i.names[y].test(m))return!0;return!1}function h(m){return m.toString().substring(2,m.toString().length-2).replace(/\.\*\?$/,"*")}function p(m){return m instanceof Error?m.stack||m.message:m}function g(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return i.enable(i.load()),i}z6.exports=vZ});var H6=x((Ii,Gg)=>{Ii.formatArgs=SZ;Ii.save=wZ;Ii.load=_Z;Ii.useColors=bZ;Ii.storage=EZ();Ii.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Ii.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function bZ(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function SZ(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+Gg.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;r.splice(1,0,t,"color: inherit");let i=0,n=0;r[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(i++,s==="%c"&&(n=i))}),r.splice(n,0,t)}Ii.log=console.debug||console.log||(()=>{});function wZ(r){try{r?Ii.storage.setItem("debug",r):Ii.storage.removeItem("debug")}catch{}}function _Z(){let r;try{r=Ii.storage.getItem("debug")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=process.env.DEBUG),r}function EZ(){try{return localStorage}catch{}}Gg.exports=a_()(Ii);var{formatters:TZ}=Gg.exports;TZ.j=function(r){try{return JSON.stringify(r)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var $6=x((pve,V6)=>{"use strict";V6.exports=(r,t)=>{t=t||process.argv;let i=r.startsWith("-")?"":r.length===1?"-":"--",n=t.indexOf(i+r),s=t.indexOf("--");return n!==-1&&(s===-1?!0:n<s)}});var Y6=x((gve,G6)=>{"use strict";var CZ=require("os"),Tn=$6(),Gr=process.env,_c;Tn("no-color")||Tn("no-colors")||Tn("color=false")?_c=!1:(Tn("color")||Tn("colors")||Tn("color=true")||Tn("color=always"))&&(_c=!0);"FORCE_COLOR"in Gr&&(_c=Gr.FORCE_COLOR.length===0||parseInt(Gr.FORCE_COLOR,10)!==0);function kZ(r){return r===0?!1:{level:r,hasBasic:!0,has256:r>=2,has16m:r>=3}}function RZ(r){if(_c===!1)return 0;if(Tn("color=16m")||Tn("color=full")||Tn("color=truecolor"))return 3;if(Tn("color=256"))return 2;if(r&&!r.isTTY&&_c!==!0)return 0;let t=_c?1:0;if(process.platform==="win32"){let i=CZ.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(i[0])>=10&&Number(i[2])>=10586?Number(i[2])>=14931?3:2:1}if("CI"in Gr)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(i=>i in Gr)||Gr.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in Gr)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Gr.TEAMCITY_VERSION)?1:0;if(Gr.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Gr){let i=parseInt((Gr.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Gr.TERM_PROGRAM){case"iTerm.app":return i>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Gr.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Gr.TERM)||"COLORTERM"in Gr?1:(Gr.TERM==="dumb",t)}function l_(r){let t=RZ(r);return kZ(t)}G6.exports={supportsColor:l_,stdout:l_(process.stdout),stderr:l_(process.stderr)}});var X6=x((Ir,Kg)=>{var xZ=require("tty"),Yg=require("util");Ir.init=LZ;Ir.log=DZ;Ir.formatArgs=OZ;Ir.save=PZ;Ir.load=IZ;Ir.useColors=AZ;Ir.destroy=Yg.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Ir.colors=[6,2,3,4,5,1];try{let r=Y6();r&&(r.stderr||r).level>=2&&(Ir.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Ir.inspectOpts=Object.keys(process.env).filter(r=>/^debug_/i.test(r)).reduce((r,t)=>{let i=t.substring(6).toLowerCase().replace(/_([a-z])/g,(s,o)=>o.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),r[i]=n,r},{});function AZ(){return"colors"in Ir.inspectOpts?!!Ir.inspectOpts.colors:xZ.isatty(process.stderr.fd)}function OZ(r){let{namespace:t,useColors:i}=this;if(i){let n=this.color,s="\x1B[3"+(n<8?n:"8;5;"+n),o=`  ${s};1m${t} \x1B[0m`;r[0]=o+r[0].split(`
`).join(`
`+o),r.push(s+"m+"+Kg.exports.humanize(this.diff)+"\x1B[0m")}else r[0]=NZ()+t+" "+r[0]}function NZ(){return Ir.inspectOpts.hideDate?"":new Date().toISOString()+" "}function DZ(...r){return process.stderr.write(Yg.format(...r)+`
`)}function PZ(r){r?process.env.DEBUG=r:delete process.env.DEBUG}function IZ(){return process.env.DEBUG}function LZ(r){r.inspectOpts={};let t=Object.keys(Ir.inspectOpts);for(let i=0;i<t.length;i++)r.inspectOpts[t[i]]=Ir.inspectOpts[t[i]]}Kg.exports=a_()(Ir);var{formatters:K6}=Kg.exports;K6.o=function(r){return this.inspectOpts.colors=this.useColors,Yg.inspect(r,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};K6.O=function(r){return this.inspectOpts.colors=this.useColors,Yg.inspect(r,this.inspectOpts)}});var Xg=x((mve,c_)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?c_.exports=H6():c_.exports=X6()});var J6=x((u_,d_)=>{(function(r,t){typeof u_=="object"&&typeof d_<"u"?d_.exports=t():typeof define=="function"&&define.amd?define(t):(r=r||self,r.Mustache=t())})(u_,function(){"use strict";var r=Object.prototype.toString,t=Array.isArray||function(N){return r.call(N)==="[object Array]"};function i(j){return typeof j=="function"}function n(j){return t(j)?"array":typeof j}function s(j){return j.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(j,N){return j!=null&&typeof j=="object"&&N in j}function l(j,N){return j!=null&&typeof j!="object"&&j.hasOwnProperty&&j.hasOwnProperty(N)}var h=RegExp.prototype.test;function p(j,N){return h.call(j,N)}var g=/\S/;function m(j){return!p(g,j)}var y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function S(j){return String(j).replace(/[&<>"'`=\/]/g,function(X){return y[X]})}var w=/\s*/,C=/\s+/,_=/\s*=/,R=/\s*\}/,D=/#|\^|\/|>|\{|&|=|!/;function I(j,N){if(!j)return[];var X=!1,U=[],k=[],W=[],J=!1,se=!1,ue="",fe=0;function ye(){if(J&&!se)for(;W.length;)delete k[W.pop()];else W=[];J=!1,se=!1}var $e,Ge,Qe;function Je(pe){if(typeof pe=="string"&&(pe=pe.split(C,2)),!t(pe)||pe.length!==2)throw new Error("Invalid tags: "+pe);$e=new RegExp(s(pe[0])+"\\s*"),Ge=new RegExp("\\s*"+s(pe[1])),Qe=new RegExp("\\s*"+s("}"+pe[1]))}Je(N||le.tags);for(var ce=new V(j),ve,Xe,Ie,de,te,oe;!ce.eos();){if(ve=ce.pos,Ie=ce.scanUntil($e),Ie)for(var xe=0,Ne=Ie.length;xe<Ne;++xe)de=Ie.charAt(xe),m(de)?(W.push(k.length),ue+=de):(se=!0,X=!0,ue+=" "),k.push(["text",de,ve,ve+1]),ve+=1,de===`
`&&(ye(),ue="",fe=0,X=!1);if(!ce.scan($e))break;if(J=!0,Xe=ce.scan(D)||"name",ce.scan(w),Xe==="="?(Ie=ce.scanUntil(_),ce.scan(_),ce.scanUntil(Ge)):Xe==="{"?(Ie=ce.scanUntil(Qe),ce.scan(R),ce.scanUntil(Ge),Xe="&"):Ie=ce.scanUntil(Ge),!ce.scan(Ge))throw new Error("Unclosed tag at "+ce.pos);if(Xe==">"?te=[Xe,Ie,ve,ce.pos,ue,fe,X]:te=[Xe,Ie,ve,ce.pos],fe++,k.push(te),Xe==="#"||Xe==="^")U.push(te);else if(Xe==="/"){if(oe=U.pop(),!oe)throw new Error('Unopened section "'+Ie+'" at '+ve);if(oe[1]!==Ie)throw new Error('Unclosed section "'+oe[1]+'" at '+ve)}else Xe==="name"||Xe==="{"||Xe==="&"?se=!0:Xe==="="&&Je(Ie)}if(ye(),oe=U.pop(),oe)throw new Error('Unclosed section "'+oe[1]+'" at '+ce.pos);return L(M(k))}function M(j){for(var N=[],X,U,k=0,W=j.length;k<W;++k)X=j[k],X&&(X[0]==="text"&&U&&U[0]==="text"?(U[1]+=X[1],U[3]=X[3]):(N.push(X),U=X));return N}function L(j){for(var N=[],X=N,U=[],k,W,J=0,se=j.length;J<se;++J)switch(k=j[J],k[0]){case"#":case"^":X.push(k),U.push(k),X=k[4]=[];break;case"/":W=U.pop(),W[5]=k[2],X=U.length>0?U[U.length-1][4]:N;break;default:X.push(k)}return N}function V(j){this.string=j,this.tail=j,this.pos=0}V.prototype.eos=function(){return this.tail===""},V.prototype.scan=function(N){var X=this.tail.match(N);if(!X||X.index!==0)return"";var U=X[0];return this.tail=this.tail.substring(U.length),this.pos+=U.length,U},V.prototype.scanUntil=function(N){var X=this.tail.search(N),U;switch(X){case-1:U=this.tail,this.tail="";break;case 0:U="";break;default:U=this.tail.substring(0,X),this.tail=this.tail.substring(X)}return this.pos+=U.length,U};function K(j,N){this.view=j,this.cache={".":this.view},this.parent=N}K.prototype.push=function(N){return new K(N,this)},K.prototype.lookup=function(N){var X=this.cache,U;if(X.hasOwnProperty(N))U=X[N];else{for(var k=this,W,J,se,ue=!1;k;){if(N.indexOf(".")>0)for(W=k.view,J=N.split("."),se=0;W!=null&&se<J.length;)se===J.length-1&&(ue=o(W,J[se])||l(W,J[se])),W=W[J[se++]];else W=k.view[N],ue=o(k.view,N);if(ue){U=W;break}k=k.parent}X[N]=U}return i(U)&&(U=U.call(this.view)),U};function Q(){this.templateCache={_cache:{},set:function(N,X){this._cache[N]=X},get:function(N){return this._cache[N]},clear:function(){this._cache={}}}}Q.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()},Q.prototype.parse=function(N,X){var U=this.templateCache,k=N+":"+(X||le.tags).join(":"),W=typeof U<"u",J=W?U.get(k):void 0;return J==null&&(J=I(N,X),W&&U.set(k,J)),J},Q.prototype.render=function(N,X,U,k){var W=this.getConfigTags(k),J=this.parse(N,W),se=X instanceof K?X:new K(X,void 0);return this.renderTokens(J,se,U,N,k)},Q.prototype.renderTokens=function(N,X,U,k,W){for(var J="",se,ue,fe,ye=0,$e=N.length;ye<$e;++ye)fe=void 0,se=N[ye],ue=se[0],ue==="#"?fe=this.renderSection(se,X,U,k,W):ue==="^"?fe=this.renderInverted(se,X,U,k,W):ue===">"?fe=this.renderPartial(se,X,U,W):ue==="&"?fe=this.unescapedValue(se,X):ue==="name"?fe=this.escapedValue(se,X,W):ue==="text"&&(fe=this.rawValue(se)),fe!==void 0&&(J+=fe);return J},Q.prototype.renderSection=function(N,X,U,k,W){var J=this,se="",ue=X.lookup(N[1]);function fe(Ge){return J.render(Ge,X,U,W)}if(ue){if(t(ue))for(var ye=0,$e=ue.length;ye<$e;++ye)se+=this.renderTokens(N[4],X.push(ue[ye]),U,k,W);else if(typeof ue=="object"||typeof ue=="string"||typeof ue=="number")se+=this.renderTokens(N[4],X.push(ue),U,k,W);else if(i(ue)){if(typeof k!="string")throw new Error("Cannot use higher-order sections without the original template");ue=ue.call(X.view,k.slice(N[3],N[5]),fe),ue!=null&&(se+=ue)}else se+=this.renderTokens(N[4],X,U,k,W);return se}},Q.prototype.renderInverted=function(N,X,U,k,W){var J=X.lookup(N[1]);if(!J||t(J)&&J.length===0)return this.renderTokens(N[4],X,U,k,W)},Q.prototype.indentPartial=function(N,X,U){for(var k=X.replace(/[^ \t]/g,""),W=N.split(`
`),J=0;J<W.length;J++)W[J].length&&(J>0||!U)&&(W[J]=k+W[J]);return W.join(`
`)},Q.prototype.renderPartial=function(N,X,U,k){if(U){var W=this.getConfigTags(k),J=i(U)?U(N[1]):U[N[1]];if(J!=null){var se=N[6],ue=N[5],fe=N[4],ye=J;ue==0&&fe&&(ye=this.indentPartial(J,fe,se));var $e=this.parse(ye,W);return this.renderTokens($e,X,U,ye,k)}}},Q.prototype.unescapedValue=function(N,X){var U=X.lookup(N[1]);if(U!=null)return U},Q.prototype.escapedValue=function(N,X,U){var k=this.getConfigEscape(U)||le.escape,W=X.lookup(N[1]);if(W!=null)return typeof W=="number"&&k===le.escape?String(W):k(W)},Q.prototype.rawValue=function(N){return N[1]},Q.prototype.getConfigTags=function(N){return t(N)?N:N&&typeof N=="object"?N.tags:void 0},Q.prototype.getConfigEscape=function(N){if(N&&typeof N=="object"&&!t(N))return N.escape};var le={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(j){ge.templateCache=j},get templateCache(){return ge.templateCache}},ge=new Q;return le.clearCache=function(){return ge.clearCache()},le.parse=function(N,X){return ge.parse(N,X)},le.render=function(N,X,U,k){if(typeof N!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+n(N)+'" was given as the first argument for mustache#render(template, view, partials)');return ge.render(N,X,U,k)},le.escape=S,le.Scanner=V,le.Context=K,le.Writer=Q,le})});var Q6=x((Z6,Jg)=>{(function(r,t){typeof define=="function"&&define.amd?define([],t):typeof Jg=="object"&&Jg.exports?Jg.exports=t():r.moo=t()})(Z6,function(){"use strict";var r=Object.prototype.hasOwnProperty,t=Object.prototype.toString,i=typeof new RegExp().sticky=="boolean";function n(j){return j&&t.call(j)==="[object RegExp]"}function s(j){return j&&typeof j=="object"&&!n(j)&&!Array.isArray(j)}function o(j){return j.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function l(j){var N=new RegExp("|"+j);return N.exec("").length-1}function h(j){return"("+j+")"}function p(j){if(!j.length)return"(?!)";var N=j.map(function(X){return"(?:"+X+")"}).join("|");return"(?:"+N+")"}function g(j){if(typeof j=="string")return"(?:"+o(j)+")";if(n(j)){if(j.ignoreCase)throw new Error("RegExp /i flag not allowed");if(j.global)throw new Error("RegExp /g flag is implied");if(j.sticky)throw new Error("RegExp /y flag is implied");if(j.multiline)throw new Error("RegExp /m flag is implied");return j.source}else throw new Error("Not a pattern: "+j)}function m(j,N){return j.length>N?j:Array(N-j.length+1).join(" ")+j}function y(j,N){for(var X=j.length,U=0;;){var k=j.lastIndexOf(`
`,X-1);if(k===-1||(U++,X=k,U===N)||X===0)break}var W=U<N?0:X+1;return j.substring(W).split(`
`)}function S(j){for(var N=Object.getOwnPropertyNames(j),X=[],U=0;U<N.length;U++){var k=N[U],W=j[k],J=[].concat(W);if(k==="include"){for(var se=0;se<J.length;se++)X.push({include:J[se]});continue}var ue=[];J.forEach(function(fe){s(fe)?(ue.length&&X.push(C(k,ue)),X.push(C(k,fe)),ue=[]):ue.push(fe)}),ue.length&&X.push(C(k,ue))}return X}function w(j){for(var N=[],X=0;X<j.length;X++){var U=j[X];if(U.include){for(var k=[].concat(U.include),W=0;W<k.length;W++)N.push({include:k[W]});continue}if(!U.type)throw new Error("Rule has no type: "+JSON.stringify(U));N.push(C(U.type,U))}return N}function C(j,N){if(s(N)||(N={match:N}),N.include)throw new Error("Matching rules cannot also include states");var X={defaultType:j,lineBreaks:!!N.error||!!N.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var U in N)r.call(N,U)&&(X[U]=N[U]);if(typeof X.type=="string"&&j!==X.type)throw new Error("Type transform cannot be a string (type '"+X.type+"' for token '"+j+"')");var k=X.match;return X.match=Array.isArray(k)?k:k?[k]:[],X.match.sort(function(W,J){return n(W)&&n(J)?0:n(J)?-1:n(W)?1:J.length-W.length}),X}function _(j){return Array.isArray(j)?w(j):S(j)}var R=C("error",{lineBreaks:!0,shouldThrow:!0});function D(j,N){for(var X=null,U=Object.create(null),k=!0,W=null,J=[],se=[],ue=0;ue<j.length;ue++)j[ue].fallback&&(k=!1);for(var ue=0;ue<j.length;ue++){var fe=j[ue];if(fe.include)throw new Error("Inheritance is not allowed in stateless lexers");if(fe.error||fe.fallback){if(X)throw!fe.fallback==!X.fallback?new Error("Multiple "+(fe.fallback?"fallback":"error")+" rules not allowed (for token '"+fe.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+fe.defaultType+"')");X=fe}var ye=fe.match.slice();if(k)for(;ye.length&&typeof ye[0]=="string"&&ye[0].length===1;){var $e=ye.shift();U[$e.charCodeAt(0)]=fe}if(fe.pop||fe.push||fe.next){if(!N)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+fe.defaultType+"')");if(fe.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+fe.defaultType+"')")}if(ye.length!==0){k=!1,J.push(fe);for(var Ge=0;Ge<ye.length;Ge++){var Qe=ye[Ge];if(n(Qe)){if(W===null)W=Qe.unicode;else if(W!==Qe.unicode&&fe.fallback===!1)throw new Error("If one rule is /u then all must be")}}var Je=p(ye.map(g)),ce=new RegExp(Je);if(ce.test(""))throw new Error("RegExp matches empty string: "+ce);var ve=l(Je);if(ve>0)throw new Error("RegExp has capture groups: "+ce+`
Use (?: \u2026 ) instead`);if(!fe.lineBreaks&&ce.test(`
`))throw new Error("Rule should declare lineBreaks: "+ce);se.push(h(Je))}}var Xe=X&&X.fallback,Ie=i&&!Xe?"ym":"gm",de=i||Xe?"":"|";W===!0&&(Ie+="u");var te=new RegExp(p(se)+de,Ie);return{regexp:te,groups:J,fast:U,error:X||R}}function I(j){var N=D(_(j));return new K({start:N},"start")}function M(j,N,X){var U=j&&(j.push||j.next);if(U&&!X[U])throw new Error("Missing state '"+U+"' (in token '"+j.defaultType+"' of state '"+N+"')");if(j&&j.pop&&+j.pop!=1)throw new Error("pop must be 1 (in token '"+j.defaultType+"' of state '"+N+"')")}function L(j,N){var X=j.$all?_(j.$all):[];delete j.$all;var U=Object.getOwnPropertyNames(j);N||(N=U[0]);for(var k=Object.create(null),W=0;W<U.length;W++){var J=U[W];k[J]=_(j[J]).concat(X)}for(var W=0;W<U.length;W++)for(var J=U[W],se=k[J],ue=Object.create(null),fe=0;fe<se.length;fe++){var ye=se[fe];if(ye.include){var $e=[fe,1];if(ye.include!==J&&!ue[ye.include]){ue[ye.include]=!0;var Ge=k[ye.include];if(!Ge)throw new Error("Cannot include nonexistent state '"+ye.include+"' (in state '"+J+"')");for(var Qe=0;Qe<Ge.length;Qe++){var Je=Ge[Qe];se.indexOf(Je)===-1&&$e.push(Je)}}se.splice.apply(se,$e),fe--}}for(var ce=Object.create(null),W=0;W<U.length;W++){var J=U[W];ce[J]=D(k[J],!0)}for(var W=0;W<U.length;W++){for(var ve=U[W],Xe=ce[ve],Ie=Xe.groups,fe=0;fe<Ie.length;fe++)M(Ie[fe],ve,ce);for(var de=Object.getOwnPropertyNames(Xe.fast),fe=0;fe<de.length;fe++)M(Xe.fast[de[fe]],ve,ce)}return new K(ce,N)}function V(j){for(var N=typeof Map<"u",X=N?new Map:Object.create(null),U=Object.getOwnPropertyNames(j),k=0;k<U.length;k++){var W=U[k],J=j[W],se=Array.isArray(J)?J:[J];se.forEach(function(ue){if(typeof ue!="string")throw new Error("keyword must be string (in keyword '"+W+"')");N?X.set(ue,W):X[ue]=W})}return function(ue){return N?X.get(ue):X[ue]}}var K=function(j,N){this.startState=N,this.states=j,this.buffer="",this.stack=[],this.reset()};K.prototype.reset=function(j,N){return this.buffer=j||"",this.index=0,this.line=N?N.line:1,this.col=N?N.col:1,this.queuedToken=N?N.queuedToken:null,this.queuedText=N?N.queuedText:"",this.queuedThrow=N?N.queuedThrow:null,this.setState(N?N.state:this.startState),this.stack=N&&N.stack?N.stack.slice():[],this},K.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},K.prototype.setState=function(j){if(!(!j||this.state===j)){this.state=j;var N=this.states[j];this.groups=N.groups,this.error=N.error,this.re=N.regexp,this.fast=N.fast}},K.prototype.popState=function(){this.setState(this.stack.pop())},K.prototype.pushState=function(j){this.stack.push(this.state),this.setState(j)};var Q=i?function(j,N){return j.exec(N)}:function(j,N){var X=j.exec(N);return X[0].length===0?null:X};K.prototype._getGroup=function(j){for(var N=this.groups.length,X=0;X<N;X++)if(j[X+1]!==void 0)return this.groups[X];throw new Error("Cannot find token type for matched text")};function le(){return this.value}if(K.prototype.next=function(){var j=this.index;if(this.queuedGroup){var N=this._token(this.queuedGroup,this.queuedText,j);return this.queuedGroup=null,this.queuedText="",N}var X=this.buffer;if(j!==X.length){var J=this.fast[X.charCodeAt(j)];if(J)return this._token(J,X.charAt(j),j);var U=this.re;U.lastIndex=j;var k=Q(U,X),W=this.error;if(k==null)return this._token(W,X.slice(j,X.length),j);var J=this._getGroup(k),se=k[0];return W.fallback&&k.index!==j?(this.queuedGroup=J,this.queuedText=se,this._token(W,X.slice(j,k.index),j)):this._token(J,se,j)}},K.prototype._token=function(j,N,X){var U=0;if(j.lineBreaks){var k=/\n/g,W=1;if(N===`
`)U=1;else for(;k.exec(N);)U++,W=k.lastIndex}var J={type:typeof j.type=="function"&&j.type(N)||j.defaultType,value:typeof j.value=="function"?j.value(N):N,text:N,toString:le,offset:X,lineBreaks:U,line:this.line,col:this.col},se=N.length;if(this.index+=se,this.line+=U,U!==0?this.col=se-W+1:this.col+=se,j.shouldThrow){var ue=new Error(this.formatError(J,"invalid syntax"));throw ue}return j.pop?this.popState():j.push?this.pushState(j.push):j.next&&this.setState(j.next),J},typeof Symbol<"u"&&Symbol.iterator){var ge=function(j){this.lexer=j};ge.prototype.next=function(){var j=this.lexer.next();return{value:j,done:!j}},ge.prototype[Symbol.iterator]=function(){return this},K.prototype[Symbol.iterator]=function(){return new ge(this)}}return K.prototype.formatError=function(j,N){if(j==null)var X=this.buffer.slice(this.index),j={text:X,offset:this.index,lineBreaks:X.indexOf(`
`)===-1?0:1,line:this.line,col:this.col};var U=2,k=Math.max(j.line-U,1),W=j.line+U,J=String(W).length,se=y(this.buffer,this.line-j.line+U+1).slice(0,5),ue=[];ue.push(N+" at line "+j.line+" col "+j.col+":"),ue.push("");for(var fe=0;fe<se.length;fe++){var ye=se[fe],$e=k+fe;ue.push(m(String($e),J)+"  "+ye),$e===j.line&&ue.push(m("",J+j.col+1)+"^")}return ue.join(`
`)},K.prototype.clone=function(){return new K(this.states,this.state)},K.prototype.has=function(j){return!0},{compile:I,states:L,error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:V}})});var e4=x(Ns=>{"use strict";var MZ=Ns&&Ns.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ns,"__esModule",{value:!0});Ns.lexer=Ns.states=void 0;var FZ=MZ(Q6());Ns.states={body:{doubleapos:{match:"''",value:()=>"'"},quoted:{lineBreaks:!0,match:/'[{}#](?:[^]*?[^'])?'(?!')/u,value:r=>r.slice(1,-1).replace(/''/g,"'")},argument:{lineBreaks:!0,match:/\{\s*[^\p{Pat_Syn}\p{Pat_WS}]+\s*/u,push:"arg",value:r=>r.substring(1).trim()},octothorpe:"#",end:{match:"}",pop:1},content:{lineBreaks:!0,match:/[^][^{}#']*/u}},arg:{select:{lineBreaks:!0,match:/,\s*(?:plural|select|selectordinal)\s*,\s*/u,next:"select",value:r=>r.split(",")[1].trim()},"func-args":{lineBreaks:!0,match:/,\s*[^\p{Pat_Syn}\p{Pat_WS}]+\s*,/u,next:"body",value:r=>r.split(",")[1].trim()},"func-simple":{lineBreaks:!0,match:/,\s*[^\p{Pat_Syn}\p{Pat_WS}]+\s*/u,value:r=>r.substring(1).trim()},end:{match:"}",pop:1}},select:{offset:{lineBreaks:!0,match:/\s*offset\s*:\s*\d+\s*/u,value:r=>r.split(":")[1].trim()},case:{lineBreaks:!0,match:/\s*(?:=\d+|[^\p{Pat_Syn}\p{Pat_WS}]+)\s*\{/u,push:"body",value:r=>r.substring(0,r.indexOf("{")).trim()},end:{match:/\s*\}/u,pop:1}}};Ns.lexer=FZ.default.states(Ns.states)});var i4=x(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.parse=Ec.ParseError=void 0;var r4=e4(),Zg=r=>({offset:r.offset,line:r.line,col:r.col,text:r.text,lineBreaks:r.lineBreaks}),f_=r=>r==="plural"||r==="select"||r==="selectordinal";function jZ(r,t){let i="",n="";for(let o of t){let l=o.ctx.text;switch(n+=l,o.type){case"content":i+=o.value;break;case"argument":case"function":case"octothorpe":i+=l;break;default:throw new fr(r,`Unsupported part in strict mode function arg style: ${l}`)}}return[{type:"content",value:i.trim(),ctx:Object.assign({},t[0].ctx,{text:n})}]}var BZ=["number","date","time","spellout","ordinal","duration"],t4=["zero","one","two","few","many","other"],fr=class extends Error{constructor(t,i){super(r4.lexer.formatError(t,i))}};Ec.ParseError=fr;var h_=class{constructor(t,i){var n,s,o,l;this.lexer=r4.lexer.reset(t),this.cardinalKeys=(n=i?.cardinal)!==null&&n!==void 0?n:t4,this.ordinalKeys=(s=i?.ordinal)!==null&&s!==void 0?s:t4,this.strict=(o=i?.strict)!==null&&o!==void 0?o:!1,this.strictPluralKeys=(l=i?.strictPluralKeys)!==null&&l!==void 0?l:!0}parse(){return this.parseBody(!1,!0)}checkSelectKey(t,i,n){if(n[0]==="="){if(i==="select")throw new fr(t,`The case ${n} is not valid with select`)}else if(i!=="select"){let s=i==="plural"?this.cardinalKeys:this.ordinalKeys;if(this.strictPluralKeys&&s.length>0&&!s.includes(n)){let o=`The ${i} case ${n} is not valid in this locale`;throw new fr(t,o)}}}parseSelect({value:t},i,n,s){let o={type:s,arg:t,cases:[],ctx:n};s==="plural"||s==="selectordinal"?i=!0:this.strict&&(i=!1);for(let l of this.lexer)switch(l.type){case"offset":if(s==="select")throw new fr(l,"Unexpected plural offset for select");if(o.cases.length>0)throw new fr(l,"Plural offset must be set before cases");o.pluralOffset=Number(l.value),n.text+=l.text,n.lineBreaks+=l.lineBreaks;break;case"case":{this.checkSelectKey(l,s,l.value),o.cases.push({key:l.value,tokens:this.parseBody(i),ctx:Zg(l)});break}case"end":return o;default:throw new fr(l,`Unexpected lexer token: ${l.type}`)}throw new fr(null,"Unexpected message end")}parseArgToken(t,i){let n=Zg(t),s=this.lexer.next();if(!s)throw new fr(null,"Unexpected message end");if(n.text+=s.text,n.lineBreaks+=s.lineBreaks,this.strict&&(s.type==="func-simple"||s.type==="func-args")&&!BZ.includes(s.value)){let o=`Invalid strict mode function arg type: ${s.value}`;throw new fr(t,o)}switch(s.type){case"end":return{type:"argument",arg:t.value,ctx:n};case"func-simple":{let o=this.lexer.next();if(!o)throw new fr(null,"Unexpected message end");if(o.type!=="end")throw new fr(o,`Unexpected lexer token: ${o.type}`);if(n.text+=o.text,f_(s.value.toLowerCase()))throw new fr(s,`Invalid type identifier: ${s.value}`);return{type:"function",arg:t.value,key:s.value,ctx:n}}case"func-args":{if(f_(s.value.toLowerCase())){let l=`Invalid type identifier: ${s.value}`;throw new fr(s,l)}let o=this.parseBody(this.strict?!1:i);return this.strict&&o.length>0&&(o=jZ(t,o)),{type:"function",arg:t.value,key:s.value,param:o,ctx:n}}case"select":if(f_(s.value))return this.parseSelect(t,i,n,s.value);throw new fr(s,`Unexpected select type ${s.value}`);default:throw new fr(s,`Unexpected lexer token: ${s.type}`)}}parseBody(t,i){let n=[],s=null;for(let o of this.lexer)if(o.type==="argument")s&&(s=null),n.push(this.parseArgToken(o,t));else if(o.type==="octothorpe"&&t)s&&(s=null),n.push({type:"octothorpe",ctx:Zg(o)});else{if(o.type==="end"&&!i)return n;{let l=o.value;if(!t&&o.type==="quoted"&&l[0]==="#"){if(l.includes("{")){let h=`Unsupported escape pattern: ${l}`;throw new fr(o,h)}l=o.text}s?(s.value+=l,s.ctx.text+=o.text,s.ctx.lineBreaks+=o.lineBreaks):(s={type:"content",value:l,ctx:Zg(o)},n.push(s))}}if(i)return n;throw new fr(null,"Unexpected message end")}};function UZ(r,t={}){return new h_(r,t).parse()}Ec.parse=UZ});var n4=x(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});yi.reqArgs=yi.select=yi.plural=yi.strictNumber=yi.number=yi._nf=void 0;function Fd(r){return Fd[r]||(Fd[r]=new Intl.NumberFormat(r))}yi._nf=Fd;function qZ(r,t,i){return Fd(r).format(t-i)}yi.number=qZ;function WZ(r,t,i,n){var s=t-i;if(isNaN(s))throw new Error("`"+n+"` or its offset is not a number");return Fd(r).format(s)}yi.strictNumber=WZ;function zZ(r,t,i,n,s){if({}.hasOwnProperty.call(n,r))return n[r];t&&(r-=t);var o=i(r,s);return o in n?n[o]:n.other}yi.plural=zZ;function HZ(r,t){return{}.hasOwnProperty.call(t,r)?t[r]:t.other}yi.select=HZ;function VZ(r,t){for(var i=0;i<r.length;++i)if(!t||t[r[i]]===void 0)throw new Error("Message requires argument '".concat(r[i],"'"))}yi.reqArgs=VZ});var s4=x(Qg=>{"use strict";Object.defineProperty(Qg,"__esModule",{value:!0});Qg.date=void 0;function $Z(r,t,i){var n={day:"numeric",month:"short",year:"numeric"};switch(i){case"full":n.weekday="long";case"long":n.month="long";break;case"short":n.month="numeric"}return new Date(r).toLocaleDateString(t,n)}Qg.date=$Z});var o4=x(em=>{"use strict";Object.defineProperty(em,"__esModule",{value:!0});em.duration=void 0;function GZ(r){if(typeof r!="number"&&(r=Number(r)),!isFinite(r))return String(r);var t="";r<0?(t="-",r=Math.abs(r)):r=Number(r);var i=r%60,n=[Math.round(i)===i?i:i.toFixed(3)];r<60?n.unshift(0):(r=Math.round((r-Number(n[0]))/60),n.unshift(r%60),r>=60&&(r=Math.round((r-Number(n[0]))/60),n.unshift(r)));var s=n.shift();return t+s+":"+n.map(function(o){return o<10?"0"+String(o):String(o)}).join(":")}em.duration=GZ});var a4=x(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.numberPercent=ns.numberInteger=ns.numberCurrency=ns.numberFmt=void 0;var p_={};function tm(r,t){var i=String(r)+JSON.stringify(t);return p_[i]||(p_[i]=new Intl.NumberFormat(r,t)),p_[i]}function YZ(r,t,i,n){var s=i&&i.split(":")||[],o=s[0],l=s[1],h={integer:{maximumFractionDigits:0},percent:{style:"percent"},currency:{style:"currency",currency:l&&l.trim()||n,minimumFractionDigits:2,maximumFractionDigits:2}};return tm(t,h[o]||{}).format(r)}ns.numberFmt=YZ;var KZ=function(r,t,i){return tm(t,{style:"currency",currency:i,minimumFractionDigits:2,maximumFractionDigits:2}).format(r)};ns.numberCurrency=KZ;var XZ=function(r,t){return tm(t,{maximumFractionDigits:0}).format(r)};ns.numberInteger=XZ;var JZ=function(r,t){return tm(t,{style:"percent"}).format(r)};ns.numberPercent=JZ});var l4=x(rm=>{"use strict";Object.defineProperty(rm,"__esModule",{value:!0});rm.time=void 0;function ZZ(r,t,i){var n={second:"numeric",minute:"numeric",hour:"numeric"};switch(i){case"full":case"long":n.timeZoneName="short";break;case"short":delete n.second}return new Date(r).toLocaleTimeString(t,n)}rm.time=ZZ});var c4=x(Yr=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});Yr.time=Yr.numberPercent=Yr.numberInteger=Yr.numberFmt=Yr.numberCurrency=Yr.duration=Yr.date=void 0;var QZ=s4();Object.defineProperty(Yr,"date",{enumerable:!0,get:function(){return QZ.date}});var eQ=o4();Object.defineProperty(Yr,"duration",{enumerable:!0,get:function(){return eQ.duration}});var im=a4();Object.defineProperty(Yr,"numberCurrency",{enumerable:!0,get:function(){return im.numberCurrency}});Object.defineProperty(Yr,"numberFmt",{enumerable:!0,get:function(){return im.numberFmt}});Object.defineProperty(Yr,"numberInteger",{enumerable:!0,get:function(){return im.numberInteger}});Object.defineProperty(Yr,"numberPercent",{enumerable:!0,get:function(){return im.numberPercent}});var tQ=l4();Object.defineProperty(Yr,"time",{enumerable:!0,get:function(){return tQ.time}})});var d4=x((Cve,u4)=>{var rQ={break:!0,continue:!0,delete:!0,else:!0,for:!0,function:!0,if:!0,in:!0,new:!0,return:!0,this:!0,typeof:!0,var:!0,void:!0,while:!0,with:!0,case:!0,catch:!0,default:!0,do:!0,finally:!0,instanceof:!0,switch:!0,throw:!0,try:!0},iQ={await:!0,debugger:!0,class:!0,enum:!0,extends:!0,super:!0,const:!0,export:!0,import:!0,null:!0,true:!0,false:!0,implements:!0,let:!0,private:!0,public:!0,yield:!0,interface:!0,package:!0,protected:!0,static:!0};u4.exports={ES3:rQ,ESnext:iQ}});var m_=x((kve,f4)=>{var g_=d4();function nQ(r){let t=0;for(let i=0;i<r.length;++i){let n=r.charCodeAt(i);t=(t<<5)-t+n,t|=0}return t}function sQ(r,t){t&&(r+=" "+nQ(r).toString(36));let i=r.trim().replace(/\W+/g,"_");return g_.ES3[i]||g_.ESnext[i]||/^\d/.test(i)?"_"+i:i}function oQ(r,t){if(/^[A-Z_$][0-9A-Z_$]*$/i.test(t)&&!g_.ES3[t])return r?r+"."+t:t;{let i=JSON.stringify(t);return r?r+"["+i+"]":i}}f4.exports={identifier:sQ,property:oQ}});var L4=x((Rve,I4)=>{"use strict";var aQ=i4(),lQ=n4(),cQ=c4(),La=m_();function E4(r){var t=Object.create(null);return r&&Object.keys(r).forEach(function(i){if(i!=="default"){var n=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(t,i,n.get?n:{enumerable:!0,get:function(){return r[i]}})}}),t.default=r,Object.freeze(t)}var uQ=E4(lQ),v_=E4(cQ),Ds=class extends Error{constructor(t,i,n){super(t),this.token=i,this.type=n||"error"}},T4=r=>r<4?"short":r===4?"long":"narrow",jd=r=>r%2===0?"2-digit":"numeric";function dQ(r,t){switch(r.char){case"y":return{year:jd(r.width)};case"r":return{calendar:"gregory",year:"numeric"};case"u":case"U":case"Y":default:return t(`${r.desc} is not supported; falling back to year:numeric`,Ds.WARNING),{year:"numeric"}}}function fQ(r,t){switch(r.width){case 1:return"numeric";case 2:return"2-digit";case 3:return"short";case 4:return"long";case 5:return"narrow";default:t(`${r.desc} is not supported with width ${r.width}`);return}}function hQ(r,t){let{char:i,desc:n,width:s}=r;if(i==="d")return jd(s);t(`${n} is not supported`)}function pQ(r,t){let{char:i,desc:n,width:s}=r;if((i==="c"||i==="e")&&s<3){let o=`Numeric value is not supported for ${n}; falling back to weekday:short`;t(o,Ds.WARNING)}return T4(s)}function gQ(r){let t=jd(r.width),i;switch(r.char){case"h":i="h12";break;case"H":i="h23";break;case"k":i="h24";break;case"K":i="h11";break}return i?{hour:t,hourCycle:i}:{hour:t}}function mQ(r,t){let{char:i,desc:n,width:s}=r;switch(i){case"v":case"z":return s===4?"long":"short";case"V":if(s===4)return"long";t(`${n} is not supported with width ${s}`);return;case"X":t(`${n} is not supported`);return}return"short"}function yQ(r,t){switch(r.field){case"era":return{era:T4(r.width)};case"year":return dQ(r,t);case"month":return{month:fQ(r,t)};case"day":return{day:hQ(r,t)};case"weekday":return{weekday:pQ(r,t)};case"period":return;case"hour":return gQ(r);case"min":return{minute:jd(r.width)};case"sec":return{second:jd(r.width)};case"tz":return{timeZoneName:mQ(r,t)};case"quarter":case"week":case"sec-frac":case"ms":t(`${r.desc} is not supported`)}}function C4(r,t=i=>{throw i}){let i={},n=[];for(let s of r){let{error:o,field:l,str:h}=s;if(o){let g=new Ds(o.message,s);g.stack=o.stack,t(g)}if(h){let g=`Ignoring string part: ${h}`;t(new Ds(g,s,Ds.WARNING))}l&&(n.indexOf(l)===-1?n.push(l):t(new Ds(`Duplicate ${l} token`,s)));let p=yQ(s,(g,m)=>t(new Ds(g,s,m)));p&&Object.assign(i,p)}return i}var vQ={G:{field:"era",desc:"Era"},y:{field:"year",desc:"Year"},Y:{field:"year",desc:'Year of "Week of Year"'},u:{field:"year",desc:"Extended year"},U:{field:"year",desc:"Cyclic year name"},r:{field:"year",desc:"Related Gregorian year"},Q:{field:"quarter",desc:"Quarter"},q:{field:"quarter",desc:"Stand-alone quarter"},M:{field:"month",desc:"Month in year"},L:{field:"month",desc:"Stand-alone month in year"},w:{field:"week",desc:"Week of year"},W:{field:"week",desc:"Week of month"},d:{field:"day",desc:"Day in month"},D:{field:"day",desc:"Day of year"},F:{field:"day",desc:"Day of week in month"},g:{field:"day",desc:"Modified julian day"},E:{field:"weekday",desc:"Day of week"},e:{field:"weekday",desc:"Local day of week"},c:{field:"weekday",desc:"Stand-alone local day of week"},a:{field:"period",desc:"AM/PM marker"},b:{field:"period",desc:"AM/PM/noon/midnight marker"},B:{field:"period",desc:"Flexible day period"},h:{field:"hour",desc:"Hour in AM/PM (1~12)"},H:{field:"hour",desc:"Hour in day (0~23)"},k:{field:"hour",desc:"Hour in day (1~24)"},K:{field:"hour",desc:"Hour in AM/PM (0~11)"},j:{field:"hour",desc:"Hour in preferred cycle"},J:{field:"hour",desc:"Hour in preferred cycle without marker"},C:{field:"hour",desc:"Hour in preferred cycle with flexible marker"},m:{field:"min",desc:"Minute in hour"},s:{field:"sec",desc:"Second in minute"},S:{field:"sec-frac",desc:"Fractional second"},A:{field:"ms",desc:"Milliseconds in day"},z:{field:"tz",desc:"Time Zone: specific non-location"},Z:{field:"tz",desc:"Time Zone"},O:{field:"tz",desc:"Time Zone: localized"},v:{field:"tz",desc:"Time Zone: generic non-location"},V:{field:"tz",desc:"Time Zone: ID"},X:{field:"tz",desc:"Time Zone: ISO8601 with Z"},x:{field:"tz",desc:"Time Zone: ISO8601"}},h4=r=>r>="A"&&r<="Z"||r>="a"&&r<="z";function bQ(r,t){let i=r[t],n=1;for(;r[++t]===i;)++n;let s=vQ[i];if(!s){let o=`The letter ${i} is not a valid field identifier`;return{char:i,error:new Error(o),width:n}}return{char:i,field:s.field,desc:s.desc,width:n}}function SQ(r,t){let i=r[++t],n=2;if(i==="'")return{char:"'",str:i,width:n};for(;;){let s=r[++t];if(++n,s===void 0){let o=`Unterminated quoted literal in pattern: ${i||r}`;return{char:"'",error:new Error(o),str:i,width:n}}else if(s==="'"){if(r[++t]!=="'")return{char:"'",str:i,width:n};++n}i+=s}}function wQ(r,t){let i=r[t];if(!i)return null;if(h4(i))return bQ(r,t);if(i==="'")return SQ(r,t);let n=i,s=1;for(;;){let o=r[++t];if(!o||h4(o)||o==="'")return{char:i,str:n,width:s};n+=o,s+=1}}function k4(r){let t=[],i=0;for(;;){let n=wQ(r,i);if(!n)return t;t.push(n),i+=n.width}}function _Q(r,t,i){typeof t=="string"&&(t=k4(t));let n=C4(t,i),s=new Intl.DateTimeFormat(r,n);return o=>s.format(o)}function EQ(r,t,i){typeof t=="string"&&(t=k4(t));let n=C4(t,i);return["(function() {",`var opt = ${JSON.stringify(n)};`,`var dtf = new Intl.DateTimeFormat(${JSON.stringify(r)}, opt);`,"return function(value) { return dtf.format(value); }"].join(`
  `)+`
})()`}var Is=class extends Error{constructor(t,i){super(i),this.code=t}},Tc=class extends Is{constructor(t,i){super("BAD_OPTION",`Unknown ${t} option: ${i}`),this.stem=t,this.option=i}},b_=class extends Is{constructor(t){super("BAD_STEM",`Unknown stem: ${t}`),this.stem=t}},Bd=class extends Is{constructor(t,i){super("MASKED_VALUE",`Value for ${t} is set multiple times`),this.type=t,this.prev=i}},S_=class extends Is{constructor(t){super("MISSING_OPTION",`Required option missing for ${t}`),this.stem=t}},Ps=class extends Is{constructor(t,i){super("BAD_PATTERN",i),this.char=t}},nm=class extends Is{constructor(t,i,n){let s=n>1?`${n} options`:"one option";super("TOO_MANY_OPTIONS",`Token ${t} only supports ${s} (got ${i.length})`),this.stem=t,this.options=i}},w_=class extends Is{constructor(t,i){super("UNSUPPORTED",`The stem ${t} is not supported`),this.stem=t,i&&(this.message+=` with value ${i}`,this.source=i)}};function R4(r,{numberingSystem:t}){return Array.isArray(r)||(r=[r]),t?r.map(i=>{let n=i.indexOf("-u-")===-1?"u-nu":"nu";return`${i}-${n}-${t}`}).concat(r):r}function TQ(r,t){let i=+r+t/2;return i-i%+t}function x4({scale:r,unit:t}){let i=typeof r=="number"&&r>=0?r:1;return t&&t.style==="percent"&&(i*=.01),i}function CQ(r){let t=x4(r),{precision:i}=r;return i&&i.style==="precision-increment"?n=>TQ(n,i.increment)*t:n=>n*t}function kQ(r){let t=x4(r),{precision:i}=r;if(i&&i.style==="precision-increment"){let n=`+n + ${i.increment/2}`,s=`x - (x % +${i.increment})`;return t!==1&&(s=`(${s}) * ${t}`),`function(n) { var x = ${n}; return ${s}; }`}return t!==1?`function(n) { return n * ${t}; }`:null}function A4(r,t){let{decimal:i,group:n,integerWidth:s,notation:o,precision:l,roundingMode:h,sign:p,unit:g,unitPer:m,unitWidth:y}=r,S=(C,_)=>{t&&t(new w_(C,_))},w={};if(g)switch(g.style){case"base-unit":w.style="decimal";break;case"currency":w.style="currency",w.currency=g.currency;break;case"measure-unit":w.style="unit",w.unit=g.unit.replace(/.*-/,""),m&&(w.unit+="-per-"+m.replace(/.*-/,""));break;case"percent":w.style="percent";break;case"permille":S("permille");break}switch(y){case"unit-width-full-name":w.currencyDisplay="name",w.unitDisplay="long";break;case"unit-width-hidden":S(y);break;case"unit-width-iso-code":w.currencyDisplay="code";break;case"unit-width-narrow":w.currencyDisplay="narrowSymbol",w.unitDisplay="narrow";break;case"unit-width-short":w.currencyDisplay="symbol",w.unitDisplay="short";break}switch(n){case"group-off":w.useGrouping=!1;break;case"group-auto":w.useGrouping=!0;break;case"group-min2":case"group-on-aligned":case"group-thousands":S(n),w.useGrouping=!0;break}if(l)switch(l.style){case"precision-fraction":{let{minFraction:C,maxFraction:_,minSignificant:R,maxSignificant:D,source:I}=l;typeof C=="number"&&(w.minimumFractionDigits=C,typeof R=="number"&&S("precision-fraction",I)),typeof _=="number"&&(w.maximumFractionDigits=_),typeof R=="number"&&(w.minimumSignificantDigits=R),typeof D=="number"&&(w.maximumSignificantDigits=D);break}case"precision-integer":w.maximumFractionDigits=0;break;case"precision-unlimited":w.maximumFractionDigits=20;break;case"precision-increment":break;case"precision-currency-standard":w.trailingZeroDisplay=l.trailingZero;break;case"precision-currency-cash":S(l.style);break}if(o)switch(o.style){case"compact-short":w.notation="compact",w.compactDisplay="short";break;case"compact-long":w.notation="compact",w.compactDisplay="long";break;case"notation-simple":w.notation="standard";break;case"scientific":case"engineering":{let{expDigits:C,expSign:_,source:R,style:D}=o;w.notation=D,(C&&C>1||_&&_!=="sign-auto")&&S(D,R);break}}if(s){let{min:C,max:_,source:R}=s;if(C>0&&(w.minimumIntegerDigits=C),Number(_)>0){let D=w.notation==="engineering"||w.notation==="scientific";_===3&&D?w.notation="engineering":S("integer-width",R)}}switch(p){case"sign-auto":w.signDisplay="auto";break;case"sign-always":w.signDisplay="always";break;case"sign-except-zero":w.signDisplay="exceptZero";break;case"sign-never":w.signDisplay="never";break;case"sign-accounting":w.currencySign="accounting";break;case"sign-accounting-always":w.currencySign="accounting",w.signDisplay="always";break;case"sign-accounting-except-zero":w.currencySign="accounting",w.signDisplay="exceptZero";break}return i==="decimal-always"&&S(i),h&&S(h),w}function p4(r,t,i){let n=r[t];switch(n){case"%":return{char:"%",style:"percent",width:1};case"\u2030":return{char:"%",style:"permille",width:1};case"\xA4":{let s=1;for(;r[++t]==="\xA4";)++s;switch(s){case 1:return{char:n,currency:"default",width:s};case 2:return{char:n,currency:"iso-code",width:s};case 3:return{char:n,currency:"full-name",width:s};case 5:return{char:n,currency:"narrow",width:s};default:{let o=`Invalid number (${s}) of \xA4 chars in pattern`;return i(new Ps("\xA4",o)),null}}}case"*":{let s=r[t+1];if(s)return{char:n,pad:s,width:2};break}case"+":case"-":return{char:n,width:1};case"'":{let s=r[++t],o=2;if(s==="'")return{char:n,str:s,width:o};for(;;){let l=r[++t];if(++o,l===void 0){let h=`Unterminated quoted literal in pattern: ${s}`;return i(new Ps("'",h)),{char:n,str:s,width:o}}else if(l==="'"){if(r[++t]!=="'")return{char:n,str:s,width:o};++o}s+=l}}}return null}var g4=r=>r>="0"&&r<="9";function m4(r,t){let i=r[t];if(g4(i)){let n=i;for(;;){let s=r[++t];if(g4(s))n+=s;else return{char:"0",digits:n,width:n.length}}}switch(i){case"#":{let n=1;for(;r[++t]==="#";)++n;return{char:i,width:n}}case"@":{let n=1;for(;r[++t]==="@";)++n;let s=n;for(t-=1;r[++t]==="#";)++s;return{char:i,min:n,width:s}}case"E":{let n=r[t+1]==="+";n&&++t;let s=0;for(;r[++t]==="0";)++s;let o=(n?2:1)+s;if(s)return{char:i,expDigits:s,plus:n,width:o};break}case".":case",":return{char:i,width:1}}return null}function y4(r,t,i){let n;(function(g){g[g.Prefix=0]="Prefix",g[g.Number=1]="Number",g[g.Suffix=2]="Suffix"})(n||(n={}));let s=[],o=[],l=[],h=n.Prefix,p="";for(;t<r.length;){let g=r[t];if(g===";"){t+=1;break}switch(h){case n.Prefix:{let m=p4(r,t,i);if(m)p&&(s.push({char:"'",str:p,width:p.length}),p=""),s.push(m),t+=m.width;else{let y=m4(r,t);y?(p&&(s.push({char:"'",str:p,width:p.length}),p=""),h=n.Number,o.push(y),t+=y.width):(p+=g,t+=1)}break}case n.Number:{let m=m4(r,t);m?(o.push(m),t+=m.width):h=n.Suffix;break}case n.Suffix:{let m=p4(r,t,i);m?(p&&(l.push({char:"'",str:p,width:p.length}),p=""),l.push(m),t+=m.width):(p+=g,t+=1);break}}}return p&&l.push({char:"'",str:p,width:p.length}),{pattern:{prefix:s,number:o,suffix:l},pos:t}}function RQ(r,t){let{pattern:i,pos:n}=y4(r,0,t);if(n<r.length){let{pattern:s}=y4(r,n,t);return{tokens:i,negative:s}}return{tokens:i}}function xQ(r,t){let i={},n=!1,s=!1,o=0,l="",h=-1,p="",g=0;for(let y=0;y<r.length;++y){let S=r[y];switch(S.char){case"#":{if(h===-1){if(l){let w="Pattern has # after integer digits";t(new Ps("#",w))}o+=S.width}else g+=S.width;break}case"0":{if(h===-1)l+=S.digits;else{if(g){let w="Pattern has digits after # in fraction";t(new Ps("0",w))}p+=S.digits}break}case"@":{i.precision&&t(new Bd("precision",i.precision)),i.precision={style:"precision-fraction",minSignificant:S.min,maxSignificant:S.width};break}case",":n=!0;break;case".":if(h===1){let w="Pattern has more than one decimal separator";t(new Ps(".",w))}h=y;break;case"E":{if(s&&t(new Bd("exponent",i.notation)),n){let w="Exponential patterns may not contain grouping separators";t(new Ps("E",w))}i.notation={style:"scientific"},S.expDigits>1&&(i.notation.expDigits=S.expDigits),S.plus&&(i.notation.expSign="sign-always"),s=!0}}}n?i.group="group-auto":o+l.length>3&&(i.group="group-off");let m=+`${l||"0"}.${p}`;if(m&&(i.precision={style:"precision-increment",increment:m}),!s)l.length>1&&(i.integerWidth={min:l.length}),!i.precision&&(p.length||g)&&(i.precision={style:"precision-fraction",minFraction:p.length,maxFraction:p.length+g});else if((!i.precision||m)&&(i.integerWidth=o?{min:1,max:o+l.length}:{min:Math.max(1,l.length)}),i.precision)m||(i.integerWidth={min:1,max:1});else{let y=l.length+p.length;h===-1?y>0&&(i.precision={style:"precision-fraction",maxSignificant:y}):(i.precision={style:"precision-fraction",maxSignificant:Math.max(1,y)+g},y>1&&(i.precision.minSignificant=y))}return i}function v4(r,t,i,n,s){let o=!1,l="";for(let h of r)switch(h.char){case"%":t.unit={style:h.style},s?o=!0:l="";break;case"\xA4":if(!i){let p="The \xA4 pattern requires a currency";n(new Ps("\xA4",p));break}switch(t.unit={style:"currency",currency:i},h.currency){case"iso-code":t.unitWidth="unit-width-iso-code";break;case"full-name":t.unitWidth="unit-width-full-name";break;case"narrow":t.unitWidth="unit-width-narrow";break}s?o=!0:l="";break;case"*":break;case"+":o||(l+="+");break;case"'":o||(l+=h.str);break}return l}function b4(r,t){let i=!1,n="";for(let s of r)switch(s.char){case"%":case"\xA4":t?i=!0:n="";break;case"-":i||(n+="-");break;case"'":i||(n+=s.str);break}return n}function O4(r,t,i=n=>{throw n}){let{tokens:n,negative:s}=RQ(r,i),o=xQ(n.number,i),l=v4(n.prefix,o,t,i,!0),h=v4(n.suffix,o,t,i,!1);if(s){let p=b4(s.prefix,!0),g=b4(s.suffix,!1);o.affix={pos:[l,h],neg:[p,g]},o.sign="sign-never"}else(l||h)&&(o.affix={pos:[l,h]});return o}function AQ(r){return["arab","arabext","bali","beng","deva","fullwide","gujr","guru","hanidec","khmr","knda","laoo","latn","limb","mlym","mong","mymr","orya","tamldec","telu","thai","tibt"].indexOf(r)!==-1}function S4(r){let t=["acceleration","angle","area","concentr","consumption","digital","duration","electric","energy","force","frequency","graphics","length","light","mass","power","pressure","speed","temperature","torque","volume"],[i]=r.split("-",1);return t.indexOf(i)!==-1}var N4={"compact-short":0,"compact-long":0,"notation-simple":0,scientific:2,engineering:2,percent:0,permille:0,"base-unit":0,currency:1,"measure-unit":1,"per-measure-unit":1,"unit-width-narrow":0,"unit-width-short":0,"unit-width-full-name":0,"unit-width-iso-code":0,"unit-width-hidden":0,"precision-integer":0,"precision-unlimited":0,"precision-currency-standard":1,"precision-currency-cash":0,"precision-increment":1,"rounding-mode-ceiling":0,"rounding-mode-floor":0,"rounding-mode-down":0,"rounding-mode-up":0,"rounding-mode-half-even":0,"rounding-mode-half-down":0,"rounding-mode-half-up":0,"rounding-mode-unnecessary":0,"integer-width":1,scale:1,"group-off":0,"group-min2":0,"group-auto":0,"group-on-aligned":0,"group-thousands":0,latin:0,"numbering-system":1,"sign-auto":0,"sign-always":0,"sign-never":0,"sign-accounting":0,"sign-accounting-always":0,"sign-except-zero":0,"sign-accounting-except-zero":0,"decimal-auto":0,"decimal-always":0},D4={currency:1,"integer-width":1,"measure-unit":1,"numbering-system":1,"per-measure-unit":1,"precision-increment":1,scale:1};function OQ(r){return r in N4}function NQ(r){return r in D4}function DQ(r,t,i){if(OQ(r)){let n=N4[r];if(t.length>n){if(n===0)for(let s of t)i(new Tc(r,s));else i(new nm(r,t,n));return!1}else if(NQ(r)&&t.length<D4[r])return i(new S_(r)),!1}return!0}function y_(r,t){let i=t==="fraction"?/^\.(0*)(\+|#*)$/:/^(@+)(\+|#*)$/,n=r&&r.match(i);if(n){let s=n[1].length;switch(n[2].charAt(0)){case"":return{min:s,max:s};case"+":return{min:s,max:null};case"#":return{min:s,max:s+n[2].length}}}return null}function PQ(r,t,i){let n=y_(r,"fraction");if(n){t.length>1&&i(new nm(r,t,1));let o={style:"precision-fraction",source:r,minFraction:n.min};n.max!=null&&(o.maxFraction=n.max);let l=t[0],h=y_(l,"significant");return h?(o.source=`${r}/${l}`,o.minSignificant=h.min,h.max!=null&&(o.maxSignificant=h.max)):l&&i(new Tc(r,l)),o}let s=y_(r,"significant");if(s){for(let l of t)i(new Tc(r,l));let o={style:"precision-fraction",source:r,minSignificant:s.min};return s.max!=null&&(o.maxSignificant=s.max),o}return null}var __=class{constructor(t){this.skeleton={},this.onError=t}badOption(t,i){this.onError(new Tc(t,i))}assertEmpty(t){let i=this.skeleton[t];i&&this.onError(new Bd(t,i))}parseToken(t,i){if(!DQ(t,i,this.onError))return;let n=i[0],s=this.skeleton;switch(t){case"compact-short":case"compact-long":case"notation-simple":this.assertEmpty("notation"),s.notation={style:t};break;case"scientific":case"engineering":{let o=null,l;for(let p of i)switch(p){case"sign-auto":case"sign-always":case"sign-never":case"sign-accounting":case"sign-accounting-always":case"sign-except-zero":case"sign-accounting-except-zero":l=p;break;default:/^\+e+$/.test(p)?o=p.length-1:this.badOption(t,p)}this.assertEmpty("notation");let h=i.join("/");s.notation=o&&l?{style:t,source:h,expDigits:o,expSign:l}:o?{style:t,source:h,expDigits:o}:l?{style:t,source:h,expSign:l}:{style:t,source:h};break}case"percent":case"permille":case"base-unit":this.assertEmpty("unit"),s.unit={style:t};break;case"currency":/^[A-Z]{3}$/.test(n)?(this.assertEmpty("unit"),s.unit={style:t,currency:n}):this.badOption(t,n);break;case"measure-unit":{S4(n)?(this.assertEmpty("unit"),s.unit={style:t,unit:n}):this.badOption(t,n);break}case"per-measure-unit":{S4(n)?(this.assertEmpty("unitPer"),s.unitPer=n):this.badOption(t,n);break}case"unit-width-narrow":case"unit-width-short":case"unit-width-full-name":case"unit-width-iso-code":case"unit-width-hidden":this.assertEmpty("unitWidth"),s.unitWidth=t;break;case"precision-integer":case"precision-unlimited":case"precision-currency-cash":this.assertEmpty("precision"),s.precision={style:t};break;case"precision-currency-standard":this.assertEmpty("precision"),n==="w"?s.precision={style:t,trailingZero:"stripIfInteger"}:s.precision={style:t};break;case"precision-increment":{let o=Number(n);o>0?(this.assertEmpty("precision"),s.precision={style:t,increment:o}):this.badOption(t,n);break}case"rounding-mode-ceiling":case"rounding-mode-floor":case"rounding-mode-down":case"rounding-mode-up":case"rounding-mode-half-even":case"rounding-mode-half-odd":case"rounding-mode-half-ceiling":case"rounding-mode-half-floor":case"rounding-mode-half-down":case"rounding-mode-half-up":case"rounding-mode-unnecessary":this.assertEmpty("roundingMode"),s.roundingMode=t;break;case"integer-width":{if(/^\+0*$/.test(n))this.assertEmpty("integerWidth"),s.integerWidth={source:n,min:n.length-1};else{let o=n.match(/^#*(0*)$/);o?(this.assertEmpty("integerWidth"),s.integerWidth={source:n,min:o[1].length,max:o[0].length}):this.badOption(t,n)}break}case"scale":{let o=Number(n);o>0?(this.assertEmpty("scale"),s.scale=o):this.badOption(t,n);break}case"group-off":case"group-min2":case"group-auto":case"group-on-aligned":case"group-thousands":this.assertEmpty("group"),s.group=t;break;case"latin":this.assertEmpty("numberingSystem"),s.numberingSystem="latn";break;case"numbering-system":{AQ(n)?(this.assertEmpty("numberingSystem"),s.numberingSystem=n):this.badOption(t,n);break}case"sign-auto":case"sign-always":case"sign-never":case"sign-accounting":case"sign-accounting-always":case"sign-except-zero":case"sign-accounting-except-zero":this.assertEmpty("sign"),s.sign=t;break;case"decimal-auto":case"decimal-always":this.assertEmpty("decimal"),s.decimal=t;break;default:{let o=PQ(t,i,this.onError);o?(this.assertEmpty("precision"),s.precision=o):this.onError(new b_(t))}}}};function P4(r,t=i=>{throw i}){let i=[];for(let s of r.split(" "))if(s){let o=s.split("/"),l=o.shift()||"";i.push({stem:l,options:o})}let n=new __(t);for(let{stem:s,options:o}of i)n.parseToken(s,o);return n.skeleton}function IQ(r,t,i,n){typeof t=="string"&&(t=t.indexOf("::")===0?P4(t.slice(2),n):O4(t,i,n));let s=R4(r,t),o=A4(t,n),l=CQ(t),h=new Intl.NumberFormat(s,o);if(t.affix){let[p,g]=t.affix.pos,[m,y]=t.affix.neg||["",""];return S=>{let w=h.format(l(S));return S<0?`${m}${w}${y}`:`${p}${w}${g}`}}return p=>h.format(l(p))}function LQ(r,t,i,n){typeof t=="string"&&(t=t.indexOf("::")===0?P4(t.slice(2),n):O4(t,i,n));let s=R4(r,t),o=A4(t,n),l=kQ(t),h=["(function() {",`var opt = ${JSON.stringify(o)};`,`var nf = new Intl.NumberFormat(${JSON.stringify(s)}, opt);`],p="nf.format(value)";if(l&&(h.push(`var mod = ${l};`),p="nf.format(mod(value))"),t.affix){let[g,m]=t.affix.pos.map(y=>JSON.stringify(y));if(t.affix.neg){let[y,S]=t.affix.neg.map(w=>JSON.stringify(w));p=`value < 0 ? ${y} + ${p} + ${S} : ${g} + ${p} + ${m}`}else p=`${g} + ${p} + ${m}`}return h.push(`return function(value) { return ${p}; }`),h.join(`
  `)+`
})()`}var MQ=["ar","ckb","fa","he","ks($|[^bfh])","lrc","mzn","pa-Arab","ps","ug","ur","uz-Arab","yi"],FQ=new RegExp("^"+MQ.join("|^"));function jQ(r,t){let i=FQ.test(t),n=JSON.stringify(i?"\u200F":"\u200E");return`${n} + ${r} + ${n}`}var BQ="@messageformat/runtime",UQ="@messageformat/runtime/lib/cardinals",w4="@messageformat/runtime/lib/plurals",qQ="@messageformat/runtime/lib/formatters",E_=class{constructor(t){this.arguments=[],this.runtime={},this.options=t}compile(t,i,n){let{localeCodeFromKey:s,requireAllArguments:o,strict:l,strictPluralKeys:h}=this.options;if(typeof t=="object"){let S={};for(let w of Object.keys(t)){let C=s?s(w):w,_=n&&C&&n[C]||i;S[w]=this.compile(t[w],_,n)}return S}this.plural=i;let p={cardinal:i.cardinals,ordinal:i.ordinals,strict:l,strictPluralKeys:h};this.arguments=[];let g=aQ.parse(t,p).map(S=>this.token(S,null)),m=this.arguments.length>0,y=this.concatenate(g,!0);return o&&m?(this.setRuntimeFn("reqArgs"),`(d) => { reqArgs(${JSON.stringify(this.arguments)}, d); return ${y}; }`):`(${m?"d":""}) => ${y}`}cases(t,i){let n=!0,s=t.cases.map(({key:o,tokens:l})=>{o==="other"&&(n=!1);let h=l.map(p=>this.token(p,i));return`${La.property(null,o.replace(/^=/,""))}: ${this.concatenate(h,!1)}`});if(n){let{type:o}=t,{cardinals:l,ordinals:h}=this.plural;if(o==="select"||o==="plural"&&l.includes("other")||o==="selectordinal"&&h.includes("other"))throw new Error(`No 'other' form found in ${JSON.stringify(t)}`)}return`{ ${s.join(", ")} }`}concatenate(t,i){return this.options.returnType==="values"&&(i||t.length>1)?"["+t.join(", ")+"]":t.join(" + ")||'""'}token(t,i){if(t.type==="content")return JSON.stringify(t.value);let{id:n,lc:s}=this.plural,o,l;switch("arg"in t?(this.arguments.push(t.arg),o=[La.property("d",t.arg)]):o=[],t.type){case"argument":return this.options.biDiSupport?jQ(String(o[0]),s):String(o[0]);case"select":l="select",i&&this.options.strict&&(i=null),o.push(this.cases(t,i)),this.setRuntimeFn("select");break;case"selectordinal":l="plural",o.push(t.pluralOffset||0,n,this.cases(t,t),1),this.setLocale(n,!0),this.setRuntimeFn("plural");break;case"plural":l="plural",o.push(t.pluralOffset||0,n,this.cases(t,t)),this.setLocale(n,!1),this.setRuntimeFn("plural");break;case"function":if(!this.options.customFormatters[t.key]){if(t.key==="date"){l=this.setDateFormatter(t,o,i);break}else if(t.key==="number"){l=this.setNumberFormatter(t,o,i);break}}if(o.push(JSON.stringify(this.plural.locale)),t.param){i&&this.options.strict&&(i=null);let h=this.getFormatterArg(t,i);h&&o.push(h)}l=t.key,this.setFormatter(l);break;case"octothorpe":if(!i)return'"#"';o=[JSON.stringify(this.plural.locale),La.property("d",i.arg),i.pluralOffset||0],this.options.strict?(l="strictNumber",o.push(JSON.stringify(i.arg)),this.setRuntimeFn("strictNumber")):(l="number",this.setRuntimeFn("number"));break}if(!l)throw new Error("Parser error for token "+JSON.stringify(t));return`${l}(${o.join(", ")})`}runtimeIncludes(t,i){if(La.identifier(t)!==t)throw new SyntaxError(`Reserved word used as ${i} identifier: ${t}`);let n=this.runtime[t];if(!n||n.type===i)return n;throw new TypeError(`Cannot override ${n.type} runtime function as ${i}: ${t}`)}setLocale(t,i){let n=this.runtimeIncludes(t,"locale"),{getCardinal:s,getPlural:o,isDefault:l}=this.plural,h,p,g;if(!i&&l&&s){if(n)return;h=m=>s(m),p=UQ,g=()=>String(s)}else{if(n&&(!l||n.module===w4))return;h=(m,y)=>o(m,y),p=l?w4:o.module||null,g=()=>String(o)}this.runtime[t]=Object.assign(h,{id:t,module:p,toString:g,type:"locale"})}setRuntimeFn(t){this.runtimeIncludes(t,"runtime")||(this.runtime[t]=Object.assign(uQ[t],{id:t,module:BQ,type:"runtime"}))}getFormatterArg({key:t,param:i},n){let s=this.options.customFormatters[t]||_4(t)&&v_[t];if(!s||!i)return null;let o="arg"in s&&s.arg||"string";if(o==="options"){let l="";for(let p of i)if(p.type==="content")l+=p.value;else throw new SyntaxError(`Expected literal options for ${t} formatter`);let h={};for(let p of l.split(",")){let g=p.indexOf(":");if(g===-1)h[p.trim()]=null;else{let m=p.substring(0,g).trim(),y=p.substring(g+1).trim();if(y==="true")h[m]=!0;else if(y==="false")h[m]=!1;else if(y==="null")h[m]=null;else{let S=Number(y);h[m]=Number.isFinite(S)?S:y}}}return JSON.stringify(h)}else{let l=i.map(p=>this.token(p,n));if(o==="raw")return`[${l.join(", ")}]`;let h=l.join(" + ");return h?`(${h}).trim()`:'""'}}setFormatter(t){if(this.runtimeIncludes(t,"formatter"))return;let i=this.options.customFormatters[t];if(i)typeof i=="function"&&(i={formatter:i}),this.runtime[t]=Object.assign(i.formatter,{type:"formatter"},"module"in i&&i.module&&i.id?{id:La.identifier(i.id),module:i.module}:{id:null,module:null});else if(_4(t))this.runtime[t]=Object.assign(v_[t],{type:"formatter"},{id:t,module:qQ});else throw new Error(`Formatting function not found: ${t}`)}setDateFormatter({param:t},i,n){let{locale:s}=this.plural,o=t&&t.length===1&&t[0];if(o&&o.type==="content"&&/^\s*::/.test(o.value)){let l=o.value.trim().substr(2),h=La.identifier(`date_${s}_${l}`,!0);if(!this.runtimeIncludes(h,"formatter")){let p=_Q(s,l);this.runtime[h]=Object.assign(p,{id:h,module:null,toString:()=>EQ(s,l),type:"formatter"})}return h}if(i.push(JSON.stringify(s)),t&&t.length>0){n&&this.options.strict&&(n=null);let l=t.map(h=>this.token(h,n));i.push("("+(l.join(" + ")||'""')+").trim()")}return this.setFormatter("date"),"date"}setNumberFormatter({param:t},i,n){let{locale:s}=this.plural;if(!t||t.length===0)return i.unshift(JSON.stringify(s)),i.push("0"),this.setRuntimeFn("number"),"number";if(i.push(JSON.stringify(s)),t.length===1&&t[0].type==="content"){let l=t[0].value.trim();switch(l){case"currency":return i.push(JSON.stringify(this.options.currency)),this.setFormatter("numberCurrency"),"numberCurrency";case"integer":return this.setFormatter("numberInteger"),"numberInteger";case"percent":return this.setFormatter("numberPercent"),"numberPercent"}let h=l.match(/^currency:([A-Z]+)$/);if(h)return i.push(JSON.stringify(h[1])),this.setFormatter("numberCurrency"),"numberCurrency";let p=La.identifier(`number_${s}_${l}`,!0);if(!this.runtimeIncludes(p,"formatter")){let{currency:g}=this.options,m=IQ(s,l,g);this.runtime[p]=Object.assign(m,{id:null,module:null,toString:()=>LQ(s,l,g),type:"formatter"})}return p}n&&this.options.strict&&(n=null);let o=t.map(l=>this.token(l,n));return i.push("("+(o.join(" + ")||'""')+").trim()"),i.push(JSON.stringify(this.options.currency)),this.setFormatter("numberFmt"),"numberFmt"}};function _4(r){return r in v_}I4.exports=E_});var F4=x((T_,M4)=>{var Re=r=>r==1?"one":"other",Ls=r=>r==0||r==1?"one":"other",ss=r=>r>=0&&r<=1?"one":"other",Lr=r=>{let t=String(r).split("."),i=!t[1];return r==1&&i?"one":"other"},vt=r=>"other",Ms=r=>r==1?"one":r==2?"two":"other";(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),typeof define=="function"&&define.amd?define(t):typeof T_=="object"?M4.exports=t:r.plurals=t})(T_,{af:Re,ak:Ls,am:ss,an:Re,ar:r=>{let t=String(r).split("."),i=Number(t[0])==r,n=i&&t[0].slice(-2);return r==0?"zero":r==1?"one":r==2?"two":n>=3&&n<=10?"few":n>=11&&n<=99?"many":"other"},ars:r=>{let t=String(r).split("."),i=Number(t[0])==r,n=i&&t[0].slice(-2);return r==0?"zero":r==1?"one":r==2?"two":n>=3&&n<=10?"few":n>=11&&n<=99?"many":"other"},as:ss,asa:Re,ast:Lr,az:Re,bal:Re,be:r=>{let t=String(r).split("."),i=Number(t[0])==r,n=i&&t[0].slice(-1),s=i&&t[0].slice(-2);return n==1&&s!=11?"one":n>=2&&n<=4&&(s<12||s>14)?"few":i&&n==0||n>=5&&n<=9||s>=11&&s<=14?"many":"other"},bem:Re,bez:Re,bg:Re,bho:Ls,bm:vt,bn:ss,bo:vt,br:r=>{let t=String(r).split("."),i=Number(t[0])==r,n=i&&t[0].slice(-1),s=i&&t[0].slice(-2),o=i&&t[0].slice(-6);return n==1&&s!=11&&s!=71&&s!=91?"one":n==2&&s!=12&&s!=72&&s!=92?"two":(n==3||n==4||n==9)&&(s<10||s>19)&&(s<70||s>79)&&(s<90||s>99)?"few":r!=0&&i&&o==0?"many":"other"},brx:Re,bs:r=>{let t=String(r).split("."),i=t[0],n=t[1]||"",s=!t[1],o=i.slice(-1),l=i.slice(-2),h=n.slice(-1),p=n.slice(-2);return s&&o==1&&l!=11||h==1&&p!=11?"one":s&&o>=2&&o<=4&&(l<12||l>14)||h>=2&&h<=4&&(p<12||p>14)?"few":"other"},ca:r=>{let t=String(r).split("."),i=t[0],n=!t[1],s=i.slice(-6);return r==1&&n?"one":i!=0&&s==0&&n?"many":"other"},ce:Re,ceb:r=>{let t=String(r).split("."),i=t[0],n=t[1]||"",s=!t[1],o=i.slice(-1),l=n.slice(-1);return s&&(i==1||i==2||i==3)||s&&o!=4&&o!=6&&o!=9||!s&&l!=4&&l!=6&&l!=9?"one":"other"},cgg:Re,chr:Re,ckb:Re,cs:r=>{let t=String(r).split("."),i=t[0],n=!t[1];return r==1&&n?"one":i>=2&&i<=4&&n?"few":n?"other":"many"},cy:r=>r==0?"zero":r==1?"one":r==2?"two":r==3?"few":r==6?"many":"other",da:r=>{let t=String(r).split("."),i=t[0],n=Number(t[0])==r;return r==1||!n&&(i==0||i==1)?"one":"other"},de:Lr,doi:ss,dsb:r=>{let t=String(r).split("."),i=t[0],n=t[1]||"",s=!t[1],o=i.slice(-2),l=n.slice(-2);return s&&o==1||l==1?"one":s&&o==2||l==2?"two":s&&(o==3||o==4)||l==3||l==4?"few":"other"},dv:Re,dz:vt,ee:Re,el:Re,en:Lr,eo:Re,es:r=>{let t=String(r).split("."),i=t[0],n=!t[1],s=i.slice(-6);return r==1?"one":i!=0&&s==0&&n?"many":"other"},et:Lr,eu:Re,fa:ss,ff:r=>r>=0&&r<2?"one":"other",fi:Lr,fil:r=>{let t=String(r).split("."),i=t[0],n=t[1]||"",s=!t[1],o=i.slice(-1),l=n.slice(-1);return s&&(i==1||i==2||i==3)||s&&o!=4&&o!=6&&o!=9||!s&&l!=4&&l!=6&&l!=9?"one":"other"},fo:Re,fr:r=>{let t=String(r).split("."),i=t[0],n=!t[1],s=i.slice(-6);return r>=0&&r<2?"one":i!=0&&s==0&&n?"many":"other"},fur:Re,fy:Lr,ga:r=>{let t=String(r).split("."),i=Number(t[0])==r;return r==1?"one":r==2?"two":i&&r>=3&&r<=6?"few":i&&r>=7&&r<=10?"many":"other"},gd:r=>{let t=String(r).split("."),i=Number(t[0])==r;return r==1||r==11?"one":r==2||r==12?"two":i&&r>=3&&r<=10||i&&r>=13&&r<=19?"few":"other"},gl:Lr,gsw:Re,gu:ss,guw:Ls,gv:r=>{let t=String(r).split("."),i=t[0],n=!t[1],s=i.slice(-1),o=i.slice(-2);return n&&s==1?"one":n&&s==2?"two":n&&(o==0||o==20||o==40||o==60||o==80)?"few":n?"other":"many"},ha:Re,haw:Re,he:r=>{let t=String(r).split("."),i=t[0],n=!t[1];return i==1&&n||i==0&&!n?"one":i==2&&n?"two":"other"},hi:ss,hnj:vt,hr:r=>{let t=String(r).split("."),i=t[0],n=t[1]||"",s=!t[1],o=i.slice(-1),l=i.slice(-2),h=n.slice(-1),p=n.slice(-2);return s&&o==1&&l!=11||h==1&&p!=11?"one":s&&o>=2&&o<=4&&(l<12||l>14)||h>=2&&h<=4&&(p<12||p>14)?"few":"other"},hsb:r=>{let t=String(r).split("."),i=t[0],n=t[1]||"",s=!t[1],o=i.slice(-2),l=n.slice(-2);return s&&o==1||l==1?"one":s&&o==2||l==2?"two":s&&(o==3||o==4)||l==3||l==4?"few":"other"},hu:Re,hy:r=>r>=0&&r<2?"one":"other",ia:Lr,id:vt,ig:vt,ii:vt,io:Lr,is:r=>{let t=String(r).split("."),i=t[0],n=(t[1]||"").replace(/0+$/,""),s=Number(t[0])==r,o=i.slice(-1),l=i.slice(-2);return s&&o==1&&l!=11||n%10==1&&n%100!=11?"one":"other"},it:r=>{let t=String(r).split("."),i=t[0],n=!t[1],s=i.slice(-6);return r==1&&n?"one":i!=0&&s==0&&n?"many":"other"},iu:Ms,ja:vt,jbo:vt,jgo:Re,jmc:Re,jv:vt,jw:vt,ka:Re,kab:r=>r>=0&&r<2?"one":"other",kaj:Re,kcg:Re,kde:vt,kea:vt,kk:Re,kkj:Re,kl:Re,km:vt,kn:ss,ko:vt,ks:Re,ksb:Re,ksh:r=>r==0?"zero":r==1?"one":"other",ku:Re,kw:r=>{let t=String(r).split("."),i=Number(t[0])==r,n=i&&t[0].slice(-2),s=i&&t[0].slice(-3),o=i&&t[0].slice(-5),l=i&&t[0].slice(-6);return r==0?"zero":r==1?"one":n==2||n==22||n==42||n==62||n==82||i&&s==0&&(o>=1e3&&o<=2e4||o==4e4||o==6e4||o==8e4)||r!=0&&l==1e5?"two":n==3||n==23||n==43||n==63||n==83?"few":r!=1&&(n==1||n==21||n==41||n==61||n==81)?"many":"other"},ky:Re,lag:r=>{let t=String(r).split("."),i=t[0];return r==0?"zero":(i==0||i==1)&&r!=0?"one":"other"},lb:Re,lg:Re,lij:Lr,lkt:vt,ln:Ls,lo:vt,lt:r=>{let t=String(r).split("."),i=t[1]||"",n=Number(t[0])==r,s=n&&t[0].slice(-1),o=n&&t[0].slice(-2);return s==1&&(o<11||o>19)?"one":s>=2&&s<=9&&(o<11||o>19)?"few":i!=0?"many":"other"},lv:r=>{let t=String(r).split("."),i=t[1]||"",n=i.length,s=Number(t[0])==r,o=s&&t[0].slice(-1),l=s&&t[0].slice(-2),h=i.slice(-2),p=i.slice(-1);return s&&o==0||l>=11&&l<=19||n==2&&h>=11&&h<=19?"zero":o==1&&l!=11||n==2&&p==1&&h!=11||n!=2&&p==1?"one":"other"},mas:Re,mg:Ls,mgo:Re,mk:r=>{let t=String(r).split("."),i=t[0],n=t[1]||"",s=!t[1],o=i.slice(-1),l=i.slice(-2),h=n.slice(-1),p=n.slice(-2);return s&&o==1&&l!=11||h==1&&p!=11?"one":"other"},ml:Re,mn:Re,mo:r=>{let t=String(r).split("."),i=!t[1],n=Number(t[0])==r,s=n&&t[0].slice(-2);return r==1&&i?"one":!i||r==0||r!=1&&s>=1&&s<=19?"few":"other"},mr:Re,ms:vt,mt:r=>{let t=String(r).split("."),i=Number(t[0])==r,n=i&&t[0].slice(-2);return r==1?"one":r==2?"two":r==0||n>=3&&n<=10?"few":n>=11&&n<=19?"many":"other"},my:vt,nah:Re,naq:Ms,nb:Re,nd:Re,ne:Re,nl:Lr,nn:Re,nnh:Re,no:Re,nqo:vt,nr:Re,nso:Ls,ny:Re,nyn:Re,om:Re,or:Re,os:Re,osa:vt,pa:Ls,pap:Re,pcm:ss,pl:r=>{let t=String(r).split("."),i=t[0],n=!t[1],s=i.slice(-1),o=i.slice(-2);return r==1&&n?"one":n&&s>=2&&s<=4&&(o<12||o>14)?"few":n&&i!=1&&(s==0||s==1)||n&&s>=5&&s<=9||n&&o>=12&&o<=14?"many":"other"},prg:r=>{let t=String(r).split("."),i=t[1]||"",n=i.length,s=Number(t[0])==r,o=s&&t[0].slice(-1),l=s&&t[0].slice(-2),h=i.slice(-2),p=i.slice(-1);return s&&o==0||l>=11&&l<=19||n==2&&h>=11&&h<=19?"zero":o==1&&l!=11||n==2&&p==1&&h!=11||n!=2&&p==1?"one":"other"},ps:Re,pt:r=>{let t=String(r).split("."),i=t[0],n=!t[1],s=i.slice(-6);return i==0||i==1?"one":i!=0&&s==0&&n?"many":"other"},pt_PT:r=>{let t=String(r).split("."),i=t[0],n=!t[1],s=i.slice(-6);return r==1&&n?"one":i!=0&&s==0&&n?"many":"other"},rm:Re,ro:r=>{let t=String(r).split("."),i=!t[1],n=Number(t[0])==r,s=n&&t[0].slice(-2);return r==1&&i?"one":!i||r==0||r!=1&&s>=1&&s<=19?"few":"other"},rof:Re,ru:r=>{let t=String(r).split("."),i=t[0],n=!t[1],s=i.slice(-1),o=i.slice(-2);return n&&s==1&&o!=11?"one":n&&s>=2&&s<=4&&(o<12||o>14)?"few":n&&s==0||n&&s>=5&&s<=9||n&&o>=11&&o<=14?"many":"other"},rwk:Re,sah:vt,saq:Re,sat:Ms,sc:Lr,scn:Lr,sd:Re,sdh:Re,se:Ms,seh:Re,ses:vt,sg:vt,sh:r=>{let t=String(r).split("."),i=t[0],n=t[1]||"",s=!t[1],o=i.slice(-1),l=i.slice(-2),h=n.slice(-1),p=n.slice(-2);return s&&o==1&&l!=11||h==1&&p!=11?"one":s&&o>=2&&o<=4&&(l<12||l>14)||h>=2&&h<=4&&(p<12||p>14)?"few":"other"},shi:r=>{let t=String(r).split("."),i=Number(t[0])==r;return r>=0&&r<=1?"one":i&&r>=2&&r<=10?"few":"other"},si:r=>{let t=String(r).split("."),i=t[0],n=t[1]||"";return r==0||r==1||i==0&&n==1?"one":"other"},sk:r=>{let t=String(r).split("."),i=t[0],n=!t[1];return r==1&&n?"one":i>=2&&i<=4&&n?"few":n?"other":"many"},sl:r=>{let t=String(r).split("."),i=t[0],n=!t[1],s=i.slice(-2);return n&&s==1?"one":n&&s==2?"two":n&&(s==3||s==4)||!n?"few":"other"},sma:Ms,smi:Ms,smj:Ms,smn:Ms,sms:Ms,sn:Re,so:Re,sq:Re,sr:r=>{let t=String(r).split("."),i=t[0],n=t[1]||"",s=!t[1],o=i.slice(-1),l=i.slice(-2),h=n.slice(-1),p=n.slice(-2);return s&&o==1&&l!=11||h==1&&p!=11?"one":s&&o>=2&&o<=4&&(l<12||l>14)||h>=2&&h<=4&&(p<12||p>14)?"few":"other"},ss:Re,ssy:Re,st:Re,su:vt,sv:Lr,sw:Lr,syr:Re,ta:Re,te:Re,teo:Re,th:vt,ti:Ls,tig:Re,tk:Re,tl:r=>{let t=String(r).split("."),i=t[0],n=t[1]||"",s=!t[1],o=i.slice(-1),l=n.slice(-1);return s&&(i==1||i==2||i==3)||s&&o!=4&&o!=6&&o!=9||!s&&l!=4&&l!=6&&l!=9?"one":"other"},tn:Re,to:vt,tpi:vt,tr:Re,ts:Re,tzm:r=>{let t=String(r).split("."),i=Number(t[0])==r;return r==0||r==1||i&&r>=11&&r<=99?"one":"other"},ug:Re,uk:r=>{let t=String(r).split("."),i=t[0],n=!t[1],s=i.slice(-1),o=i.slice(-2);return n&&s==1&&o!=11?"one":n&&s>=2&&s<=4&&(o<12||o>14)?"few":n&&s==0||n&&s>=5&&s<=9||n&&o>=11&&o<=14?"many":"other"},und:vt,ur:Lr,uz:Re,ve:Re,vec:r=>{let t=String(r).split("."),i=t[0],n=!t[1],s=i.slice(-6);return r==1&&n?"one":i!=0&&s==0&&n?"many":"other"},vi:vt,vo:Re,vun:Re,wa:Ls,wae:Re,wo:vt,xh:Re,xog:Re,yi:Lr,yo:vt,yue:vt,zh:vt,zu:ss})});var B4=x((C_,j4)=>{var Fs="zero",Ae="one",Zt="two",at="few",ut="many",me="other",be={cardinal:[Ae,me],ordinal:[me]},Ma={cardinal:[Ae,me],ordinal:[Ae,me]},Ct={cardinal:[me],ordinal:[me]},os={cardinal:[Ae,Zt,me],ordinal:[me]};(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),typeof define=="function"&&define.amd?define(t):typeof C_=="object"?j4.exports=t:r.pluralCategories=t})(C_,{af:be,ak:be,am:be,an:be,ar:{cardinal:[Fs,Ae,Zt,at,ut,me],ordinal:[me]},ars:{cardinal:[Fs,Ae,Zt,at,ut,me],ordinal:[me]},as:{cardinal:[Ae,me],ordinal:[Ae,Zt,at,ut,me]},asa:be,ast:be,az:{cardinal:[Ae,me],ordinal:[Ae,at,ut,me]},bal:Ma,be:{cardinal:[Ae,at,ut,me],ordinal:[at,me]},bem:be,bez:be,bg:be,bho:be,bm:Ct,bn:{cardinal:[Ae,me],ordinal:[Ae,Zt,at,ut,me]},bo:Ct,br:{cardinal:[Ae,Zt,at,ut,me],ordinal:[me]},brx:be,bs:{cardinal:[Ae,at,me],ordinal:[me]},ca:{cardinal:[Ae,ut,me],ordinal:[Ae,Zt,at,me]},ce:be,ceb:be,cgg:be,chr:be,ckb:be,cs:{cardinal:[Ae,at,ut,me],ordinal:[me]},cy:{cardinal:[Fs,Ae,Zt,at,ut,me],ordinal:[Fs,Ae,Zt,at,ut,me]},da:be,de:be,doi:be,dsb:{cardinal:[Ae,Zt,at,me],ordinal:[me]},dv:be,dz:Ct,ee:be,el:be,en:{cardinal:[Ae,me],ordinal:[Ae,Zt,at,me]},eo:be,es:{cardinal:[Ae,ut,me],ordinal:[me]},et:be,eu:be,fa:be,ff:be,fi:be,fil:Ma,fo:be,fr:{cardinal:[Ae,ut,me],ordinal:[Ae,me]},fur:be,fy:be,ga:{cardinal:[Ae,Zt,at,ut,me],ordinal:[Ae,me]},gd:{cardinal:[Ae,Zt,at,me],ordinal:[Ae,Zt,at,me]},gl:be,gsw:be,gu:{cardinal:[Ae,me],ordinal:[Ae,Zt,at,ut,me]},guw:be,gv:{cardinal:[Ae,Zt,at,ut,me],ordinal:[me]},ha:be,haw:be,he:os,hi:{cardinal:[Ae,me],ordinal:[Ae,Zt,at,ut,me]},hnj:Ct,hr:{cardinal:[Ae,at,me],ordinal:[me]},hsb:{cardinal:[Ae,Zt,at,me],ordinal:[me]},hu:Ma,hy:Ma,ia:be,id:Ct,ig:Ct,ii:Ct,io:be,is:be,it:{cardinal:[Ae,ut,me],ordinal:[ut,me]},iu:os,ja:Ct,jbo:Ct,jgo:be,jmc:be,jv:Ct,jw:Ct,ka:{cardinal:[Ae,me],ordinal:[Ae,ut,me]},kab:be,kaj:be,kcg:be,kde:Ct,kea:Ct,kk:{cardinal:[Ae,me],ordinal:[ut,me]},kkj:be,kl:be,km:Ct,kn:be,ko:Ct,ks:be,ksb:be,ksh:{cardinal:[Fs,Ae,me],ordinal:[me]},ku:be,kw:{cardinal:[Fs,Ae,Zt,at,ut,me],ordinal:[Ae,ut,me]},ky:be,lag:{cardinal:[Fs,Ae,me],ordinal:[me]},lb:be,lg:be,lij:{cardinal:[Ae,me],ordinal:[ut,me]},lkt:Ct,ln:be,lo:{cardinal:[me],ordinal:[Ae,me]},lt:{cardinal:[Ae,at,ut,me],ordinal:[me]},lv:{cardinal:[Fs,Ae,me],ordinal:[me]},mas:be,mg:be,mgo:be,mk:{cardinal:[Ae,me],ordinal:[Ae,Zt,ut,me]},ml:be,mn:be,mo:{cardinal:[Ae,at,me],ordinal:[Ae,me]},mr:{cardinal:[Ae,me],ordinal:[Ae,Zt,at,me]},ms:{cardinal:[me],ordinal:[Ae,me]},mt:{cardinal:[Ae,Zt,at,ut,me],ordinal:[me]},my:Ct,nah:be,naq:os,nb:be,nd:be,ne:Ma,nl:be,nn:be,nnh:be,no:be,nqo:Ct,nr:be,nso:be,ny:be,nyn:be,om:be,or:{cardinal:[Ae,me],ordinal:[Ae,Zt,at,ut,me]},os:be,osa:Ct,pa:be,pap:be,pcm:be,pl:{cardinal:[Ae,at,ut,me],ordinal:[me]},prg:{cardinal:[Fs,Ae,me],ordinal:[me]},ps:be,pt:{cardinal:[Ae,ut,me],ordinal:[me]},pt_PT:{cardinal:[Ae,ut,me],ordinal:[me]},rm:be,ro:{cardinal:[Ae,at,me],ordinal:[Ae,me]},rof:be,ru:{cardinal:[Ae,at,ut,me],ordinal:[me]},rwk:be,sah:Ct,saq:be,sat:os,sc:{cardinal:[Ae,me],ordinal:[ut,me]},scn:{cardinal:[Ae,me],ordinal:[ut,me]},sd:be,sdh:be,se:os,seh:be,ses:Ct,sg:Ct,sh:{cardinal:[Ae,at,me],ordinal:[me]},shi:{cardinal:[Ae,at,me],ordinal:[me]},si:be,sk:{cardinal:[Ae,at,ut,me],ordinal:[me]},sl:{cardinal:[Ae,Zt,at,me],ordinal:[me]},sma:os,smi:os,smj:os,smn:os,sms:os,sn:be,so:be,sq:{cardinal:[Ae,me],ordinal:[Ae,ut,me]},sr:{cardinal:[Ae,at,me],ordinal:[me]},ss:be,ssy:be,st:be,su:Ct,sv:Ma,sw:be,syr:be,ta:be,te:be,teo:be,th:Ct,ti:be,tig:be,tk:{cardinal:[Ae,me],ordinal:[at,me]},tl:Ma,tn:be,to:Ct,tpi:Ct,tr:be,ts:be,tzm:be,ug:be,uk:{cardinal:[Ae,at,ut,me],ordinal:[at,me]},und:Ct,ur:be,uz:be,ve:be,vec:{cardinal:[Ae,ut,me],ordinal:[ut,me]},vi:{cardinal:[me],ordinal:[Ae,me]},vo:be,vun:be,wa:be,wae:be,wo:Ct,xh:be,xog:be,yi:be,yo:Ct,yue:Ct,zh:Ct,zu:be})});var R_=x((k_,U4)=>{var Oe=(r,t)=>t?"other":r==1?"one":"other",js=(r,t)=>t?"other":r==0||r==1?"one":"other",Cc=(r,t)=>t?"other":r>=0&&r<=1?"one":"other",Qi=(r,t)=>{let i=String(r).split("."),n=!i[1];return t?"other":r==1&&n?"one":"other"},kt=(r,t)=>"other",Bs=(r,t)=>t?"other":r==1?"one":r==2?"two":"other";(function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),typeof define=="function"&&define.amd?define(t):typeof k_=="object"?U4.exports=t:r.plurals=t})(k_,{af:Oe,ak:js,am:Cc,an:Oe,ar:(r,t)=>{let i=String(r).split("."),n=Number(i[0])==r,s=n&&i[0].slice(-2);return t?"other":r==0?"zero":r==1?"one":r==2?"two":s>=3&&s<=10?"few":s>=11&&s<=99?"many":"other"},ars:(r,t)=>{let i=String(r).split("."),n=Number(i[0])==r,s=n&&i[0].slice(-2);return t?"other":r==0?"zero":r==1?"one":r==2?"two":s>=3&&s<=10?"few":s>=11&&s<=99?"many":"other"},as:(r,t)=>t?r==1||r==5||r==7||r==8||r==9||r==10?"one":r==2||r==3?"two":r==4?"few":r==6?"many":"other":r>=0&&r<=1?"one":"other",asa:Oe,ast:Qi,az:(r,t)=>{let i=String(r).split("."),n=i[0],s=n.slice(-1),o=n.slice(-2),l=n.slice(-3);return t?s==1||s==2||s==5||s==7||s==8||o==20||o==50||o==70||o==80?"one":s==3||s==4||l==100||l==200||l==300||l==400||l==500||l==600||l==700||l==800||l==900?"few":n==0||s==6||o==40||o==60||o==90?"many":"other":r==1?"one":"other"},bal:(r,t)=>r==1?"one":"other",be:(r,t)=>{let i=String(r).split("."),n=Number(i[0])==r,s=n&&i[0].slice(-1),o=n&&i[0].slice(-2);return t?(s==2||s==3)&&o!=12&&o!=13?"few":"other":s==1&&o!=11?"one":s>=2&&s<=4&&(o<12||o>14)?"few":n&&s==0||s>=5&&s<=9||o>=11&&o<=14?"many":"other"},bem:Oe,bez:Oe,bg:Oe,bho:js,bm:kt,bn:(r,t)=>t?r==1||r==5||r==7||r==8||r==9||r==10?"one":r==2||r==3?"two":r==4?"few":r==6?"many":"other":r>=0&&r<=1?"one":"other",bo:kt,br:(r,t)=>{let i=String(r).split("."),n=Number(i[0])==r,s=n&&i[0].slice(-1),o=n&&i[0].slice(-2),l=n&&i[0].slice(-6);return t?"other":s==1&&o!=11&&o!=71&&o!=91?"one":s==2&&o!=12&&o!=72&&o!=92?"two":(s==3||s==4||s==9)&&(o<10||o>19)&&(o<70||o>79)&&(o<90||o>99)?"few":r!=0&&n&&l==0?"many":"other"},brx:Oe,bs:(r,t)=>{let i=String(r).split("."),n=i[0],s=i[1]||"",o=!i[1],l=n.slice(-1),h=n.slice(-2),p=s.slice(-1),g=s.slice(-2);return t?"other":o&&l==1&&h!=11||p==1&&g!=11?"one":o&&l>=2&&l<=4&&(h<12||h>14)||p>=2&&p<=4&&(g<12||g>14)?"few":"other"},ca:(r,t)=>{let i=String(r).split("."),n=i[0],s=!i[1],o=n.slice(-6);return t?r==1||r==3?"one":r==2?"two":r==4?"few":"other":r==1&&s?"one":n!=0&&o==0&&s?"many":"other"},ce:Oe,ceb:(r,t)=>{let i=String(r).split("."),n=i[0],s=i[1]||"",o=!i[1],l=n.slice(-1),h=s.slice(-1);return t?"other":o&&(n==1||n==2||n==3)||o&&l!=4&&l!=6&&l!=9||!o&&h!=4&&h!=6&&h!=9?"one":"other"},cgg:Oe,chr:Oe,ckb:Oe,cs:(r,t)=>{let i=String(r).split("."),n=i[0],s=!i[1];return t?"other":r==1&&s?"one":n>=2&&n<=4&&s?"few":s?"other":"many"},cy:(r,t)=>t?r==0||r==7||r==8||r==9?"zero":r==1?"one":r==2?"two":r==3||r==4?"few":r==5||r==6?"many":"other":r==0?"zero":r==1?"one":r==2?"two":r==3?"few":r==6?"many":"other",da:(r,t)=>{let i=String(r).split("."),n=i[0],s=Number(i[0])==r;return t?"other":r==1||!s&&(n==0||n==1)?"one":"other"},de:Qi,doi:Cc,dsb:(r,t)=>{let i=String(r).split("."),n=i[0],s=i[1]||"",o=!i[1],l=n.slice(-2),h=s.slice(-2);return t?"other":o&&l==1||h==1?"one":o&&l==2||h==2?"two":o&&(l==3||l==4)||h==3||h==4?"few":"other"},dv:Oe,dz:kt,ee:Oe,el:Oe,en:(r,t)=>{let i=String(r).split("."),n=!i[1],s=Number(i[0])==r,o=s&&i[0].slice(-1),l=s&&i[0].slice(-2);return t?o==1&&l!=11?"one":o==2&&l!=12?"two":o==3&&l!=13?"few":"other":r==1&&n?"one":"other"},eo:Oe,es:(r,t)=>{let i=String(r).split("."),n=i[0],s=!i[1],o=n.slice(-6);return t?"other":r==1?"one":n!=0&&o==0&&s?"many":"other"},et:Qi,eu:Oe,fa:Cc,ff:(r,t)=>t?"other":r>=0&&r<2?"one":"other",fi:Qi,fil:(r,t)=>{let i=String(r).split("."),n=i[0],s=i[1]||"",o=!i[1],l=n.slice(-1),h=s.slice(-1);return t?r==1?"one":"other":o&&(n==1||n==2||n==3)||o&&l!=4&&l!=6&&l!=9||!o&&h!=4&&h!=6&&h!=9?"one":"other"},fo:Oe,fr:(r,t)=>{let i=String(r).split("."),n=i[0],s=!i[1],o=n.slice(-6);return t?r==1?"one":"other":r>=0&&r<2?"one":n!=0&&o==0&&s?"many":"other"},fur:Oe,fy:Qi,ga:(r,t)=>{let i=String(r).split("."),n=Number(i[0])==r;return t?r==1?"one":"other":r==1?"one":r==2?"two":n&&r>=3&&r<=6?"few":n&&r>=7&&r<=10?"many":"other"},gd:(r,t)=>{let i=String(r).split("."),n=Number(i[0])==r;return t?r==1||r==11?"one":r==2||r==12?"two":r==3||r==13?"few":"other":r==1||r==11?"one":r==2||r==12?"two":n&&r>=3&&r<=10||n&&r>=13&&r<=19?"few":"other"},gl:Qi,gsw:Oe,gu:(r,t)=>t?r==1?"one":r==2||r==3?"two":r==4?"few":r==6?"many":"other":r>=0&&r<=1?"one":"other",guw:js,gv:(r,t)=>{let i=String(r).split("."),n=i[0],s=!i[1],o=n.slice(-1),l=n.slice(-2);return t?"other":s&&o==1?"one":s&&o==2?"two":s&&(l==0||l==20||l==40||l==60||l==80)?"few":s?"other":"many"},ha:Oe,haw:Oe,he:(r,t)=>{let i=String(r).split("."),n=i[0],s=!i[1];return t?"other":n==1&&s||n==0&&!s?"one":n==2&&s?"two":"other"},hi:(r,t)=>t?r==1?"one":r==2||r==3?"two":r==4?"few":r==6?"many":"other":r>=0&&r<=1?"one":"other",hnj:kt,hr:(r,t)=>{let i=String(r).split("."),n=i[0],s=i[1]||"",o=!i[1],l=n.slice(-1),h=n.slice(-2),p=s.slice(-1),g=s.slice(-2);return t?"other":o&&l==1&&h!=11||p==1&&g!=11?"one":o&&l>=2&&l<=4&&(h<12||h>14)||p>=2&&p<=4&&(g<12||g>14)?"few":"other"},hsb:(r,t)=>{let i=String(r).split("."),n=i[0],s=i[1]||"",o=!i[1],l=n.slice(-2),h=s.slice(-2);return t?"other":o&&l==1||h==1?"one":o&&l==2||h==2?"two":o&&(l==3||l==4)||h==3||h==4?"few":"other"},hu:(r,t)=>t?r==1||r==5?"one":"other":r==1?"one":"other",hy:(r,t)=>t?r==1?"one":"other":r>=0&&r<2?"one":"other",ia:Qi,id:kt,ig:kt,ii:kt,io:Qi,is:(r,t)=>{let i=String(r).split("."),n=i[0],s=(i[1]||"").replace(/0+$/,""),o=Number(i[0])==r,l=n.slice(-1),h=n.slice(-2);return t?"other":o&&l==1&&h!=11||s%10==1&&s%100!=11?"one":"other"},it:(r,t)=>{let i=String(r).split("."),n=i[0],s=!i[1],o=n.slice(-6);return t?r==11||r==8||r==80||r==800?"many":"other":r==1&&s?"one":n!=0&&o==0&&s?"many":"other"},iu:Bs,ja:kt,jbo:kt,jgo:Oe,jmc:Oe,jv:kt,jw:kt,ka:(r,t)=>{let i=String(r).split("."),n=i[0],s=n.slice(-2);return t?n==1?"one":n==0||s>=2&&s<=20||s==40||s==60||s==80?"many":"other":r==1?"one":"other"},kab:(r,t)=>t?"other":r>=0&&r<2?"one":"other",kaj:Oe,kcg:Oe,kde:kt,kea:kt,kk:(r,t)=>{let i=String(r).split("."),n=Number(i[0])==r,s=n&&i[0].slice(-1);return t?s==6||s==9||n&&s==0&&r!=0?"many":"other":r==1?"one":"other"},kkj:Oe,kl:Oe,km:kt,kn:Cc,ko:kt,ks:Oe,ksb:Oe,ksh:(r,t)=>t?"other":r==0?"zero":r==1?"one":"other",ku:Oe,kw:(r,t)=>{let i=String(r).split("."),n=Number(i[0])==r,s=n&&i[0].slice(-2),o=n&&i[0].slice(-3),l=n&&i[0].slice(-5),h=n&&i[0].slice(-6);return t?n&&r>=1&&r<=4||s>=1&&s<=4||s>=21&&s<=24||s>=41&&s<=44||s>=61&&s<=64||s>=81&&s<=84?"one":r==5||s==5?"many":"other":r==0?"zero":r==1?"one":s==2||s==22||s==42||s==62||s==82||n&&o==0&&(l>=1e3&&l<=2e4||l==4e4||l==6e4||l==8e4)||r!=0&&h==1e5?"two":s==3||s==23||s==43||s==63||s==83?"few":r!=1&&(s==1||s==21||s==41||s==61||s==81)?"many":"other"},ky:Oe,lag:(r,t)=>{let i=String(r).split("."),n=i[0];return t?"other":r==0?"zero":(n==0||n==1)&&r!=0?"one":"other"},lb:Oe,lg:Oe,lij:(r,t)=>{let i=String(r).split("."),n=!i[1],s=Number(i[0])==r;return t?r==11||r==8||s&&r>=80&&r<=89||s&&r>=800&&r<=899?"many":"other":r==1&&n?"one":"other"},lkt:kt,ln:js,lo:(r,t)=>t&&r==1?"one":"other",lt:(r,t)=>{let i=String(r).split("."),n=i[1]||"",s=Number(i[0])==r,o=s&&i[0].slice(-1),l=s&&i[0].slice(-2);return t?"other":o==1&&(l<11||l>19)?"one":o>=2&&o<=9&&(l<11||l>19)?"few":n!=0?"many":"other"},lv:(r,t)=>{let i=String(r).split("."),n=i[1]||"",s=n.length,o=Number(i[0])==r,l=o&&i[0].slice(-1),h=o&&i[0].slice(-2),p=n.slice(-2),g=n.slice(-1);return t?"other":o&&l==0||h>=11&&h<=19||s==2&&p>=11&&p<=19?"zero":l==1&&h!=11||s==2&&g==1&&p!=11||s!=2&&g==1?"one":"other"},mas:Oe,mg:js,mgo:Oe,mk:(r,t)=>{let i=String(r).split("."),n=i[0],s=i[1]||"",o=!i[1],l=n.slice(-1),h=n.slice(-2),p=s.slice(-1),g=s.slice(-2);return t?l==1&&h!=11?"one":l==2&&h!=12?"two":(l==7||l==8)&&h!=17&&h!=18?"many":"other":o&&l==1&&h!=11||p==1&&g!=11?"one":"other"},ml:Oe,mn:Oe,mo:(r,t)=>{let i=String(r).split("."),n=!i[1],s=Number(i[0])==r,o=s&&i[0].slice(-2);return t?r==1?"one":"other":r==1&&n?"one":!n||r==0||r!=1&&o>=1&&o<=19?"few":"other"},mr:(r,t)=>t?r==1?"one":r==2||r==3?"two":r==4?"few":"other":r==1?"one":"other",ms:(r,t)=>t&&r==1?"one":"other",mt:(r,t)=>{let i=String(r).split("."),n=Number(i[0])==r,s=n&&i[0].slice(-2);return t?"other":r==1?"one":r==2?"two":r==0||s>=3&&s<=10?"few":s>=11&&s<=19?"many":"other"},my:kt,nah:Oe,naq:Bs,nb:Oe,nd:Oe,ne:(r,t)=>{let i=String(r).split("."),n=Number(i[0])==r;return t?n&&r>=1&&r<=4?"one":"other":r==1?"one":"other"},nl:Qi,nn:Oe,nnh:Oe,no:Oe,nqo:kt,nr:Oe,nso:js,ny:Oe,nyn:Oe,om:Oe,or:(r,t)=>{let i=String(r).split("."),n=Number(i[0])==r;return t?r==1||r==5||n&&r>=7&&r<=9?"one":r==2||r==3?"two":r==4?"few":r==6?"many":"other":r==1?"one":"other"},os:Oe,osa:kt,pa:js,pap:Oe,pcm:Cc,pl:(r,t)=>{let i=String(r).split("."),n=i[0],s=!i[1],o=n.slice(-1),l=n.slice(-2);return t?"other":r==1&&s?"one":s&&o>=2&&o<=4&&(l<12||l>14)?"few":s&&n!=1&&(o==0||o==1)||s&&o>=5&&o<=9||s&&l>=12&&l<=14?"many":"other"},prg:(r,t)=>{let i=String(r).split("."),n=i[1]||"",s=n.length,o=Number(i[0])==r,l=o&&i[0].slice(-1),h=o&&i[0].slice(-2),p=n.slice(-2),g=n.slice(-1);return t?"other":o&&l==0||h>=11&&h<=19||s==2&&p>=11&&p<=19?"zero":l==1&&h!=11||s==2&&g==1&&p!=11||s!=2&&g==1?"one":"other"},ps:Oe,pt:(r,t)=>{let i=String(r).split("."),n=i[0],s=!i[1],o=n.slice(-6);return t?"other":n==0||n==1?"one":n!=0&&o==0&&s?"many":"other"},pt_PT:(r,t)=>{let i=String(r).split("."),n=i[0],s=!i[1],o=n.slice(-6);return t?"other":r==1&&s?"one":n!=0&&o==0&&s?"many":"other"},rm:Oe,ro:(r,t)=>{let i=String(r).split("."),n=!i[1],s=Number(i[0])==r,o=s&&i[0].slice(-2);return t?r==1?"one":"other":r==1&&n?"one":!n||r==0||r!=1&&o>=1&&o<=19?"few":"other"},rof:Oe,ru:(r,t)=>{let i=String(r).split("."),n=i[0],s=!i[1],o=n.slice(-1),l=n.slice(-2);return t?"other":s&&o==1&&l!=11?"one":s&&o>=2&&o<=4&&(l<12||l>14)?"few":s&&o==0||s&&o>=5&&o<=9||s&&l>=11&&l<=14?"many":"other"},rwk:Oe,sah:kt,saq:Oe,sat:Bs,sc:(r,t)=>{let i=String(r).split("."),n=!i[1];return t?r==11||r==8||r==80||r==800?"many":"other":r==1&&n?"one":"other"},scn:(r,t)=>{let i=String(r).split("."),n=!i[1];return t?r==11||r==8||r==80||r==800?"many":"other":r==1&&n?"one":"other"},sd:Oe,sdh:Oe,se:Bs,seh:Oe,ses:kt,sg:kt,sh:(r,t)=>{let i=String(r).split("."),n=i[0],s=i[1]||"",o=!i[1],l=n.slice(-1),h=n.slice(-2),p=s.slice(-1),g=s.slice(-2);return t?"other":o&&l==1&&h!=11||p==1&&g!=11?"one":o&&l>=2&&l<=4&&(h<12||h>14)||p>=2&&p<=4&&(g<12||g>14)?"few":"other"},shi:(r,t)=>{let i=String(r).split("."),n=Number(i[0])==r;return t?"other":r>=0&&r<=1?"one":n&&r>=2&&r<=10?"few":"other"},si:(r,t)=>{let i=String(r).split("."),n=i[0],s=i[1]||"";return t?"other":r==0||r==1||n==0&&s==1?"one":"other"},sk:(r,t)=>{let i=String(r).split("."),n=i[0],s=!i[1];return t?"other":r==1&&s?"one":n>=2&&n<=4&&s?"few":s?"other":"many"},sl:(r,t)=>{let i=String(r).split("."),n=i[0],s=!i[1],o=n.slice(-2);return t?"other":s&&o==1?"one":s&&o==2?"two":s&&(o==3||o==4)||!s?"few":"other"},sma:Bs,smi:Bs,smj:Bs,smn:Bs,sms:Bs,sn:Oe,so:Oe,sq:(r,t)=>{let i=String(r).split("."),n=Number(i[0])==r,s=n&&i[0].slice(-1),o=n&&i[0].slice(-2);return t?r==1?"one":s==4&&o!=14?"many":"other":r==1?"one":"other"},sr:(r,t)=>{let i=String(r).split("."),n=i[0],s=i[1]||"",o=!i[1],l=n.slice(-1),h=n.slice(-2),p=s.slice(-1),g=s.slice(-2);return t?"other":o&&l==1&&h!=11||p==1&&g!=11?"one":o&&l>=2&&l<=4&&(h<12||h>14)||p>=2&&p<=4&&(g<12||g>14)?"few":"other"},ss:Oe,ssy:Oe,st:Oe,su:kt,sv:(r,t)=>{let i=String(r).split("."),n=!i[1],s=Number(i[0])==r,o=s&&i[0].slice(-1),l=s&&i[0].slice(-2);return t?(o==1||o==2)&&l!=11&&l!=12?"one":"other":r==1&&n?"one":"other"},sw:Qi,syr:Oe,ta:Oe,te:Oe,teo:Oe,th:kt,ti:js,tig:Oe,tk:(r,t)=>{let i=String(r).split("."),n=Number(i[0])==r,s=n&&i[0].slice(-1);return t?s==6||s==9||r==10?"few":"other":r==1?"one":"other"},tl:(r,t)=>{let i=String(r).split("."),n=i[0],s=i[1]||"",o=!i[1],l=n.slice(-1),h=s.slice(-1);return t?r==1?"one":"other":o&&(n==1||n==2||n==3)||o&&l!=4&&l!=6&&l!=9||!o&&h!=4&&h!=6&&h!=9?"one":"other"},tn:Oe,to:kt,tpi:kt,tr:Oe,ts:Oe,tzm:(r,t)=>{let i=String(r).split("."),n=Number(i[0])==r;return t?"other":r==0||r==1||n&&r>=11&&r<=99?"one":"other"},ug:Oe,uk:(r,t)=>{let i=String(r).split("."),n=i[0],s=!i[1],o=Number(i[0])==r,l=o&&i[0].slice(-1),h=o&&i[0].slice(-2),p=n.slice(-1),g=n.slice(-2);return t?l==3&&h!=13?"few":"other":s&&p==1&&g!=11?"one":s&&p>=2&&p<=4&&(g<12||g>14)?"few":s&&p==0||s&&p>=5&&p<=9||s&&g>=11&&g<=14?"many":"other"},und:kt,ur:Qi,uz:Oe,ve:Oe,vec:(r,t)=>{let i=String(r).split("."),n=i[0],s=!i[1],o=n.slice(-6);return t?r==11||r==8||r==80||r==800?"many":"other":r==1&&s?"one":n!=0&&o==0&&s?"many":"other"},vi:(r,t)=>t&&r==1?"one":"other",vo:Oe,vun:Oe,wa:js,wae:Oe,wo:kt,xh:Oe,xog:Oe,yi:Qi,yo:kt,yue:kt,zh:kt,zu:Cc})});var z4=x((xve,W4)=>{"use strict";var WQ=L4(),zQ=F4(),HQ=B4(),VQ=R_(),x_=m_();function O_(r){var t=Object.create(null);return r&&Object.keys(r).forEach(function(i){if(i!=="default"){var n=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(t,i,n.get?n:{enumerable:!0,get:function(){return r[i]}})}}),t.default=r,Object.freeze(t)}var $Q=O_(zQ),q4=O_(HQ),am=O_(VQ);function A_(r){if(typeof r!="string"||r.length<2)throw new RangeError(`Invalid language tag: ${r}`);if(r.startsWith("pt-PT"))return"pt-PT";let t=r.match(/.+?(?=[-_])/);return t?t[0]:r}function sm(r){if(typeof r=="function"){let n=A_(r.name);return{isDefault:!1,id:x_.identifier(n),lc:n,locale:r.name,getPlural:r,cardinals:r.cardinals||[],ordinals:r.ordinals||[]}}let t=A_(r),i=x_.identifier(t);return KQ(i)?{isDefault:!0,id:i,lc:t,locale:r,getCardinal:$Q[i],getPlural:am[i],cardinals:q4[i].cardinal,ordinals:q4[i].ordinal}:null}function GQ(r){let t=Object.keys(am).filter(i=>i!==r);return t.unshift(r),t.map(sm)}function YQ(r){let t=A_(r);return x_.identifier(t)in am}function KQ(r){return r in am}var om=class r{static escape(t,i){let n=i?/[#{}]/g:/[{}]/g;return String(t).replace(n,"'$&'")}static supportedLocalesOf(t){return(Array.isArray(t)?t:[t]).filter(YQ)}constructor(t,i){if(this.plurals=[],this.options=Object.assign({biDiSupport:!1,currency:"USD",customFormatters:{},localeCodeFromKey:null,requireAllArguments:!1,returnType:"string",strict:i&&i.strictNumberSign||!1,strictPluralKeys:!0},i),t==="*")this.plurals=GQ(r.defaultLocale);else if(Array.isArray(t))this.plurals=t.map(sm).filter(Boolean);else if(t){let n=sm(t);n&&(this.plurals=[n])}if(this.plurals.length===0){let n=sm(r.defaultLocale);this.plurals=[n]}}resolvedOptions(){return Object.assign(Object.assign({},this.options),{locale:this.plurals[0].locale,plurals:this.plurals})}compile(t){let i=new WQ(this.options),n="return "+i.compile(t,this.plurals[0]),s=[],o=[];for(let[h,p]of Object.entries(i.runtime))s.push(h),o.push(p);return new Function(...s,n)(...o)}};om.defaultLocale="en";W4.exports=om});var H4=x(N_=>{"use strict";Object.defineProperty(N_,"__esModule",{value:!0});var Ud={value:"[-+]?(?:Infinity|[[0-9]*\\.?\\d*(?:[eE][-+]?\\d+)?)",leftBrace:"[\\(\\]\\[]",delimeter:",",rightBrace:"[\\)\\]\\[]"},XQ=new RegExp("("+Ud.leftBrace+")"+("("+Ud.value+")?")+("("+Ud.delimeter+")?")+("("+Ud.value+")?")+("("+Ud.rightBrace+")"));function JQ(r){var t=XQ.exec(r);if(!t)return null;var i=t[0],n=t[1],s=t[2],o=t[3],l=t[4],h=t[5];return{leftBrace:n,fromValue:s,delimeter:o,toValue:l,rightBrace:h}}function ZQ(r){var t=JQ(r);return t?{from:{value:t.fromValue!==void 0?+t.fromValue:-1/0,included:t.leftBrace==="["},to:{value:t.toValue!==void 0?+t.toValue:t.delimeter?1/0:t.fromValue!==void 0?+t.fromValue:NaN,included:t.rightBrace==="]"}}:null}function QQ(r){return r.from.value===r.to.value?r.from.included&&r.to.included:Math.min(r.from.value,r.to.value)===r.from.value}function eee(r){var t=ZQ(r);return!t||!QQ(t)?null:t}N_.default=eee});var Y4=x((Ove,G4)=>{"use strict";var V4=B6().printf,tee=U6().version,Cn=require("fs"),ree=require("url"),lm=require("path"),iee=Xg()("i18n:debug"),nee=Xg()("i18n:warn"),see=Xg()("i18n:error"),oee=J6(),aee=z4(),lee=R_(),cee=H4().default,$4=r=>r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),uee=function(t=!1){let i={},n={},s={},o={__:"__",__n:"__n",__l:"__l",__h:"__h",__mf:"__mf",getLocale:"getLocale",setLocale:"setLocale",getCatalog:"getCatalog",getLocales:"getLocales",addLocale:"addLocale",removeLocale:"removeLocale"},l={tags:["{{","}}"],disable:!1},h,p=lm.sep,g,m,y,S,w,C,_,R,D,I,M,L,V,K,Q,le,ge,j,N,X,U,k,W={};W.version=tee,W.configure=function($){if(s={},$.api&&typeof $.api=="object"){for(let ne in $.api)if(Object.prototype.hasOwnProperty.call($.api,ne)){let Pe=$.api[ne];typeof o[ne]<"u"&&(o[ne]=Pe)}}typeof $.register=="object"&&(j=$.register,Array.isArray($.register)?(j=$.register,j.forEach(fe)):fe($.register)),m=typeof $.cookie=="string"?$.cookie:null,y=typeof $.header=="string"?$.header:"accept-language",ge=typeof $.queryParameter=="string"?$.queryParameter:null,C=typeof $.directory=="string"?$.directory:lm.join(__dirname,"locales"),_=typeof $.directoryPermissions=="string"?parseInt($.directoryPermissions,8):null,N=typeof $.updateFiles=="boolean"?$.updateFiles:!0,X=typeof $.syncFiles=="boolean"?$.syncFiles:!1,I=typeof $.indent=="string"?$.indent:"	",le=typeof $.prefix=="string"?$.prefix:"",R=typeof $.extension=="string"?$.extension:".json",S=typeof $.defaultLocale=="string"?$.defaultLocale:"en",w=typeof $.retryInDefaultLocale=="boolean"?$.retryInDefaultLocale:!1,g=typeof $.autoReload=="boolean"?$.autoReload:!1,Q=typeof $.objectNotation<"u"?$.objectNotation:!1,Q===!0&&(Q="."),D=typeof $.fallbacks=="object"?$.fallbacks:{},M=typeof $.logDebugFn=="function"?$.logDebugFn:iee,V=typeof $.logWarnFn=="function"?$.logWarnFn:nee,L=typeof $.logErrorFn=="function"?$.logErrorFn:see,K=typeof $.preserveLegacyCase=="boolean"?$.preserveLegacyCase:!0,U=typeof $.missingKeyFn=="function"?$.missingKeyFn:sr,k=typeof $.parser=="object"&&typeof $.parser.parse=="function"&&typeof $.parser.stringify=="function"?$.parser:JSON,$.locales=$.staticCatalog?Object.keys($.staticCatalog):$.locales||ye(C),$.staticCatalog&&(N=!1,g=!1,X=!1),$.mustacheConfig&&(Array.isArray($.mustacheConfig.tags)&&(l.tags=$.mustacheConfig.tags),$.mustacheConfig.disable===!0&&(l.disable=!0));let[ae,re]=l.tags;h=new RegExp($4(ae)+".*"+$4(re)),Array.isArray($.locales)&&($.staticCatalog?s=$.staticCatalog:$.locales.forEach(xe),g&&Cn.watch(C,(ne,Pe)=>{let z=$e(Pe);z&&$.locales.indexOf(z)>-1&&(it('Auto reloading locale file "'+Pe+'".'),xe(z))}))},W.init=function($,ae,re){if(typeof $=="object")Qe($),fe($),W.setLocale($,$.locale);else return Ft("i18n.init must be called with one parameter minimum, ie. i18n.init(req)");if(typeof ae=="object"&&(fe(ae),W.setLocale(ae,$.locale)),typeof re=="function")return re()},W.__=function($){let ae,re=ue(arguments),ne=re[0],Pe=re[1];return typeof $=="object"?typeof $.locale=="string"&&typeof $.phrase=="string"&&(ae=Ie($.locale,$.phrase)):ae=Ie(ce(this),$),typeof ae=="object"&&ae.one&&(ae=ae.one),typeof ae=="object"&&ae.other&&(ae=ae.other),J(ae,ne,Pe)},W.__mf=function($){let ae,re,ne,Pe=S,z=ue(arguments),F=z[0],O=z[1];return typeof $=="object"?typeof $.locale=="string"&&typeof $.phrase=="string"&&(ae=$.phrase,Pe=$.locale):(ae=$,Pe=ce(this)),ae=Ie(Pe,ae),i[Pe]?re=i[Pe]:(re=new aee(Pe),re.compiledFunctions={},i[Pe]=re),re.compiledFunctions[ae]?ne=re.compiledFunctions[ae]:(ne=re.compile(ae),re.compiledFunctions[ae]=ne),J(ne(F),F,O)},W.__l=function($){let ae=[];return Object.keys(s).sort().forEach(re=>{ae.push(W.__({phrase:$,locale:re}))}),ae},W.__h=function($){let ae=[];return Object.keys(s).sort().forEach(re=>{let ne={};ne[re]=W.__({phrase:$,locale:re}),ae.push(ne)}),ae},W.__n=function($,ae,re){let ne,Pe,z,F=[];if(se(arguments)?(Pe=arguments[arguments.length-1],F=arguments.length>=5?Array.prototype.slice.call(arguments,3,-1):[]):(Pe={},F=arguments.length>=4?Array.prototype.slice.call(arguments,3):[]),typeof $=="object"?(typeof $.locale=="string"&&typeof $.singular=="string"&&typeof $.plural=="string"&&(z=$.locale,ne=Ie($.locale,$.singular,$.plural)),F.unshift(re),(typeof ae=="number"||Number(ae)+""===ae)&&(re=ae),(typeof $.count=="number"||typeof $.count=="string")&&(re=$.count,F.unshift(ae))):((typeof ae=="number"||Number(ae)+""===ae)&&(re=ae,ae=$,F.unshift(re),F.unshift(ae)),ne=Ie(ce(this),$,ae),z=ce(this)),re===null&&(re=Pe.count),re=Number(re),typeof ne=="object"){let O;if(n[z])O=n[z];else{let B=z.toLowerCase().split(/[_-\s]+/).filter(Z=>Z);O=lee[B[0]||z],n[z]=O}ne=ne[O(re)]||ne.other}return J(ne,Pe,F,re)},W.setLocale=function($,ae,re){if(Array.isArray($)&&typeof ae=="string"){for(let z=$.length-1;z>=0;z--)W.setLocale($[z],ae,!0);return W.getLocale($[0])}let ne=$,Pe=ae;return ae===void 0&&typeof $=="string"&&(ne=this,Pe=$),s[Pe]||(Pe=et(Pe,D)||Pe),ne.locale=s[Pe]?Pe:S,typeof j=="object"&&(Array.isArray(j)&&!re?j.forEach(z=>{z.locale=ne.locale}):j.locale=ne.locale),ne.res&&!re&&(ne.res.locals?(W.setLocale(ne.res,ne.locale,!0),W.setLocale(ne.res.locals,ne.locale,!0)):W.setLocale(ne.res,ne.locale)),ne.locals&&!re&&(ne.locals.res?(W.setLocale(ne.locals,ne.locale,!0),W.setLocale(ne.locals.res,ne.locale,!0)):W.setLocale(ne.locals,ne.locale)),W.getLocale(ne)},W.getLocale=function($){return $&&$.locale?$.locale:this.locale||S},W.getCatalog=function($,ae){let re;return typeof $=="object"&&typeof $.locale=="string"&&ae===void 0&&(re=$.locale),!re&&typeof $=="object"&&typeof ae=="string"&&(re=ae),!re&&ae===void 0&&typeof $=="string"&&(re=$),!re&&$===void 0&&ae===void 0&&typeof this.locale=="string"&&(j&&j.global?re="":re=this.locale),re===void 0||re===""?s:(s[re]||(re=et(re,D)||re),s[re]?s[re]:(Te('No catalog found for "'+re+'"'),!1))},W.getLocales=function(){return Object.keys(s)},W.addLocale=function($){xe($)},W.removeLocale=function($){delete s[$]};let J=(ee,$,ae,re)=>(/\|/.test(ee)&&(ee=ve(ee,re)),typeof re=="number"&&(ee=V4(ee,Number(re))),!l.disable&&h.test(ee)&&(ee=oee.render(ee,$,{},l.tags)),/%/.test(ee)&&ae&&ae.length>0&&(ee=V4(ee,...ae)),ee),se=ee=>ee.length>1&&ee[ee.length-1]!==null&&typeof ee[ee.length-1]=="object",ue=ee=>{let $,ae;return se(ee)?($=ee[ee.length-1],ae=Array.prototype.slice.call(ee,1,-1)):($={},ae=ee.length>=2?Array.prototype.slice.call(ee,1):[]),[$,ae]},fe=ee=>{let $=!0;for(let ae in o)if(Object.prototype.hasOwnProperty.call(o,ae)){let re=o[ae];ee[re]||($=!1,ee[re]=W[ae].bind(ee))}ee.locale||(ee.locale=S),!$&&(ee.res&&fe(ee.res),ee.locals&&fe(ee.locals))},ye=ee=>{let $=Cn.readdirSync(ee),ae=[];for(let re=$.length-1;re>=0;re--){if($[re].match(/^\./))continue;let ne=$e($[re]);ne&&ae.push(ne)}return ae.sort()},$e=ee=>{let $=new RegExp(R+"$","g"),ae=new RegExp("^"+le,"g");return!ee||le&&!ee.match(ae)||R&&!ee.match($)?!1:ee.replace(le,"").replace($,"")},Ge=ee=>Array.isArray(ee)?ee.find($=>$!==""&&$):typeof ee=="string"&&ee,Qe=ee=>{if(typeof ee=="object"){let $=ee.headers?ee.headers[y]:void 0,ae=[],re=[];if(ee.languages=[S],ee.regions=[S],ee.language=S,ee.region=S,ge&&ee.url){let ne=typeof ee.url=="string"?ee.url:ee.url.toString(),z=ree.parse(ne,!0).query[ge];if(z){let F=Ge(z);if(F)return it("Overriding locale from query: "+F),K&&(F=F.toLowerCase()),W.setLocale(ee,F)}}if(m&&ee.cookies&&ee.cookies[m])return ee.language=ee.cookies[m],W.setLocale(ee,ee.language);if($){let ne=Je($),Pe,z,F;for(let O=0;O<ne.length;O++){let B=ne[O],Z=B.split("-",2),E=Z[0],u=Z[1],v=et(B,D);if(v){F=v;let q=ne.indexOf(B),G=ne.indexOf(F);G>-1&&ne.splice(G,1),ne.splice(q+1,0,F)}let T=et(E,D);if(T&&(F=T,ne.indexOf(F)<0&&ne.push(F)),ae.indexOf(E)<0&&ae.push(E.toLowerCase()),u&&re.push(u.toLowerCase()),!Pe&&s[B]){Pe=B;break}!z&&s[E]&&(z=E)}return ee.language=Pe||z||ee.language,ee.region=re[0]||ee.region,W.setLocale(ee,ee.language)}}return W.setLocale(ee,S)},Je=ee=>{let $=ee.split(","),ae={};return $.map(re=>{let ne=re.trim().split(";q=");if(ne.length<2)ne[1]=1;else{let Pe=parseFloat(ne[1]);ne[1]=Pe||0}return ae[ne[0]]=ne[1],ne[0]}).filter(re=>ae[re]>0).sort((re,ne)=>ae[ne]-ae[re])},ce=ee=>{let $;return ee&&ee.scope&&($=ee.scope.locale),ee&&ee.locale&&($=ee.locale),$},ve=(ee,$)=>{let ae=ee,re=ee.split(/\|/),ne=!1;return re.some(Pe=>{let z=Pe.match(/^\s*([()[\]]+[\d,]+[()[\]]+)?\s*(.*)$/);if(z!=null&&z[1]){if(ne=!0,Xe($,z[1])===!0)return ae=z[2],!0}else ne&&(ae=Pe);return!1}),ae},Xe=(ee,$)=>($=cee($),$&&typeof ee=="number"?$.from.value===ee?$.from.included:$.to.value===ee?$.to.included:Math.min($.from.value,ee)===$.from.value&&Math.max($.to.value,ee)===$.to.value:!1),Ie=(ee,$,ae,re)=>{!re&&X&&de($,ae),ee===void 0&&(Te("WARN: No locale found - check the context of the call to __(). Using "+S+" as current locale"),ee=S),s[ee]||(ee=et(ee,D)||ee),s[ee]||xe(ee),s[ee]||(Te("WARN: Locale "+ee+" couldn't be read - check the context of the call to $__. Using "+S+" (default) as current locale"),ee=S,xe(ee));let ne=$,Pe=ae;if(Q){let O=$.indexOf(":");O>0&&(ne=$.substring(O+1),$=$.substring(0,O)),ae&&typeof ae!="number"&&(O=ae.indexOf(":"),O>0&&(Pe=ae.substring(O+1),ae=ae.substring(0,O)))}let z=te(ee,$),F=oe(ee,$);return ae&&z()==null&&(w&&ee!==S?(it("Missing "+$+" in "+ee+" retrying in "+S),F(Ie(S,$,ae,!0))):F({one:ne||$,other:Pe||ae}),Ne(ee)),z()==null&&(w&&ee!==S?(it("Missing "+$+" in "+ee+" retrying in "+S),F(Ie(S,$,ae,!0))):F(ne||$),Ne(ee)),z()},de=(ee,$)=>{for(let ae in s)Ie(ae,ee,$,!0)},te=(ee,$,ae)=>{if(!s[ee])return Function.prototype;let re=Q&&$.lastIndexOf(Q);if(Q&&re>0&&re<$.length-1){typeof ae>"u"&&(ae=!0);let ne=null,Pe=()=>null,z=!1;return $.split(Q).reduce((F,O)=>(ne=Pe,F===null||!Object.prototype.hasOwnProperty.call(F,O)?(z=ae,null):(ne=()=>F[O],F[O])),s[ee]),()=>z?te(ee,$,!1)():ne()}else return()=>s[ee][$]},oe=function(ee,$,ae){if(!s[ee])return Function.prototype;let re=Q&&$.lastIndexOf(Q);if(Q&&re>0&&re<$.length-1){typeof ae>"u"&&(ae=!1);let ne=null,Pe=()=>null,z=()=>({}),F=!1;return $.split(Q).reduce((O,B)=>{if(ne=Pe,O===null||!Object.prototype.hasOwnProperty.call(O,B))if(ae)(O===null||typeof O!="object")&&(O=z()),O[B]={};else return F=!0,null;return ne=Z=>(O[B]=Z,Z),z=()=>(O[B]={},O[B]),O[B]},s[ee]),O=>(O=U(ee,O),F?oe(ee,$,!0)(O):ne(O))}else return ne=>(ne=U(ee,ne),s[ee][$]=ne,ne)},xe=ee=>{let $={},ae=pe(ee);try{it("read "+ae+" for locale: "+ee),$=Cn.readFileSync(ae,"utf-8");try{s[ee]=k.parse($)}catch(re){Ft("unable to parse locales from file (maybe "+ae+" is empty or invalid json?): ",re)}}catch{Cn.existsSync(ae)&&(it("backing up invalid locale "+ee+" to "+ae+".invalid"),Cn.renameSync(ae,ae+".invalid")),it("initializing "+ae),Ne(ee)}},Ne=ee=>{let $,ae,re;if(N){try{$=Cn.lstatSync(C)}catch{it("creating locales dir in: "+C);try{Cn.mkdirSync(C,_)}catch(Pe){if(Pe.code!=="EEXIST")throw Pe}}s[ee]||(s[ee]={});try{ae=pe(ee),re=ae+".tmp",Cn.writeFileSync(re,k.stringify(s[ee],null,I),"utf8"),$=Cn.statSync(re),$.isFile()?Cn.renameSync(re,ae):Ft("unable to write locales to file (either "+re+" or "+ae+" are not writeable?): ")}catch(ne){Ft("unexpected error writing files (either "+re+" or "+ae+" are not writeable?): ",ne)}}},pe=ee=>{let $=R||".json",ae=lm.normalize(C+p+le+ee+$),re=lm.normalize(C+p+le+ee+".js");try{if(Cn.statSync(re))return it("using existing file "+re),R=".js",re}catch{it("will use "+ae)}return ae},et=(ee,$)=>{if($=$||{},$[ee])return $[ee];let ae=null;for(let re in $)if(ee.match(new RegExp("^"+re.replace("*",".*")+"$"))){ae=$[re];break}return ae},it=ee=>{M(ee)},Te=ee=>{V(ee)},Ft=ee=>{L(ee)},sr=(ee,$)=>$;return t&&W.configure(t),W};G4.exports=uee});var X4=x((Nve,D_)=>{var K4=Y4();D_.exports=K4();D_.exports.I18n=K4});var eI=x((Pve,L_)=>{var Q4=require("crypto"),cm=require("fs"),I_=8192;function dee(r){let t=cm.openSync(r,"r"),i=Q4.createHash("md5"),n=Buffer.alloc(I_);try{let s;do s=cm.readSync(t,n,0,I_),i.update(n.slice(0,s));while(s===I_)}finally{cm.closeSync(t)}return i.digest("hex")}function fee(r){return new Promise((t,i)=>{let n=Q4.createHash("md5"),s=cm.createReadStream(r);s.on("error",o=>{i(o)}),n.once("readable",()=>{t(n.read().toString("hex"))}),s.pipe(n)})}L_.exports=fee;L_.exports.sync=dee});var kc=x((qve,aI)=>{"use strict";var oI=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);aI.exports=r=>r?Object.keys(r).map(t=>[oI.has(t)?oI.get(t):t,r[t]]).reduce((t,i)=>(t[i[0]]=i[1],t),Object.create(null)):{}});var xc=x((Wve,mI)=>{"use strict";var lI=typeof process=="object"&&process?process:{stdout:null,stderr:null},mee=require("events"),cI=require("stream"),uI=require("string_decoder").StringDecoder,Us=Symbol("EOF"),qs=Symbol("maybeEmitEnd"),qo=Symbol("emittedEnd"),um=Symbol("emittingEnd"),Wd=Symbol("emittedError"),dm=Symbol("closed"),dI=Symbol("read"),fm=Symbol("flush"),fI=Symbol("flushChunk"),vi=Symbol("encoding"),Ws=Symbol("decoder"),hm=Symbol("flowing"),zd=Symbol("paused"),Rc=Symbol("resume"),Rr=Symbol("bufferLength"),j_=Symbol("bufferPush"),B_=Symbol("bufferShift"),Kr=Symbol("objectMode"),Xr=Symbol("destroyed"),U_=Symbol("emitData"),hI=Symbol("emitEnd"),q_=Symbol("emitEnd2"),zs=Symbol("async"),Hd=r=>Promise.resolve().then(r),pI=global._MP_NO_ITERATOR_SYMBOLS_!=="1",yee=pI&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),vee=pI&&Symbol.iterator||Symbol("iterator not implemented"),bee=r=>r==="end"||r==="finish"||r==="prefinish",See=r=>r instanceof ArrayBuffer||typeof r=="object"&&r.constructor&&r.constructor.name==="ArrayBuffer"&&r.byteLength>=0,wee=r=>!Buffer.isBuffer(r)&&ArrayBuffer.isView(r),pm=class{constructor(t,i,n){this.src=t,this.dest=i,this.opts=n,this.ondrain=()=>t[Rc](),i.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},W_=class extends pm{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,i,n){super(t,i,n),this.proxyErrors=s=>i.emit("error",s),t.on("error",this.proxyErrors)}};mI.exports=class gI extends cI{constructor(t){super(),this[hm]=!1,this[zd]=!1,this.pipes=[],this.buffer=[],this[Kr]=t&&t.objectMode||!1,this[Kr]?this[vi]=null:this[vi]=t&&t.encoding||null,this[vi]==="buffer"&&(this[vi]=null),this[zs]=t&&!!t.async||!1,this[Ws]=this[vi]?new uI(this[vi]):null,this[Us]=!1,this[qo]=!1,this[um]=!1,this[dm]=!1,this[Wd]=null,this.writable=!0,this.readable=!0,this[Rr]=0,this[Xr]=!1}get bufferLength(){return this[Rr]}get encoding(){return this[vi]}set encoding(t){if(this[Kr])throw new Error("cannot set encoding in objectMode");if(this[vi]&&t!==this[vi]&&(this[Ws]&&this[Ws].lastNeed||this[Rr]))throw new Error("cannot change encoding");this[vi]!==t&&(this[Ws]=t?new uI(t):null,this.buffer.length&&(this.buffer=this.buffer.map(i=>this[Ws].write(i)))),this[vi]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[Kr]}set objectMode(t){this[Kr]=this[Kr]||!!t}get async(){return this[zs]}set async(t){this[zs]=this[zs]||!!t}write(t,i,n){if(this[Us])throw new Error("write after end");if(this[Xr])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof i=="function"&&(n=i,i="utf8"),i||(i="utf8");let s=this[zs]?Hd:o=>o();return!this[Kr]&&!Buffer.isBuffer(t)&&(wee(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):See(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[Kr]?(this.flowing&&this[Rr]!==0&&this[fm](!0),this.flowing?this.emit("data",t):this[j_](t),this[Rr]!==0&&this.emit("readable"),n&&s(n),this.flowing):t.length?(typeof t=="string"&&!(i===this[vi]&&!this[Ws].lastNeed)&&(t=Buffer.from(t,i)),Buffer.isBuffer(t)&&this[vi]&&(t=this[Ws].write(t)),this.flowing&&this[Rr]!==0&&this[fm](!0),this.flowing?this.emit("data",t):this[j_](t),this[Rr]!==0&&this.emit("readable"),n&&s(n),this.flowing):(this[Rr]!==0&&this.emit("readable"),n&&s(n),this.flowing)}read(t){if(this[Xr])return null;if(this[Rr]===0||t===0||t>this[Rr])return this[qs](),null;this[Kr]&&(t=null),this.buffer.length>1&&!this[Kr]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[Rr])]);let i=this[dI](t||null,this.buffer[0]);return this[qs](),i}[dI](t,i){return t===i.length||t===null?this[B_]():(this.buffer[0]=i.slice(t),i=i.slice(0,t),this[Rr]-=t),this.emit("data",i),!this.buffer.length&&!this[Us]&&this.emit("drain"),i}end(t,i,n){return typeof t=="function"&&(n=t,t=null),typeof i=="function"&&(n=i,i="utf8"),t&&this.write(t,i),n&&this.once("end",n),this[Us]=!0,this.writable=!1,(this.flowing||!this[zd])&&this[qs](),this}[Rc](){this[Xr]||(this[zd]=!1,this[hm]=!0,this.emit("resume"),this.buffer.length?this[fm]():this[Us]?this[qs]():this.emit("drain"))}resume(){return this[Rc]()}pause(){this[hm]=!1,this[zd]=!0}get destroyed(){return this[Xr]}get flowing(){return this[hm]}get paused(){return this[zd]}[j_](t){this[Kr]?this[Rr]+=1:this[Rr]+=t.length,this.buffer.push(t)}[B_](){return this.buffer.length&&(this[Kr]?this[Rr]-=1:this[Rr]-=this.buffer[0].length),this.buffer.shift()}[fm](t){do;while(this[fI](this[B_]()));!t&&!this.buffer.length&&!this[Us]&&this.emit("drain")}[fI](t){return t?(this.emit("data",t),this.flowing):!1}pipe(t,i){if(this[Xr])return;let n=this[qo];return i=i||{},t===lI.stdout||t===lI.stderr?i.end=!1:i.end=i.end!==!1,i.proxyErrors=!!i.proxyErrors,n?i.end&&t.end():(this.pipes.push(i.proxyErrors?new W_(this,t,i):new pm(this,t,i)),this[zs]?Hd(()=>this[Rc]()):this[Rc]()),t}unpipe(t){let i=this.pipes.find(n=>n.dest===t);i&&(this.pipes.splice(this.pipes.indexOf(i),1),i.unpipe())}addListener(t,i){return this.on(t,i)}on(t,i){let n=super.on(t,i);return t==="data"&&!this.pipes.length&&!this.flowing?this[Rc]():t==="readable"&&this[Rr]!==0?super.emit("readable"):bee(t)&&this[qo]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[Wd]&&(this[zs]?Hd(()=>i.call(this,this[Wd])):i.call(this,this[Wd])),n}get emittedEnd(){return this[qo]}[qs](){!this[um]&&!this[qo]&&!this[Xr]&&this.buffer.length===0&&this[Us]&&(this[um]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[dm]&&this.emit("close"),this[um]=!1)}emit(t,i,...n){if(t!=="error"&&t!=="close"&&t!==Xr&&this[Xr])return;if(t==="data")return i?this[zs]?Hd(()=>this[U_](i)):this[U_](i):!1;if(t==="end")return this[hI]();if(t==="close"){if(this[dm]=!0,!this[qo]&&!this[Xr])return;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(t==="error"){this[Wd]=i;let o=super.emit("error",i);return this[qs](),o}else if(t==="resume"){let o=super.emit("resume");return this[qs](),o}else if(t==="finish"||t==="prefinish"){let o=super.emit(t);return this.removeAllListeners(t),o}let s=super.emit(t,i,...n);return this[qs](),s}[U_](t){for(let n of this.pipes)n.dest.write(t)===!1&&this.pause();let i=super.emit("data",t);return this[qs](),i}[hI](){this[qo]||(this[qo]=!0,this.readable=!1,this[zs]?Hd(()=>this[q_]()):this[q_]())}[q_](){if(this[Ws]){let i=this[Ws].end();if(i){for(let n of this.pipes)n.dest.write(i);super.emit("data",i)}}for(let i of this.pipes)i.end();let t=super.emit("end");return this.removeAllListeners("end"),t}collect(){let t=[];this[Kr]||(t.dataLength=0);let i=this.promise();return this.on("data",n=>{t.push(n),this[Kr]||(t.dataLength+=n.length)}),i.then(()=>t)}concat(){return this[Kr]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[Kr]?Promise.reject(new Error("cannot concat in objectMode")):this[vi]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,i)=>{this.on(Xr,()=>i(new Error("stream destroyed"))),this.on("error",n=>i(n)),this.on("end",()=>t())})}[yee](){return{next:()=>{let i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[Us])return Promise.resolve({done:!0});let n=null,s=null,o=g=>{this.removeListener("data",l),this.removeListener("end",h),s(g)},l=g=>{this.removeListener("error",o),this.removeListener("end",h),this.pause(),n({value:g,done:!!this[Us]})},h=()=>{this.removeListener("error",o),this.removeListener("data",l),n({done:!0})},p=()=>o(new Error("stream destroyed"));return new Promise((g,m)=>{s=m,n=g,this.once(Xr,p),this.once("error",o),this.once("end",h),this.once("data",l)})}}}[vee](){return{next:()=>{let i=this.read();return{value:i,done:i===null}}}}destroy(t){return this[Xr]?(t?this.emit("error",t):this.emit(Xr),this):(this[Xr]=!0,this.buffer.length=0,this[Rr]=0,typeof this.close=="function"&&!this[dm]&&this.close(),t?this.emit("error",t):this.emit(Xr),this)}static isStream(t){return!!t&&(t instanceof gI||t instanceof cI||t instanceof mee&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}}});var vI=x((zve,yI)=>{var _ee=require("zlib").constants||{ZLIB_VERNUM:4736};yI.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},_ee))});var nE=x(Mi=>{"use strict";var G_=require("assert"),Wo=require("buffer").Buffer,wI=require("zlib"),Fa=Mi.constants=vI(),Eee=xc(),bI=Wo.concat,ja=Symbol("_superWrite"),Oc=class extends Error{constructor(t){super("zlib: "+t.message),this.code=t.code,this.errno=t.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+t.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},Tee=Symbol("opts"),Vd=Symbol("flushFlag"),SI=Symbol("finishFlushFlag"),iE=Symbol("fullFlushFlag"),Ht=Symbol("handle"),gm=Symbol("onError"),Ac=Symbol("sawError"),z_=Symbol("level"),H_=Symbol("strategy"),V_=Symbol("ended"),Hve=Symbol("_defaultFullFlush"),mm=class extends Eee{constructor(t,i){if(!t||typeof t!="object")throw new TypeError("invalid options for ZlibBase constructor");super(t),this[Ac]=!1,this[V_]=!1,this[Tee]=t,this[Vd]=t.flush,this[SI]=t.finishFlush;try{this[Ht]=new wI[i](t)}catch(n){throw new Oc(n)}this[gm]=n=>{this[Ac]||(this[Ac]=!0,this.close(),this.emit("error",n))},this[Ht].on("error",n=>this[gm](new Oc(n))),this.once("end",()=>this.close)}close(){this[Ht]&&(this[Ht].close(),this[Ht]=null,this.emit("close"))}reset(){if(!this[Ac])return G_(this[Ht],"zlib binding closed"),this[Ht].reset()}flush(t){this.ended||(typeof t!="number"&&(t=this[iE]),this.write(Object.assign(Wo.alloc(0),{[Vd]:t})))}end(t,i,n){return t&&this.write(t,i),this.flush(this[SI]),this[V_]=!0,super.end(null,null,n)}get ended(){return this[V_]}write(t,i,n){if(typeof i=="function"&&(n=i,i="utf8"),typeof t=="string"&&(t=Wo.from(t,i)),this[Ac])return;G_(this[Ht],"zlib binding closed");let s=this[Ht]._handle,o=s.close;s.close=()=>{};let l=this[Ht].close;this[Ht].close=()=>{},Wo.concat=g=>g;let h;try{let g=typeof t[Vd]=="number"?t[Vd]:this[Vd];h=this[Ht]._processChunk(t,g),Wo.concat=bI}catch(g){Wo.concat=bI,this[gm](new Oc(g))}finally{this[Ht]&&(this[Ht]._handle=s,s.close=o,this[Ht].close=l,this[Ht].removeAllListeners("error"))}this[Ht]&&this[Ht].on("error",g=>this[gm](new Oc(g)));let p;if(h)if(Array.isArray(h)&&h.length>0){p=this[ja](Wo.from(h[0]));for(let g=1;g<h.length;g++)p=this[ja](h[g])}else p=this[ja](Wo.from(h));return n&&n(),p}[ja](t){return super.write(t)}},Hs=class extends mm{constructor(t,i){t=t||{},t.flush=t.flush||Fa.Z_NO_FLUSH,t.finishFlush=t.finishFlush||Fa.Z_FINISH,super(t,i),this[iE]=Fa.Z_FULL_FLUSH,this[z_]=t.level,this[H_]=t.strategy}params(t,i){if(!this[Ac]){if(!this[Ht])throw new Error("cannot switch params when binding is closed");if(!this[Ht].params)throw new Error("not supported in this implementation");if(this[z_]!==t||this[H_]!==i){this.flush(Fa.Z_SYNC_FLUSH),G_(this[Ht],"zlib binding closed");let n=this[Ht].flush;this[Ht].flush=(s,o)=>{this.flush(s),o()};try{this[Ht].params(t,i)}finally{this[Ht].flush=n}this[Ht]&&(this[z_]=t,this[H_]=i)}}}},Y_=class extends Hs{constructor(t){super(t,"Deflate")}},K_=class extends Hs{constructor(t){super(t,"Inflate")}},$_=Symbol("_portable"),X_=class extends Hs{constructor(t){super(t,"Gzip"),this[$_]=t&&!!t.portable}[ja](t){return this[$_]?(this[$_]=!1,t[9]=255,super[ja](t)):super[ja](t)}},J_=class extends Hs{constructor(t){super(t,"Gunzip")}},Z_=class extends Hs{constructor(t){super(t,"DeflateRaw")}},Q_=class extends Hs{constructor(t){super(t,"InflateRaw")}},eE=class extends Hs{constructor(t){super(t,"Unzip")}},ym=class extends mm{constructor(t,i){t=t||{},t.flush=t.flush||Fa.BROTLI_OPERATION_PROCESS,t.finishFlush=t.finishFlush||Fa.BROTLI_OPERATION_FINISH,super(t,i),this[iE]=Fa.BROTLI_OPERATION_FLUSH}},tE=class extends ym{constructor(t){super(t,"BrotliCompress")}},rE=class extends ym{constructor(t){super(t,"BrotliDecompress")}};Mi.Deflate=Y_;Mi.Inflate=K_;Mi.Gzip=X_;Mi.Gunzip=J_;Mi.DeflateRaw=Z_;Mi.InflateRaw=Q_;Mi.Unzip=eE;typeof wI.BrotliCompress=="function"?(Mi.BrotliCompress=tE,Mi.BrotliDecompress=rE):Mi.BrotliCompress=Mi.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}});var vm=x((Yve,_I)=>{"use strict";var Cee=xc(),sE=Symbol("slurp");_I.exports=class extends Cee{constructor(t,i,n){switch(super(),this.pause(),this.extended=i,this.globalExtended=n,this.header=t,this.startBlockSize=512*Math.ceil(t.size/512),this.blockRemain=this.startBlockSize,this.remain=t.size,this.type=t.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=t.path,this.mode=t.mode,this.mode&&(this.mode=this.mode&4095),this.uid=t.uid,this.gid=t.gid,this.uname=t.uname,this.gname=t.gname,this.size=t.size,this.mtime=t.mtime,this.atime=t.atime,this.ctime=t.ctime,this.linkpath=t.linkpath,this.uname=t.uname,this.gname=t.gname,i&&this[sE](i),n&&this[sE](n,!0)}write(t){let i=t.length;if(i>this.blockRemain)throw new Error("writing more to entry than is appropriate");let n=this.remain,s=this.blockRemain;return this.remain=Math.max(0,n-i),this.blockRemain=Math.max(0,s-i),this.ignore?!0:n>=i?super.write(t):super.write(t.slice(0,n))}[sE](t,i){for(let n in t)t[n]!==null&&t[n]!==void 0&&!(i&&n==="path")&&(this[n]=t[n])}}});var oE=x(bm=>{"use strict";bm.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);bm.code=new Map(Array.from(bm.name).map(r=>[r[1],r[0]]))});var kI=x((Xve,CI)=>{"use strict";var kee=(r,t)=>{if(Number.isSafeInteger(r))r<0?xee(r,t):Ree(r,t);else throw Error("cannot encode number outside of javascript safe integer range");return t},Ree=(r,t)=>{t[0]=128;for(var i=t.length;i>1;i--)t[i-1]=r&255,r=Math.floor(r/256)},xee=(r,t)=>{t[0]=255;var i=!1;r=r*-1;for(var n=t.length;n>1;n--){var s=r&255;r=Math.floor(r/256),i?t[n-1]=EI(s):s===0?t[n-1]=0:(i=!0,t[n-1]=TI(s))}},Aee=r=>{let t=r[0],i=t===128?Nee(r.slice(1,r.length)):t===255?Oee(r):null;if(i===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(i))throw Error("parsed number outside of javascript safe integer range");return i},Oee=r=>{for(var t=r.length,i=0,n=!1,s=t-1;s>-1;s--){var o=r[s],l;n?l=EI(o):o===0?l=o:(n=!0,l=TI(o)),l!==0&&(i-=l*Math.pow(256,t-s-1))}return i},Nee=r=>{for(var t=r.length,i=0,n=t-1;n>-1;n--){var s=r[n];s!==0&&(i+=s*Math.pow(256,t-n-1))}return i},EI=r=>(255^r)&255,TI=r=>(255^r)+1&255;CI.exports={encode:kee,parse:Aee}});var Dc=x((Jve,xI)=>{"use strict";var aE=oE(),Nc=require("path").posix,RI=kI(),lE=Symbol("slurp"),Fi=Symbol("type"),dE=class{constructor(t,i,n,s){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[Fi]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(t)?this.decode(t,i||0,n,s):t&&this.set(t)}decode(t,i,n,s){if(i||(i=0),!t||!(t.length>=i+512))throw new Error("need 512 bytes for header");if(this.path=Ba(t,i,100),this.mode=zo(t,i+100,8),this.uid=zo(t,i+108,8),this.gid=zo(t,i+116,8),this.size=zo(t,i+124,12),this.mtime=cE(t,i+136,12),this.cksum=zo(t,i+148,12),this[lE](n),this[lE](s,!0),this[Fi]=Ba(t,i+156,1),this[Fi]===""&&(this[Fi]="0"),this[Fi]==="0"&&this.path.substr(-1)==="/"&&(this[Fi]="5"),this[Fi]==="5"&&(this.size=0),this.linkpath=Ba(t,i+157,100),t.slice(i+257,i+265).toString()==="ustar\x0000")if(this.uname=Ba(t,i+265,32),this.gname=Ba(t,i+297,32),this.devmaj=zo(t,i+329,8),this.devmin=zo(t,i+337,8),t[i+475]!==0){let l=Ba(t,i+345,155);this.path=l+"/"+this.path}else{let l=Ba(t,i+345,130);l&&(this.path=l+"/"+this.path),this.atime=cE(t,i+476,12),this.ctime=cE(t,i+488,12)}let o=8*32;for(let l=i;l<i+148;l++)o+=t[l];for(let l=i+156;l<i+512;l++)o+=t[l];this.cksumValid=o===this.cksum,this.cksum===null&&o===8*32&&(this.nullBlock=!0)}[lE](t,i){for(let n in t)t[n]!==null&&t[n]!==void 0&&!(i&&n==="path")&&(this[n]=t[n])}encode(t,i){if(t||(t=this.block=Buffer.alloc(512),i=0),i||(i=0),!(t.length>=i+512))throw new Error("need 512 bytes for header");let n=this.ctime||this.atime?130:155,s=Dee(this.path||"",n),o=s[0],l=s[1];this.needPax=s[2],this.needPax=Ua(t,i,100,o)||this.needPax,this.needPax=Ho(t,i+100,8,this.mode)||this.needPax,this.needPax=Ho(t,i+108,8,this.uid)||this.needPax,this.needPax=Ho(t,i+116,8,this.gid)||this.needPax,this.needPax=Ho(t,i+124,12,this.size)||this.needPax,this.needPax=uE(t,i+136,12,this.mtime)||this.needPax,t[i+156]=this[Fi].charCodeAt(0),this.needPax=Ua(t,i+157,100,this.linkpath)||this.needPax,t.write("ustar\x0000",i+257,8),this.needPax=Ua(t,i+265,32,this.uname)||this.needPax,this.needPax=Ua(t,i+297,32,this.gname)||this.needPax,this.needPax=Ho(t,i+329,8,this.devmaj)||this.needPax,this.needPax=Ho(t,i+337,8,this.devmin)||this.needPax,this.needPax=Ua(t,i+345,n,l)||this.needPax,t[i+475]!==0?this.needPax=Ua(t,i+345,155,l)||this.needPax:(this.needPax=Ua(t,i+345,130,l)||this.needPax,this.needPax=uE(t,i+476,12,this.atime)||this.needPax,this.needPax=uE(t,i+488,12,this.ctime)||this.needPax);let h=8*32;for(let p=i;p<i+148;p++)h+=t[p];for(let p=i+156;p<i+512;p++)h+=t[p];return this.cksum=h,Ho(t,i+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(t){for(let i in t)t[i]!==null&&t[i]!==void 0&&(this[i]=t[i])}get type(){return aE.name.get(this[Fi])||this[Fi]}get typeKey(){return this[Fi]}set type(t){aE.code.has(t)?this[Fi]=aE.code.get(t):this[Fi]=t}},Dee=(r,t)=>{let n=r,s="",o,l=Nc.parse(r).root||".";if(Buffer.byteLength(n)<100)o=[n,s,!1];else{s=Nc.dirname(n),n=Nc.basename(n);do Buffer.byteLength(n)<=100&&Buffer.byteLength(s)<=t?o=[n,s,!1]:Buffer.byteLength(n)>100&&Buffer.byteLength(s)<=t?o=[n.substr(0,100-1),s,!0]:(n=Nc.join(Nc.basename(s),n),s=Nc.dirname(s));while(s!==l&&!o);o||(o=[r.substr(0,100-1),"",!0])}return o},Ba=(r,t,i)=>r.slice(t,t+i).toString("utf8").replace(/\0.*/,""),cE=(r,t,i)=>Pee(zo(r,t,i)),Pee=r=>r===null?null:new Date(r*1e3),zo=(r,t,i)=>r[t]&128?RI.parse(r.slice(t,t+i)):Lee(r,t,i),Iee=r=>isNaN(r)?null:r,Lee=(r,t,i)=>Iee(parseInt(r.slice(t,t+i).toString("utf8").replace(/\0.*$/,"").trim(),8)),Mee={12:8589934591,8:2097151},Ho=(r,t,i,n)=>n===null?!1:n>Mee[i]||n<0?(RI.encode(n,r.slice(t,t+i)),!0):(Fee(r,t,i,n),!1),Fee=(r,t,i,n)=>r.write(jee(n,i),t,i,"ascii"),jee=(r,t)=>Bee(Math.floor(r).toString(8),t),Bee=(r,t)=>(r.length===t-1?r:new Array(t-r.length-1).join("0")+r+" ")+"\0",uE=(r,t,i,n)=>n===null?!1:Ho(r,t,i,n.getTime()/1e3),Uee=new Array(156).join("\0"),Ua=(r,t,i,n)=>n===null?!1:(r.write(n+Uee,t,i,"utf8"),n.length!==Buffer.byteLength(n)||n.length>i);xI.exports=dE});var Sm=x((Zve,AI)=>{"use strict";var qee=Dc(),Wee=require("path"),$d=class{constructor(t,i){this.atime=t.atime||null,this.charset=t.charset||null,this.comment=t.comment||null,this.ctime=t.ctime||null,this.gid=t.gid||null,this.gname=t.gname||null,this.linkpath=t.linkpath||null,this.mtime=t.mtime||null,this.path=t.path||null,this.size=t.size||null,this.uid=t.uid||null,this.uname=t.uname||null,this.dev=t.dev||null,this.ino=t.ino||null,this.nlink=t.nlink||null,this.global=i||!1}encode(){let t=this.encodeBody();if(t==="")return null;let i=Buffer.byteLength(t),n=512*Math.ceil(1+i/512),s=Buffer.allocUnsafe(n);for(let o=0;o<512;o++)s[o]=0;new qee({path:("PaxHeader/"+Wee.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:i,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(s),s.write(t,512,i,"utf8");for(let o=i+512;o<s.length;o++)s[o]=0;return s}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(t){if(this[t]===null||this[t]===void 0)return"";let i=this[t]instanceof Date?this[t].getTime()/1e3:this[t],n=" "+(t==="dev"||t==="ino"||t==="nlink"?"SCHILY.":"")+t+"="+i+`
`,s=Buffer.byteLength(n),o=Math.floor(Math.log(s)/Math.log(10))+1;return s+o>=Math.pow(10,o)&&(o+=1),o+s+n}};$d.parse=(r,t,i)=>new $d(zee(Hee(r),t),i);var zee=(r,t)=>t?Object.keys(r).reduce((i,n)=>(i[n]=r[n],i),t):r,Hee=r=>r.replace(/\n$/,"").split(`
`).reduce(Vee,Object.create(null)),Vee=(r,t)=>{let i=parseInt(t,10);if(i!==Buffer.byteLength(t)+1)return r;t=t.substr((i+" ").length);let n=t.split("="),s=n.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!s)return r;let o=n.join("=");return r[s]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(s)?new Date(o*1e3):/^[0-9]+$/.test(o)?+o:o,r};AI.exports=$d});var wm=x((Qve,OI)=>{"use strict";OI.exports=r=>class extends r{warn(t,i,n={}){this.file&&(n.file=this.file),this.cwd&&(n.cwd=this.cwd),n.code=i instanceof Error&&i.code||t,n.tarCode=t,!this.strict&&n.recoverable!==!1?(i instanceof Error&&(n=Object.assign(i,n),i=i.message),this.emit("warn",n.tarCode,i,n)):i instanceof Error?this.emit("error",Object.assign(i,n)):this.emit("error",Object.assign(new Error(`${t}: ${i}`),n))}}});var hE=x((t1e,NI)=>{"use strict";var _m=["|","<",">","?",":"],fE=_m.map(r=>String.fromCharCode(61440+r.charCodeAt(0))),$ee=new Map(_m.map((r,t)=>[r,fE[t]])),Gee=new Map(fE.map((r,t)=>[r,_m[t]]));NI.exports={encode:r=>_m.reduce((t,i)=>t.split(i).join($ee.get(i)),r),decode:r=>fE.reduce((t,i)=>t.split(i).join(Gee.get(i)),r)}});var pE=x((r1e,DI)=>{var{isAbsolute:Yee,parse:Kee}=require("path").win32;DI.exports=r=>{let t="";for(;Yee(r);){let i=r.charAt(0)==="/"?"/":Kee(r).root;r=r.substr(i.length),t+=i}return[t,r]}});var II=x((i1e,PI)=>{"use strict";PI.exports=(r,t,i)=>(r&=4095,i&&(r=(r|384)&-19),t&&(r&256&&(r|=64),r&32&&(r|=8),r&4&&(r|=1)),r)});var _E=x((o1e,$I)=>{"use strict";var UI=xc(),qI=Sm(),WI=Dc(),ls=require("fs"),LI=require("path"),Xee=16*1024*1024,MI=Symbol("process"),FI=Symbol("file"),jI=Symbol("directory"),gE=Symbol("symlink"),BI=Symbol("hardlink"),Gd=Symbol("header"),Em=Symbol("read"),mE=Symbol("lstat"),Tm=Symbol("onlstat"),yE=Symbol("onread"),vE=Symbol("onreadlink"),bE=Symbol("openfile"),SE=Symbol("onopenfile"),qa=Symbol("close"),Cm=Symbol("mode"),zI=wm(),Jee=hE(),HI=pE(),VI=II(),km=zI(class extends UI{constructor(t,i){if(i=i||{},super(i),typeof t!="string")throw new TypeError("path is required");this.path=t,this.portable=!!i.portable,this.myuid=process.getuid&&process.getuid(),this.myuser=process.env.USER||"",this.maxReadSize=i.maxReadSize||Xee,this.linkCache=i.linkCache||new Map,this.statCache=i.statCache||new Map,this.preservePaths=!!i.preservePaths,this.cwd=i.cwd||process.cwd(),this.strict=!!i.strict,this.noPax=!!i.noPax,this.noMtime=!!i.noMtime,this.mtime=i.mtime||null,typeof i.onwarn=="function"&&this.on("warn",i.onwarn);let n=!1;if(!this.preservePaths){let[s,o]=HI(this.path);s&&(this.path=o,n=s)}this.win32=!!i.win32||process.platform==="win32",this.win32&&(this.path=Jee.decode(this.path.replace(/\\/g,"/")),t=t.replace(/\\/g,"/")),this.absolute=i.absolute||LI.resolve(this.cwd,t),this.path===""&&(this.path="./"),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.statCache.has(this.absolute)?this[Tm](this.statCache.get(this.absolute)):this[mE]()}[mE](){ls.lstat(this.absolute,(t,i)=>{if(t)return this.emit("error",t);this[Tm](i)})}[Tm](t){this.statCache.set(this.absolute,t),this.stat=t,t.isFile()||(t.size=0),this.type=Qee(t),this.emit("stat",t),this[MI]()}[MI](){switch(this.type){case"File":return this[FI]();case"Directory":return this[jI]();case"SymbolicLink":return this[gE]();default:return this.end()}}[Cm](t){return VI(t,this.type==="Directory",this.portable)}[Gd](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new WI({path:this.path,linkpath:this.linkpath,mode:this[Cm](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&this.write(new qI({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this.path,linkpath:this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),this.write(this.header.block)}[jI](){this.path.substr(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[Gd](),this.end()}[gE](){ls.readlink(this.absolute,(t,i)=>{if(t)return this.emit("error",t);this[vE](i)})}[vE](t){this.linkpath=t.replace(/\\/g,"/"),this[Gd](),this.end()}[BI](t){this.type="Link",this.linkpath=LI.relative(this.cwd,t).replace(/\\/g,"/"),this.stat.size=0,this[Gd](),this.end()}[FI](){if(this.stat.nlink>1){let t=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(t)){let i=this.linkCache.get(t);if(i.indexOf(this.cwd)===0)return this[BI](i)}this.linkCache.set(t,this.absolute)}if(this[Gd](),this.stat.size===0)return this.end();this[bE]()}[bE](){ls.open(this.absolute,"r",(t,i)=>{if(t)return this.emit("error",t);this[SE](i)})}[SE](t){let i=512*Math.ceil(this.stat.size/512),n=Math.min(i,this.maxReadSize),s=Buffer.allocUnsafe(n);this[Em](t,s,0,s.length,0,this.stat.size,i)}[Em](t,i,n,s,o,l,h){ls.read(t,i,n,s,o,(p,g)=>{if(p)return this[qa](t,()=>this.emit("error",p));this[yE](t,i,n,s,o,l,h,g)})}[qa](t,i){ls.close(t,i)}[yE](t,i,n,s,o,l,h,p){if(p<=0&&l>0){let m=new Error("encountered unexpected EOF");return m.path=this.absolute,m.syscall="read",m.code="EOF",this[qa](t,()=>this.emit("error",m))}if(p>l){let m=new Error("did not encounter expected EOF");return m.path=this.absolute,m.syscall="read",m.code="EOF",this[qa](t,()=>this.emit("error",m))}if(p===l)for(let m=p;m<s&&p<h;m++)i[m+n]=0,p++,l++;let g=n===0&&p===i.length?i:i.slice(n,n+p);if(l-=p,h-=p,o+=p,n+=p,this.write(g),!l)return h&&this.write(Buffer.alloc(h)),this[qa](t,m=>m?this.emit("error",m):this.end());n>=s&&(i=Buffer.allocUnsafe(s),n=0),s=i.length-n,this[Em](t,i,n,s,o,l,h)}}),wE=class extends km{[mE](){this[Tm](ls.lstatSync(this.absolute))}[gE](){this[vE](ls.readlinkSync(this.absolute))}[bE](){this[SE](ls.openSync(this.absolute,"r"))}[Em](t,i,n,s,o,l,h){let p=!0;try{let g=ls.readSync(t,i,n,s,o);this[yE](t,i,n,s,o,l,h,g),p=!1}finally{if(p)try{this[qa](t,()=>{})}catch{}}}[qa](t,i){ls.closeSync(t),i()}},Zee=zI(class extends UI{constructor(t,i){i=i||{},super(i),this.preservePaths=!!i.preservePaths,this.portable=!!i.portable,this.strict=!!i.strict,this.noPax=!!i.noPax,this.noMtime=!!i.noMtime,this.readEntry=t,this.type=t.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.path=t.path,this.mode=this[Cm](t.mode),this.uid=this.portable?null:t.uid,this.gid=this.portable?null:t.gid,this.uname=this.portable?null:t.uname,this.gname=this.portable?null:t.gname,this.size=t.size,this.mtime=this.noMtime?null:i.mtime||t.mtime,this.atime=this.portable?null:t.atime,this.ctime=this.portable?null:t.ctime,this.linkpath=t.linkpath,typeof i.onwarn=="function"&&this.on("warn",i.onwarn);let n=!1;if(!this.preservePaths){let[s,o]=HI(this.path);s&&(this.path=o,n=s)}this.remain=t.size,this.blockRemain=t.startBlockSize,this.header=new WI({path:this.path,linkpath:this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.header.encode()&&!this.noPax&&super.write(new qI({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this.path,linkpath:this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),t.pipe(this)}[Cm](t){return VI(t,this.type==="Directory",this.portable)}write(t){let i=t.length;if(i>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=i,super.write(t)}end(){return this.blockRemain&&this.write(Buffer.alloc(this.blockRemain)),super.end()}});km.Sync=wE;km.Tar=Zee;var Qee=r=>r.isFile()?"File":r.isDirectory()?"Directory":r.isSymbolicLink()?"SymbolicLink":"Unsupported";$I.exports=km});var YI=x((a1e,GI)=>{"use strict";GI.exports=function(r){r.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}});var Rm=x((l1e,KI)=>{"use strict";KI.exports=Et;Et.Node=Wa;Et.create=Et;function Et(r){var t=this;if(t instanceof Et||(t=new Et),t.tail=null,t.head=null,t.length=0,r&&typeof r.forEach=="function")r.forEach(function(s){t.push(s)});else if(arguments.length>0)for(var i=0,n=arguments.length;i<n;i++)t.push(arguments[i]);return t}Et.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var t=r.next,i=r.prev;return t&&(t.prev=i),i&&(i.next=t),r===this.head&&(this.head=t),r===this.tail&&(this.tail=i),r.list.length--,r.next=null,r.prev=null,r.list=null,t};Et.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var t=this.head;r.list=this,r.next=t,t&&(t.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}};Et.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var t=this.tail;r.list=this,r.prev=t,t&&(t.next=r),this.tail=r,this.head||(this.head=r),this.length++}};Et.prototype.push=function(){for(var r=0,t=arguments.length;r<t;r++)tte(this,arguments[r]);return this.length};Et.prototype.unshift=function(){for(var r=0,t=arguments.length;r<t;r++)rte(this,arguments[r]);return this.length};Et.prototype.pop=function(){if(this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}};Et.prototype.shift=function(){if(this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}};Et.prototype.forEach=function(r,t){t=t||this;for(var i=this.head,n=0;i!==null;n++)r.call(t,i.value,n,this),i=i.next};Et.prototype.forEachReverse=function(r,t){t=t||this;for(var i=this.tail,n=this.length-1;i!==null;n--)r.call(t,i.value,n,this),i=i.prev};Et.prototype.get=function(r){for(var t=0,i=this.head;i!==null&&t<r;t++)i=i.next;if(t===r&&i!==null)return i.value};Et.prototype.getReverse=function(r){for(var t=0,i=this.tail;i!==null&&t<r;t++)i=i.prev;if(t===r&&i!==null)return i.value};Et.prototype.map=function(r,t){t=t||this;for(var i=new Et,n=this.head;n!==null;)i.push(r.call(t,n.value,this)),n=n.next;return i};Et.prototype.mapReverse=function(r,t){t=t||this;for(var i=new Et,n=this.tail;n!==null;)i.push(r.call(t,n.value,this)),n=n.prev;return i};Et.prototype.reduce=function(r,t){var i,n=this.head;if(arguments.length>1)i=t;else if(this.head)n=this.head.next,i=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;n!==null;s++)i=r(i,n.value,s),n=n.next;return i};Et.prototype.reduceReverse=function(r,t){var i,n=this.tail;if(arguments.length>1)i=t;else if(this.tail)n=this.tail.prev,i=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;n!==null;s--)i=r(i,n.value,s),n=n.prev;return i};Et.prototype.toArray=function(){for(var r=new Array(this.length),t=0,i=this.head;i!==null;t++)r[t]=i.value,i=i.next;return r};Et.prototype.toArrayReverse=function(){for(var r=new Array(this.length),t=0,i=this.tail;i!==null;t++)r[t]=i.value,i=i.prev;return r};Et.prototype.slice=function(r,t){t=t||this.length,t<0&&(t+=this.length),r=r||0,r<0&&(r+=this.length);var i=new Et;if(t<r||t<0)return i;r<0&&(r=0),t>this.length&&(t=this.length);for(var n=0,s=this.head;s!==null&&n<r;n++)s=s.next;for(;s!==null&&n<t;n++,s=s.next)i.push(s.value);return i};Et.prototype.sliceReverse=function(r,t){t=t||this.length,t<0&&(t+=this.length),r=r||0,r<0&&(r+=this.length);var i=new Et;if(t<r||t<0)return i;r<0&&(r=0),t>this.length&&(t=this.length);for(var n=this.length,s=this.tail;s!==null&&n>t;n--)s=s.prev;for(;s!==null&&n>r;n--,s=s.prev)i.push(s.value);return i};Et.prototype.splice=function(r,t,...i){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var n=0,s=this.head;s!==null&&n<r;n++)s=s.next;for(var o=[],n=0;s&&n<t;n++)o.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<i.length;n++)s=ete(this,s,i[n]);return o};Et.prototype.reverse=function(){for(var r=this.head,t=this.tail,i=r;i!==null;i=i.prev){var n=i.prev;i.prev=i.next,i.next=n}return this.head=t,this.tail=r,this};function ete(r,t,i){var n=t===r.head?new Wa(i,null,t,r):new Wa(i,t,t.next,r);return n.next===null&&(r.tail=n),n.prev===null&&(r.head=n),r.length++,n}function tte(r,t){r.tail=new Wa(t,r.tail,null,r),r.head||(r.head=r.tail),r.length++}function rte(r,t){r.head=new Wa(t,null,r.head,r),r.tail||(r.tail=r.head),r.length++}function Wa(r,t,i,n){if(!(this instanceof Wa))return new Wa(r,t,i,n);this.list=n,this.value=r,t?(t.next=this,this.prev=t):this.prev=null,i?(i.prev=this,this.next=i):this.next=null}try{YI()(Et)}catch{}});var Mm=x((u1e,rL)=>{"use strict";var Im=class{constructor(t,i){this.path=t||"./",this.absolute=i,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},ite=xc(),nte=nE(),ste=vm(),OE=_E(),ote=OE.Sync,ate=OE.Tar,lte=Rm(),XI=Buffer.alloc(1024),Om=Symbol("onStat"),xm=Symbol("ended"),cs=Symbol("queue"),Pc=Symbol("current"),za=Symbol("process"),Am=Symbol("processing"),JI=Symbol("processJob"),us=Symbol("jobs"),EE=Symbol("jobDone"),Nm=Symbol("addFSEntry"),ZI=Symbol("addTarEntry"),kE=Symbol("stat"),RE=Symbol("readdir"),Dm=Symbol("onreaddir"),Pm=Symbol("pipe"),QI=Symbol("entry"),TE=Symbol("entryOpt"),xE=Symbol("writeEntryClass"),tL=Symbol("write"),CE=Symbol("ondrain"),Lm=require("fs"),eL=require("path"),cte=wm(),NE=cte(class extends ite{constructor(t){super(t),t=t||Object.create(null),this.opt=t,this.file=t.file||"",this.cwd=t.cwd||process.cwd(),this.maxReadSize=t.maxReadSize,this.preservePaths=!!t.preservePaths,this.strict=!!t.strict,this.noPax=!!t.noPax,this.prefix=(t.prefix||"").replace(/(\\|\/)+$/,""),this.linkCache=t.linkCache||new Map,this.statCache=t.statCache||new Map,this.readdirCache=t.readdirCache||new Map,this[xE]=OE,typeof t.onwarn=="function"&&this.on("warn",t.onwarn),this.portable=!!t.portable,this.zip=null,t.gzip?(typeof t.gzip!="object"&&(t.gzip={}),this.portable&&(t.gzip.portable=!0),this.zip=new nte.Gzip(t.gzip),this.zip.on("data",i=>super.write(i)),this.zip.on("end",i=>super.end()),this.zip.on("drain",i=>this[CE]()),this.on("resume",i=>this.zip.resume())):this.on("drain",this[CE]),this.noDirRecurse=!!t.noDirRecurse,this.follow=!!t.follow,this.noMtime=!!t.noMtime,this.mtime=t.mtime||null,this.filter=typeof t.filter=="function"?t.filter:i=>!0,this[cs]=new lte,this[us]=0,this.jobs=+t.jobs||4,this[Am]=!1,this[xm]=!1}[tL](t){return super.write(t)}add(t){return this.write(t),this}end(t){return t&&this.write(t),this[xm]=!0,this[za](),this}write(t){if(this[xm])throw new Error("write after end");return t instanceof ste?this[ZI](t):this[Nm](t),this.flowing}[ZI](t){let i=eL.resolve(this.cwd,t.path);if(this.prefix&&(t.path=this.prefix+"/"+t.path.replace(/^\.(\/+|$)/,"")),!this.filter(t.path,t))t.resume();else{let n=new Im(t.path,i,!1);n.entry=new ate(t,this[TE](n)),n.entry.on("end",s=>this[EE](n)),this[us]+=1,this[cs].push(n)}this[za]()}[Nm](t){let i=eL.resolve(this.cwd,t);this.prefix&&(t=this.prefix+"/"+t.replace(/^\.(\/+|$)/,"")),this[cs].push(new Im(t,i)),this[za]()}[kE](t){t.pending=!0,this[us]+=1;let i=this.follow?"stat":"lstat";Lm[i](t.absolute,(n,s)=>{t.pending=!1,this[us]-=1,n?this.emit("error",n):this[Om](t,s)})}[Om](t,i){this.statCache.set(t.absolute,i),t.stat=i,this.filter(t.path,i)||(t.ignore=!0),this[za]()}[RE](t){t.pending=!0,this[us]+=1,Lm.readdir(t.absolute,(i,n)=>{if(t.pending=!1,this[us]-=1,i)return this.emit("error",i);this[Dm](t,n)})}[Dm](t,i){this.readdirCache.set(t.absolute,i),t.readdir=i,this[za]()}[za](){if(!this[Am]){this[Am]=!0;for(let t=this[cs].head;t!==null&&this[us]<this.jobs;t=t.next)if(this[JI](t.value),t.value.ignore){let i=t.next;this[cs].removeNode(t),t.next=i}this[Am]=!1,this[xm]&&!this[cs].length&&this[us]===0&&(this.zip?this.zip.end(XI):(super.write(XI),super.end()))}}get[Pc](){return this[cs]&&this[cs].head&&this[cs].head.value}[EE](t){this[cs].shift(),this[us]-=1,this[za]()}[JI](t){if(!t.pending){if(t.entry){t===this[Pc]&&!t.piped&&this[Pm](t);return}if(t.stat||(this.statCache.has(t.absolute)?this[Om](t,this.statCache.get(t.absolute)):this[kE](t)),!!t.stat&&!t.ignore&&!(!this.noDirRecurse&&t.stat.isDirectory()&&!t.readdir&&(this.readdirCache.has(t.absolute)?this[Dm](t,this.readdirCache.get(t.absolute)):this[RE](t),!t.readdir))){if(t.entry=this[QI](t),!t.entry){t.ignore=!0;return}t===this[Pc]&&!t.piped&&this[Pm](t)}}}[TE](t){return{onwarn:(i,n,s)=>this.warn(i,n,s),noPax:this.noPax,cwd:this.cwd,absolute:t.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime}}[QI](t){this[us]+=1;try{return new this[xE](t.path,this[TE](t)).on("end",()=>this[EE](t)).on("error",i=>this.emit("error",i))}catch(i){this.emit("error",i)}}[CE](){this[Pc]&&this[Pc].entry&&this[Pc].entry.resume()}[Pm](t){t.piped=!0,t.readdir&&t.readdir.forEach(s=>{let o=this.prefix?t.path.slice(this.prefix.length+1)||"./":t.path,l=o==="./"?"":o.replace(/\/*$/,"/");this[Nm](l+s)});let i=t.entry,n=this.zip;n?i.on("data",s=>{n.write(s)||i.pause()}):i.on("data",s=>{super.write(s)||i.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),AE=class extends NE{constructor(t){super(t),this[xE]=ote}pause(){}resume(){}[kE](t){let i=this.follow?"statSync":"lstatSync";this[Om](t,Lm[i](t.absolute))}[RE](t,i){this[Dm](t,Lm.readdirSync(t.absolute))}[Pm](t){let i=t.entry,n=this.zip;t.readdir&&t.readdir.forEach(s=>{let o=this.prefix?t.path.slice(this.prefix.length+1)||"./":t.path,l=o==="./"?"":o.replace(/\/*$/,"/");this[Nm](l+s)}),n?i.on("data",s=>{n.write(s)}):i.on("data",s=>{super[tL](s)})}};NE.Sync=AE;rL.exports=NE});var qc=x(Kd=>{"use strict";var ute=xc(),dte=require("events").EventEmitter,bi=require("fs"),IE=bi.writev;if(!IE){let r=process.binding("fs"),t=r.FSReqWrap||r.FSReqCallback;IE=(i,n,s,o)=>{let l=(p,g)=>o(p,g,n),h=new t;h.oncomplete=l,r.writeBuffers(i,n,s,h)}}var Bc=Symbol("_autoClose"),kn=Symbol("_close"),Yd=Symbol("_ended"),jt=Symbol("_fd"),iL=Symbol("_finished"),$o=Symbol("_flags"),DE=Symbol("_flush"),LE=Symbol("_handleChunk"),ME=Symbol("_makeBuf"),qm=Symbol("_mode"),Fm=Symbol("_needDrain"),Fc=Symbol("_onerror"),Uc=Symbol("_onopen"),PE=Symbol("_onread"),Lc=Symbol("_onwrite"),Go=Symbol("_open"),Vs=Symbol("_path"),Ha=Symbol("_pos"),ds=Symbol("_queue"),Mc=Symbol("_read"),nL=Symbol("_readSize"),Vo=Symbol("_reading"),jm=Symbol("_remain"),sL=Symbol("_size"),Bm=Symbol("_write"),Ic=Symbol("_writing"),Um=Symbol("_defaultFlag"),jc=Symbol("_errored"),Wm=class extends ute{constructor(t,i){if(i=i||{},super(i),this.readable=!0,this.writable=!1,typeof t!="string")throw new TypeError("path must be a string");this[jc]=!1,this[jt]=typeof i.fd=="number"?i.fd:null,this[Vs]=t,this[nL]=i.readSize||16*1024*1024,this[Vo]=!1,this[sL]=typeof i.size=="number"?i.size:1/0,this[jm]=this[sL],this[Bc]=typeof i.autoClose=="boolean"?i.autoClose:!0,typeof this[jt]=="number"?this[Mc]():this[Go]()}get fd(){return this[jt]}get path(){return this[Vs]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[Go](){bi.open(this[Vs],"r",(t,i)=>this[Uc](t,i))}[Uc](t,i){t?this[Fc](t):(this[jt]=i,this.emit("open",i),this[Mc]())}[ME](){return Buffer.allocUnsafe(Math.min(this[nL],this[jm]))}[Mc](){if(!this[Vo]){this[Vo]=!0;let t=this[ME]();if(t.length===0)return process.nextTick(()=>this[PE](null,0,t));bi.read(this[jt],t,0,t.length,null,(i,n,s)=>this[PE](i,n,s))}}[PE](t,i,n){this[Vo]=!1,t?this[Fc](t):this[LE](i,n)&&this[Mc]()}[kn](){if(this[Bc]&&typeof this[jt]=="number"){let t=this[jt];this[jt]=null,bi.close(t,i=>i?this.emit("error",i):this.emit("close"))}}[Fc](t){this[Vo]=!0,this[kn](),this.emit("error",t)}[LE](t,i){let n=!1;return this[jm]-=t,t>0&&(n=super.write(t<i.length?i.slice(0,t):i)),(t===0||this[jm]<=0)&&(n=!1,this[kn](),super.end()),n}emit(t,i){switch(t){case"prefinish":case"finish":break;case"drain":typeof this[jt]=="number"&&this[Mc]();break;case"error":return this[jc]?void 0:(this[jc]=!0,super.emit(t,i));default:return super.emit(t,i)}}},FE=class extends Wm{[Go](){let t=!0;try{this[Uc](null,bi.openSync(this[Vs],"r")),t=!1}finally{t&&this[kn]()}}[Mc](){let t=!0;try{if(!this[Vo]){this[Vo]=!0;do{let i=this[ME](),n=i.length===0?0:bi.readSync(this[jt],i,0,i.length,null);if(!this[LE](n,i))break}while(!0);this[Vo]=!1}t=!1}finally{t&&this[kn]()}}[kn](){if(this[Bc]&&typeof this[jt]=="number"){let t=this[jt];this[jt]=null,bi.closeSync(t),this.emit("close")}}},zm=class extends dte{constructor(t,i){i=i||{},super(i),this.readable=!1,this.writable=!0,this[jc]=!1,this[Ic]=!1,this[Yd]=!1,this[Fm]=!1,this[ds]=[],this[Vs]=t,this[jt]=typeof i.fd=="number"?i.fd:null,this[qm]=i.mode===void 0?438:i.mode,this[Ha]=typeof i.start=="number"?i.start:null,this[Bc]=typeof i.autoClose=="boolean"?i.autoClose:!0;let n=this[Ha]!==null?"r+":"w";this[Um]=i.flags===void 0,this[$o]=this[Um]?n:i.flags,this[jt]===null&&this[Go]()}emit(t,i){if(t==="error"){if(this[jc])return;this[jc]=!0}return super.emit(t,i)}get fd(){return this[jt]}get path(){return this[Vs]}[Fc](t){this[kn](),this[Ic]=!0,this.emit("error",t)}[Go](){bi.open(this[Vs],this[$o],this[qm],(t,i)=>this[Uc](t,i))}[Uc](t,i){this[Um]&&this[$o]==="r+"&&t&&t.code==="ENOENT"?(this[$o]="w",this[Go]()):t?this[Fc](t):(this[jt]=i,this.emit("open",i),this[DE]())}end(t,i){return t&&this.write(t,i),this[Yd]=!0,!this[Ic]&&!this[ds].length&&typeof this[jt]=="number"&&this[Lc](null,0),this}write(t,i){return typeof t=="string"&&(t=Buffer.from(t,i)),this[Yd]?(this.emit("error",new Error("write() after end()")),!1):this[jt]===null||this[Ic]||this[ds].length?(this[ds].push(t),this[Fm]=!0,!1):(this[Ic]=!0,this[Bm](t),!0)}[Bm](t){bi.write(this[jt],t,0,t.length,this[Ha],(i,n)=>this[Lc](i,n))}[Lc](t,i){t?this[Fc](t):(this[Ha]!==null&&(this[Ha]+=i),this[ds].length?this[DE]():(this[Ic]=!1,this[Yd]&&!this[iL]?(this[iL]=!0,this[kn](),this.emit("finish")):this[Fm]&&(this[Fm]=!1,this.emit("drain"))))}[DE](){if(this[ds].length===0)this[Yd]&&this[Lc](null,0);else if(this[ds].length===1)this[Bm](this[ds].pop());else{let t=this[ds];this[ds]=[],IE(this[jt],t,this[Ha],(i,n)=>this[Lc](i,n))}}[kn](){if(this[Bc]&&typeof this[jt]=="number"){let t=this[jt];this[jt]=null,bi.close(t,i=>i?this.emit("error",i):this.emit("close"))}}},jE=class extends zm{[Go](){let t;if(this[Um]&&this[$o]==="r+")try{t=bi.openSync(this[Vs],this[$o],this[qm])}catch(i){if(i.code==="ENOENT")return this[$o]="w",this[Go]();throw i}else t=bi.openSync(this[Vs],this[$o],this[qm]);this[Uc](null,t)}[kn](){if(this[Bc]&&typeof this[jt]=="number"){let t=this[jt];this[jt]=null,bi.closeSync(t),this.emit("close")}}[Bm](t){let i=!0;try{this[Lc](null,bi.writeSync(this[jt],t,0,t.length,this[Ha])),i=!1}finally{if(i)try{this[kn]()}catch{}}}};Kd.ReadStream=Wm;Kd.ReadStreamSync=FE;Kd.WriteStream=zm;Kd.WriteStreamSync=jE});var Xm=x((h1e,fL)=>{"use strict";var fte=wm(),hte=Dc(),pte=require("events"),gte=Rm(),mte=1024*1024,yte=vm(),oL=Sm(),vte=nE(),BE=Buffer.from([31,139]),tn=Symbol("state"),Va=Symbol("writeEntry"),$s=Symbol("readEntry"),UE=Symbol("nextEntry"),aL=Symbol("processEntry"),rn=Symbol("extendedHeader"),Xd=Symbol("globalExtendedHeader"),Yo=Symbol("meta"),lL=Symbol("emitMeta"),Vt=Symbol("buffer"),Gs=Symbol("queue"),$a=Symbol("ended"),cL=Symbol("emittedEnd"),Ga=Symbol("emit"),Si=Symbol("unzip"),Hm=Symbol("consumeChunk"),Vm=Symbol("consumeChunkSub"),qE=Symbol("consumeBody"),uL=Symbol("consumeMeta"),dL=Symbol("consumeHeader"),$m=Symbol("consuming"),WE=Symbol("bufferConcat"),zE=Symbol("maybeEnd"),Jd=Symbol("writing"),Ko=Symbol("aborted"),Gm=Symbol("onDone"),Ya=Symbol("sawValidEntry"),Ym=Symbol("sawNullBlock"),Km=Symbol("sawEOF"),bte=r=>!0;fL.exports=fte(class extends pte{constructor(t){t=t||{},super(t),this.file=t.file||"",this[Ya]=null,this.on(Gm,i=>{(this[tn]==="begin"||this[Ya]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),t.ondone?this.on(Gm,t.ondone):this.on(Gm,i=>{this.emit("prefinish"),this.emit("finish"),this.emit("end"),this.emit("close")}),this.strict=!!t.strict,this.maxMetaEntrySize=t.maxMetaEntrySize||mte,this.filter=typeof t.filter=="function"?t.filter:bte,this.writable=!0,this.readable=!1,this[Gs]=new gte,this[Vt]=null,this[$s]=null,this[Va]=null,this[tn]="begin",this[Yo]="",this[rn]=null,this[Xd]=null,this[$a]=!1,this[Si]=null,this[Ko]=!1,this[Ym]=!1,this[Km]=!1,typeof t.onwarn=="function"&&this.on("warn",t.onwarn),typeof t.onentry=="function"&&this.on("entry",t.onentry)}[dL](t,i){this[Ya]===null&&(this[Ya]=!1);let n;try{n=new hte(t,i,this[rn],this[Xd])}catch(s){return this.warn("TAR_ENTRY_INVALID",s)}if(n.nullBlock)this[Ym]?(this[Km]=!0,this[tn]==="begin"&&(this[tn]="header"),this[Ga]("eof")):(this[Ym]=!0,this[Ga]("nullBlock"));else if(this[Ym]=!1,!n.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:n});else if(!n.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:n});else{let s=n.type;if(/^(Symbolic)?Link$/.test(s)&&!n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:n});else if(!/^(Symbolic)?Link$/.test(s)&&n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:n});else{let o=this[Va]=new yte(n,this[rn],this[Xd]);if(!this[Ya])if(o.remain){let l=()=>{o.invalid||(this[Ya]=!0)};o.on("end",l)}else this[Ya]=!0;o.meta?o.size>this.maxMetaEntrySize?(o.ignore=!0,this[Ga]("ignoredEntry",o),this[tn]="ignore",o.resume()):o.size>0&&(this[Yo]="",o.on("data",l=>this[Yo]+=l),this[tn]="meta"):(this[rn]=null,o.ignore=o.ignore||!this.filter(o.path,o),o.ignore?(this[Ga]("ignoredEntry",o),this[tn]=o.remain?"ignore":"header",o.resume()):(o.remain?this[tn]="body":(this[tn]="header",o.end()),this[$s]?this[Gs].push(o):(this[Gs].push(o),this[UE]())))}}}[aL](t){let i=!0;return t?Array.isArray(t)?this.emit.apply(this,t):(this[$s]=t,this.emit("entry",t),t.emittedEnd||(t.on("end",n=>this[UE]()),i=!1)):(this[$s]=null,i=!1),i}[UE](){do;while(this[aL](this[Gs].shift()));if(!this[Gs].length){let t=this[$s];!t||t.flowing||t.size===t.remain?this[Jd]||this.emit("drain"):t.once("drain",n=>this.emit("drain"))}}[qE](t,i){let n=this[Va],s=n.blockRemain,o=s>=t.length&&i===0?t:t.slice(i,i+s);return n.write(o),n.blockRemain||(this[tn]="header",this[Va]=null,n.end()),o.length}[uL](t,i){let n=this[Va],s=this[qE](t,i);return this[Va]||this[lL](n),s}[Ga](t,i,n){!this[Gs].length&&!this[$s]?this.emit(t,i,n):this[Gs].push([t,i,n])}[lL](t){switch(this[Ga]("meta",this[Yo]),t.type){case"ExtendedHeader":case"OldExtendedHeader":this[rn]=oL.parse(this[Yo],this[rn],!1);break;case"GlobalExtendedHeader":this[Xd]=oL.parse(this[Yo],this[Xd],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[rn]=this[rn]||Object.create(null),this[rn].path=this[Yo].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[rn]=this[rn]||Object.create(null),this[rn].linkpath=this[Yo].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+t.type)}}abort(t){this[Ko]=!0,this.emit("abort",t),this.warn("TAR_ABORT",t,{recoverable:!1})}write(t){if(this[Ko])return;if(this[Si]===null&&t){if(this[Vt]&&(t=Buffer.concat([this[Vt],t]),this[Vt]=null),t.length<BE.length)return this[Vt]=t,!0;for(let n=0;this[Si]===null&&n<BE.length;n++)t[n]!==BE[n]&&(this[Si]=!1);if(this[Si]===null){let n=this[$a];this[$a]=!1,this[Si]=new vte.Unzip,this[Si].on("data",o=>this[Hm](o)),this[Si].on("error",o=>this.abort(o)),this[Si].on("end",o=>{this[$a]=!0,this[Hm]()}),this[Jd]=!0;let s=this[Si][n?"end":"write"](t);return this[Jd]=!1,s}}this[Jd]=!0,this[Si]?this[Si].write(t):this[Hm](t),this[Jd]=!1;let i=this[Gs].length?!1:this[$s]?this[$s].flowing:!0;return!i&&!this[Gs].length&&this[$s].once("drain",n=>this.emit("drain")),i}[WE](t){t&&!this[Ko]&&(this[Vt]=this[Vt]?Buffer.concat([this[Vt],t]):t)}[zE](){if(this[$a]&&!this[cL]&&!this[Ko]&&!this[$m]){this[cL]=!0;let t=this[Va];if(t&&t.blockRemain){let i=this[Vt]?this[Vt].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${t.blockRemain} more bytes, only ${i} available)`,{entry:t}),this[Vt]&&t.write(this[Vt]),t.end()}this[Ga](Gm)}}[Hm](t){if(this[$m])this[WE](t);else if(!t&&!this[Vt])this[zE]();else{if(this[$m]=!0,this[Vt]){this[WE](t);let i=this[Vt];this[Vt]=null,this[Vm](i)}else this[Vm](t);for(;this[Vt]&&this[Vt].length>=512&&!this[Ko]&&!this[Km];){let i=this[Vt];this[Vt]=null,this[Vm](i)}this[$m]=!1}(!this[Vt]||this[$a])&&this[zE]()}[Vm](t){let i=0,n=t.length;for(;i+512<=n&&!this[Ko]&&!this[Km];)switch(this[tn]){case"begin":case"header":this[dL](t,i),i+=512;break;case"ignore":case"body":i+=this[qE](t,i);break;case"meta":i+=this[uL](t,i);break;default:throw new Error("invalid state: "+this[tn])}i<n&&(this[Vt]?this[Vt]=Buffer.concat([t.slice(i),this[Vt]]):this[Vt]=t.slice(i))}end(t){this[Ko]||(this[Si]?this[Si].end(t):(this[$a]=!0,this.write(t)))}})});var Jm=x((p1e,mL)=>{"use strict";var Ste=kc(),pL=Xm(),Wc=require("fs"),wte=qc(),hL=require("path");mL.exports=(r,t,i)=>{typeof r=="function"?(i=r,t=null,r={}):Array.isArray(r)&&(t=r,r={}),typeof t=="function"&&(i=t,t=null),t?t=Array.from(t):t=[];let n=Ste(r);if(n.sync&&typeof i=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof i=="function")throw new TypeError("callback only supported with file option");return t.length&&Ete(n,t),n.noResume||_te(n),n.file&&n.sync?Tte(n):n.file?Cte(n,i):gL(n)};var _te=r=>{let t=r.onentry;r.onentry=t?i=>{t(i),i.resume()}:i=>i.resume()},Ete=(r,t)=>{let i=new Map(t.map(o=>[o.replace(/\/+$/,""),!0])),n=r.filter,s=(o,l)=>{let h=l||hL.parse(o).root||".",p=o===h?!1:i.has(o)?i.get(o):s(hL.dirname(o),h);return i.set(o,p),p};r.filter=n?(o,l)=>n(o,l)&&s(o.replace(/\/+$/,"")):o=>s(o.replace(/\/+$/,""))},Tte=r=>{let t=gL(r),i=r.file,n=!0,s;try{let o=Wc.statSync(i),l=r.maxReadSize||16*1024*1024;if(o.size<l)t.end(Wc.readFileSync(i));else{let h=0,p=Buffer.allocUnsafe(l);for(s=Wc.openSync(i,"r");h<o.size;){let g=Wc.readSync(s,p,0,l,h);h+=g,t.write(p.slice(0,g))}t.end()}n=!1}finally{if(n&&s)try{Wc.closeSync(s)}catch{}}},Cte=(r,t)=>{let i=new pL(r),n=r.maxReadSize||16*1024*1024,s=r.file,o=new Promise((l,h)=>{i.on("error",h),i.on("end",l),Wc.stat(s,(p,g)=>{if(p)h(p);else{let m=new wte.ReadStream(s,{readSize:n,size:g.size});m.on("error",h),m.pipe(i)}})});return t?o.then(t,t):o},gL=r=>new pL(r)});var _L=x((g1e,wL)=>{"use strict";var kte=kc(),Zm=Mm(),yL=qc(),vL=Jm(),bL=require("path");wL.exports=(r,t,i)=>{if(typeof t=="function"&&(i=t),Array.isArray(r)&&(t=r,r={}),!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");t=Array.from(t);let n=kte(r);if(n.sync&&typeof i=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof i=="function")throw new TypeError("callback only supported with file option");return n.file&&n.sync?Rte(n,t):n.file?xte(n,t,i):n.sync?Ate(n,t):Ote(n,t)};var Rte=(r,t)=>{let i=new Zm.Sync(r),n=new yL.WriteStreamSync(r.file,{mode:r.mode||438});i.pipe(n),SL(i,t)},xte=(r,t,i)=>{let n=new Zm(r),s=new yL.WriteStream(r.file,{mode:r.mode||438});n.pipe(s);let o=new Promise((l,h)=>{s.on("error",h),s.on("close",l),n.on("error",h)});return HE(n,t),i?o.then(i,i):o},SL=(r,t)=>{t.forEach(i=>{i.charAt(0)==="@"?vL({file:bL.resolve(r.cwd,i.substr(1)),sync:!0,noResume:!0,onentry:n=>r.add(n)}):r.add(i)}),r.end()},HE=(r,t)=>{for(;t.length;){let i=t.shift();if(i.charAt(0)==="@")return vL({file:bL.resolve(r.cwd,i.substr(1)),noResume:!0,onentry:n=>r.add(n)}).then(n=>HE(r,t));r.add(i)}r.end()},Ate=(r,t)=>{let i=new Zm.Sync(r);return SL(i,t),i},Ote=(r,t)=>{let i=new Zm(r);return HE(i,t),i}});var VE=x((m1e,AL)=>{"use strict";var Nte=kc(),EL=Mm(),nn=require("fs"),TL=qc(),CL=Jm(),kL=require("path"),RL=Dc();AL.exports=(r,t,i)=>{let n=Nte(r);if(!n.file)throw new TypeError("file is required");if(n.gzip)throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),n.sync?Dte(n,t):Ite(n,t,i)};var Dte=(r,t)=>{let i=new EL.Sync(r),n=!0,s,o;try{try{s=nn.openSync(r.file,"r+")}catch(p){if(p.code==="ENOENT")s=nn.openSync(r.file,"w+");else throw p}let l=nn.fstatSync(s),h=Buffer.alloc(512);e:for(o=0;o<l.size;o+=512){for(let m=0,y=0;m<512;m+=y){if(y=nn.readSync(s,h,m,h.length-m,o+m),o===0&&h[0]===31&&h[1]===139)throw new Error("cannot append to compressed archives");if(!y)break e}let p=new RL(h);if(!p.cksumValid)break;let g=512*Math.ceil(p.size/512);if(o+g+512>l.size)break;o+=g,r.mtimeCache&&r.mtimeCache.set(p.path,p.mtime)}n=!1,Pte(r,i,o,s,t)}finally{if(n)try{nn.closeSync(s)}catch{}}},Pte=(r,t,i,n,s)=>{let o=new TL.WriteStreamSync(r.file,{fd:n,start:i});t.pipe(o),Lte(t,s)},Ite=(r,t,i)=>{t=Array.from(t);let n=new EL(r),s=(l,h,p)=>{let g=(C,_)=>{C?nn.close(l,R=>p(C)):p(null,_)},m=0;if(h===0)return g(null,0);let y=0,S=Buffer.alloc(512),w=(C,_)=>{if(C)return g(C);if(y+=_,y<512&&_)return nn.read(l,S,y,S.length-y,m+y,w);if(m===0&&S[0]===31&&S[1]===139)return g(new Error("cannot append to compressed archives"));if(y<512)return g(null,m);let R=new RL(S);if(!R.cksumValid)return g(null,m);let D=512*Math.ceil(R.size/512);if(m+D+512>h||(m+=D+512,m>=h))return g(null,m);r.mtimeCache&&r.mtimeCache.set(R.path,R.mtime),y=0,nn.read(l,S,0,512,m,w)};nn.read(l,S,0,512,m,w)},o=new Promise((l,h)=>{n.on("error",h);let p="r+",g=(m,y)=>{if(m&&m.code==="ENOENT"&&p==="r+")return p="w+",nn.open(r.file,p,g);if(m)return h(m);nn.fstat(y,(S,w)=>{if(S)return h(S);s(y,w.size,(C,_)=>{if(C)return h(C);let R=new TL.WriteStream(r.file,{fd:y,start:_});n.pipe(R),R.on("error",h),R.on("close",l),xL(n,t)})})};nn.open(r.file,p,g)});return i?o.then(i,i):o},Lte=(r,t)=>{t.forEach(i=>{i.charAt(0)==="@"?CL({file:kL.resolve(r.cwd,i.substr(1)),sync:!0,noResume:!0,onentry:n=>r.add(n)}):r.add(i)}),r.end()},xL=(r,t)=>{for(;t.length;){let i=t.shift();if(i.charAt(0)==="@")return CL({file:kL.resolve(r.cwd,i.substr(1)),noResume:!0,onentry:n=>r.add(n)}).then(n=>xL(r,t));r.add(i)}r.end()}});var NL=x((y1e,OL)=>{"use strict";var Mte=kc(),Fte=VE();OL.exports=(r,t,i)=>{let n=Mte(r);if(!n.file)throw new TypeError("file is required");if(n.gzip)throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),jte(n),Fte(n,t,i)};var jte=r=>{let t=r.filter;r.mtimeCache||(r.mtimeCache=new Map),r.filter=t?(i,n)=>t(i,n)&&!(r.mtimeCache.get(i)>n.mtime):(i,n)=>!(r.mtimeCache.get(i)>n.mtime)}});var IL=x((v1e,PL)=>{var{promisify:DL}=require("util"),Xo=require("fs"),Bte=r=>{if(!r)r={mode:511,fs:Xo};else if(typeof r=="object")r={mode:511,fs:Xo,...r};else if(typeof r=="number")r={mode:r,fs:Xo};else if(typeof r=="string")r={mode:parseInt(r,8),fs:Xo};else throw new TypeError("invalid options argument");return r.mkdir=r.mkdir||r.fs.mkdir||Xo.mkdir,r.mkdirAsync=DL(r.mkdir),r.stat=r.stat||r.fs.stat||Xo.stat,r.statAsync=DL(r.stat),r.statSync=r.statSync||r.fs.statSync||Xo.statSync,r.mkdirSync=r.mkdirSync||r.fs.mkdirSync||Xo.mkdirSync,r};PL.exports=Bte});var ML=x((b1e,LL)=>{var Ute=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:qte,parse:Wte}=require("path"),zte=r=>{if(/\0/.test(r))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:r,code:"ERR_INVALID_ARG_VALUE"});if(r=qte(r),Ute==="win32"){let t=/[*|"<>?:]/,{root:i}=Wte(r);if(t.test(r.substr(i.length)))throw Object.assign(new Error("Illegal characters in path."),{path:r,code:"EINVAL"})}return r};LL.exports=zte});var qL=x((S1e,UL)=>{var{dirname:FL}=require("path"),jL=(r,t,i=void 0)=>i===t?Promise.resolve():r.statAsync(t).then(n=>n.isDirectory()?i:void 0,n=>n.code==="ENOENT"?jL(r,FL(t),t):void 0),BL=(r,t,i=void 0)=>{if(i!==t)try{return r.statSync(t).isDirectory()?i:void 0}catch(n){return n.code==="ENOENT"?BL(r,FL(t),t):void 0}};UL.exports={findMade:jL,findMadeSync:BL}});var YE=x((w1e,zL)=>{var{dirname:WL}=require("path"),$E=(r,t,i)=>{t.recursive=!1;let n=WL(r);return n===r?t.mkdirAsync(r,t).catch(s=>{if(s.code!=="EISDIR")throw s}):t.mkdirAsync(r,t).then(()=>i||r,s=>{if(s.code==="ENOENT")return $E(n,t).then(o=>$E(r,t,o));if(s.code!=="EEXIST"&&s.code!=="EROFS")throw s;return t.statAsync(r).then(o=>{if(o.isDirectory())return i;throw s},()=>{throw s})})},GE=(r,t,i)=>{let n=WL(r);if(t.recursive=!1,n===r)try{return t.mkdirSync(r,t)}catch(s){if(s.code!=="EISDIR")throw s;return}try{return t.mkdirSync(r,t),i||r}catch(s){if(s.code==="ENOENT")return GE(r,t,GE(n,t,i));if(s.code!=="EEXIST"&&s.code!=="EROFS")throw s;try{if(!t.statSync(r).isDirectory())throw s}catch{throw s}}};zL.exports={mkdirpManual:$E,mkdirpManualSync:GE}});var $L=x((_1e,VL)=>{var{dirname:HL}=require("path"),{findMade:Hte,findMadeSync:Vte}=qL(),{mkdirpManual:$te,mkdirpManualSync:Gte}=YE(),Yte=(r,t)=>(t.recursive=!0,HL(r)===r?t.mkdirAsync(r,t):Hte(t,r).then(n=>t.mkdirAsync(r,t).then(()=>n).catch(s=>{if(s.code==="ENOENT")return $te(r,t);throw s}))),Kte=(r,t)=>{if(t.recursive=!0,HL(r)===r)return t.mkdirSync(r,t);let n=Vte(t,r);try{return t.mkdirSync(r,t),n}catch(s){if(s.code==="ENOENT")return Gte(r,t);throw s}};VL.exports={mkdirpNative:Yte,mkdirpNativeSync:Kte}});var XL=x((E1e,KL)=>{var GL=require("fs"),Xte=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,KE=Xte.replace(/^v/,"").split("."),YL=+KE[0]>10||+KE[0]==10&&+KE[1]>=12,Jte=YL?r=>r.mkdir===GL.mkdir:()=>!1,Zte=YL?r=>r.mkdirSync===GL.mkdirSync:()=>!1;KL.exports={useNative:Jte,useNativeSync:Zte}});var rM=x((T1e,tM)=>{var zc=IL(),Hc=ML(),{mkdirpNative:JL,mkdirpNativeSync:ZL}=$L(),{mkdirpManual:QL,mkdirpManualSync:eM}=YE(),{useNative:Qte,useNativeSync:ere}=XL(),Vc=(r,t)=>(r=Hc(r),t=zc(t),Qte(t)?JL(r,t):QL(r,t)),tre=(r,t)=>(r=Hc(r),t=zc(t),ere(t)?ZL(r,t):eM(r,t));Vc.sync=tre;Vc.native=(r,t)=>JL(Hc(r),zc(t));Vc.manual=(r,t)=>QL(Hc(r),zc(t));Vc.nativeSync=(r,t)=>ZL(Hc(r),zc(t));Vc.manualSync=(r,t)=>eM(Hc(r),zc(t));tM.exports=Vc});var cM=x((C1e,lM)=>{"use strict";var sn=require("fs"),Ka=require("path"),rre=sn.lchown?"lchown":"chown",ire=sn.lchownSync?"lchownSync":"chownSync",nM=sn.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),iM=(r,t,i)=>{try{return sn[ire](r,t,i)}catch(n){if(n.code!=="ENOENT")throw n}},nre=(r,t,i)=>{try{return sn.chownSync(r,t,i)}catch(n){if(n.code!=="ENOENT")throw n}},sre=nM?(r,t,i,n)=>s=>{!s||s.code!=="EISDIR"?n(s):sn.chown(r,t,i,n)}:(r,t,i,n)=>n,XE=nM?(r,t,i)=>{try{return iM(r,t,i)}catch(n){if(n.code!=="EISDIR")throw n;nre(r,t,i)}}:(r,t,i)=>iM(r,t,i),ore=process.version,sM=(r,t,i)=>sn.readdir(r,t,i),are=(r,t)=>sn.readdirSync(r,t);/^v4\./.test(ore)&&(sM=(r,t,i)=>sn.readdir(r,i));var Qm=(r,t,i,n)=>{sn[rre](r,t,i,sre(r,t,i,s=>{n(s&&s.code!=="ENOENT"?s:null)}))},oM=(r,t,i,n,s)=>{if(typeof t=="string")return sn.lstat(Ka.resolve(r,t),(o,l)=>{if(o)return s(o.code!=="ENOENT"?o:null);l.name=t,oM(r,l,i,n,s)});if(t.isDirectory())JE(Ka.resolve(r,t.name),i,n,o=>{if(o)return s(o);let l=Ka.resolve(r,t.name);Qm(l,i,n,s)});else{let o=Ka.resolve(r,t.name);Qm(o,i,n,s)}},JE=(r,t,i,n)=>{sM(r,{withFileTypes:!0},(s,o)=>{if(s){if(s.code==="ENOENT")return n();if(s.code!=="ENOTDIR"&&s.code!=="ENOTSUP")return n(s)}if(s||!o.length)return Qm(r,t,i,n);let l=o.length,h=null,p=g=>{if(!h){if(g)return n(h=g);if(--l===0)return Qm(r,t,i,n)}};o.forEach(g=>oM(r,g,t,i,p))})},lre=(r,t,i,n)=>{if(typeof t=="string")try{let s=sn.lstatSync(Ka.resolve(r,t));s.name=t,t=s}catch(s){if(s.code==="ENOENT")return;throw s}t.isDirectory()&&aM(Ka.resolve(r,t.name),i,n),XE(Ka.resolve(r,t.name),i,n)},aM=(r,t,i)=>{let n;try{n=are(r,{withFileTypes:!0})}catch(s){if(s.code==="ENOENT")return;if(s.code==="ENOTDIR"||s.code==="ENOTSUP")return XE(r,t,i);throw s}return n&&n.length&&n.forEach(s=>lre(r,s,t,i)),XE(r,t,i)};lM.exports=JE;JE.sync=aM});var hM=x((k1e,ZE)=>{"use strict";var uM=rM(),on=require("fs"),ey=require("path"),dM=cM(),ty=class extends Error{constructor(t,i){super("Cannot extract through symbolic link"),this.path=i,this.symlink=t}get name(){return"SylinkError"}},$c=class extends Error{constructor(t,i){super(i+": Cannot cd into '"+t+"'"),this.path=t,this.code=i}get name(){return"CwdError"}};ZE.exports=(r,t,i)=>{let n=t.umask,s=t.mode|448,o=(s&n)!==0,l=t.uid,h=t.gid,p=typeof l=="number"&&typeof h=="number"&&(l!==t.processUid||h!==t.processGid),g=t.preserve,m=t.unlink,y=t.cache,S=t.cwd,w=(R,D)=>{R?i(R):(y.set(r,!0),D&&p?dM(D,l,h,I=>w(I)):o?on.chmod(r,s,i):i())};if(y&&y.get(r)===!0)return w();if(r===S)return on.stat(r,(R,D)=>{(R||!D.isDirectory())&&(R=new $c(r,R&&R.code||"ENOTDIR")),w(R)});if(g)return uM(r,{mode:s}).then(R=>w(null,R),w);let _=ey.relative(S,r).split(/\/|\\/);ry(S,_,s,y,m,S,null,w)};var ry=(r,t,i,n,s,o,l,h)=>{if(!t.length)return h(null,l);let p=t.shift(),g=r+"/"+p;if(n.get(g))return ry(g,t,i,n,s,o,l,h);on.mkdir(g,i,fM(g,t,i,n,s,o,l,h))},fM=(r,t,i,n,s,o,l,h)=>p=>{if(p){if(p.path&&ey.dirname(p.path)===o&&(p.code==="ENOTDIR"||p.code==="ENOENT"))return h(new $c(o,p.code));on.lstat(r,(g,m)=>{if(g)h(g);else if(m.isDirectory())ry(r,t,i,n,s,o,l,h);else if(s)on.unlink(r,y=>{if(y)return h(y);on.mkdir(r,i,fM(r,t,i,n,s,o,l,h))});else{if(m.isSymbolicLink())return h(new ty(r,r+"/"+t.join("/")));h(p)}})}else l=l||r,ry(r,t,i,n,s,o,l,h)};ZE.exports.sync=(r,t)=>{let i=t.umask,n=t.mode|448,s=(n&i)!==0,o=t.uid,l=t.gid,h=typeof o=="number"&&typeof l=="number"&&(o!==t.processUid||l!==t.processGid),p=t.preserve,g=t.unlink,m=t.cache,y=t.cwd,S=R=>{m.set(r,!0),R&&h&&dM.sync(R,o,l),s&&on.chmodSync(r,n)};if(m&&m.get(r)===!0)return S();if(r===y){let R=!1,D="ENOTDIR";try{R=on.statSync(r).isDirectory()}catch(I){D=I.code}finally{if(!R)throw new $c(r,D)}S();return}if(p)return S(uM.sync(r,n));let C=ey.relative(y,r).split(/\/|\\/),_=null;for(let R=C.shift(),D=y;R&&(D+="/"+R);R=C.shift())if(!m.get(D))try{on.mkdirSync(D,n),_=_||D,m.set(D,!0)}catch(I){if(I.path&&ey.dirname(I.path)===y&&(I.code==="ENOTDIR"||I.code==="ENOENT"))return new $c(y,I.code);let M=on.lstatSync(D);if(M.isDirectory()){m.set(D,!0);continue}else if(g){on.unlinkSync(D),on.mkdirSync(D,n),_=_||D,m.set(D,!0);continue}else if(M.isSymbolicLink())return new ty(D,D+"/"+C.join("/"))}return S(_)}});var mM=x((R1e,gM)=>{var pM=require("assert");gM.exports=()=>{let r=new Map,t=new Map,{join:i}=require("path"),n=m=>i(m).split(/[\\/]/).slice(0,-1).reduce((y,S)=>y.length?y.concat(i(y[y.length-1],S)):[S],[]),s=new Set,o=m=>{let y=t.get(m);if(!y)throw new Error("function does not have any path reservations");return{paths:y.paths.map(S=>r.get(S)),dirs:[...y.dirs].map(S=>r.get(S))}},l=m=>{let{paths:y,dirs:S}=o(m);return y.every(w=>w[0]===m)&&S.every(w=>w[0]instanceof Set&&w[0].has(m))},h=m=>s.has(m)||!l(m)?!1:(s.add(m),m(()=>p(m)),!0),p=m=>{if(!s.has(m))return!1;let{paths:y,dirs:S}=t.get(m),w=new Set;return y.forEach(C=>{let _=r.get(C);pM.equal(_[0],m),_.length===1?r.delete(C):(_.shift(),typeof _[0]=="function"?w.add(_[0]):_[0].forEach(R=>w.add(R)))}),S.forEach(C=>{let _=r.get(C);pM(_[0]instanceof Set),_[0].size===1&&_.length===1?r.delete(C):_[0].size===1?(_.shift(),w.add(_[0])):_[0].delete(m)}),s.delete(m),w.forEach(C=>h(C)),!0};return{check:l,reserve:(m,y)=>{let S=new Set(m.map(w=>n(w)).reduce((w,C)=>w.concat(C)));return t.set(y,{dirs:S,paths:m}),m.forEach(w=>{let C=r.get(w);C?C.push(y):r.set(w,[y])}),S.forEach(w=>{let C=r.get(w);C?C[C.length-1]instanceof Set?C[C.length-1].add(y):C.push(new Set([y])):r.set(w,[new Set([y])])}),h(y)}}}});var bM=x((x1e,vM)=>{var cre=process.env.__FAKE_PLATFORM__||process.platform,ure=cre==="win32",dre=global.__FAKE_TESTING_FS__||require("fs"),{O_CREAT:fre,O_TRUNC:hre,O_WRONLY:pre,UV_FS_O_FILEMAP:yM=0}=dre.constants,gre=ure&&!!yM,mre=512*1024,yre=yM|hre|fre|pre;vM.exports=gre?r=>r<mre?yre:"w":()=>"w"});var aT=x((A1e,DM)=>{"use strict";var vre=require("assert"),bre=Xm(),Ot=require("fs"),Sre=qc(),Xa=require("path"),AM=hM(),SM=hE(),wre=mM(),_re=pE(),wM=Symbol("onEntry"),tT=Symbol("checkFs"),_M=Symbol("checkFs2"),rT=Symbol("isReusable"),Ys=Symbol("makeFs"),iT=Symbol("file"),nT=Symbol("directory"),sy=Symbol("link"),EM=Symbol("symlink"),TM=Symbol("hardlink"),CM=Symbol("unsupported"),kM=Symbol("checkPath"),Yc=Symbol("mkdir"),oi=Symbol("onError"),iy=Symbol("pending"),RM=Symbol("pend"),Gc=Symbol("unpend"),QE=Symbol("ended"),eT=Symbol("maybeClose"),sT=Symbol("skip"),Zd=Symbol("doChown"),Qd=Symbol("uid"),ef=Symbol("gid"),OM=require("crypto"),NM=bM(),ny=()=>{throw new Error("sync function called cb somehow?!?")},Ere=(r,t)=>{if(process.platform!=="win32")return Ot.unlink(r,t);let i=r+".DELETE."+OM.randomBytes(16).toString("hex");Ot.rename(r,i,n=>{if(n)return t(n);Ot.unlink(i,t)})},Tre=r=>{if(process.platform!=="win32")return Ot.unlinkSync(r);let t=r+".DELETE."+OM.randomBytes(16).toString("hex");Ot.renameSync(r,t),Ot.unlinkSync(t)},xM=(r,t,i)=>r===r>>>0?r:t===t>>>0?t:i,tf=class extends bre{constructor(t){if(t||(t={}),t.ondone=i=>{this[QE]=!0,this[eT]()},super(t),this.reservations=wre(),this.transform=typeof t.transform=="function"?t.transform:null,this.writable=!0,this.readable=!1,this[iy]=0,this[QE]=!1,this.dirCache=t.dirCache||new Map,typeof t.uid=="number"||typeof t.gid=="number"){if(typeof t.uid!="number"||typeof t.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(t.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=t.uid,this.gid=t.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;t.preserveOwner===void 0&&typeof t.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!t.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.forceChown=t.forceChown===!0,this.win32=!!t.win32||process.platform==="win32",this.newer=!!t.newer,this.keep=!!t.keep,this.noMtime=!!t.noMtime,this.preservePaths=!!t.preservePaths,this.unlink=!!t.unlink,this.cwd=Xa.resolve(t.cwd||process.cwd()),this.strip=+t.strip||0,this.processUmask=t.noChmod?0:process.umask(),this.umask=typeof t.umask=="number"?t.umask:this.processUmask,this.dmode=t.dmode||511&~this.umask,this.fmode=t.fmode||438&~this.umask,this.on("entry",i=>this[wM](i))}warn(t,i,n={}){return(t==="TAR_BAD_ARCHIVE"||t==="TAR_ABORT")&&(n.recoverable=!1),super.warn(t,i,n)}[eT](){this[QE]&&this[iy]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"),this.emit("close"))}[kM](t){if(this.strip){let i=t.path.split(/\/|\\/);if(i.length<this.strip||(t.path=i.slice(this.strip).join("/"),t.path===""&&t.type!=="Directory"&&t.type!=="GNUDumpDir"))return!1;if(t.type==="Link"){let n=t.linkpath.split(/\/|\\/);n.length>=this.strip&&(t.linkpath=n.slice(this.strip).join("/"))}}if(!this.preservePaths){let i=t.path;if(i.match(/(^|\/|\\)\.\.(\\|\/|$)/))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:t,path:i}),!1;let[n,s]=_re(i);n&&(t.path=s,this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:t,path:i}))}if(this.win32){let i=Xa.win32.parse(t.path);t.path=i.root===""?SM.encode(t.path):i.root+SM.encode(t.path.substr(i.root.length))}return Xa.isAbsolute(t.path)?t.absolute=t.path:t.absolute=Xa.resolve(this.cwd,t.path),!0}[wM](t){if(!this[kM](t))return t.resume();switch(vre.equal(typeof t.absolute,"string"),t.type){case"Directory":case"GNUDumpDir":t.mode&&(t.mode=t.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[tT](t);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[CM](t)}}[oi](t,i){t.name==="CwdError"?this.emit("error",t):(this.warn("TAR_ENTRY_ERROR",t,{entry:i}),this[Gc](),i.resume())}[Yc](t,i,n){AM(t,{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:i,noChmod:this.noChmod},n)}[Zd](t){return this.forceChown||this.preserveOwner&&(typeof t.uid=="number"&&t.uid!==this.processUid||typeof t.gid=="number"&&t.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[Qd](t){return xM(this.uid,t.uid,this.processUid)}[ef](t){return xM(this.gid,t.gid,this.processGid)}[iT](t,i){let n=t.mode&4095||this.fmode,s=new Sre.WriteStream(t.absolute,{flags:NM(t.size),mode:n,autoClose:!1});s.on("error",p=>this[oi](p,t));let o=1,l=p=>{if(p)return this[oi](p,t);--o===0&&Ot.close(s.fd,g=>{i(),g?this[oi](g,t):this[Gc]()})};s.on("finish",p=>{let g=t.absolute,m=s.fd;if(t.mtime&&!this.noMtime){o++;let y=t.atime||new Date,S=t.mtime;Ot.futimes(m,y,S,w=>w?Ot.utimes(g,y,S,C=>l(C&&w)):l())}if(this[Zd](t)){o++;let y=this[Qd](t),S=this[ef](t);Ot.fchown(m,y,S,w=>w?Ot.chown(g,y,S,C=>l(C&&w)):l())}l()});let h=this.transform&&this.transform(t)||t;h!==t&&(h.on("error",p=>this[oi](p,t)),t.pipe(h)),h.pipe(s)}[nT](t,i){let n=t.mode&4095||this.dmode;this[Yc](t.absolute,n,s=>{if(s)return i(),this[oi](s,t);let o=1,l=h=>{--o===0&&(i(),this[Gc](),t.resume())};t.mtime&&!this.noMtime&&(o++,Ot.utimes(t.absolute,t.atime||new Date,t.mtime,l)),this[Zd](t)&&(o++,Ot.chown(t.absolute,this[Qd](t),this[ef](t),l)),l()})}[CM](t){t.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${t.type}`,{entry:t}),t.resume()}[EM](t,i){this[sy](t,t.linkpath,"symlink",i)}[TM](t,i){this[sy](t,Xa.resolve(this.cwd,t.linkpath),"link",i)}[RM](){this[iy]++}[Gc](){this[iy]--,this[eT]()}[sT](t){this[Gc](),t.resume()}[rT](t,i){return t.type==="File"&&!this.unlink&&i.isFile()&&i.nlink<=1&&process.platform!=="win32"}[tT](t){this[RM]();let i=[t.path];t.linkpath&&i.push(t.linkpath),this.reservations.reserve(i,n=>this[_M](t,n))}[_M](t,i){if(t.type!=="Directory")for(let n of this.dirCache.keys())(n===t.absolute||n.indexOf(t.absolute+"/")===0||n.indexOf(t.absolute+"\\")===0)&&this.dirCache.delete(n);this[Yc](Xa.dirname(t.absolute),this.dmode,n=>{if(n)return i(),this[oi](n,t);Ot.lstat(t.absolute,(s,o)=>{o&&(this.keep||this.newer&&o.mtime>t.mtime)?(this[sT](t),i()):s||this[rT](t,o)?this[Ys](null,t,i):o.isDirectory()?t.type==="Directory"?!this.noChmod&&(!t.mode||(o.mode&4095)===t.mode)?this[Ys](null,t,i):Ot.chmod(t.absolute,t.mode,l=>this[Ys](l,t,i)):Ot.rmdir(t.absolute,l=>this[Ys](l,t,i)):Ere(t.absolute,l=>this[Ys](l,t,i))})})}[Ys](t,i,n){if(t)return this[oi](t,i);switch(i.type){case"File":case"OldFile":case"ContiguousFile":return this[iT](i,n);case"Link":return this[TM](i,n);case"SymbolicLink":return this[EM](i,n);case"Directory":case"GNUDumpDir":return this[nT](i,n)}}[sy](t,i,n,s){Ot[n](i,t.absolute,o=>{if(o)return this[oi](o,t);s(),this[Gc](),t.resume()})}},oT=class extends tf{[tT](t){if(t.type!=="Directory")for(let n of this.dirCache.keys())(n===t.absolute||n.indexOf(t.absolute+"/")===0||n.indexOf(t.absolute+"\\")===0)&&this.dirCache.delete(n);let i=this[Yc](Xa.dirname(t.absolute),this.dmode,ny);if(i)return this[oi](i,t);try{let n=Ot.lstatSync(t.absolute);if(this.keep||this.newer&&n.mtime>t.mtime)return this[sT](t);if(this[rT](t,n))return this[Ys](null,t,ny);try{return n.isDirectory()?t.type==="Directory"?!this.noChmod&&t.mode&&(n.mode&4095)!==t.mode&&Ot.chmodSync(t.absolute,t.mode):Ot.rmdirSync(t.absolute):Tre(t.absolute),this[Ys](null,t,ny)}catch(s){return this[oi](s,t)}}catch{return this[Ys](null,t,ny)}}[iT](t,i){let n=t.mode&4095||this.fmode,s=h=>{let p;try{Ot.closeSync(o)}catch(g){p=g}(h||p)&&this[oi](h||p,t)},o;try{o=Ot.openSync(t.absolute,NM(t.size),n)}catch(h){return s(h)}let l=this.transform&&this.transform(t)||t;l!==t&&(l.on("error",h=>this[oi](h,t)),t.pipe(l)),l.on("data",h=>{try{Ot.writeSync(o,h,0,h.length)}catch(p){s(p)}}),l.on("end",h=>{let p=null;if(t.mtime&&!this.noMtime){let g=t.atime||new Date,m=t.mtime;try{Ot.futimesSync(o,g,m)}catch(y){try{Ot.utimesSync(t.absolute,g,m)}catch{p=y}}}if(this[Zd](t)){let g=this[Qd](t),m=this[ef](t);try{Ot.fchownSync(o,g,m)}catch(y){try{Ot.chownSync(t.absolute,g,m)}catch{p=p||y}}}s(p)})}[nT](t,i){let n=t.mode&4095||this.dmode,s=this[Yc](t.absolute,n);if(s)return this[oi](s,t);if(t.mtime&&!this.noMtime)try{Ot.utimesSync(t.absolute,t.atime||new Date,t.mtime)}catch{}if(this[Zd](t))try{Ot.chownSync(t.absolute,this[Qd](t),this[ef](t))}catch{}t.resume()}[Yc](t,i){try{return AM.sync(t,{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:i})}catch(n){return n}}[sy](t,i,n,s){try{Ot[n+"Sync"](i,t.absolute),t.resume()}catch(o){return this[oi](o,t)}}};tf.Sync=oT;DM.exports=tf});var FM=x((O1e,MM)=>{"use strict";var Cre=kc(),oy=aT(),IM=require("fs"),LM=qc(),PM=require("path");MM.exports=(r,t,i)=>{typeof r=="function"?(i=r,t=null,r={}):Array.isArray(r)&&(t=r,r={}),typeof t=="function"&&(i=t,t=null),t?t=Array.from(t):t=[];let n=Cre(r);if(n.sync&&typeof i=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof i=="function")throw new TypeError("callback only supported with file option");return t.length&&kre(n,t),n.file&&n.sync?Rre(n):n.file?xre(n,i):n.sync?Are(n):Ore(n)};var kre=(r,t)=>{let i=new Map(t.map(o=>[o.replace(/\/+$/,""),!0])),n=r.filter,s=(o,l)=>{let h=l||PM.parse(o).root||".",p=o===h?!1:i.has(o)?i.get(o):s(PM.dirname(o),h);return i.set(o,p),p};r.filter=n?(o,l)=>n(o,l)&&s(o.replace(/\/+$/,"")):o=>s(o.replace(/\/+$/,""))},Rre=r=>{let t=new oy.Sync(r),i=r.file,n=IM.statSync(i),s=r.maxReadSize||16*1024*1024;new LM.ReadStreamSync(i,{readSize:s,size:n.size}).pipe(t)},xre=(r,t)=>{let i=new oy(r),n=r.maxReadSize||16*1024*1024,s=r.file,o=new Promise((l,h)=>{i.on("error",h),i.on("close",l),IM.stat(s,(p,g)=>{if(p)h(p);else{let m=new LM.ReadStream(s,{readSize:n,size:g.size});m.on("error",h),m.pipe(i)}})});return t?o.then(t,t):o},Are=r=>new oy.Sync(r),Ore=r=>new oy(r)});var lT=x(br=>{"use strict";br.c=br.create=_L();br.r=br.replace=VE();br.t=br.list=Jm();br.u=br.update=NL();br.x=br.extract=FM();br.Pack=Mm();br.Unpack=aT();br.Parse=Xm();br.ReadEntry=vm();br.WriteEntry=_E();br.Header=Dc();br.Pax=Sm();br.types=oE()});var jM=x(cT=>{var Ja=require("path"),Zo=process.platform==="win32",Jo=require("fs"),Nre=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function Dre(){var r;if(Nre){var t=new Error;r=i}else r=n;return r;function i(s){s&&(t.message=s.message,s=t,n(s))}function n(s){if(s){if(process.throwDeprecation)throw s;if(!process.noDeprecation){var o="fs: missing callback "+(s.stack||s.message);process.traceDeprecation?console.trace(o):console.error(o)}}}}function Pre(r){return typeof r=="function"?r:Dre()}var D1e=Ja.normalize;Zo?Ks=/(.*?)(?:[\/\\]+|$)/g:Ks=/(.*?)(?:[\/]+|$)/g;var Ks;Zo?rf=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:rf=/^[\/]*/;var rf;cT.realpathSync=function(t,i){if(t=Ja.resolve(t),i&&Object.prototype.hasOwnProperty.call(i,t))return i[t];var n=t,s={},o={},l,h,p,g;m();function m(){var R=rf.exec(t);l=R[0].length,h=R[0],p=R[0],g="",Zo&&!o[p]&&(Jo.lstatSync(p),o[p]=!0)}for(;l<t.length;){Ks.lastIndex=l;var y=Ks.exec(t);if(g=h,h+=y[0],p=g+y[1],l=Ks.lastIndex,!(o[p]||i&&i[p]===p)){var S;if(i&&Object.prototype.hasOwnProperty.call(i,p))S=i[p];else{var w=Jo.lstatSync(p);if(!w.isSymbolicLink()){o[p]=!0,i&&(i[p]=p);continue}var C=null;if(!Zo){var _=w.dev.toString(32)+":"+w.ino.toString(32);s.hasOwnProperty(_)&&(C=s[_])}C===null&&(Jo.statSync(p),C=Jo.readlinkSync(p)),S=Ja.resolve(g,C),i&&(i[p]=S),Zo||(s[_]=C)}t=Ja.resolve(S,t.slice(l)),m()}}return i&&(i[n]=t),t};cT.realpath=function(t,i,n){if(typeof n!="function"&&(n=Pre(i),i=null),t=Ja.resolve(t),i&&Object.prototype.hasOwnProperty.call(i,t))return process.nextTick(n.bind(null,null,i[t]));var s=t,o={},l={},h,p,g,m;y();function y(){var R=rf.exec(t);h=R[0].length,p=R[0],g=R[0],m="",Zo&&!l[g]?Jo.lstat(g,function(D){if(D)return n(D);l[g]=!0,S()}):process.nextTick(S)}function S(){if(h>=t.length)return i&&(i[s]=t),n(null,t);Ks.lastIndex=h;var R=Ks.exec(t);return m=p,p+=R[0],g=m+R[1],h=Ks.lastIndex,l[g]||i&&i[g]===g?process.nextTick(S):i&&Object.prototype.hasOwnProperty.call(i,g)?_(i[g]):Jo.lstat(g,w)}function w(R,D){if(R)return n(R);if(!D.isSymbolicLink())return l[g]=!0,i&&(i[g]=g),process.nextTick(S);if(!Zo){var I=D.dev.toString(32)+":"+D.ino.toString(32);if(o.hasOwnProperty(I))return C(null,o[I],g)}Jo.stat(g,function(M){if(M)return n(M);Jo.readlink(g,function(L,V){Zo||(o[I]=V),C(L,V)})})}function C(R,D,I){if(R)return n(R);var M=Ja.resolve(m,D);i&&(i[I]=M),_(M)}function _(R){t=Ja.resolve(R,t.slice(h)),y()}}});var hT=x((I1e,WM)=>{WM.exports=Qo;Qo.realpath=Qo;Qo.sync=fT;Qo.realpathSync=fT;Qo.monkeypatch=Lre;Qo.unmonkeypatch=Mre;var Kc=require("fs"),uT=Kc.realpath,dT=Kc.realpathSync,Ire=process.version,BM=/^v[0-5]\./.test(Ire),UM=jM();function qM(r){return r&&r.syscall==="realpath"&&(r.code==="ELOOP"||r.code==="ENOMEM"||r.code==="ENAMETOOLONG")}function Qo(r,t,i){if(BM)return uT(r,t,i);typeof t=="function"&&(i=t,t=null),uT(r,t,function(n,s){qM(n)?UM.realpath(r,t,i):i(n,s)})}function fT(r,t){if(BM)return dT(r,t);try{return dT(r,t)}catch(i){if(qM(i))return UM.realpathSync(r,t);throw i}}function Lre(){Kc.realpath=Qo,Kc.realpathSync=fT}function Mre(){Kc.realpath=uT,Kc.realpathSync=dT}});var HM=x((L1e,zM)=>{var Fre=typeof process=="object"&&process&&process.platform==="win32";zM.exports=Fre?{sep:"\\"}:{sep:"/"}});var pT=x((M1e,YM)=>{"use strict";YM.exports=$M;function $M(r,t,i){r instanceof RegExp&&(r=VM(r,i)),t instanceof RegExp&&(t=VM(t,i));var n=GM(r,t,i);return n&&{start:n[0],end:n[1],pre:i.slice(0,n[0]),body:i.slice(n[0]+r.length,n[1]),post:i.slice(n[1]+t.length)}}function VM(r,t){var i=t.match(r);return i?i[0]:null}$M.range=GM;function GM(r,t,i){var n,s,o,l,h,p=i.indexOf(r),g=i.indexOf(t,p+1),m=p;if(p>=0&&g>0){if(r===t)return[p,g];for(n=[],o=i.length;m>=0&&!h;)m==p?(n.push(m),p=i.indexOf(r,m+1)):n.length==1?h=[n.pop(),g]:(s=n.pop(),s<o&&(o=s,l=g),g=i.indexOf(t,m+1)),m=p<g&&p>=0?p:g;n.length&&(h=[o,l])}return h}});var r5=x((F1e,t5)=>{var KM=pT();t5.exports=Ure;var XM="\0SLASH"+Math.random()+"\0",JM="\0OPEN"+Math.random()+"\0",mT="\0CLOSE"+Math.random()+"\0",ZM="\0COMMA"+Math.random()+"\0",QM="\0PERIOD"+Math.random()+"\0";function gT(r){return parseInt(r,10)==r?parseInt(r,10):r.charCodeAt(0)}function jre(r){return r.split("\\\\").join(XM).split("\\{").join(JM).split("\\}").join(mT).split("\\,").join(ZM).split("\\.").join(QM)}function Bre(r){return r.split(XM).join("\\").split(JM).join("{").split(mT).join("}").split(ZM).join(",").split(QM).join(".")}function e5(r){if(!r)return[""];var t=[],i=KM("{","}",r);if(!i)return r.split(",");var n=i.pre,s=i.body,o=i.post,l=n.split(",");l[l.length-1]+="{"+s+"}";var h=e5(o);return o.length&&(l[l.length-1]+=h.shift(),l.push.apply(l,h)),t.push.apply(t,l),t}function Ure(r){return r?(r.substr(0,2)==="{}"&&(r="\\{\\}"+r.substr(2)),nf(jre(r),!0).map(Bre)):[]}function qre(r){return"{"+r+"}"}function Wre(r){return/^-?0\d/.test(r)}function zre(r,t){return r<=t}function Hre(r,t){return r>=t}function nf(r,t){var i=[],n=KM("{","}",r);if(!n)return[r];var s=n.pre,o=n.post.length?nf(n.post,!1):[""];if(/\$$/.test(n.pre))for(var l=0;l<o.length;l++){var h=s+"{"+n.body+"}"+o[l];i.push(h)}else{var p=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),g=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),m=p||g,y=n.body.indexOf(",")>=0;if(!m&&!y)return n.post.match(/,.*\}/)?(r=n.pre+"{"+n.body+mT+n.post,nf(r)):[r];var S;if(m)S=n.body.split(/\.\./);else if(S=e5(n.body),S.length===1&&(S=nf(S[0],!1).map(qre),S.length===1))return o.map(function(j){return n.pre+S[0]+j});var w;if(m){var C=gT(S[0]),_=gT(S[1]),R=Math.max(S[0].length,S[1].length),D=S.length==3?Math.abs(gT(S[2])):1,I=zre,M=_<C;M&&(D*=-1,I=Hre);var L=S.some(Wre);w=[];for(var V=C;I(V,_);V+=D){var K;if(g)K=String.fromCharCode(V),K==="\\"&&(K="");else if(K=String(V),L){var Q=R-K.length;if(Q>0){var le=new Array(Q+1).join("0");V<0?K="-"+le+K.slice(1):K=le+K}}w.push(K)}}else{w=[];for(var ge=0;ge<S.length;ge++)w.push.apply(w,nf(S[ge],!1))}for(var ge=0;ge<w.length;ge++)for(var l=0;l<o.length;l++){var h=s+w[ge]+o[l];(!t||m||h)&&i.push(h)}}return i}});var ly=x((B1e,wT)=>{var ji=wT.exports=(r,t,i={})=>(ay(t),!i.nocomment&&t.charAt(0)==="#"?!1:new Xc(t,i).match(r));wT.exports=ji;var bT=HM();ji.sep=bT.sep;var Rn=Symbol("globstar **");ji.GLOBSTAR=Rn;var Vre=r5(),i5={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},ST="[^/]",yT=ST+"*?",$re="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Gre="(?:(?!(?:\\/|^)\\.).)*?",o5=r=>r.split("").reduce((t,i)=>(t[i]=!0,t),{}),n5=o5("().*{}+?[]^$\\!"),Yre=o5("[.("),s5=/\/+/;ji.filter=(r,t={})=>(i,n,s)=>ji(i,r,t);var ea=(r,t={})=>{let i={};return Object.keys(r).forEach(n=>i[n]=r[n]),Object.keys(t).forEach(n=>i[n]=t[n]),i};ji.defaults=r=>{if(!r||typeof r!="object"||!Object.keys(r).length)return ji;let t=ji,i=(n,s,o)=>t(n,s,ea(r,o));return i.Minimatch=class extends t.Minimatch{constructor(s,o){super(s,ea(r,o))}},i.Minimatch.defaults=n=>t.defaults(ea(r,n)).Minimatch,i.filter=(n,s)=>t.filter(n,ea(r,s)),i.defaults=n=>t.defaults(ea(r,n)),i.makeRe=(n,s)=>t.makeRe(n,ea(r,s)),i.braceExpand=(n,s)=>t.braceExpand(n,ea(r,s)),i.match=(n,s,o)=>t.match(n,s,ea(r,o)),i};ji.braceExpand=(r,t)=>a5(r,t);var a5=(r,t={})=>(ay(r),t.nobrace||!/\{(?:(?!\{).)*\}/.test(r)?[r]:Vre(r)),Kre=1024*64,ay=r=>{if(typeof r!="string")throw new TypeError("invalid pattern");if(r.length>Kre)throw new TypeError("pattern is too long")},vT=Symbol("subparse");ji.makeRe=(r,t)=>new Xc(r,t||{}).makeRe();ji.match=(r,t,i={})=>{let n=new Xc(t,i);return r=r.filter(s=>n.match(s)),n.options.nonull&&!r.length&&r.push(t),r};var Xre=r=>r.replace(/\\(.)/g,"$1"),Jre=r=>r.replace(/\\([^-\]])/g,"$1"),Zre=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Qre=r=>r.replace(/[[\]\\]/g,"\\$&"),Xc=class{constructor(t,i){ay(t),i||(i={}),this.options=i,this.set=[],this.pattern=t,this.windowsPathsNoEscape=!!i.windowsPathsNoEscape||i.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!i.partial,this.make()}debug(){}make(){let t=this.pattern,i=this.options;if(!i.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();let n=this.globSet=this.braceExpand();i.debug&&(this.debug=(...s)=>console.error(...s)),this.debug(this.pattern,n),n=this.globParts=n.map(s=>s.split(s5)),this.debug(this.pattern,n),n=n.map((s,o,l)=>s.map(this.parse,this)),this.debug(this.pattern,n),n=n.filter(s=>s.indexOf(!1)===-1),this.debug(this.pattern,n),this.set=n}parseNegate(){if(this.options.nonegate)return;let t=this.pattern,i=!1,n=0;for(let s=0;s<t.length&&t.charAt(s)==="!";s++)i=!i,n++;n&&(this.pattern=t.slice(n)),this.negate=i}matchOne(t,i,n){var s=this.options;this.debug("matchOne",{this:this,file:t,pattern:i}),this.debug("matchOne",t.length,i.length);for(var o=0,l=0,h=t.length,p=i.length;o<h&&l<p;o++,l++){this.debug("matchOne loop");var g=i[l],m=t[o];if(this.debug(i,g,m),g===!1)return!1;if(g===Rn){this.debug("GLOBSTAR",[i,g,m]);var y=o,S=l+1;if(S===p){for(this.debug("** at the end");o<h;o++)if(t[o]==="."||t[o]===".."||!s.dot&&t[o].charAt(0)===".")return!1;return!0}for(;y<h;){var w=t[y];if(this.debug(`
globstar while`,t,y,i,S,w),this.matchOne(t.slice(y),i.slice(S),n))return this.debug("globstar found match!",y,h,w),!0;if(w==="."||w===".."||!s.dot&&w.charAt(0)==="."){this.debug("dot detected!",t,y,i,S);break}this.debug("globstar swallow a segment, and continue"),y++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,y,i,S),y===h))}var C;if(typeof g=="string"?(C=m===g,this.debug("string match",g,m,C)):(C=m.match(g),this.debug("pattern match",g,m,C)),!C)return!1}if(o===h&&l===p)return!0;if(o===h)return n;if(l===p)return o===h-1&&t[o]==="";throw new Error("wtf?")}braceExpand(){return a5(this.pattern,this.options)}parse(t,i){ay(t);let n=this.options;if(t==="**")if(n.noglobstar)t="*";else return Rn;if(t==="")return"";let s="",o=!1,l=!1,h=[],p=[],g,m=!1,y=-1,S=-1,w,C,_,R=t.charAt(0)===".",D=n.dot||R,I=()=>R?"":D?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",M=Q=>Q.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",L=()=>{if(g){switch(g){case"*":s+=yT,o=!0;break;case"?":s+=ST,o=!0;break;default:s+="\\"+g;break}this.debug("clearStateChar %j %j",g,s),g=!1}};for(let Q=0,le;Q<t.length&&(le=t.charAt(Q));Q++){if(this.debug("%s	%s %s %j",t,Q,s,le),l){if(le==="/")return!1;n5[le]&&(s+="\\"),s+=le,l=!1;continue}switch(le){case"/":return!1;case"\\":if(m&&t.charAt(Q+1)==="-"){s+=le;continue}L(),l=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,Q,s,le),m){this.debug("  in class"),le==="!"&&Q===S+1&&(le="^"),s+=le;continue}this.debug("call clearStateChar %j",g),L(),g=le,n.noext&&L();continue;case"(":{if(m){s+="(";continue}if(!g){s+="\\(";continue}let ge={type:g,start:Q-1,reStart:s.length,open:i5[g].open,close:i5[g].close};this.debug(this.pattern,"	",ge),h.push(ge),s+=ge.open,ge.start===0&&ge.type!=="!"&&(R=!0,s+=M(t.slice(Q+1))),this.debug("plType %j %j",g,s),g=!1;continue}case")":{let ge=h[h.length-1];if(m||!ge){s+="\\)";continue}h.pop(),L(),o=!0,C=ge,s+=C.close,C.type==="!"&&p.push(Object.assign(C,{reEnd:s.length}));continue}case"|":{let ge=h[h.length-1];if(m||!ge){s+="\\|";continue}L(),s+="|",ge.start===0&&ge.type!=="!"&&(R=!0,s+=M(t.slice(Q+1)));continue}case"[":if(L(),m){s+="\\"+le;continue}m=!0,S=Q,y=s.length,s+=le;continue;case"]":if(Q===S+1||!m){s+="\\"+le;continue}w=t.substring(S+1,Q);try{RegExp("["+Qre(Jre(w))+"]"),s+=le}catch{s=s.substring(0,y)+"(?:$.)"}o=!0,m=!1;continue;default:L(),n5[le]&&!(le==="^"&&m)&&(s+="\\"),s+=le;break}}for(m&&(w=t.slice(S+1),_=this.parse(w,vT),s=s.substring(0,y)+"\\["+_[0],o=o||_[1]),C=h.pop();C;C=h.pop()){let Q;Q=s.slice(C.reStart+C.open.length),this.debug("setting tail",s,C),Q=Q.replace(/((?:\\{2}){0,64})(\\?)\|/g,(ge,j,N)=>(N||(N="\\"),j+j+N+"|")),this.debug(`tail=%j
   %s`,Q,Q,C,s);let le=C.type==="*"?yT:C.type==="?"?ST:"\\"+C.type;o=!0,s=s.slice(0,C.reStart)+le+"\\("+Q}L(),l&&(s+="\\\\");let V=Yre[s.charAt(0)];for(let Q=p.length-1;Q>-1;Q--){let le=p[Q],ge=s.slice(0,le.reStart),j=s.slice(le.reStart,le.reEnd-8),N=s.slice(le.reEnd),X=s.slice(le.reEnd-8,le.reEnd)+N,U=ge.split(")").length,k=ge.split("(").length-U,W=N;for(let se=0;se<k;se++)W=W.replace(/\)[+*?]?/,"");N=W;let J=N===""&&i!==vT?"(?:$|\\/)":"";s=ge+j+N+J+X}if(s!==""&&o&&(s="(?=.)"+s),V&&(s=I()+s),i===vT)return[s,o];if(n.nocase&&!o&&(o=t.toUpperCase()!==t.toLowerCase()),!o)return Xre(t);let K=n.nocase?"i":"";try{return Object.assign(new RegExp("^"+s+"$",K),{_glob:t,_src:s})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let i=this.options,n=i.noglobstar?yT:i.dot?$re:Gre,s=i.nocase?"i":"",o=t.map(l=>(l=l.map(h=>typeof h=="string"?Zre(h):h===Rn?Rn:h._src).reduce((h,p)=>(h[h.length-1]===Rn&&p===Rn||h.push(p),h),[]),l.forEach((h,p)=>{h!==Rn||l[p-1]===Rn||(p===0?l.length>1?l[p+1]="(?:\\/|"+n+"\\/)?"+l[p+1]:l[p]=n:p===l.length-1?l[p-1]+="(?:\\/|"+n+")?":(l[p-1]+="(?:\\/|\\/"+n+"\\/)"+l[p+1],l[p+1]=Rn))}),l.filter(h=>h!==Rn).join("/"))).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,s)}catch{this.regexp=!1}return this.regexp}match(t,i=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&i)return!0;let n=this.options;bT.sep!=="/"&&(t=t.split(bT.sep).join("/")),t=t.split(s5),this.debug(this.pattern,"split",t);let s=this.set;this.debug(this.pattern,"set",s);let o;for(let l=t.length-1;l>=0&&(o=t[l],!o);l--);for(let l=0;l<s.length;l++){let h=s[l],p=t;if(n.matchBase&&h.length===1&&(p=[o]),this.matchOne(p,h,i))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(t){return ji.defaults(t).Minimatch}};ji.Minimatch=Xc});var l5=x((U1e,_T)=>{typeof Object.create=="function"?_T.exports=function(t,i){i&&(t.super_=i,t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:_T.exports=function(t,i){if(i){t.super_=i;var n=function(){};n.prototype=i.prototype,t.prototype=new n,t.prototype.constructor=t}}});var c5=x((q1e,TT)=>{try{if(ET=require("util"),typeof ET.inherits!="function")throw"";TT.exports=ET.inherits}catch{TT.exports=l5()}var ET});var kT=x(ta=>{ta.setopts=sie;ta.ownProp=u5;ta.makeAbs=sf;ta.finish=oie;ta.mark=aie;ta.isIgnored=f5;ta.childrenIgnored=lie;function u5(r,t){return Object.prototype.hasOwnProperty.call(r,t)}var eie=require("fs"),Za=require("path"),tie=ly(),d5=require("path").isAbsolute,CT=tie.Minimatch;function rie(r,t){return r.localeCompare(t,"en")}function iie(r,t){r.ignore=t.ignore||[],Array.isArray(r.ignore)||(r.ignore=[r.ignore]),r.ignore.length&&(r.ignore=r.ignore.map(nie))}function nie(r){var t=null;if(r.slice(-3)==="/**"){var i=r.replace(/(\/\*\*)+$/,"");t=new CT(i,{dot:!0})}return{matcher:new CT(r,{dot:!0}),gmatcher:t}}function sie(r,t,i){if(i||(i={}),i.matchBase&&t.indexOf("/")===-1){if(i.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}r.windowsPathsNoEscape=!!i.windowsPathsNoEscape||i.allowWindowsEscape===!1,r.windowsPathsNoEscape&&(t=t.replace(/\\/g,"/")),r.silent=!!i.silent,r.pattern=t,r.strict=i.strict!==!1,r.realpath=!!i.realpath,r.realpathCache=i.realpathCache||Object.create(null),r.follow=!!i.follow,r.dot=!!i.dot,r.mark=!!i.mark,r.nodir=!!i.nodir,r.nodir&&(r.mark=!0),r.sync=!!i.sync,r.nounique=!!i.nounique,r.nonull=!!i.nonull,r.nosort=!!i.nosort,r.nocase=!!i.nocase,r.stat=!!i.stat,r.noprocess=!!i.noprocess,r.absolute=!!i.absolute,r.fs=i.fs||eie,r.maxLength=i.maxLength||1/0,r.cache=i.cache||Object.create(null),r.statCache=i.statCache||Object.create(null),r.symlinks=i.symlinks||Object.create(null),iie(r,i),r.changedCwd=!1;var n=process.cwd();u5(i,"cwd")?(r.cwd=Za.resolve(i.cwd),r.changedCwd=r.cwd!==n):r.cwd=Za.resolve(n),r.root=i.root||Za.resolve(r.cwd,"/"),r.root=Za.resolve(r.root),r.cwdAbs=d5(r.cwd)?r.cwd:sf(r,r.cwd),r.nomount=!!i.nomount,process.platform==="win32"&&(r.root=r.root.replace(/\\/g,"/"),r.cwd=r.cwd.replace(/\\/g,"/"),r.cwdAbs=r.cwdAbs.replace(/\\/g,"/")),i.nonegate=!0,i.nocomment=!0,r.minimatch=new CT(t,i),r.options=r.minimatch.options}function oie(r){for(var t=r.nounique,i=t?[]:Object.create(null),n=0,s=r.matches.length;n<s;n++){var o=r.matches[n];if(!o||Object.keys(o).length===0){if(r.nonull){var l=r.minimatch.globSet[n];t?i.push(l):i[l]=!0}}else{var h=Object.keys(o);t?i.push.apply(i,h):h.forEach(function(p){i[p]=!0})}}if(t||(i=Object.keys(i)),r.nosort||(i=i.sort(rie)),r.mark){for(var n=0;n<i.length;n++)i[n]=r._mark(i[n]);r.nodir&&(i=i.filter(function(p){var g=!/\/$/.test(p),m=r.cache[p]||r.cache[sf(r,p)];return g&&m&&(g=m!=="DIR"&&!Array.isArray(m)),g}))}r.ignore.length&&(i=i.filter(function(p){return!f5(r,p)})),r.found=i}function aie(r,t){var i=sf(r,t),n=r.cache[i],s=t;if(n){var o=n==="DIR"||Array.isArray(n),l=t.slice(-1)==="/";if(o&&!l?s+="/":!o&&l&&(s=s.slice(0,-1)),s!==t){var h=sf(r,s);r.statCache[h]=r.statCache[i],r.cache[h]=r.cache[i]}}return s}function sf(r,t){var i=t;return t.charAt(0)==="/"?i=Za.join(r.root,t):d5(t)||t===""?i=t:r.changedCwd?i=Za.resolve(r.cwd,t):i=Za.resolve(t),process.platform==="win32"&&(i=i.replace(/\\/g,"/")),i}function f5(r,t){return r.ignore.length?r.ignore.some(function(i){return i.matcher.match(t)||!!(i.gmatcher&&i.gmatcher.match(t))}):!1}function lie(r,t){return r.ignore.length?r.ignore.some(function(i){return!!(i.gmatcher&&i.gmatcher.match(t))}):!1}});var y5=x(($1e,m5)=>{m5.exports=g5;g5.GlobSync=Sr;var cie=hT(),h5=ly(),z1e=h5.Minimatch,H1e=uy().Glob,V1e=require("util"),RT=require("path"),p5=require("assert"),cy=require("path").isAbsolute,Qa=kT(),uie=Qa.setopts,xT=Qa.ownProp,die=Qa.childrenIgnored,fie=Qa.isIgnored;function g5(r,t){if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new Sr(r,t).found}function Sr(r,t){if(!r)throw new Error("must provide pattern");if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof Sr))return new Sr(r,t);if(uie(this,r,t),this.noprocess)return this;var i=this.minimatch.set.length;this.matches=new Array(i);for(var n=0;n<i;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}Sr.prototype._finish=function(){if(p5.ok(this instanceof Sr),this.realpath){var r=this;this.matches.forEach(function(t,i){var n=r.matches[i]=Object.create(null);for(var s in t)try{s=r._makeAbs(s);var o=cie.realpathSync(s,r.realpathCache);n[o]=!0}catch(l){if(l.syscall==="stat")n[r._makeAbs(s)]=!0;else throw l}})}Qa.finish(this)};Sr.prototype._process=function(r,t,i){p5.ok(this instanceof Sr);for(var n=0;typeof r[n]=="string";)n++;var s;switch(n){case r.length:this._processSimple(r.join("/"),t);return;case 0:s=null;break;default:s=r.slice(0,n).join("/");break}var o=r.slice(n),l;s===null?l=".":((cy(s)||cy(r.map(function(g){return typeof g=="string"?g:"[*]"}).join("/")))&&(!s||!cy(s))&&(s="/"+s),l=s);var h=this._makeAbs(l);if(!die(this,l)){var p=o[0]===h5.GLOBSTAR;p?this._processGlobStar(s,l,h,o,t,i):this._processReaddir(s,l,h,o,t,i)}};Sr.prototype._processReaddir=function(r,t,i,n,s,o){var l=this._readdir(i,o);if(l){for(var h=n[0],p=!!this.minimatch.negate,g=h._glob,m=this.dot||g.charAt(0)===".",y=[],S=0;S<l.length;S++){var w=l[S];if(w.charAt(0)!=="."||m){var C;p&&!r?C=!w.match(h):C=w.match(h),C&&y.push(w)}}var _=y.length;if(_!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[s]||(this.matches[s]=Object.create(null));for(var S=0;S<_;S++){var w=y[S];r&&(r.slice(-1)!=="/"?w=r+"/"+w:w=r+w),w.charAt(0)==="/"&&!this.nomount&&(w=RT.join(this.root,w)),this._emitMatch(s,w)}return}n.shift();for(var S=0;S<_;S++){var w=y[S],R;r?R=[r,w]:R=[w],this._process(R.concat(n),s,o)}}}};Sr.prototype._emitMatch=function(r,t){if(!fie(this,t)){var i=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=i),!this.matches[r][t]){if(this.nodir){var n=this.cache[i];if(n==="DIR"||Array.isArray(n))return}this.matches[r][t]=!0,this.stat&&this._stat(t)}}};Sr.prototype._readdirInGlobStar=function(r){if(this.follow)return this._readdir(r,!1);var t,i,n;try{i=this.fs.lstatSync(r)}catch(o){if(o.code==="ENOENT")return null}var s=i&&i.isSymbolicLink();return this.symlinks[r]=s,!s&&i&&!i.isDirectory()?this.cache[r]="FILE":t=this._readdir(r,!1),t};Sr.prototype._readdir=function(r,t){var i;if(t&&!xT(this.symlinks,r))return this._readdirInGlobStar(r);if(xT(this.cache,r)){var n=this.cache[r];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(r,this.fs.readdirSync(r))}catch(s){return this._readdirError(r,s),null}};Sr.prototype._readdirEntries=function(r,t){if(!this.mark&&!this.stat)for(var i=0;i<t.length;i++){var n=t[i];r==="/"?n=r+n:n=r+"/"+n,this.cache[n]=!0}return this.cache[r]=t,t};Sr.prototype._readdirError=function(r,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var i=this._makeAbs(r);if(this.cache[i]="FILE",i===this.cwdAbs){var n=new Error(t.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=t.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(r)]=!1;break;default:if(this.cache[this._makeAbs(r)]=!1,this.strict)throw t;this.silent||console.error("glob error",t);break}};Sr.prototype._processGlobStar=function(r,t,i,n,s,o){var l=this._readdir(i,o);if(l){var h=n.slice(1),p=r?[r]:[],g=p.concat(h);this._process(g,s,!1);var m=l.length,y=this.symlinks[i];if(!(y&&o))for(var S=0;S<m;S++){var w=l[S];if(!(w.charAt(0)==="."&&!this.dot)){var C=p.concat(l[S],h);this._process(C,s,!0);var _=p.concat(l[S],n);this._process(_,s,!0)}}}};Sr.prototype._processSimple=function(r,t){var i=this._stat(r);if(this.matches[t]||(this.matches[t]=Object.create(null)),!!i){if(r&&cy(r)&&!this.nomount){var n=/[\/\\]$/.test(r);r.charAt(0)==="/"?r=RT.join(this.root,r):(r=RT.resolve(this.root,r),n&&(r+="/"))}process.platform==="win32"&&(r=r.replace(/\\/g,"/")),this._emitMatch(t,r)}};Sr.prototype._stat=function(r){var t=this._makeAbs(r),i=r.slice(-1)==="/";if(r.length>this.maxLength)return!1;if(!this.stat&&xT(this.cache,t)){var l=this.cache[t];if(Array.isArray(l)&&(l="DIR"),!i||l==="DIR")return l;if(i&&l==="FILE")return!1}var n,s=this.statCache[t];if(!s){var o;try{o=this.fs.lstatSync(t)}catch(h){if(h&&(h.code==="ENOENT"||h.code==="ENOTDIR"))return this.statCache[t]=!1,!1}if(o&&o.isSymbolicLink())try{s=this.fs.statSync(t)}catch{s=o}else s=o}this.statCache[t]=s;var l=!0;return s&&(l=s.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||l,i&&l==="FILE"?!1:l};Sr.prototype._mark=function(r){return Qa.mark(this,r)};Sr.prototype._makeAbs=function(r){return Qa.makeAbs(this,r)}});var AT=x((G1e,b5)=>{b5.exports=v5;function v5(r,t){if(r&&t)return v5(r)(t);if(typeof r!="function")throw new TypeError("need wrapper function");return Object.keys(r).forEach(function(n){i[n]=r[n]}),i;function i(){for(var n=new Array(arguments.length),s=0;s<n.length;s++)n[s]=arguments[s];var o=r.apply(this,n),l=n[n.length-1];return typeof o=="function"&&o!==l&&Object.keys(l).forEach(function(h){o[h]=l[h]}),o}}});var NT=x((Y1e,OT)=>{var S5=AT();OT.exports=S5(dy);OT.exports.strict=S5(w5);dy.proto=dy(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return dy(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return w5(this)},configurable:!0})});function dy(r){var t=function(){return t.called?t.value:(t.called=!0,t.value=r.apply(this,arguments))};return t.called=!1,t}function w5(r){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=r.apply(this,arguments)},i=r.name||"Function wrapped with `once`";return t.onceError=i+" shouldn't be called more than once",t.called=!1,t}});var E5=x((K1e,_5)=>{var hie=AT(),of=Object.create(null),pie=NT();_5.exports=hie(gie);function gie(r,t){return of[r]?(of[r].push(t),null):(of[r]=[t],mie(r))}function mie(r){return pie(function t(){var i=of[r],n=i.length,s=yie(arguments);try{for(var o=0;o<n;o++)i[o].apply(null,s)}finally{i.length>n?(i.splice(0,n),process.nextTick(function(){t.apply(null,s)})):delete of[r]}})}function yie(r){for(var t=r.length,i=[],n=0;n<t;n++)i[n]=r[n];return i}});var uy=x((Z1e,C5)=>{C5.exports=el;var vie=hT(),T5=ly(),X1e=T5.Minimatch,bie=c5(),Sie=require("events").EventEmitter,DT=require("path"),PT=require("assert"),af=require("path").isAbsolute,LT=y5(),tl=kT(),wie=tl.setopts,IT=tl.ownProp,MT=E5(),J1e=require("util"),_ie=tl.childrenIgnored,Eie=tl.isIgnored,Tie=NT();function el(r,t,i){if(typeof t=="function"&&(i=t,t={}),t||(t={}),t.sync){if(i)throw new TypeError("callback provided to sync glob");return LT(r,t)}return new Nt(r,t,i)}el.sync=LT;var Cie=el.GlobSync=LT.GlobSync;el.glob=el;function kie(r,t){if(t===null||typeof t!="object")return r;for(var i=Object.keys(t),n=i.length;n--;)r[i[n]]=t[i[n]];return r}el.hasMagic=function(r,t){var i=kie({},t);i.noprocess=!0;var n=new Nt(r,i),s=n.minimatch.set;if(!r)return!1;if(s.length>1)return!0;for(var o=0;o<s[0].length;o++)if(typeof s[0][o]!="string")return!0;return!1};el.Glob=Nt;bie(Nt,Sie);function Nt(r,t,i){if(typeof t=="function"&&(i=t,t=null),t&&t.sync){if(i)throw new TypeError("callback provided to sync glob");return new Cie(r,t)}if(!(this instanceof Nt))return new Nt(r,t,i);wie(this,r,t),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof i=="function"&&(i=Tie(i),this.on("error",i),this.on("end",function(p){i(null,p)}));var s=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return h();for(var o=!0,l=0;l<n;l++)this._process(this.minimatch.set[l],l,!1,h);o=!1;function h(){--s._processing,s._processing<=0&&(o?process.nextTick(function(){s._finish()}):s._finish())}}Nt.prototype._finish=function(){if(PT(this instanceof Nt),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();tl.finish(this),this.emit("end",this.found)}};Nt.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var r=this.matches.length;if(r===0)return this._finish();for(var t=this,i=0;i<this.matches.length;i++)this._realpathSet(i,n);function n(){--r===0&&t._finish()}};Nt.prototype._realpathSet=function(r,t){var i=this.matches[r];if(!i)return t();var n=Object.keys(i),s=this,o=n.length;if(o===0)return t();var l=this.matches[r]=Object.create(null);n.forEach(function(h,p){h=s._makeAbs(h),vie.realpath(h,s.realpathCache,function(g,m){g?g.syscall==="stat"?l[h]=!0:s.emit("error",g):l[m]=!0,--o===0&&(s.matches[r]=l,t())})})};Nt.prototype._mark=function(r){return tl.mark(this,r)};Nt.prototype._makeAbs=function(r){return tl.makeAbs(this,r)};Nt.prototype.abort=function(){this.aborted=!0,this.emit("abort")};Nt.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};Nt.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var r=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<r.length;t++){var i=r[t];this._emitMatch(i[0],i[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var t=0;t<n.length;t++){var s=n[t];this._processing--,this._process(s[0],s[1],s[2],s[3])}}}};Nt.prototype._process=function(r,t,i,n){if(PT(this instanceof Nt),PT(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([r,t,i,n]);return}for(var s=0;typeof r[s]=="string";)s++;var o;switch(s){case r.length:this._processSimple(r.join("/"),t,n);return;case 0:o=null;break;default:o=r.slice(0,s).join("/");break}var l=r.slice(s),h;o===null?h=".":((af(o)||af(r.map(function(m){return typeof m=="string"?m:"[*]"}).join("/")))&&(!o||!af(o))&&(o="/"+o),h=o);var p=this._makeAbs(h);if(_ie(this,h))return n();var g=l[0]===T5.GLOBSTAR;g?this._processGlobStar(o,h,p,l,t,i,n):this._processReaddir(o,h,p,l,t,i,n)}};Nt.prototype._processReaddir=function(r,t,i,n,s,o,l){var h=this;this._readdir(i,o,function(p,g){return h._processReaddir2(r,t,i,n,s,o,g,l)})};Nt.prototype._processReaddir2=function(r,t,i,n,s,o,l,h){if(!l)return h();for(var p=n[0],g=!!this.minimatch.negate,m=p._glob,y=this.dot||m.charAt(0)===".",S=[],w=0;w<l.length;w++){var C=l[w];if(C.charAt(0)!=="."||y){var _;g&&!r?_=!C.match(p):_=C.match(p),_&&S.push(C)}}var R=S.length;if(R===0)return h();if(n.length===1&&!this.mark&&!this.stat){this.matches[s]||(this.matches[s]=Object.create(null));for(var w=0;w<R;w++){var C=S[w];r&&(r!=="/"?C=r+"/"+C:C=r+C),C.charAt(0)==="/"&&!this.nomount&&(C=DT.join(this.root,C)),this._emitMatch(s,C)}return h()}n.shift();for(var w=0;w<R;w++){var C=S[w],D;r&&(r!=="/"?C=r+"/"+C:C=r+C),this._process([C].concat(n),s,o,h)}h()};Nt.prototype._emitMatch=function(r,t){if(!this.aborted&&!Eie(this,t)){if(this.paused){this._emitQueue.push([r,t]);return}var i=af(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=i),!this.matches[r][t]){if(this.nodir){var n=this.cache[i];if(n==="DIR"||Array.isArray(n))return}this.matches[r][t]=!0;var s=this.statCache[i];s&&this.emit("stat",t,s),this.emit("match",t)}}};Nt.prototype._readdirInGlobStar=function(r,t){if(this.aborted)return;if(this.follow)return this._readdir(r,!1,t);var i="lstat\0"+r,n=this,s=MT(i,o);s&&n.fs.lstat(r,s);function o(l,h){if(l&&l.code==="ENOENT")return t();var p=h&&h.isSymbolicLink();n.symlinks[r]=p,!p&&h&&!h.isDirectory()?(n.cache[r]="FILE",t()):n._readdir(r,!1,t)}};Nt.prototype._readdir=function(r,t,i){if(!this.aborted&&(i=MT("readdir\0"+r+"\0"+t,i),!!i)){if(t&&!IT(this.symlinks,r))return this._readdirInGlobStar(r,i);if(IT(this.cache,r)){var n=this.cache[r];if(!n||n==="FILE")return i();if(Array.isArray(n))return i(null,n)}var s=this;s.fs.readdir(r,Rie(this,r,i))}};function Rie(r,t,i){return function(n,s){n?r._readdirError(t,n,i):r._readdirEntries(t,s,i)}}Nt.prototype._readdirEntries=function(r,t,i){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var s=t[n];r==="/"?s=r+s:s=r+"/"+s,this.cache[s]=!0}return this.cache[r]=t,i(null,t)}};Nt.prototype._readdirError=function(r,t,i){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(r);if(this.cache[n]="FILE",n===this.cwdAbs){var s=new Error(t.code+" invalid cwd "+this.cwd);s.path=this.cwd,s.code=t.code,this.emit("error",s),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(r)]=!1;break;default:this.cache[this._makeAbs(r)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t);break}return i()}};Nt.prototype._processGlobStar=function(r,t,i,n,s,o,l){var h=this;this._readdir(i,o,function(p,g){h._processGlobStar2(r,t,i,n,s,o,g,l)})};Nt.prototype._processGlobStar2=function(r,t,i,n,s,o,l,h){if(!l)return h();var p=n.slice(1),g=r?[r]:[],m=g.concat(p);this._process(m,s,!1,h);var y=this.symlinks[i],S=l.length;if(y&&o)return h();for(var w=0;w<S;w++){var C=l[w];if(!(C.charAt(0)==="."&&!this.dot)){var _=g.concat(l[w],p);this._process(_,s,!0,h);var R=g.concat(l[w],n);this._process(R,s,!0,h)}}h()};Nt.prototype._processSimple=function(r,t,i){var n=this;this._stat(r,function(s,o){n._processSimple2(r,t,s,o,i)})};Nt.prototype._processSimple2=function(r,t,i,n,s){if(this.matches[t]||(this.matches[t]=Object.create(null)),!n)return s();if(r&&af(r)&&!this.nomount){var o=/[\/\\]$/.test(r);r.charAt(0)==="/"?r=DT.join(this.root,r):(r=DT.resolve(this.root,r),o&&(r+="/"))}process.platform==="win32"&&(r=r.replace(/\\/g,"/")),this._emitMatch(t,r),s()};Nt.prototype._stat=function(r,t){var i=this._makeAbs(r),n=r.slice(-1)==="/";if(r.length>this.maxLength)return t();if(!this.stat&&IT(this.cache,i)){var s=this.cache[i];if(Array.isArray(s)&&(s="DIR"),!n||s==="DIR")return t(null,s);if(n&&s==="FILE")return t()}var o,l=this.statCache[i];if(l!==void 0){if(l===!1)return t(null,l);var h=l.isDirectory()?"DIR":"FILE";return n&&h==="FILE"?t():t(null,h,l)}var p=this,g=MT("stat\0"+i,m);g&&p.fs.lstat(i,g);function m(y,S){if(S&&S.isSymbolicLink())return p.fs.stat(i,function(w,C){w?p._stat2(r,i,null,S,t):p._stat2(r,i,w,C,t)});p._stat2(r,i,y,S,t)}};Nt.prototype._stat2=function(r,t,i,n,s){if(i&&(i.code==="ENOENT"||i.code==="ENOTDIR"))return this.statCache[t]=!1,s();var o=r.slice(-1)==="/";if(this.statCache[t]=n,t.slice(-1)==="/"&&n&&!n.isDirectory())return s(null,!1,n);var l=!0;return n&&(l=n.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||l,o&&l==="FILE"?s():s(null,l,n)}});var Dt=x(xr=>{"use strict";var XT=Symbol.for("yaml.alias"),F5=Symbol.for("yaml.document"),Iy=Symbol.for("yaml.map"),j5=Symbol.for("yaml.pair"),JT=Symbol.for("yaml.scalar"),Ly=Symbol.for("yaml.seq"),fs=Symbol.for("yaml.node.type"),Pie=r=>!!r&&typeof r=="object"&&r[fs]===XT,Iie=r=>!!r&&typeof r=="object"&&r[fs]===F5,Lie=r=>!!r&&typeof r=="object"&&r[fs]===Iy,Mie=r=>!!r&&typeof r=="object"&&r[fs]===j5,B5=r=>!!r&&typeof r=="object"&&r[fs]===JT,Fie=r=>!!r&&typeof r=="object"&&r[fs]===Ly;function U5(r){if(r&&typeof r=="object")switch(r[fs]){case Iy:case Ly:return!0}return!1}function jie(r){if(r&&typeof r=="object")switch(r[fs]){case XT:case Iy:case JT:case Ly:return!0}return!1}var Bie=r=>(B5(r)||U5(r))&&!!r.anchor,KT=class{constructor(t){Object.defineProperty(this,fs,{value:t})}clone(){let t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}};xr.ALIAS=XT;xr.DOC=F5;xr.MAP=Iy;xr.NODE_TYPE=fs;xr.NodeBase=KT;xr.PAIR=j5;xr.SCALAR=JT;xr.SEQ=Ly;xr.hasAnchor=Bie;xr.isAlias=Pie;xr.isCollection=U5;xr.isDocument=Iie;xr.isMap=Lie;xr.isNode=jie;xr.isPair=Mie;xr.isScalar=B5;xr.isSeq=Fie});var cf=x(ZT=>{"use strict";var wr=Dt(),wi=Symbol("break visit"),q5=Symbol("skip children"),hs=Symbol("remove node");function My(r,t){let i=W5(t);wr.isDocument(r)?Qc(null,r.contents,i,Object.freeze([r]))===hs&&(r.contents=null):Qc(null,r,i,Object.freeze([]))}My.BREAK=wi;My.SKIP=q5;My.REMOVE=hs;function Qc(r,t,i,n){let s=z5(r,t,i,n);if(wr.isNode(s)||wr.isPair(s))return H5(r,n,s),Qc(r,s,i,n);if(typeof s!="symbol"){if(wr.isCollection(t)){n=Object.freeze(n.concat(t));for(let o=0;o<t.items.length;++o){let l=Qc(o,t.items[o],i,n);if(typeof l=="number")o=l-1;else{if(l===wi)return wi;l===hs&&(t.items.splice(o,1),o-=1)}}}else if(wr.isPair(t)){n=Object.freeze(n.concat(t));let o=Qc("key",t.key,i,n);if(o===wi)return wi;o===hs&&(t.key=null);let l=Qc("value",t.value,i,n);if(l===wi)return wi;l===hs&&(t.value=null)}}return s}async function Fy(r,t){let i=W5(t);wr.isDocument(r)?await eu(null,r.contents,i,Object.freeze([r]))===hs&&(r.contents=null):await eu(null,r,i,Object.freeze([]))}Fy.BREAK=wi;Fy.SKIP=q5;Fy.REMOVE=hs;async function eu(r,t,i,n){let s=await z5(r,t,i,n);if(wr.isNode(s)||wr.isPair(s))return H5(r,n,s),eu(r,s,i,n);if(typeof s!="symbol"){if(wr.isCollection(t)){n=Object.freeze(n.concat(t));for(let o=0;o<t.items.length;++o){let l=await eu(o,t.items[o],i,n);if(typeof l=="number")o=l-1;else{if(l===wi)return wi;l===hs&&(t.items.splice(o,1),o-=1)}}}else if(wr.isPair(t)){n=Object.freeze(n.concat(t));let o=await eu("key",t.key,i,n);if(o===wi)return wi;o===hs&&(t.key=null);let l=await eu("value",t.value,i,n);if(l===wi)return wi;l===hs&&(t.value=null)}}return s}function W5(r){return typeof r=="object"&&(r.Collection||r.Node||r.Value)?Object.assign({Alias:r.Node,Map:r.Node,Scalar:r.Node,Seq:r.Node},r.Value&&{Map:r.Value,Scalar:r.Value,Seq:r.Value},r.Collection&&{Map:r.Collection,Seq:r.Collection},r):r}function z5(r,t,i,n){var s,o,l,h,p;if(typeof i=="function")return i(r,t,n);if(wr.isMap(t))return(s=i.Map)===null||s===void 0?void 0:s.call(i,r,t,n);if(wr.isSeq(t))return(o=i.Seq)===null||o===void 0?void 0:o.call(i,r,t,n);if(wr.isPair(t))return(l=i.Pair)===null||l===void 0?void 0:l.call(i,r,t,n);if(wr.isScalar(t))return(h=i.Scalar)===null||h===void 0?void 0:h.call(i,r,t,n);if(wr.isAlias(t))return(p=i.Alias)===null||p===void 0?void 0:p.call(i,r,t,n)}function H5(r,t,i){let n=t[t.length-1];if(wr.isCollection(n))n.items[r]=i;else if(wr.isPair(n))r==="key"?n.key=i:n.value=i;else if(wr.isDocument(n))n.contents=i;else{let s=wr.isAlias(n)?"alias":"scalar";throw new Error(`Cannot replace node with ${s} parent`)}}ZT.visit=My;ZT.visitAsync=Fy});var QT=x($5=>{"use strict";var V5=Dt(),Uie=cf(),qie={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Wie=r=>r.replace(/[!,[\]{}]/g,t=>qie[t]),uf=class r{constructor(t,i){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},r.defaultYaml,t),this.tags=Object.assign({},r.defaultTags,i)}clone(){let t=new r(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){let t=new r(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:r.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},r.defaultTags);break}return t}add(t,i){this.atNextDocument&&(this.yaml={explicit:r.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},r.defaultTags),this.atNextDocument=!1);let n=t.trim().split(/[ \t]+/),s=n.shift();switch(s){case"%TAG":{if(n.length!==2&&(i(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;let[o,l]=n;return this.tags[o]=l,!0}case"%YAML":{if(this.yaml.explicit=!0,n.length!==1)return i(0,"%YAML directive should contain exactly one part"),!1;let[o]=n;if(o==="1.1"||o==="1.2")return this.yaml.version=o,!0;{let l=/^\d+\.\d+$/.test(o);return i(6,`Unsupported YAML version ${o}`,l),!1}}default:return i(0,`Unknown directive ${s}`,!0),!1}}tagName(t,i){if(t==="!")return"!";if(t[0]!=="!")return i(`Not a valid tag: ${t}`),null;if(t[1]==="<"){let l=t.slice(2,-1);return l==="!"||l==="!!"?(i(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&i("Verbatim tags must end with a >"),l)}let[,n,s]=t.match(/^(.*!)([^!]*)$/);s||i(`The ${t} tag has no suffix`);let o=this.tags[n];return o?o+decodeURIComponent(s):n==="!"?t:(i(`Could not resolve tag: ${t}`),null)}tagString(t){for(let[i,n]of Object.entries(this.tags))if(t.startsWith(n))return i+Wie(t.substring(n.length));return t[0]==="!"?t:`!<${t}>`}toString(t){let i=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags),s;if(t&&n.length>0&&V5.isNode(t.contents)){let o={};Uie.visit(t.contents,(l,h)=>{V5.isNode(h)&&h.tag&&(o[h.tag]=!0)}),s=Object.keys(o)}else s=[];for(let[o,l]of n)o==="!!"&&l==="tag:yaml.org,2002:"||(!t||s.some(h=>h.startsWith(l)))&&i.push(`%TAG ${o} ${l}`);return i.join(`
`)}};uf.defaultYaml={explicit:!1,version:"1.2"};uf.defaultTags={"!!":"tag:yaml.org,2002:"};$5.Directives=uf});var jy=x(df=>{"use strict";var G5=Dt(),zie=cf();function Hie(r){if(/[\x00-\x19\s,[\]{}]/.test(r)){let i=`Anchor must not contain whitespace or control characters: ${JSON.stringify(r)}`;throw new Error(i)}return!0}function Y5(r){let t=new Set;return zie.visit(r,{Value(i,n){n.anchor&&t.add(n.anchor)}}),t}function K5(r,t){for(let i=1;;++i){let n=`${r}${i}`;if(!t.has(n))return n}}function Vie(r,t){let i=[],n=new Map,s=null;return{onAnchor:o=>{i.push(o),s||(s=Y5(r));let l=K5(t,s);return s.add(l),l},setAnchors:()=>{for(let o of i){let l=n.get(o);if(typeof l=="object"&&l.anchor&&(G5.isScalar(l.node)||G5.isCollection(l.node)))l.node.anchor=l.anchor;else{let h=new Error("Failed to resolve repeated object (this should not happen)");throw h.source=o,h}}},sourceObjects:n}}df.anchorIsValid=Hie;df.anchorNames=Y5;df.createNodeAnchors=Vie;df.findNewAnchor=K5});var hf=x(J5=>{"use strict";var $ie=jy(),X5=cf(),ff=Dt(),eC=class extends ff.NodeBase{constructor(t){super(ff.ALIAS),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let i;return X5.visit(t,{Node:(n,s)=>{if(s===this)return X5.visit.BREAK;s.anchor===this.source&&(i=s)}}),i}toJSON(t,i){if(!i)return{source:this.source};let{anchors:n,doc:s,maxAliasCount:o}=i,l=this.resolve(s);if(!l){let p=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(p)}let h=n.get(l);if(!h||h.res===void 0){let p="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(p)}if(o>=0&&(h.count+=1,h.aliasCount===0&&(h.aliasCount=By(s,l,n)),h.count*h.aliasCount>o)){let p="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(p)}return h.res}toString(t,i,n){let s=`*${this.source}`;if(t){if($ie.anchorIsValid(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){let o=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(o)}if(t.implicitKey)return`${s} `}return s}};function By(r,t,i){if(ff.isAlias(t)){let n=t.resolve(r),s=i&&n&&i.get(n);return s?s.count*s.aliasCount:0}else if(ff.isCollection(t)){let n=0;for(let s of t.items){let o=By(r,s,i);o>n&&(n=o)}return n}else if(ff.isPair(t)){let n=By(r,t.key,i),s=By(r,t.value,i);return Math.max(n,s)}return 1}J5.Alias=eC});var tu=x(Q5=>{"use strict";var Gie=Dt();function Z5(r,t,i){if(Array.isArray(r))return r.map((n,s)=>Z5(n,String(s),i));if(r&&typeof r.toJSON=="function"){if(!i||!Gie.hasAnchor(r))return r.toJSON(t,i);let n={aliasCount:0,count:1,res:void 0};i.anchors.set(r,n),i.onCreate=o=>{n.res=o,delete i.onCreate};let s=r.toJSON(t,i);return i.onCreate&&i.onCreate(s),s}return typeof r=="bigint"&&!i?.keep?Number(r):r}Q5.toJS=Z5});var hr=x(tC=>{"use strict";var eF=Dt(),Yie=tu(),Kie=r=>!r||typeof r!="function"&&typeof r!="object",ra=class extends eF.NodeBase{constructor(t){super(eF.SCALAR),this.value=t}toJSON(t,i){return i?.keep?this.value:Yie.toJS(this.value,t,i)}toString(){return String(this.value)}};ra.BLOCK_FOLDED="BLOCK_FOLDED";ra.BLOCK_LITERAL="BLOCK_LITERAL";ra.PLAIN="PLAIN";ra.QUOTE_DOUBLE="QUOTE_DOUBLE";ra.QUOTE_SINGLE="QUOTE_SINGLE";tC.Scalar=ra;tC.isScalarValue=Kie});var pf=x(rF=>{"use strict";var Xie=hf(),il=Dt(),tF=hr(),Jie="tag:yaml.org,2002:";function Zie(r,t,i){var n;if(t){let s=i.filter(l=>l.tag===t),o=(n=s.find(l=>!l.format))!==null&&n!==void 0?n:s[0];if(!o)throw new Error(`Tag ${t} not found`);return o}return i.find(s=>{var o;return((o=s.identify)===null||o===void 0?void 0:o.call(s,r))&&!s.format})}function Qie(r,t,i){var n,s;if(il.isDocument(r)&&(r=r.contents),il.isNode(r))return r;if(il.isPair(r)){let w=(s=(n=i.schema[il.MAP]).createNode)===null||s===void 0?void 0:s.call(n,i.schema,null,i);return w.items.push(r),w}(r instanceof String||r instanceof Number||r instanceof Boolean||typeof BigInt=="function"&&r instanceof BigInt)&&(r=r.valueOf());let{aliasDuplicateObjects:o,onAnchor:l,onTagObj:h,schema:p,sourceObjects:g}=i,m;if(o&&r&&typeof r=="object"){if(m=g.get(r),m)return m.anchor||(m.anchor=l(r)),new Xie.Alias(m.anchor);m={anchor:null,node:null},g.set(r,m)}t?.startsWith("!!")&&(t=Jie+t.slice(2));let y=Zie(r,t,p.tags);if(!y){if(r&&typeof r.toJSON=="function"&&(r=r.toJSON()),!r||typeof r!="object"){let w=new tF.Scalar(r);return m&&(m.node=w),w}y=r instanceof Map?p[il.MAP]:Symbol.iterator in Object(r)?p[il.SEQ]:p[il.MAP]}h&&(h(y),delete i.onTagObj);let S=y?.createNode?y.createNode(i.schema,r,i):new tF.Scalar(r);return t&&(S.tag=t),m&&(m.node=S),S}rF.createNode=Qie});var gf=x(qy=>{"use strict";var ene=pf(),xn=Dt();function rC(r,t,i){let n=i;for(let s=t.length-1;s>=0;--s){let o=t[s];if(typeof o=="number"&&Number.isInteger(o)&&o>=0){let l=[];l[o]=n,n=l}else n=new Map([[o,n]])}return ene.createNode(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:r,sourceObjects:new Map})}var iF=r=>r==null||typeof r=="object"&&!!r[Symbol.iterator]().next().done,Uy=class extends xn.NodeBase{constructor(t,i){super(t),Object.defineProperty(this,"schema",{value:i,configurable:!0,enumerable:!1,writable:!0})}clone(t){let i=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(i.schema=t),i.items=i.items.map(n=>xn.isNode(n)||xn.isPair(n)?n.clone(t):n),this.range&&(i.range=this.range.slice()),i}addIn(t,i){if(iF(t))this.add(i);else{let[n,...s]=t,o=this.get(n,!0);if(xn.isCollection(o))o.addIn(s,i);else if(o===void 0&&this.schema)this.set(n,rC(this.schema,s,i));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`)}}deleteIn(t){let[i,...n]=t;if(n.length===0)return this.delete(i);let s=this.get(i,!0);if(xn.isCollection(s))return s.deleteIn(n);throw new Error(`Expected YAML collection at ${i}. Remaining path: ${n}`)}getIn(t,i){let[n,...s]=t,o=this.get(n,!0);return s.length===0?!i&&xn.isScalar(o)?o.value:o:xn.isCollection(o)?o.getIn(s,i):void 0}hasAllNullValues(t){return this.items.every(i=>{if(!xn.isPair(i))return!1;let n=i.value;return n==null||t&&xn.isScalar(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(t){let[i,...n]=t;if(n.length===0)return this.has(i);let s=this.get(i,!0);return xn.isCollection(s)?s.hasIn(n):!1}setIn(t,i){let[n,...s]=t;if(s.length===0)this.set(n,i);else{let o=this.get(n,!0);if(xn.isCollection(o))o.setIn(s,i);else if(o===void 0&&this.schema)this.set(n,rC(this.schema,s,i));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`)}}};Uy.maxFlowStringSingleLineLength=60;qy.Collection=Uy;qy.collectionFromPath=rC;qy.isEmptyPath=iF});var mf=x(Wy=>{"use strict";var tne=r=>r.replace(/^(?!$)(?: $)?/gm,"#");function iC(r,t){return/^\n+$/.test(r)?r.substring(1):t?r.replace(/^(?! *$)/gm,t):r}var rne=(r,t,i)=>r.endsWith(`
`)?iC(i,t):i.includes(`
`)?`
`+iC(i,t):(r.endsWith(" ")?"":" ")+i;Wy.indentComment=iC;Wy.lineComment=rne;Wy.stringifyComment=tne});var sF=x(yf=>{"use strict";var ine="flow",nC="block",zy="quoted";function nne(r,t,i="flow",{indentAtStart:n,lineWidth:s=80,minContentWidth:o=20,onFold:l,onOverflow:h}={}){if(!s||s<0)return r;let p=Math.max(1+o,1+s-t.length);if(r.length<=p)return r;let g=[],m={},y=s-t.length;typeof n=="number"&&(n>s-Math.max(2,o)?g.push(0):y=s-n);let S,w,C=!1,_=-1,R=-1,D=-1;i===nC&&(_=nF(r,_),_!==-1&&(y=_+p));for(let M;M=r[_+=1];){if(i===zy&&M==="\\"){switch(R=_,r[_+1]){case"x":_+=3;break;case"u":_+=5;break;case"U":_+=9;break;default:_+=1}D=_}if(M===`
`)i===nC&&(_=nF(r,_)),y=_+p,S=void 0;else{if(M===" "&&w&&w!==" "&&w!==`
`&&w!=="	"){let L=r[_+1];L&&L!==" "&&L!==`
`&&L!=="	"&&(S=_)}if(_>=y)if(S)g.push(S),y=S+p,S=void 0;else if(i===zy){for(;w===" "||w==="	";)w=M,M=r[_+=1],C=!0;let L=_>D+1?_-2:R-1;if(m[L])return r;g.push(L),m[L]=!0,y=L+p,S=void 0}else C=!0}w=M}if(C&&h&&h(),g.length===0)return r;l&&l();let I=r.slice(0,g[0]);for(let M=0;M<g.length;++M){let L=g[M],V=g[M+1]||r.length;L===0?I=`
${t}${r.slice(0,V)}`:(i===zy&&m[L]&&(I+=`${r[L]}\\`),I+=`
${t}${r.slice(L+1,V)}`)}return I}function nF(r,t){let i=r[t+1];for(;i===" "||i==="	";){do i=r[t+=1];while(i&&i!==`
`);i=r[t+1]}return t}yf.FOLD_BLOCK=nC;yf.FOLD_FLOW=ine;yf.FOLD_QUOTED=zy;yf.foldFlowLines=nne});var Sf=x(oF=>{"use strict";var ps=hr(),ia=sF(),Vy=r=>({indentAtStart:r.indentAtStart,lineWidth:r.options.lineWidth,minContentWidth:r.options.minContentWidth}),$y=r=>/^(%|---|\.\.\.)/m.test(r);function sne(r,t,i){if(!t||t<0)return!1;let n=t-i,s=r.length;if(s<=n)return!1;for(let o=0,l=0;o<s;++o)if(r[o]===`
`){if(o-l>n)return!0;if(l=o+1,s-l<=n)return!1}return!0}function vf(r,t){let i=JSON.stringify(r);if(t.options.doubleQuotedAsJSON)return i;let{implicitKey:n}=t,s=t.options.doubleQuotedMinMultiLineLength,o=t.indent||($y(r)?"  ":""),l="",h=0;for(let p=0,g=i[p];g;g=i[++p])if(g===" "&&i[p+1]==="\\"&&i[p+2]==="n"&&(l+=i.slice(h,p)+"\\ ",p+=1,h=p,g="\\"),g==="\\")switch(i[p+1]){case"u":{l+=i.slice(h,p);let m=i.substr(p+2,4);switch(m){case"0000":l+="\\0";break;case"0007":l+="\\a";break;case"000b":l+="\\v";break;case"001b":l+="\\e";break;case"0085":l+="\\N";break;case"00a0":l+="\\_";break;case"2028":l+="\\L";break;case"2029":l+="\\P";break;default:m.substr(0,2)==="00"?l+="\\x"+m.substr(2):l+=i.substr(p,6)}p+=5,h=p+1}break;case"n":if(n||i[p+2]==='"'||i.length<s)p+=1;else{for(l+=i.slice(h,p)+`

`;i[p+2]==="\\"&&i[p+3]==="n"&&i[p+4]!=='"';)l+=`
`,p+=2;l+=o,i[p+2]===" "&&(l+="\\"),p+=1,h=p+1}break;default:p+=1}return l=h?l+i.slice(h):i,n?l:ia.foldFlowLines(l,o,ia.FOLD_QUOTED,Vy(t))}function sC(r,t){if(t.options.singleQuote===!1||t.implicitKey&&r.includes(`
`)||/[ \t]\n|\n[ \t]/.test(r))return vf(r,t);let i=t.indent||($y(r)?"  ":""),n="'"+r.replace(/'/g,"''").replace(/\n+/g,`$&
${i}`)+"'";return t.implicitKey?n:ia.foldFlowLines(n,i,ia.FOLD_FLOW,Vy(t))}function bf(r,t){let{singleQuote:i}=t.options,n;if(i===!1)n=vf;else{let s=r.includes('"'),o=r.includes("'");s&&!o?n=sC:o&&!s?n=vf:n=i?sC:vf}return n(r,t)}function Hy({comment:r,type:t,value:i},n,s,o){let{blockQuote:l,commentString:h,lineWidth:p}=n.options;if(!l||/\n[\t ]+$/.test(i)||/^\s*$/.test(i))return bf(i,n);let g=n.indent||(n.forceBlockIndent||$y(i)?"  ":""),m=l==="literal"?!0:l==="folded"||t===ps.Scalar.BLOCK_FOLDED?!1:t===ps.Scalar.BLOCK_LITERAL?!0:!sne(i,p,g.length);if(!i)return m?`|
`:`>
`;let y,S;for(S=i.length;S>0;--S){let K=i[S-1];if(K!==`
`&&K!=="	"&&K!==" ")break}let w=i.substring(S),C=w.indexOf(`
`);C===-1?y="-":i===w||C!==w.length-1?(y="+",o&&o()):y="",w&&(i=i.slice(0,-w.length),w[w.length-1]===`
`&&(w=w.slice(0,-1)),w=w.replace(/\n+(?!\n|$)/g,`$&${g}`));let _=!1,R,D=-1;for(R=0;R<i.length;++R){let K=i[R];if(K===" ")_=!0;else if(K===`
`)D=R;else break}let I=i.substring(0,D<R?D+1:R);I&&(i=i.substring(I.length),I=I.replace(/\n+/g,`$&${g}`));let L=(m?"|":">")+(_?g?"2":"1":"")+y;if(r&&(L+=" "+h(r.replace(/ ?[\r\n]+/g," ")),s&&s()),m)return i=i.replace(/\n+/g,`$&${g}`),`${L}
${g}${I}${i}${w}`;i=i.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${g}`);let V=ia.foldFlowLines(`${I}${i}${w}`,g,ia.FOLD_BLOCK,Vy(n));return`${L}
${g}${V}`}function one(r,t,i,n){let{type:s,value:o}=r,{actualString:l,implicitKey:h,indent:p,inFlow:g}=t;if(h&&/[\n[\]{},]/.test(o)||g&&/[[\]{},]/.test(o))return bf(o,t);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return h||g||!o.includes(`
`)?bf(o,t):Hy(r,t,i,n);if(!h&&!g&&s!==ps.Scalar.PLAIN&&o.includes(`
`))return Hy(r,t,i,n);if(p===""&&$y(o))return t.forceBlockIndent=!0,Hy(r,t,i,n);let m=o.replace(/\n+/g,`$&
${p}`);if(l){let y=C=>{var _;return C.default&&C.tag!=="tag:yaml.org,2002:str"&&((_=C.test)===null||_===void 0?void 0:_.test(m))},{compat:S,tags:w}=t.doc.schema;if(w.some(y)||S?.some(y))return bf(o,t)}return h?m:ia.foldFlowLines(m,p,ia.FOLD_FLOW,Vy(t))}function ane(r,t,i,n){let{implicitKey:s,inFlow:o}=t,l=typeof r.value=="string"?r:Object.assign({},r,{value:String(r.value)}),{type:h}=r;h!==ps.Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(l.value)&&(h=ps.Scalar.QUOTE_DOUBLE);let p=m=>{switch(m){case ps.Scalar.BLOCK_FOLDED:case ps.Scalar.BLOCK_LITERAL:return s||o?bf(l.value,t):Hy(l,t,i,n);case ps.Scalar.QUOTE_DOUBLE:return vf(l.value,t);case ps.Scalar.QUOTE_SINGLE:return sC(l.value,t);case ps.Scalar.PLAIN:return one(l,t,i,n);default:return null}},g=p(h);if(g===null){let{defaultKeyType:m,defaultStringType:y}=t.options,S=s&&m||y;if(g=p(S),g===null)throw new Error(`Unsupported default string type ${S}`)}return g}oF.stringifyString=ane});var ru=x(oC=>{"use strict";var lne=jy(),na=Dt(),cne=mf(),une=Sf();function dne(r,t){let i=Object.assign({blockQuote:!0,commentString:cne.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},r.schema.toStringOptions,t),n;switch(i.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:r,indent:"",indentStep:typeof i.indent=="number"?" ".repeat(i.indent):"  ",inFlow:n,options:i}}function fne(r,t){var i,n,s,o;if(t.tag){let p=r.filter(g=>g.tag===t.tag);if(p.length>0)return(i=p.find(g=>g.format===t.format))!==null&&i!==void 0?i:p[0]}let l,h;if(na.isScalar(t)){h=t.value;let p=r.filter(g=>{var m;return(m=g.identify)===null||m===void 0?void 0:m.call(g,h)});l=(n=p.find(g=>g.format===t.format))!==null&&n!==void 0?n:p.find(g=>!g.format)}else h=t,l=r.find(p=>p.nodeClass&&h instanceof p.nodeClass);if(!l){let p=(o=(s=h?.constructor)===null||s===void 0?void 0:s.name)!==null&&o!==void 0?o:typeof h;throw new Error(`Tag not resolved for ${p} value`)}return l}function hne(r,t,{anchors:i,doc:n}){if(!n.directives)return"";let s=[],o=(na.isScalar(r)||na.isCollection(r))&&r.anchor;o&&lne.anchorIsValid(o)&&(i.add(o),s.push(`&${o}`));let l=r.tag?r.tag:t.default?null:t.tag;return l&&s.push(n.directives.tagString(l)),s.join(" ")}function pne(r,t,i,n){var s,o;if(na.isPair(r))return r.toString(t,i,n);if(na.isAlias(r)){if(t.doc.directives)return r.toString(t);if(!((s=t.resolvedAliases)===null||s===void 0)&&s.has(r))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(r):t.resolvedAliases=new Set([r]),r=r.resolve(t.doc)}let l,h=na.isNode(r)?r:t.doc.createNode(r,{onTagObj:m=>l=m});l||(l=fne(t.doc.schema.tags,h));let p=hne(h,l,t);p.length>0&&(t.indentAtStart=((o=t.indentAtStart)!==null&&o!==void 0?o:0)+p.length+1);let g=typeof l.stringify=="function"?l.stringify(h,t,i,n):na.isScalar(h)?une.stringifyString(h,t,i,n):h.toString(t,i,n);return p?na.isScalar(h)||g[0]==="{"||g[0]==="["?`${p} ${g}`:`${p}
${t.indent}${g}`:g}oC.createStringifyContext=dne;oC.stringify=pne});var uF=x(cF=>{"use strict";var sa=Dt(),aF=hr(),lF=ru(),wf=mf();function gne({key:r,value:t},i,n,s){let{allNullValues:o,doc:l,indent:h,indentStep:p,options:{commentString:g,indentSeq:m,simpleKeys:y}}=i,S=sa.isNode(r)&&r.comment||null;if(y){if(S)throw new Error("With simple keys, key nodes cannot have comments");if(sa.isCollection(r)){let K="With simple keys, collection cannot be used as a key value";throw new Error(K)}}let w=!y&&(!r||S&&t==null&&!i.inFlow||sa.isCollection(r)||(sa.isScalar(r)?r.type===aF.Scalar.BLOCK_FOLDED||r.type===aF.Scalar.BLOCK_LITERAL:typeof r=="object"));i=Object.assign({},i,{allNullValues:!1,implicitKey:!w&&(y||!o),indent:h+p});let C=!1,_=!1,R=lF.stringify(r,i,()=>C=!0,()=>_=!0);if(!w&&!i.inFlow&&R.length>1024){if(y)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");w=!0}if(i.inFlow){if(o||t==null)return C&&n&&n(),R===""?"?":w?`? ${R}`:R}else if(o&&!y||t==null&&w)return R=`? ${R}`,S&&!C?R+=wf.lineComment(R,i.indent,g(S)):_&&s&&s(),R;C&&(S=null),w?(S&&(R+=wf.lineComment(R,i.indent,g(S))),R=`? ${R}
${h}:`):(R=`${R}:`,S&&(R+=wf.lineComment(R,i.indent,g(S))));let D="",I=null;if(sa.isNode(t)){if(t.spaceBefore&&(D=`
`),t.commentBefore){let K=g(t.commentBefore);D+=`
${wf.indentComment(K,i.indent)}`}I=t.comment}else t&&typeof t=="object"&&(t=l.createNode(t));i.implicitKey=!1,!w&&!S&&sa.isScalar(t)&&(i.indentAtStart=R.length+1),_=!1,!m&&p.length>=2&&!i.inFlow&&!w&&sa.isSeq(t)&&!t.flow&&!t.tag&&!t.anchor&&(i.indent=i.indent.substr(2));let M=!1,L=lF.stringify(t,i,()=>M=!0,()=>_=!0),V=" ";return D||S?L===""&&!i.inFlow?V=D===`
`?`

`:D:V=`${D}
${i.indent}`:!w&&sa.isCollection(t)?(!(L[0]==="["||L[0]==="{")||L.includes(`
`))&&(V=`
${i.indent}`):(L===""||L[0]===`
`)&&(V=""),R+=V+L,i.inFlow?M&&n&&n():I&&!M?R+=wf.lineComment(R,i.indent,g(I)):_&&s&&s(),R}cF.stringifyPair=gne});var lC=x(aC=>{"use strict";function mne(r,...t){r==="debug"&&console.log(...t)}function yne(r,t){(r==="debug"||r==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(t):console.warn(t))}aC.debug=mne;aC.warn=yne});var dC=x(fF=>{"use strict";var vne=lC(),bne=ru(),iu=Dt(),Sne=hr(),cC=tu(),dF="<<";function wne(r,t,{key:i,value:n}){if(r?.doc.schema.merge&&_ne(i))if(n=iu.isAlias(n)?n.resolve(r.doc):n,iu.isSeq(n))for(let s of n.items)uC(r,t,s);else if(Array.isArray(n))for(let s of n)uC(r,t,s);else uC(r,t,n);else{let s=cC.toJS(i,"",r);if(t instanceof Map)t.set(s,cC.toJS(n,s,r));else if(t instanceof Set)t.add(s);else{let o=Ene(i,s,r),l=cC.toJS(n,o,r);o in t?Object.defineProperty(t,o,{value:l,writable:!0,enumerable:!0,configurable:!0}):t[o]=l}}return t}var _ne=r=>r===dF||iu.isScalar(r)&&r.value===dF&&(!r.type||r.type===Sne.Scalar.PLAIN);function uC(r,t,i){let n=r&&iu.isAlias(i)?i.resolve(r.doc):i;if(!iu.isMap(n))throw new Error("Merge sources must be maps or map aliases");let s=n.toJSON(null,r,Map);for(let[o,l]of s)t instanceof Map?t.has(o)||t.set(o,l):t instanceof Set?t.add(o):Object.prototype.hasOwnProperty.call(t,o)||Object.defineProperty(t,o,{value:l,writable:!0,enumerable:!0,configurable:!0});return t}function Ene(r,t,i){if(t===null)return"";if(typeof t!="object")return String(t);if(iu.isNode(r)&&i&&i.doc){let n=bne.createStringifyContext(i.doc,{});n.anchors=new Set;for(let o of i.anchors.keys())n.anchors.add(o.anchor);n.inFlow=!0,n.inStringifyKey=!0;let s=r.toString(n);if(!i.mapKeyWarned){let o=JSON.stringify(s);o.length>40&&(o=o.substring(0,36)+'..."'),vne.warn(i.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${o}. Set mapAsMap: true to use object keys.`),i.mapKeyWarned=!0}return s}return JSON.stringify(t)}fF.addPairToJSMap=wne});var Js=x(fC=>{"use strict";var hF=pf(),Tne=uF(),Cne=dC(),Gy=Dt();function kne(r,t,i){let n=hF.createNode(r,void 0,i),s=hF.createNode(t,void 0,i);return new Yy(n,s)}var Yy=class r{constructor(t,i=null){Object.defineProperty(this,Gy.NODE_TYPE,{value:Gy.PAIR}),this.key=t,this.value=i}clone(t){let{key:i,value:n}=this;return Gy.isNode(i)&&(i=i.clone(t)),Gy.isNode(n)&&(n=n.clone(t)),new r(i,n)}toJSON(t,i){let n=i?.mapAsMap?new Map:{};return Cne.addPairToJSMap(i,n,this)}toString(t,i,n){return t?.doc?Tne.stringifyPair(this,t,i,n):JSON.stringify(this)}};fC.Pair=Yy;fC.createPair=kne});var hC=x(gF=>{"use strict";var Rne=gf(),nl=Dt(),pF=ru(),_f=mf();function xne(r,t,i){var n;return(((n=t.inFlow)!==null&&n!==void 0?n:r.flow)?One:Ane)(r,t,i)}function Ane({comment:r,items:t},i,{blockItemPrefix:n,flowChars:s,itemIndent:o,onChompKeep:l,onComment:h}){let{indent:p,options:{commentString:g}}=i,m=Object.assign({},i,{indent:o,type:null}),y=!1,S=[];for(let C=0;C<t.length;++C){let _=t[C],R=null;if(nl.isNode(_))!y&&_.spaceBefore&&S.push(""),Ky(i,S,_.commentBefore,y),_.comment&&(R=_.comment);else if(nl.isPair(_)){let I=nl.isNode(_.key)?_.key:null;I&&(!y&&I.spaceBefore&&S.push(""),Ky(i,S,I.commentBefore,y))}y=!1;let D=pF.stringify(_,m,()=>R=null,()=>y=!0);R&&(D+=_f.lineComment(D,o,g(R))),y&&R&&(y=!1),S.push(n+D)}let w;if(S.length===0)w=s.start+s.end;else{w=S[0];for(let C=1;C<S.length;++C){let _=S[C];w+=_?`
${p}${_}`:`
`}}return r?(w+=`
`+_f.indentComment(g(r),p),h&&h()):y&&l&&l(),w}function One({comment:r,items:t},i,{flowChars:n,itemIndent:s,onComment:o}){let{indent:l,indentStep:h,options:{commentString:p}}=i;s+=h;let g=Object.assign({},i,{indent:s,inFlow:!0,type:null}),m=!1,y=0,S=[];for(let R=0;R<t.length;++R){let D=t[R],I=null;if(nl.isNode(D))D.spaceBefore&&S.push(""),Ky(i,S,D.commentBefore,!1),D.comment&&(I=D.comment);else if(nl.isPair(D)){let L=nl.isNode(D.key)?D.key:null;L&&(L.spaceBefore&&S.push(""),Ky(i,S,L.commentBefore,!1),L.comment&&(m=!0));let V=nl.isNode(D.value)?D.value:null;V?(V.comment&&(I=V.comment),V.commentBefore&&(m=!0)):D.value==null&&L&&L.comment&&(I=L.comment)}I&&(m=!0);let M=pF.stringify(D,g,()=>I=null);R<t.length-1&&(M+=","),I&&(M+=_f.lineComment(M,s,p(I))),!m&&(S.length>y||M.includes(`
`))&&(m=!0),S.push(M),y=S.length}let w,{start:C,end:_}=n;if(S.length===0)w=C+_;else if(m||(m=S.reduce((D,I)=>D+I.length+2,2)>Rne.Collection.maxFlowStringSingleLineLength),m){w=C;for(let R of S)w+=R?`
${h}${l}${R}`:`
`;w+=`
${l}${_}`}else w=`${C} ${S.join(" ")} ${_}`;return r&&(w+=_f.lineComment(w,p(r),l),o&&o()),w}function Ky({indent:r,options:{commentString:t}},i,n,s){if(n&&s&&(n=n.replace(/^\n+/,"")),n){let o=_f.indentComment(t(n),r);i.push(o.trimStart())}}gF.stringifyCollection=xne});var sl=x(mC=>{"use strict";var Nne=hC(),Dne=dC(),Pne=gf(),oa=Dt(),pC=Js(),Ine=hr();function Ef(r,t){let i=oa.isScalar(t)?t.value:t;for(let n of r)if(oa.isPair(n)&&(n.key===t||n.key===i||oa.isScalar(n.key)&&n.key.value===i))return n}var gC=class extends Pne.Collection{constructor(t){super(oa.MAP,t),this.items=[]}static get tagName(){return"tag:yaml.org,2002:map"}add(t,i){var n;let s;oa.isPair(t)?s=t:!t||typeof t!="object"||!("key"in t)?s=new pC.Pair(t,t.value):s=new pC.Pair(t.key,t.value);let o=Ef(this.items,s.key),l=(n=this.schema)===null||n===void 0?void 0:n.sortMapEntries;if(o){if(!i)throw new Error(`Key ${s.key} already set`);oa.isScalar(o.value)&&Ine.isScalarValue(s.value)?o.value.value=s.value:o.value=s.value}else if(l){let h=this.items.findIndex(p=>l(s,p)<0);h===-1?this.items.push(s):this.items.splice(h,0,s)}else this.items.push(s)}delete(t){let i=Ef(this.items,t);return i?this.items.splice(this.items.indexOf(i),1).length>0:!1}get(t,i){let n=Ef(this.items,t),s=n?.value;return!i&&oa.isScalar(s)?s.value:s}has(t){return!!Ef(this.items,t)}set(t,i){this.add(new pC.Pair(t,i),!0)}toJSON(t,i,n){let s=n?new n:i?.mapAsMap?new Map:{};i?.onCreate&&i.onCreate(s);for(let o of this.items)Dne.addPairToJSMap(i,s,o);return s}toString(t,i,n){if(!t)return JSON.stringify(this);for(let s of this.items)if(!oa.isPair(s))throw new Error(`Map items must all be pairs; found ${JSON.stringify(s)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),Nne.stringifyCollection(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:n,onComment:i})}};mC.YAMLMap=gC;mC.findPair=Ef});var nu=x(yF=>{"use strict";var Lne=Dt(),Mne=Js(),mF=sl();function Fne(r,t,i){let{keepUndefined:n,replacer:s}=i,o=new mF.YAMLMap(r),l=(h,p)=>{if(typeof s=="function")p=s.call(t,h,p);else if(Array.isArray(s)&&!s.includes(h))return;(p!==void 0||n)&&o.items.push(Mne.createPair(h,p,i))};if(t instanceof Map)for(let[h,p]of t)l(h,p);else if(t&&typeof t=="object")for(let h of Object.keys(t))l(h,t[h]);return typeof r.sortMapEntries=="function"&&o.items.sort(r.sortMapEntries),o}var jne={collection:"map",createNode:Fne,default:!0,nodeClass:mF.YAMLMap,tag:"tag:yaml.org,2002:map",resolve(r,t){return Lne.isMap(r)||t("Expected a mapping for this tag"),r}};yF.map=jne});var ol=x(vF=>{"use strict";var Bne=hC(),Une=gf(),Jy=Dt(),qne=hr(),Wne=tu(),yC=class extends Une.Collection{constructor(t){super(Jy.SEQ,t),this.items=[]}static get tagName(){return"tag:yaml.org,2002:seq"}add(t){this.items.push(t)}delete(t){let i=Xy(t);return typeof i!="number"?!1:this.items.splice(i,1).length>0}get(t,i){let n=Xy(t);if(typeof n!="number")return;let s=this.items[n];return!i&&Jy.isScalar(s)?s.value:s}has(t){let i=Xy(t);return typeof i=="number"&&i<this.items.length}set(t,i){let n=Xy(t);if(typeof n!="number")throw new Error(`Expected a valid index, not ${t}.`);let s=this.items[n];Jy.isScalar(s)&&qne.isScalarValue(i)?s.value=i:this.items[n]=i}toJSON(t,i){let n=[];i?.onCreate&&i.onCreate(n);let s=0;for(let o of this.items)n.push(Wne.toJS(o,String(s++),i));return n}toString(t,i,n){return t?Bne.stringifyCollection(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:n,onComment:i}):JSON.stringify(this)}};function Xy(r){let t=Jy.isScalar(r)?r.value:r;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}vF.YAMLSeq=yC});var su=x(SF=>{"use strict";var zne=pf(),Hne=Dt(),bF=ol();function Vne(r,t,i){let{replacer:n}=i,s=new bF.YAMLSeq(r);if(t&&Symbol.iterator in Object(t)){let o=0;for(let l of t){if(typeof n=="function"){let h=t instanceof Set?l:String(o++);l=n.call(t,h,l)}s.items.push(zne.createNode(l,void 0,i))}}return s}var $ne={collection:"seq",createNode:Vne,default:!0,nodeClass:bF.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(r,t){return Hne.isSeq(r)||t("Expected a sequence for this tag"),r}};SF.seq=$ne});var Tf=x(wF=>{"use strict";var Gne=Sf(),Yne={identify:r=>typeof r=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:r=>r,stringify(r,t,i,n){return t=Object.assign({actualString:!0},t),Gne.stringifyString(r,t,i,n)}};wF.string=Yne});var Zy=x(TF=>{"use strict";var _F=hr(),EF={identify:r=>r==null,createNode:()=>new _F.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new _F.Scalar(null),stringify:({source:r},t)=>typeof r=="string"&&EF.test.test(r)?r:t.options.nullStr};TF.nullTag=EF});var vC=x(kF=>{"use strict";var Kne=hr(),CF={identify:r=>typeof r=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:r=>new Kne.Scalar(r[0]==="t"||r[0]==="T"),stringify({source:r,value:t},i){if(r&&CF.test.test(r)){let n=r[0]==="t"||r[0]==="T";if(t===n)return r}return t?i.options.trueStr:i.options.falseStr}};kF.boolTag=CF});var ou=x(RF=>{"use strict";function Xne({format:r,minFractionDigits:t,tag:i,value:n}){if(typeof n=="bigint")return String(n);let s=typeof n=="number"?n:Number(n);if(!isFinite(s))return isNaN(s)?".nan":s<0?"-.inf":".inf";let o=JSON.stringify(n);if(!r&&t&&(!i||i==="tag:yaml.org,2002:float")&&/^\d/.test(o)){let l=o.indexOf(".");l<0&&(l=o.length,o+=".");let h=t-(o.length-l-1);for(;h-- >0;)o+="0"}return o}RF.stringifyNumber=Xne});var SC=x(Qy=>{"use strict";var Jne=hr(),bC=ou(),Zne={identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:r=>r.slice(-3).toLowerCase()==="nan"?NaN:r[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:bC.stringifyNumber},Qne={identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:r=>parseFloat(r),stringify(r){let t=Number(r.value);return isFinite(t)?t.toExponential():bC.stringifyNumber(r)}},ese={identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(r){let t=new Jne.Scalar(parseFloat(r)),i=r.indexOf(".");return i!==-1&&r[r.length-1]==="0"&&(t.minFractionDigits=r.length-i-1),t},stringify:bC.stringifyNumber};Qy.float=ese;Qy.floatExp=Qne;Qy.floatNaN=Zne});var _C=x(t0=>{"use strict";var xF=ou(),e0=r=>typeof r=="bigint"||Number.isInteger(r),wC=(r,t,i,{intAsBigInt:n})=>n?BigInt(r):parseInt(r.substring(t),i);function AF(r,t,i){let{value:n}=r;return e0(n)&&n>=0?i+n.toString(t):xF.stringifyNumber(r)}var tse={identify:r=>e0(r)&&r>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(r,t,i)=>wC(r,2,8,i),stringify:r=>AF(r,8,"0o")},rse={identify:e0,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(r,t,i)=>wC(r,0,10,i),stringify:xF.stringifyNumber},ise={identify:r=>e0(r)&&r>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(r,t,i)=>wC(r,2,16,i),stringify:r=>AF(r,16,"0x")};t0.int=rse;t0.intHex=ise;t0.intOct=tse});var NF=x(OF=>{"use strict";var nse=nu(),sse=Zy(),ose=su(),ase=Tf(),lse=vC(),EC=SC(),TC=_C(),cse=[nse.map,ose.seq,ase.string,sse.nullTag,lse.boolTag,TC.intOct,TC.int,TC.intHex,EC.floatNaN,EC.floatExp,EC.float];OF.schema=cse});var IF=x(PF=>{"use strict";var use=hr(),dse=nu(),fse=su();function DF(r){return typeof r=="bigint"||Number.isInteger(r)}var r0=({value:r})=>JSON.stringify(r),hse=[{identify:r=>typeof r=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:r=>r,stringify:r0},{identify:r=>r==null,createNode:()=>new use.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:r0},{identify:r=>typeof r=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:r=>r==="true",stringify:r0},{identify:DF,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(r,t,{intAsBigInt:i})=>i?BigInt(r):parseInt(r,10),stringify:({value:r})=>DF(r)?r.toString():JSON.stringify(r)},{identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:r=>parseFloat(r),stringify:r0}],pse={default:!0,tag:"",test:/^/,resolve(r,t){return t(`Unresolved plain scalar ${JSON.stringify(r)}`),r}},gse=[dse.map,fse.seq].concat(hse,pse);PF.schema=gse});var kC=x(LF=>{"use strict";var CC=hr(),mse=Sf(),yse={identify:r=>r instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(r,t){if(typeof Buffer=="function")return Buffer.from(r,"base64");if(typeof atob=="function"){let i=atob(r.replace(/[\n\r]/g,"")),n=new Uint8Array(i.length);for(let s=0;s<i.length;++s)n[s]=i.charCodeAt(s);return n}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),r},stringify({comment:r,type:t,value:i},n,s,o){let l=i,h;if(typeof Buffer=="function")h=l instanceof Buffer?l.toString("base64"):Buffer.from(l.buffer).toString("base64");else if(typeof btoa=="function"){let p="";for(let g=0;g<l.length;++g)p+=String.fromCharCode(l[g]);h=btoa(p)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=CC.Scalar.BLOCK_LITERAL),t!==CC.Scalar.QUOTE_DOUBLE){let p=Math.max(n.options.lineWidth-n.indent.length,n.options.minContentWidth),g=Math.ceil(h.length/p),m=new Array(g);for(let y=0,S=0;y<g;++y,S+=p)m[y]=h.substr(S,p);h=m.join(t===CC.Scalar.BLOCK_LITERAL?`
`:" ")}return mse.stringifyString({comment:r,type:t,value:h},n,s,o)}};LF.binary=yse});var s0=x(n0=>{"use strict";var i0=Dt(),RC=Js(),vse=hr(),bse=ol();function MF(r,t){var i;if(i0.isSeq(r))for(let n=0;n<r.items.length;++n){let s=r.items[n];if(!i0.isPair(s)){if(i0.isMap(s)){s.items.length>1&&t("Each pair must have its own sequence indicator");let o=s.items[0]||new RC.Pair(new vse.Scalar(null));if(s.commentBefore&&(o.key.commentBefore=o.key.commentBefore?`${s.commentBefore}
${o.key.commentBefore}`:s.commentBefore),s.comment){let l=(i=o.value)!==null&&i!==void 0?i:o.key;l.comment=l.comment?`${s.comment}
${l.comment}`:s.comment}s=o}r.items[n]=i0.isPair(s)?s:new RC.Pair(s)}}else t("Expected a sequence for this tag");return r}function FF(r,t,i){let{replacer:n}=i,s=new bse.YAMLSeq(r);s.tag="tag:yaml.org,2002:pairs";let o=0;if(t&&Symbol.iterator in Object(t))for(let l of t){typeof n=="function"&&(l=n.call(t,String(o++),l));let h,p;if(Array.isArray(l))if(l.length===2)h=l[0],p=l[1];else throw new TypeError(`Expected [key, value] tuple: ${l}`);else if(l&&l instanceof Object){let g=Object.keys(l);if(g.length===1)h=g[0],p=l[h];else throw new TypeError(`Expected { key: value } tuple: ${l}`)}else h=l;s.items.push(RC.createPair(h,p,i))}return s}var Sse={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:MF,createNode:FF};n0.createPairs=FF;n0.pairs=Sse;n0.resolvePairs=MF});var OC=x(AC=>{"use strict";var wse=ol(),xC=tu(),BF=Dt(),Cf=sl(),jF=s0(),al=class r extends wse.YAMLSeq{constructor(){super(),this.add=Cf.YAMLMap.prototype.add.bind(this),this.delete=Cf.YAMLMap.prototype.delete.bind(this),this.get=Cf.YAMLMap.prototype.get.bind(this),this.has=Cf.YAMLMap.prototype.has.bind(this),this.set=Cf.YAMLMap.prototype.set.bind(this),this.tag=r.tag}toJSON(t,i){if(!i)return super.toJSON(t);let n=new Map;i?.onCreate&&i.onCreate(n);for(let s of this.items){let o,l;if(BF.isPair(s)?(o=xC.toJS(s.key,"",i),l=xC.toJS(s.value,o,i)):o=xC.toJS(s,"",i),n.has(o))throw new Error("Ordered maps must not include duplicate keys");n.set(o,l)}return n}};al.tag="tag:yaml.org,2002:omap";var _se={collection:"seq",identify:r=>r instanceof Map,nodeClass:al,default:!1,tag:"tag:yaml.org,2002:omap",resolve(r,t){let i=jF.resolvePairs(r,t),n=[];for(let{key:s}of i.items)BF.isScalar(s)&&(n.includes(s.value)?t(`Ordered maps must not include duplicate keys: ${s.value}`):n.push(s.value));return Object.assign(new al,i)},createNode(r,t,i){let n=jF.createPairs(r,t,i),s=new al;return s.items=n.items,s}};AC.YAMLOMap=al;AC.omap=_se});var HF=x(NC=>{"use strict";var UF=hr();function qF({value:r,source:t},i){return t&&(r?WF:zF).test.test(t)?t:r?i.options.trueStr:i.options.falseStr}var WF={identify:r=>r===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new UF.Scalar(!0),stringify:qF},zF={identify:r=>r===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new UF.Scalar(!1),stringify:qF};NC.falseTag=zF;NC.trueTag=WF});var VF=x(o0=>{"use strict";var Ese=hr(),DC=ou(),Tse={identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:r=>r.slice(-3).toLowerCase()==="nan"?NaN:r[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:DC.stringifyNumber},Cse={identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:r=>parseFloat(r.replace(/_/g,"")),stringify(r){let t=Number(r.value);return isFinite(t)?t.toExponential():DC.stringifyNumber(r)}},kse={identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(r){let t=new Ese.Scalar(parseFloat(r.replace(/_/g,""))),i=r.indexOf(".");if(i!==-1){let n=r.substring(i+1).replace(/_/g,"");n[n.length-1]==="0"&&(t.minFractionDigits=n.length)}return t},stringify:DC.stringifyNumber};o0.float=kse;o0.floatExp=Cse;o0.floatNaN=Tse});var GF=x(Rf=>{"use strict";var $F=ou(),kf=r=>typeof r=="bigint"||Number.isInteger(r);function a0(r,t,i,{intAsBigInt:n}){let s=r[0];if((s==="-"||s==="+")&&(t+=1),r=r.substring(t).replace(/_/g,""),n){switch(i){case 2:r=`0b${r}`;break;case 8:r=`0o${r}`;break;case 16:r=`0x${r}`;break}let l=BigInt(r);return s==="-"?BigInt(-1)*l:l}let o=parseInt(r,i);return s==="-"?-1*o:o}function PC(r,t,i){let{value:n}=r;if(kf(n)){let s=n.toString(t);return n<0?"-"+i+s.substr(1):i+s}return $F.stringifyNumber(r)}var Rse={identify:kf,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(r,t,i)=>a0(r,2,2,i),stringify:r=>PC(r,2,"0b")},xse={identify:kf,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(r,t,i)=>a0(r,1,8,i),stringify:r=>PC(r,8,"0")},Ase={identify:kf,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(r,t,i)=>a0(r,0,10,i),stringify:$F.stringifyNumber},Ose={identify:kf,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(r,t,i)=>a0(r,2,16,i),stringify:r=>PC(r,16,"0x")};Rf.int=Ase;Rf.intBin=Rse;Rf.intHex=Ose;Rf.intOct=xse});var LC=x(IC=>{"use strict";var c0=Dt(),u0=Js(),l0=sl(),ll=class r extends l0.YAMLMap{constructor(t){super(t),this.tag=r.tag}add(t){let i;c0.isPair(t)?i=t:typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?i=new u0.Pair(t.key,null):i=new u0.Pair(t,null),l0.findPair(this.items,i.key)||this.items.push(i)}get(t,i){let n=l0.findPair(this.items,t);return!i&&c0.isPair(n)?c0.isScalar(n.key)?n.key.value:n.key:n}set(t,i){if(typeof i!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof i}`);let n=l0.findPair(this.items,t);n&&!i?this.items.splice(this.items.indexOf(n),1):!n&&i&&this.items.push(new u0.Pair(t))}toJSON(t,i){return super.toJSON(t,i,Set)}toString(t,i,n){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),i,n);throw new Error("Set items must all have null values")}};ll.tag="tag:yaml.org,2002:set";var Nse={collection:"map",identify:r=>r instanceof Set,nodeClass:ll,default:!1,tag:"tag:yaml.org,2002:set",resolve(r,t){if(c0.isMap(r)){if(r.hasAllNullValues(!0))return Object.assign(new ll,r);t("Set items must all have null values")}else t("Expected a mapping for this tag");return r},createNode(r,t,i){let{replacer:n}=i,s=new ll(r);if(t&&Symbol.iterator in Object(t))for(let o of t)typeof n=="function"&&(o=n.call(t,o,o)),s.items.push(u0.createPair(o,null,i));return s}};IC.YAMLSet=ll;IC.set=Nse});var FC=x(d0=>{"use strict";var Dse=ou();function MC(r,t){let i=r[0],n=i==="-"||i==="+"?r.substring(1):r,s=l=>t?BigInt(l):Number(l),o=n.replace(/_/g,"").split(":").reduce((l,h)=>l*s(60)+s(h),s(0));return i==="-"?s(-1)*o:o}function YF(r){let{value:t}=r,i=l=>l;if(typeof t=="bigint")i=l=>BigInt(l);else if(isNaN(t)||!isFinite(t))return Dse.stringifyNumber(r);let n="";t<0&&(n="-",t*=i(-1));let s=i(60),o=[t%s];return t<60?o.unshift(0):(t=(t-o[0])/s,o.unshift(t%s),t>=60&&(t=(t-o[0])/s,o.unshift(t))),n+o.map(l=>l<10?"0"+String(l):String(l)).join(":").replace(/000000\d*$/,"")}var Pse={identify:r=>typeof r=="bigint"||Number.isInteger(r),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(r,t,{intAsBigInt:i})=>MC(r,i),stringify:YF},Ise={identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:r=>MC(r,!1),stringify:YF},KF={identify:r=>r instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(r){let t=r.match(KF.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,i,n,s,o,l,h]=t.map(Number),p=t[7]?Number((t[7]+"00").substr(1,3)):0,g=Date.UTC(i,n-1,s,o||0,l||0,h||0,p),m=t[8];if(m&&m!=="Z"){let y=MC(m,!1);Math.abs(y)<30&&(y*=60),g-=6e4*y}return new Date(g)},stringify:({value:r})=>r.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};d0.floatTime=Ise;d0.intTime=Pse;d0.timestamp=KF});var ZF=x(JF=>{"use strict";var Lse=nu(),Mse=Zy(),Fse=su(),jse=Tf(),Bse=kC(),XF=HF(),jC=VF(),f0=GF(),Use=OC(),qse=s0(),Wse=LC(),BC=FC(),zse=[Lse.map,Fse.seq,jse.string,Mse.nullTag,XF.trueTag,XF.falseTag,f0.intBin,f0.intOct,f0.int,f0.intHex,jC.floatNaN,jC.floatExp,jC.float,Bse.binary,Use.omap,qse.pairs,Wse.set,BC.intTime,BC.floatTime,BC.timestamp];JF.schema=zse});var l8=x(WC=>{"use strict";var r8=nu(),Hse=Zy(),i8=su(),Vse=Tf(),$se=vC(),UC=SC(),qC=_C(),Gse=NF(),Yse=IF(),n8=kC(),s8=OC(),o8=s0(),QF=ZF(),a8=LC(),h0=FC(),e8=new Map([["core",Gse.schema],["failsafe",[r8.map,i8.seq,Vse.string]],["json",Yse.schema],["yaml11",QF.schema],["yaml-1.1",QF.schema]]),t8={binary:n8.binary,bool:$se.boolTag,float:UC.float,floatExp:UC.floatExp,floatNaN:UC.floatNaN,floatTime:h0.floatTime,int:qC.int,intHex:qC.intHex,intOct:qC.intOct,intTime:h0.intTime,map:r8.map,null:Hse.nullTag,omap:s8.omap,pairs:o8.pairs,seq:i8.seq,set:a8.set,timestamp:h0.timestamp},Kse={"tag:yaml.org,2002:binary":n8.binary,"tag:yaml.org,2002:omap":s8.omap,"tag:yaml.org,2002:pairs":o8.pairs,"tag:yaml.org,2002:set":a8.set,"tag:yaml.org,2002:timestamp":h0.timestamp};function Xse(r,t){let i=e8.get(t);if(!i)if(Array.isArray(r))i=[];else{let n=Array.from(e8.keys()).filter(s=>s!=="yaml11").map(s=>JSON.stringify(s)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${n} or define customTags array`)}if(Array.isArray(r))for(let n of r)i=i.concat(n);else typeof r=="function"&&(i=r(i.slice()));return i.map(n=>{if(typeof n!="string")return n;let s=t8[n];if(s)return s;let o=Object.keys(t8).map(l=>JSON.stringify(l)).join(", ");throw new Error(`Unknown custom tag "${n}"; use one of ${o}`)})}WC.coreKnownTags=Kse;WC.getTags=Xse});var VC=x(c8=>{"use strict";var zC=Dt(),Jse=nu(),Zse=su(),Qse=Tf(),p0=l8(),eoe=(r,t)=>r.key<t.key?-1:r.key>t.key?1:0,HC=class r{constructor({compat:t,customTags:i,merge:n,resolveKnownTags:s,schema:o,sortMapEntries:l,toStringDefaults:h}){this.compat=Array.isArray(t)?p0.getTags(t,"compat"):t?p0.getTags(null,t):null,this.merge=!!n,this.name=typeof o=="string"&&o||"core",this.knownTags=s?p0.coreKnownTags:{},this.tags=p0.getTags(i,this.name),this.toStringOptions=h??null,Object.defineProperty(this,zC.MAP,{value:Jse.map}),Object.defineProperty(this,zC.SCALAR,{value:Qse.string}),Object.defineProperty(this,zC.SEQ,{value:Zse.seq}),this.sortMapEntries=typeof l=="function"?l:l===!0?eoe:null}clone(){let t=Object.create(r.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}};c8.Schema=HC});var d8=x(u8=>{"use strict";var toe=Dt(),$C=ru(),xf=mf();function roe(r,t){var i;let n=[],s=t.directives===!0;if(t.directives!==!1&&r.directives){let g=r.directives.toString(r);g?(n.push(g),s=!0):r.directives.docStart&&(s=!0)}s&&n.push("---");let o=$C.createStringifyContext(r,t),{commentString:l}=o.options;if(r.commentBefore){n.length!==1&&n.unshift("");let g=l(r.commentBefore);n.unshift(xf.indentComment(g,""))}let h=!1,p=null;if(r.contents){if(toe.isNode(r.contents)){if(r.contents.spaceBefore&&s&&n.push(""),r.contents.commentBefore){let y=l(r.contents.commentBefore);n.push(xf.indentComment(y,""))}o.forceBlockIndent=!!r.comment,p=r.contents.comment}let g=p?void 0:()=>h=!0,m=$C.stringify(r.contents,o,()=>p=null,g);p&&(m+=xf.lineComment(m,"",l(p))),(m[0]==="|"||m[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${m}`:n.push(m)}else n.push($C.stringify(r.contents,o));if(!((i=r.directives)===null||i===void 0)&&i.docEnd)if(r.comment){let g=l(r.comment);g.includes(`
`)?(n.push("..."),n.push(xf.indentComment(g,""))):n.push(`... ${g}`)}else n.push("...");else{let g=r.comment;g&&h&&(g=g.replace(/^\n+/,"")),g&&((!h||p)&&n[n.length-1]!==""&&n.push(""),n.push(xf.indentComment(l(g),"")))}return n.join(`
`)+`
`}u8.stringifyDocument=roe});var h8=x(f8=>{"use strict";function Af(r,t,i,n){if(n&&typeof n=="object")if(Array.isArray(n))for(let s=0,o=n.length;s<o;++s){let l=n[s],h=Af(r,n,String(s),l);h===void 0?delete n[s]:h!==l&&(n[s]=h)}else if(n instanceof Map)for(let s of Array.from(n.keys())){let o=n.get(s),l=Af(r,n,s,o);l===void 0?n.delete(s):l!==o&&n.set(s,l)}else if(n instanceof Set)for(let s of Array.from(n)){let o=Af(r,n,s,s);o===void 0?n.delete(s):o!==s&&(n.delete(s),n.add(o))}else for(let[s,o]of Object.entries(n)){let l=Af(r,n,s,o);l===void 0?delete n[s]:l!==o&&(n[s]=l)}return r.call(t,i,n)}f8.applyReviver=Af});var Of=x(p8=>{"use strict";var ioe=hf(),au=gf(),an=Dt(),noe=Js(),soe=tu(),ooe=VC(),aoe=ru(),loe=d8(),GC=jy(),coe=h8(),uoe=pf(),YC=QT(),KC=class r{constructor(t,i,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,an.NODE_TYPE,{value:an.DOC});let s=null;typeof i=="function"||Array.isArray(i)?s=i:n===void 0&&i&&(n=i,i=void 0);let o=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},n);this.options=o;let{version:l}=o;n?.directives?(this.directives=n.directives.atDocument(),this.directives.yaml.explicit&&(l=this.directives.yaml.version)):this.directives=new YC.Directives({version:l}),this.setSchema(l,n),t===void 0?this.contents=null:this.contents=this.createNode(t,s,n)}clone(){let t=Object.create(r.prototype,{[an.NODE_TYPE]:{value:an.DOC}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=an.isNode(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){lu(this.contents)&&this.contents.add(t)}addIn(t,i){lu(this.contents)&&this.contents.addIn(t,i)}createAlias(t,i){if(!t.anchor){let n=GC.anchorNames(this);t.anchor=!i||n.has(i)?GC.findNewAnchor(i||"a",n):i}return new ioe.Alias(t.anchor)}createNode(t,i,n){let s;if(typeof i=="function")t=i.call({"":t},"",t),s=i;else if(Array.isArray(i)){let R=I=>typeof I=="number"||I instanceof String||I instanceof Number,D=i.filter(R).map(String);D.length>0&&(i=i.concat(D)),s=i}else n===void 0&&i&&(n=i,i=void 0);let{aliasDuplicateObjects:o,anchorPrefix:l,flow:h,keepUndefined:p,onTagObj:g,tag:m}=n??{},{onAnchor:y,setAnchors:S,sourceObjects:w}=GC.createNodeAnchors(this,l||"a"),C={aliasDuplicateObjects:o??!0,keepUndefined:p??!1,onAnchor:y,onTagObj:g,replacer:s,schema:this.schema,sourceObjects:w},_=uoe.createNode(t,m,C);return h&&an.isCollection(_)&&(_.flow=!0),S(),_}createPair(t,i,n={}){let s=this.createNode(t,null,n),o=this.createNode(i,null,n);return new noe.Pair(s,o)}delete(t){return lu(this.contents)?this.contents.delete(t):!1}deleteIn(t){return au.isEmptyPath(t)?this.contents==null?!1:(this.contents=null,!0):lu(this.contents)?this.contents.deleteIn(t):!1}get(t,i){return an.isCollection(this.contents)?this.contents.get(t,i):void 0}getIn(t,i){return au.isEmptyPath(t)?!i&&an.isScalar(this.contents)?this.contents.value:this.contents:an.isCollection(this.contents)?this.contents.getIn(t,i):void 0}has(t){return an.isCollection(this.contents)?this.contents.has(t):!1}hasIn(t){return au.isEmptyPath(t)?this.contents!==void 0:an.isCollection(this.contents)?this.contents.hasIn(t):!1}set(t,i){this.contents==null?this.contents=au.collectionFromPath(this.schema,[t],i):lu(this.contents)&&this.contents.set(t,i)}setIn(t,i){au.isEmptyPath(t)?this.contents=i:this.contents==null?this.contents=au.collectionFromPath(this.schema,Array.from(t),i):lu(this.contents)&&this.contents.setIn(t,i)}setSchema(t,i={}){typeof t=="number"&&(t=String(t));let n;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new YC.Directives({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new YC.Directives({version:t}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{let s=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${s}`)}}if(i.schema instanceof Object)this.schema=i.schema;else if(n)this.schema=new ooe.Schema(Object.assign(n,i));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:i,mapAsMap:n,maxAliasCount:s,onAnchor:o,reviver:l}={}){let h={anchors:new Map,doc:this,keep:!t,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100,stringify:aoe.stringify},p=soe.toJS(this.contents,i??"",h);if(typeof o=="function")for(let{count:g,res:m}of h.anchors.values())o(m,g);return typeof l=="function"?coe.applyReviver(l,{"":p},"",p):p}toJSON(t,i){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:i})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){let i=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${i}`)}return loe.stringifyDocument(this,t)}};function lu(r){if(an.isCollection(r))return!0;throw new Error("Expected a YAML collection as document contents")}p8.Document=KC});var Pf=x(Df=>{"use strict";var Nf=class extends Error{constructor(t,i,n,s){super(),this.name=t,this.code=n,this.message=s,this.pos=i}},XC=class extends Nf{constructor(t,i,n){super("YAMLParseError",t,i,n)}},JC=class extends Nf{constructor(t,i,n){super("YAMLWarning",t,i,n)}},doe=(r,t)=>i=>{if(i.pos[0]===-1)return;i.linePos=i.pos.map(h=>t.linePos(h));let{line:n,col:s}=i.linePos[0];i.message+=` at line ${n}, column ${s}`;let o=s-1,l=r.substring(t.lineStarts[n-1],t.lineStarts[n]).replace(/[\n\r]+$/,"");if(o>=60&&l.length>80){let h=Math.min(o-39,l.length-79);l="\u2026"+l.substring(h),o-=h-1}if(l.length>80&&(l=l.substring(0,79)+"\u2026"),n>1&&/^ *$/.test(l.substring(0,o))){let h=r.substring(t.lineStarts[n-2],t.lineStarts[n-1]);h.length>80&&(h=h.substring(0,79)+`\u2026
`),l=h+l}if(/[^ ]/.test(l)){let h=1,p=i.linePos[1];p&&p.line===n&&p.col>s&&(h=Math.min(p.col-s,80-o));let g=" ".repeat(o)+"^".repeat(h);i.message+=`:

${l}
${g}
`}};Df.YAMLError=Nf;Df.YAMLParseError=XC;Df.YAMLWarning=JC;Df.prettifyError=doe});var If=x(g8=>{"use strict";function foe(r,{flow:t,indicator:i,next:n,offset:s,onError:o,startOnNewline:l}){let h=!1,p=l,g=l,m="",y="",S=!1,w=!1,C=!1,_=null,R=null,D=null,I=null,M=null;for(let K of r)switch(C&&(K.type!=="space"&&K.type!=="newline"&&K.type!=="comma"&&o(K.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),C=!1),K.type){case"space":!t&&p&&i!=="doc-start"&&K.source[0]==="	"&&o(K,"TAB_AS_INDENT","Tabs are not allowed as indentation"),g=!0;break;case"comment":{g||o(K,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let Q=K.source.substring(1)||" ";m?m+=y+Q:m=Q,y="",p=!1;break}case"newline":p?m?m+=K.source:h=!0:y+=K.source,p=!0,S=!0,(_||R)&&(w=!0),g=!0;break;case"anchor":_&&o(K,"MULTIPLE_ANCHORS","A node can have at most one anchor"),K.source.endsWith(":")&&o(K.offset+K.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),_=K,M===null&&(M=K.offset),p=!1,g=!1,C=!0;break;case"tag":{R&&o(K,"MULTIPLE_TAGS","A node can have at most one tag"),R=K,M===null&&(M=K.offset),p=!1,g=!1,C=!0;break}case i:(_||R)&&o(K,"BAD_PROP_ORDER",`Anchors and tags must be after the ${K.source} indicator`),I&&o(K,"UNEXPECTED_TOKEN",`Unexpected ${K.source} in ${t??"collection"}`),I=K,p=!1,g=!1;break;case"comma":if(t){D&&o(K,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),D=K,p=!1,g=!1;break}default:o(K,"UNEXPECTED_TOKEN",`Unexpected ${K.type} token`),p=!1,g=!1}let L=r[r.length-1],V=L?L.offset+L.source.length:s;return C&&n&&n.type!=="space"&&n.type!=="newline"&&n.type!=="comma"&&(n.type!=="scalar"||n.source!=="")&&o(n.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:D,found:I,spaceBefore:h,comment:m,hasNewline:S,hasNewlineAfterProp:w,anchor:_,tag:R,end:V,start:M??V}}g8.resolveProps=foe});var g0=x(m8=>{"use strict";function ZC(r){if(!r)return null;switch(r.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(r.source.includes(`
`))return!0;if(r.end){for(let t of r.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(let t of r.items){for(let i of t.start)if(i.type==="newline")return!0;if(t.sep){for(let i of t.sep)if(i.type==="newline")return!0}if(ZC(t.key)||ZC(t.value))return!0}return!1;default:return!0}}m8.containsNewline=ZC});var QC=x(y8=>{"use strict";var hoe=g0();function poe(r,t,i){if(t?.type==="flow-collection"){let n=t.end[0];n.indent===r&&(n.source==="]"||n.source==="}")&&hoe.containsNewline(t)&&i(n,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}y8.flowIndentCheck=poe});var ek=x(b8=>{"use strict";var v8=Dt();function goe(r,t,i){let{uniqueKeys:n}=r.options;if(n===!1)return!1;let s=typeof n=="function"?n:(o,l)=>o===l||v8.isScalar(o)&&v8.isScalar(l)&&o.value===l.value&&!(o.value==="<<"&&r.schema.merge);return t.some(o=>s(o.key,i))}b8.mapIncludes=goe});var C8=x(T8=>{"use strict";var S8=Js(),moe=sl(),w8=If(),yoe=g0(),_8=QC(),voe=ek(),E8="All mapping items must start at the same column";function boe({composeNode:r,composeEmptyNode:t},i,n,s){var o;let l=new moe.YAMLMap(i.schema);i.atRoot&&(i.atRoot=!1);let h=n.offset;for(let p of n.items){let{start:g,key:m,sep:y,value:S}=p,w=w8.resolveProps(g,{indicator:"explicit-key-ind",next:m??y?.[0],offset:h,onError:s,startOnNewline:!0}),C=!w.found;if(C){if(m&&(m.type==="block-seq"?s(h,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in m&&m.indent!==n.indent&&s(h,"BAD_INDENT",E8)),!w.anchor&&!w.tag&&!y){w.comment&&(l.comment?l.comment+=`
`+w.comment:l.comment=w.comment);continue}(w.hasNewlineAfterProp||yoe.containsNewline(m))&&s(m??g[g.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((o=w.found)===null||o===void 0?void 0:o.indent)!==n.indent&&s(h,"BAD_INDENT",E8);let _=w.end,R=m?r(i,m,w,s):t(i,_,g,null,w,s);i.schema.compat&&_8.flowIndentCheck(n.indent,m,s),voe.mapIncludes(i,l.items,R)&&s(_,"DUPLICATE_KEY","Map keys must be unique");let D=w8.resolveProps(y??[],{indicator:"map-value-ind",next:S,offset:R.range[2],onError:s,startOnNewline:!m||m.type==="block-scalar"});if(h=D.end,D.found){C&&(S?.type==="block-map"&&!D.hasNewline&&s(h,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),i.options.strict&&w.start<D.found.offset-1024&&s(R.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let I=S?r(i,S,D,s):t(i,h,y,null,D,s);i.schema.compat&&_8.flowIndentCheck(n.indent,S,s),h=I.range[2];let M=new S8.Pair(R,I);i.options.keepSourceTokens&&(M.srcToken=p),l.items.push(M)}else{C&&s(R.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),D.comment&&(R.comment?R.comment+=`
`+D.comment:R.comment=D.comment);let I=new S8.Pair(R);i.options.keepSourceTokens&&(I.srcToken=p),l.items.push(I)}}return l.range=[n.offset,h,h],l}T8.resolveBlockMap=boe});var R8=x(k8=>{"use strict";var Soe=ol(),woe=If(),_oe=QC();function Eoe({composeNode:r,composeEmptyNode:t},i,n,s){let o=new Soe.YAMLSeq(i.schema);i.atRoot&&(i.atRoot=!1);let l=n.offset;for(let{start:h,value:p}of n.items){let g=woe.resolveProps(h,{indicator:"seq-item-ind",next:p,offset:l,onError:s,startOnNewline:!0});if(l=g.end,!g.found)if(g.anchor||g.tag||p)p&&p.type==="block-seq"?s(l,"BAD_INDENT","All sequence items must start at the same column"):s(l,"MISSING_CHAR","Sequence item without - indicator");else{g.comment&&(o.comment=g.comment);continue}let m=p?r(i,p,g,s):t(i,l,h,null,g,s);i.schema.compat&&_oe.flowIndentCheck(n.indent,p,s),l=m.range[2],o.items.push(m)}return o.range=[n.offset,l,l],o}k8.resolveBlockSeq=Eoe});var cu=x(x8=>{"use strict";function Toe(r,t,i,n){let s="";if(r){let o=!1,l="";for(let h of r){let{source:p,type:g}=h;switch(g){case"space":o=!0;break;case"comment":{i&&!o&&n(h,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let m=p.substring(1)||" ";s?s+=l+m:s=m,l="";break}case"newline":s&&(l+=p),o=!0;break;default:n(h,"UNEXPECTED_TOKEN",`Unexpected ${g} at node end`)}t+=p.length}}return{comment:s,offset:t}}x8.resolveEnd=Toe});var D8=x(N8=>{"use strict";var Coe=Dt(),koe=Js(),A8=sl(),Roe=ol(),xoe=cu(),O8=If(),Aoe=g0(),Ooe=ek(),tk="Block collections are not allowed within flow collections",rk=r=>r&&(r.type==="block-map"||r.type==="block-seq");function Noe({composeNode:r,composeEmptyNode:t},i,n,s){var o;let l=n.start.source==="{",h=l?"flow map":"flow sequence",p=l?new A8.YAMLMap(i.schema):new Roe.YAMLSeq(i.schema);p.flow=!0;let g=i.atRoot;g&&(i.atRoot=!1);let m=n.offset+n.start.source.length;for(let _=0;_<n.items.length;++_){let R=n.items[_],{start:D,key:I,sep:M,value:L}=R,V=O8.resolveProps(D,{flow:h,indicator:"explicit-key-ind",next:I??M?.[0],offset:m,onError:s,startOnNewline:!1});if(!V.found){if(!V.anchor&&!V.tag&&!M&&!L){_===0&&V.comma?s(V.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${h}`):_<n.items.length-1&&s(V.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${h}`),V.comment&&(p.comment?p.comment+=`
`+V.comment:p.comment=V.comment),m=V.end;continue}!l&&i.options.strict&&Aoe.containsNewline(I)&&s(I,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(_===0)V.comma&&s(V.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${h}`);else if(V.comma||s(V.start,"MISSING_CHAR",`Missing , between ${h} items`),V.comment){let K="";e:for(let Q of D)switch(Q.type){case"comma":case"space":break;case"comment":K=Q.source.substring(1);break e;default:break e}if(K){let Q=p.items[p.items.length-1];Coe.isPair(Q)&&(Q=(o=Q.value)!==null&&o!==void 0?o:Q.key),Q.comment?Q.comment+=`
`+K:Q.comment=K,V.comment=V.comment.substring(K.length+1)}}if(!l&&!M&&!V.found){let K=L?r(i,L,V,s):t(i,V.end,M,null,V,s);p.items.push(K),m=K.range[2],rk(L)&&s(K.range,"BLOCK_IN_FLOW",tk)}else{let K=V.end,Q=I?r(i,I,V,s):t(i,K,D,null,V,s);rk(I)&&s(Q.range,"BLOCK_IN_FLOW",tk);let le=O8.resolveProps(M??[],{flow:h,indicator:"map-value-ind",next:L,offset:Q.range[2],onError:s,startOnNewline:!1});if(le.found){if(!l&&!V.found&&i.options.strict){if(M)for(let N of M){if(N===le.found)break;if(N.type==="newline"){s(N,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}V.start<le.found.offset-1024&&s(le.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else L&&("source"in L&&L.source&&L.source[0]===":"?s(L,"MISSING_CHAR",`Missing space after : in ${h}`):s(le.start,"MISSING_CHAR",`Missing , or : between ${h} items`));let ge=L?r(i,L,le,s):le.found?t(i,le.end,M,null,le,s):null;ge?rk(L)&&s(ge.range,"BLOCK_IN_FLOW",tk):le.comment&&(Q.comment?Q.comment+=`
`+le.comment:Q.comment=le.comment);let j=new koe.Pair(Q,ge);if(i.options.keepSourceTokens&&(j.srcToken=R),l){let N=p;Ooe.mapIncludes(i,N.items,Q)&&s(K,"DUPLICATE_KEY","Map keys must be unique"),N.items.push(j)}else{let N=new A8.YAMLMap(i.schema);N.flow=!0,N.items.push(j),p.items.push(N)}m=ge?ge.range[2]:le.end}}let y=l?"}":"]",[S,...w]=n.end,C=m;if(S&&S.source===y)C=S.offset+S.source.length;else{let _=h[0].toUpperCase()+h.substring(1),R=g?`${_} must end with a ${y}`:`${_} in block collection must be sufficiently indented and end with a ${y}`;s(m,g?"MISSING_CHAR":"BAD_INDENT",R),S&&S.source.length!==1&&w.unshift(S)}if(w.length>0){let _=xoe.resolveEnd(w,C,i.options.strict,s);_.comment&&(p.comment?p.comment+=`
`+_.comment:p.comment=_.comment),p.range=[n.offset,C,_.offset]}else p.range=[n.offset,C,C];return p}N8.resolveFlowCollection=Noe});var L8=x(I8=>{"use strict";var P8=Dt(),Doe=hr(),Poe=C8(),Ioe=R8(),Loe=D8();function Moe(r,t,i,n,s){let o;switch(i.type){case"block-map":{o=Poe.resolveBlockMap(r,t,i,s);break}case"block-seq":{o=Ioe.resolveBlockSeq(r,t,i,s);break}case"flow-collection":{o=Loe.resolveFlowCollection(r,t,i,s);break}}if(!n)return o;let l=t.directives.tagName(n.source,S=>s(n,"TAG_RESOLVE_FAILED",S));if(!l)return o;let h=o.constructor;if(l==="!"||l===h.tagName)return o.tag=h.tagName,o;let p=P8.isMap(o)?"map":"seq",g=t.schema.tags.find(S=>S.collection===p&&S.tag===l);if(!g){let S=t.schema.knownTags[l];if(S&&S.collection===p)t.schema.tags.push(Object.assign({},S,{default:!1})),g=S;else return s(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${l}`,!0),o.tag=l,o}let m=g.resolve(o,S=>s(n,"TAG_RESOLVE_FAILED",S),t.options),y=P8.isNode(m)?m:new Doe.Scalar(m);return y.range=o.range,y.tag=l,g?.format&&(y.format=g.format),y}I8.composeCollection=Moe});var nk=x(M8=>{"use strict";var ik=hr();function Foe(r,t,i){let n=r.offset,s=joe(r,t,i);if(!s)return{value:"",type:null,comment:"",range:[n,n,n]};let o=s.mode===">"?ik.Scalar.BLOCK_FOLDED:ik.Scalar.BLOCK_LITERAL,l=r.source?Boe(r.source):[],h=l.length;for(let _=l.length-1;_>=0;--_){let R=l[_][1];if(R===""||R==="\r")h=_;else break}if(h===0){let _=s.chomp==="+"&&l.length>0?`
`.repeat(Math.max(1,l.length-1)):"",R=n+s.length;return r.source&&(R+=r.source.length),{value:_,type:o,comment:s.comment,range:[n,R,R]}}let p=r.indent+s.indent,g=r.offset+s.length,m=0;for(let _=0;_<h;++_){let[R,D]=l[_];if(D===""||D==="\r")s.indent===0&&R.length>p&&(p=R.length);else{if(R.length<p){let I="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";i(g+R.length,"MISSING_CHAR",I)}s.indent===0&&(p=R.length),m=_;break}g+=R.length+D.length+1}for(let _=l.length-1;_>=h;--_)l[_][0].length>p&&(h=_+1);let y="",S="",w=!1;for(let _=0;_<m;++_)y+=l[_][0].slice(p)+`
`;for(let _=m;_<h;++_){let[R,D]=l[_];g+=R.length+D.length+1;let I=D[D.length-1]==="\r";if(I&&(D=D.slice(0,-1)),D&&R.length<p){let L=`Block scalar lines must not be less indented than their ${s.indent?"explicit indentation indicator":"first line"}`;i(g-D.length-(I?2:1),"BAD_INDENT",L),R=""}o===ik.Scalar.BLOCK_LITERAL?(y+=S+R.slice(p)+D,S=`
`):R.length>p||D[0]==="	"?(S===" "?S=`
`:!w&&S===`
`&&(S=`

`),y+=S+R.slice(p)+D,S=`
`,w=!0):D===""?S===`
`?y+=`
`:S=`
`:(y+=S+D,S=" ",w=!1)}switch(s.chomp){case"-":break;case"+":for(let _=h;_<l.length;++_)y+=`
`+l[_][0].slice(p);y[y.length-1]!==`
`&&(y+=`
`);break;default:y+=`
`}let C=n+s.length+r.source.length;return{value:y,type:o,comment:s.comment,range:[n,C,C]}}function joe({offset:r,props:t},i,n){if(t[0].type!=="block-scalar-header")return n(t[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:s}=t[0],o=s[0],l=0,h="",p=-1;for(let S=1;S<s.length;++S){let w=s[S];if(!h&&(w==="-"||w==="+"))h=w;else{let C=Number(w);!l&&C?l=C:p===-1&&(p=r+S)}}p!==-1&&n(p,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${s}`);let g=!1,m="",y=s.length;for(let S=1;S<t.length;++S){let w=t[S];switch(w.type){case"space":g=!0;case"newline":y+=w.source.length;break;case"comment":i&&!g&&n(w,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),y+=w.source.length,m=w.source.substring(1);break;case"error":n(w,"UNEXPECTED_TOKEN",w.message),y+=w.source.length;break;default:{let C=`Unexpected token in block scalar header: ${w.type}`;n(w,"UNEXPECTED_TOKEN",C);let _=w.source;_&&typeof _=="string"&&(y+=_.length)}}}return{mode:o,indent:l,chomp:h,comment:m,length:y}}function Boe(r){let t=r.split(/\n( *)/),i=t[0],n=i.match(/^( *)/),o=[n?.[1]?[n[1],i.slice(n[1].length)]:["",i]];for(let l=1;l<t.length;l+=2)o.push([t[l],t[l+1]]);return o}M8.resolveBlockScalar=Foe});var ok=x(j8=>{"use strict";var sk=hr(),Uoe=cu();function qoe(r,t,i){let{offset:n,type:s,source:o,end:l}=r,h,p,g=(S,w,C)=>i(n+S,w,C);switch(s){case"scalar":h=sk.Scalar.PLAIN,p=Woe(o,g);break;case"single-quoted-scalar":h=sk.Scalar.QUOTE_SINGLE,p=zoe(o,g);break;case"double-quoted-scalar":h=sk.Scalar.QUOTE_DOUBLE,p=Hoe(o,g);break;default:return i(r,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${s}`),{value:"",type:null,comment:"",range:[n,n+o.length,n+o.length]}}let m=n+o.length,y=Uoe.resolveEnd(l,m,t,i);return{value:p,type:h,comment:y.comment,range:[n,m,y.offset]}}function Woe(r,t){let i="";switch(r[0]){case"	":i="a tab character";break;case",":i="flow indicator character ,";break;case"%":i="directive indicator character %";break;case"|":case">":{i=`block scalar indicator ${r[0]}`;break}case"@":case"`":{i=`reserved character ${r[0]}`;break}}return i&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${i}`),F8(r)}function zoe(r,t){return(r[r.length-1]!=="'"||r.length===1)&&t(r.length,"MISSING_CHAR","Missing closing 'quote"),F8(r.slice(1,-1)).replace(/''/g,"'")}function F8(r){var t;let i,n;try{i=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{i=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let s=i.exec(r);if(!s)return r;let o=s[1],l=" ",h=i.lastIndex;for(n.lastIndex=h;s=n.exec(r);)s[1]===""?l===`
`?o+=l:l=`
`:(o+=l+s[1],l=" "),h=n.lastIndex;let p=/[ \t]*(.*)/sy;return p.lastIndex=h,s=p.exec(r),o+l+((t=s?.[1])!==null&&t!==void 0?t:"")}function Hoe(r,t){let i="";for(let n=1;n<r.length-1;++n){let s=r[n];if(!(s==="\r"&&r[n+1]===`
`))if(s===`
`){let{fold:o,offset:l}=Voe(r,n);i+=o,n=l}else if(s==="\\"){let o=r[++n],l=$oe[o];if(l)i+=l;else if(o===`
`)for(o=r[n+1];o===" "||o==="	";)o=r[++n+1];else if(o==="\r"&&r[n+1]===`
`)for(o=r[++n+1];o===" "||o==="	";)o=r[++n+1];else if(o==="x"||o==="u"||o==="U"){let h={x:2,u:4,U:8}[o];i+=Goe(r,n+1,h,t),n+=h}else{let h=r.substr(n-1,2);t(n-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${h}`),i+=h}}else if(s===" "||s==="	"){let o=n,l=r[n+1];for(;l===" "||l==="	";)l=r[++n+1];l!==`
`&&!(l==="\r"&&r[n+2]===`
`)&&(i+=n>o?r.slice(o,n+1):s)}else i+=s}return(r[r.length-1]!=='"'||r.length===1)&&t(r.length,"MISSING_CHAR",'Missing closing "quote'),i}function Voe(r,t){let i="",n=r[t+1];for(;(n===" "||n==="	"||n===`
`||n==="\r")&&!(n==="\r"&&r[t+2]!==`
`);)n===`
`&&(i+=`
`),t+=1,n=r[t+1];return i||(i=" "),{fold:i,offset:t}}var $oe={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function Goe(r,t,i,n){let s=r.substr(t,i),l=s.length===i&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;if(isNaN(l)){let h=r.substr(t-2,i+2);return n(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${h}`),h}return String.fromCodePoint(l)}j8.resolveFlowScalar=qoe});var q8=x(U8=>{"use strict";var uu=Dt(),B8=hr(),Yoe=nk(),Koe=ok();function Xoe(r,t,i,n){let{value:s,type:o,comment:l,range:h}=t.type==="block-scalar"?Yoe.resolveBlockScalar(t,r.options.strict,n):Koe.resolveFlowScalar(t,r.options.strict,n),p=i?r.directives.tagName(i.source,y=>n(i,"TAG_RESOLVE_FAILED",y)):null,g=i&&p?Joe(r.schema,s,p,i,n):t.type==="scalar"?Zoe(r,s,t,n):r.schema[uu.SCALAR],m;try{let y=g.resolve(s,S=>n(i??t,"TAG_RESOLVE_FAILED",S),r.options);m=uu.isScalar(y)?y:new B8.Scalar(y)}catch(y){let S=y instanceof Error?y.message:String(y);n(i??t,"TAG_RESOLVE_FAILED",S),m=new B8.Scalar(s)}return m.range=h,m.source=s,o&&(m.type=o),p&&(m.tag=p),g.format&&(m.format=g.format),l&&(m.comment=l),m}function Joe(r,t,i,n,s){var o;if(i==="!")return r[uu.SCALAR];let l=[];for(let p of r.tags)if(!p.collection&&p.tag===i)if(p.default&&p.test)l.push(p);else return p;for(let p of l)if(!((o=p.test)===null||o===void 0)&&o.test(t))return p;let h=r.knownTags[i];return h&&!h.collection?(r.tags.push(Object.assign({},h,{default:!1,test:void 0})),h):(s(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${i}`,i!=="tag:yaml.org,2002:str"),r[uu.SCALAR])}function Zoe({directives:r,schema:t},i,n,s){var o;let l=t.tags.find(h=>{var p;return h.default&&((p=h.test)===null||p===void 0?void 0:p.test(i))})||t[uu.SCALAR];if(t.compat){let h=(o=t.compat.find(p=>{var g;return p.default&&((g=p.test)===null||g===void 0?void 0:g.test(i))}))!==null&&o!==void 0?o:t[uu.SCALAR];if(l.tag!==h.tag){let p=r.tagString(l.tag),g=r.tagString(h.tag),m=`Value may be parsed as either ${p} or ${g}`;s(n,"TAG_RESOLVE_FAILED",m,!0)}}return l}U8.composeScalar=Xoe});var z8=x(W8=>{"use strict";function Qoe(r,t,i){if(t){i===null&&(i=t.length);for(let n=i-1;n>=0;--n){let s=t[n];switch(s.type){case"space":case"comment":case"newline":r-=s.source.length;continue}for(s=t[++n];s?.type==="space";)r+=s.source.length,s=t[++n];break}}return r}W8.emptyScalarPosition=Qoe});var $8=x(lk=>{"use strict";var eae=hf(),tae=L8(),H8=q8(),rae=cu(),iae=z8(),nae={composeNode:V8,composeEmptyNode:ak};function V8(r,t,i,n){let{spaceBefore:s,comment:o,anchor:l,tag:h}=i,p,g=!0;switch(t.type){case"alias":p=sae(r,t,n),(l||h)&&n(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":p=H8.composeScalar(r,t,h,n),l&&(p.anchor=l.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":p=tae.composeCollection(nae,r,t,h,n),l&&(p.anchor=l.source.substring(1));break;default:{let m=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;n(t,"UNEXPECTED_TOKEN",m),p=ak(r,t.offset,void 0,null,i,n),g=!1}}return l&&p.anchor===""&&n(l,"BAD_ALIAS","Anchor cannot be an empty string"),s&&(p.spaceBefore=!0),o&&(t.type==="scalar"&&t.source===""?p.comment=o:p.commentBefore=o),r.options.keepSourceTokens&&g&&(p.srcToken=t),p}function ak(r,t,i,n,{spaceBefore:s,comment:o,anchor:l,tag:h},p){let g={type:"scalar",offset:iae.emptyScalarPosition(t,i,n),indent:-1,source:""},m=H8.composeScalar(r,g,h,p);return l&&(m.anchor=l.source.substring(1),m.anchor===""&&p(l,"BAD_ALIAS","Anchor cannot be an empty string")),s&&(m.spaceBefore=!0),o&&(m.comment=o),m}function sae({options:r},{offset:t,source:i,end:n},s){let o=new eae.Alias(i.substring(1));o.source===""&&s(t,"BAD_ALIAS","Alias cannot be an empty string"),o.source.endsWith(":")&&s(t+i.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);let l=t+i.length,h=rae.resolveEnd(n,l,r.strict,s);return o.range=[t,l,h.offset],h.comment&&(o.comment=h.comment),o}lk.composeEmptyNode=ak;lk.composeNode=V8});var K8=x(Y8=>{"use strict";var oae=Of(),G8=$8(),aae=cu(),lae=If();function cae(r,t,{offset:i,start:n,value:s,end:o},l){let h=Object.assign({directives:t},r),p=new oae.Document(void 0,h),g={atRoot:!0,directives:p.directives,options:p.options,schema:p.schema},m=lae.resolveProps(n,{indicator:"doc-start",next:s??o?.[0],offset:i,onError:l,startOnNewline:!0});m.found&&(p.directives.docStart=!0,s&&(s.type==="block-map"||s.type==="block-seq")&&!m.hasNewline&&l(m.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),p.contents=s?G8.composeNode(g,s,m,l):G8.composeEmptyNode(g,m.end,n,null,m,l);let y=p.contents.range[2],S=aae.resolveEnd(o,y,!1,l);return S.comment&&(p.comment=S.comment),p.range=[i,y,S.offset],p}Y8.composeDoc=cae});var uk=x(Z8=>{"use strict";var uae=QT(),dae=Of(),Lf=Pf(),X8=Dt(),fae=K8(),hae=cu();function Mf(r){if(typeof r=="number")return[r,r+1];if(Array.isArray(r))return r.length===2?r:[r[0],r[1]];let{offset:t,source:i}=r;return[t,t+(typeof i=="string"?i.length:1)]}function J8(r){var t;let i="",n=!1,s=!1;for(let o=0;o<r.length;++o){let l=r[o];switch(l[0]){case"#":i+=(i===""?"":s?`

`:`
`)+(l.substring(1)||" "),n=!0,s=!1;break;case"%":((t=r[o+1])===null||t===void 0?void 0:t[0])!=="#"&&(o+=1),n=!1;break;default:n||(s=!0),n=!1}}return{comment:i,afterEmptyLine:s}}var ck=class{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(i,n,s,o)=>{let l=Mf(i);o?this.warnings.push(new Lf.YAMLWarning(l,n,s)):this.errors.push(new Lf.YAMLParseError(l,n,s))},this.directives=new uae.Directives({version:t.version||"1.2"}),this.options=t}decorate(t,i){let{comment:n,afterEmptyLine:s}=J8(this.prelude);if(n){let o=t.contents;if(i)t.comment=t.comment?`${t.comment}
${n}`:n;else if(s||t.directives.docStart||!o)t.commentBefore=n;else if(X8.isCollection(o)&&!o.flow&&o.items.length>0){let l=o.items[0];X8.isPair(l)&&(l=l.key);let h=l.commentBefore;l.commentBefore=h?`${n}
${h}`:n}else{let l=o.commentBefore;o.commentBefore=l?`${n}
${l}`:n}}i?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:J8(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,i=!1,n=-1){for(let s of t)yield*this.next(s);yield*this.end(i,n)}*next(t){switch(process.env.LOG_STREAM&&console.dir(t,{depth:null}),t.type){case"directive":this.directives.add(t.source,(i,n,s)=>{let o=Mf(t);o[0]+=i,this.onError(o,"BAD_DIRECTIVE",n,s)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{let i=fae.composeDoc(this.options,this.directives,t,this.onError);this.atDirectives&&!i.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(i,!1),this.doc&&(yield this.doc),this.doc=i,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{let i=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,n=new Lf.YAMLParseError(Mf(t),"UNEXPECTED_TOKEN",i);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){let n="Unexpected doc-end without preceding document";this.errors.push(new Lf.YAMLParseError(Mf(t),"UNEXPECTED_TOKEN",n));break}this.doc.directives.docEnd=!0;let i=hae.resolveEnd(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),i.comment){let n=this.doc.comment;this.doc.comment=n?`${n}
${i.comment}`:i.comment}this.doc.range[2]=i.offset;break}default:this.errors.push(new Lf.YAMLParseError(Mf(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,i=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){let n=Object.assign({directives:this.directives},this.options),s=new dae.Document(void 0,n);this.atDirectives&&this.onError(i,"MISSING_CHAR","Missing directives-end indicator line"),s.range=[0,i,i],this.decorate(s,!1),yield s}}};Z8.Composer=ck});var tj=x(m0=>{"use strict";var pae=nk(),gae=ok(),mae=Pf(),Q8=Sf();function yae(r,t=!0,i){if(r){let n=(s,o,l)=>{let h=typeof s=="number"?s:Array.isArray(s)?s[0]:s.offset;if(i)i(h,o,l);else throw new mae.YAMLParseError([h,h+1],o,l)};switch(r.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return gae.resolveFlowScalar(r,t,n);case"block-scalar":return pae.resolveBlockScalar(r,t,n)}}return null}function vae(r,t){var i;let{implicitKey:n=!1,indent:s,inFlow:o=!1,offset:l=-1,type:h="PLAIN"}=t,p=Q8.stringifyString({type:h,value:r},{implicitKey:n,indent:s>0?" ".repeat(s):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}}),g=(i=t.end)!==null&&i!==void 0?i:[{type:"newline",offset:-1,indent:s,source:`
`}];switch(p[0]){case"|":case">":{let m=p.indexOf(`
`),y=p.substring(0,m),S=p.substring(m+1)+`
`,w=[{type:"block-scalar-header",offset:l,indent:s,source:y}];return ej(w,g)||w.push({type:"newline",offset:-1,indent:s,source:`
`}),{type:"block-scalar",offset:l,indent:s,props:w,source:S}}case'"':return{type:"double-quoted-scalar",offset:l,indent:s,source:p,end:g};case"'":return{type:"single-quoted-scalar",offset:l,indent:s,source:p,end:g};default:return{type:"scalar",offset:l,indent:s,source:p,end:g}}}function bae(r,t,i={}){let{afterKey:n=!1,implicitKey:s=!1,inFlow:o=!1,type:l}=i,h="indent"in r?r.indent:null;if(n&&typeof h=="number"&&(h+=2),!l)switch(r.type){case"single-quoted-scalar":l="QUOTE_SINGLE";break;case"double-quoted-scalar":l="QUOTE_DOUBLE";break;case"block-scalar":{let g=r.props[0];if(g.type!=="block-scalar-header")throw new Error("Invalid block scalar header");l=g.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:l="PLAIN"}let p=Q8.stringifyString({type:l,value:t},{implicitKey:s||h===null,indent:h!==null&&h>0?" ".repeat(h):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}});switch(p[0]){case"|":case">":Sae(r,p);break;case'"':dk(r,p,"double-quoted-scalar");break;case"'":dk(r,p,"single-quoted-scalar");break;default:dk(r,p,"scalar")}}function Sae(r,t){let i=t.indexOf(`
`),n=t.substring(0,i),s=t.substring(i+1)+`
`;if(r.type==="block-scalar"){let o=r.props[0];if(o.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o.source=n,r.source=s}else{let{offset:o}=r,l="indent"in r?r.indent:-1,h=[{type:"block-scalar-header",offset:o,indent:l,source:n}];ej(h,"end"in r?r.end:void 0)||h.push({type:"newline",offset:-1,indent:l,source:`
`});for(let p of Object.keys(r))p!=="type"&&p!=="offset"&&delete r[p];Object.assign(r,{type:"block-scalar",indent:l,props:h,source:s})}}function ej(r,t){if(t)for(let i of t)switch(i.type){case"space":case"comment":r.push(i);break;case"newline":return r.push(i),!0}return!1}function dk(r,t,i){switch(r.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":r.type=i,r.source=t;break;case"block-scalar":{let n=r.props.slice(1),s=t.length;r.props[0].type==="block-scalar-header"&&(s-=r.props[0].source.length);for(let o of n)o.offset+=s;delete r.props,Object.assign(r,{type:i,source:t,end:n});break}case"block-map":case"block-seq":{let s={type:"newline",offset:r.offset+t.length,indent:r.indent,source:`
`};delete r.items,Object.assign(r,{type:i,source:t,end:[s]});break}default:{let n="indent"in r?r.indent:-1,s="end"in r&&Array.isArray(r.end)?r.end.filter(o=>o.type==="space"||o.type==="comment"||o.type==="newline"):[];for(let o of Object.keys(r))o!=="type"&&o!=="offset"&&delete r[o];Object.assign(r,{type:i,indent:n,source:t,end:s})}}}m0.createScalarToken=vae;m0.resolveAsScalar=yae;m0.setScalarValue=bae});var ij=x(rj=>{"use strict";var wae=r=>"type"in r?v0(r):y0(r);function v0(r){switch(r.type){case"block-scalar":{let t="";for(let i of r.props)t+=v0(i);return t+r.source}case"block-map":case"block-seq":{let t="";for(let i of r.items)t+=y0(i);return t}case"flow-collection":{let t=r.start.source;for(let i of r.items)t+=y0(i);for(let i of r.end)t+=i.source;return t}case"document":{let t=y0(r);if(r.end)for(let i of r.end)t+=i.source;return t}default:{let t=r.source;if("end"in r&&r.end)for(let i of r.end)t+=i.source;return t}}}function y0({start:r,key:t,sep:i,value:n}){let s="";for(let o of r)s+=o.source;if(t&&(s+=v0(t)),i)for(let o of i)s+=o.source;return n&&(s+=v0(n)),s}rj.stringify=wae});var aj=x(oj=>{"use strict";var fk=Symbol("break visit"),_ae=Symbol("skip children"),nj=Symbol("remove item");function cl(r,t){"type"in r&&r.type==="document"&&(r={start:r.start,value:r.value}),sj(Object.freeze([]),r,t)}cl.BREAK=fk;cl.SKIP=_ae;cl.REMOVE=nj;cl.itemAtPath=(r,t)=>{let i=r;for(let[n,s]of t){let o=i?.[n];if(o&&"items"in o)i=o.items[s];else return}return i};cl.parentCollection=(r,t)=>{let i=cl.itemAtPath(r,t.slice(0,-1)),n=t[t.length-1][0],s=i?.[n];if(s&&"items"in s)return s;throw new Error("Parent collection not found")};function sj(r,t,i){let n=i(t,r);if(typeof n=="symbol")return n;for(let s of["key","value"]){let o=t[s];if(o&&"items"in o){for(let l=0;l<o.items.length;++l){let h=sj(Object.freeze(r.concat([[s,l]])),o.items[l],i);if(typeof h=="number")l=h-1;else{if(h===fk)return fk;h===nj&&(o.items.splice(l,1),l-=1)}}typeof n=="function"&&s==="key"&&(n=n(t,r))}}return typeof n=="function"?n(t,r):n}oj.visit=cl});var b0=x(_i=>{"use strict";var hk=tj(),Eae=ij(),Tae=aj(),pk="\uFEFF",gk="",mk="",yk="",Cae=r=>!!r&&"items"in r,kae=r=>!!r&&(r.type==="scalar"||r.type==="single-quoted-scalar"||r.type==="double-quoted-scalar"||r.type==="block-scalar");function Rae(r){switch(r){case pk:return"<BOM>";case gk:return"<DOC>";case mk:return"<FLOW_END>";case yk:return"<SCALAR>";default:return JSON.stringify(r)}}function xae(r){switch(r){case pk:return"byte-order-mark";case gk:return"doc-mode";case mk:return"flow-error-end";case yk:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(r[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}_i.createScalarToken=hk.createScalarToken;_i.resolveAsScalar=hk.resolveAsScalar;_i.setScalarValue=hk.setScalarValue;_i.stringify=Eae.stringify;_i.visit=Tae.visit;_i.BOM=pk;_i.DOCUMENT=gk;_i.FLOW_END=mk;_i.SCALAR=yk;_i.isCollection=Cae;_i.isScalar=kae;_i.prettyToken=Rae;_i.tokenType=xae});var wk=x(cj=>{"use strict";var Ff=b0();function ln(r){switch(r){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}var lj="0123456789ABCDEFabcdef".split(""),Aae="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),vk=",[]{}".split(""),Oae=` ,[]{}
\r	`.split(""),bk=r=>!r||Oae.includes(r),Sk=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,i=!1){var n;t&&(this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null),this.atEnd=!i;let s=(n=this.next)!==null&&n!==void 0?n:"stream";for(;s&&(i||this.hasChars(1));)s=yield*this.parseNext(s)}atLineEnd(){let t=this.pos,i=this.buffer[t];for(;i===" "||i==="	";)i=this.buffer[++t];return!i||i==="#"||i===`
`?!0:i==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let i=this.buffer[t];if(this.indentNext>0){let n=0;for(;i===" ";)i=this.buffer[++n+t];if(i==="\r"){let s=this.buffer[n+t+1];if(s===`
`||!s&&!this.atEnd)return t+n+1}return i===`
`||n>=this.indentNext||!i&&!this.atEnd?t+n:-1}if(i==="-"||i==="."){let n=this.buffer.substr(t,3);if((n==="---"||n==="...")&&ln(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===Ff.BOM&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let i=t.length,n=t.indexOf("#");if(n!==-1){let o=t[n-1];(o===" "||o==="	")&&(i=n-1)}for(;;){let o=t[i-1];if(o===" "||o==="	")i-=1;else break}let s=(yield*this.pushCount(i))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-s),this.pushNewline(),"stream"}if(this.atLineEnd()){let i=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-i),yield*this.pushNewline(),"stream"}return yield Ff.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){let t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let i=this.peek(3);if(i==="---"&&ln(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(i==="..."&&ln(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!ln(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){let[t,i]=this.peek(2);if(!i&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&ln(i)){let n=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=n,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);let t=this.getLine();if(t===null)return this.setNext("doc");let i=yield*this.pushIndicators();switch(t[i]){case"#":yield*this.pushCount(t.length-i);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(bk),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return i+=yield*this.parseBlockScalarHeader(),i+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-i),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,i,n=-1;do t=yield*this.pushNewline(),t>0?(i=yield*this.pushSpaces(!1),this.indentValue=n=i):i=0,i+=yield*this.pushSpaces(!0);while(t+i>0);let s=this.getLine();if(s===null)return this.setNext("flow");if((n!==-1&&n<this.indentNext&&s[0]!=="#"||n===0&&(s.startsWith("---")||s.startsWith("..."))&&ln(s[3]))&&!(n===this.indentNext-1&&this.flowLevel===1&&(s[0]==="]"||s[0]==="}")))return this.flowLevel=0,yield Ff.FLOW_END,yield*this.parseLineStart();let o=0;for(;s[o]===",";)o+=yield*this.pushCount(1),o+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(o+=yield*this.pushIndicators(),s[o]){case void 0:return"flow";case"#":return yield*this.pushCount(s.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(bk),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let l=this.charAt(1);if(this.flowKey||ln(l)||l===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let t=this.charAt(0),i=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;i!==-1&&this.buffer[i+1]==="'";)i=this.buffer.indexOf("'",i+2);else for(;i!==-1;){let o=0;for(;this.buffer[i-1-o]==="\\";)o+=1;if(o%2===0)break;i=this.buffer.indexOf('"',i+1)}let n=this.buffer.substring(0,i),s=n.indexOf(`
`,this.pos);if(s!==-1){for(;s!==-1;){let o=this.continueScalar(s+1);if(o===-1)break;s=n.indexOf(`
`,o)}s!==-1&&(i=s-(n[s-1]==="\r"?2:1))}if(i===-1){if(!this.atEnd)return this.setNext("quoted-scalar");i=this.buffer.length}return yield*this.pushToIndex(i+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){let i=this.buffer[++t];if(i==="+")this.blockScalarKeep=!0;else if(i>"0"&&i<="9")this.blockScalarIndent=Number(i)-1;else if(i!=="-")break}return yield*this.pushUntil(i=>ln(i)||i==="#")}*parseBlockScalar(){let t=this.pos-1,i=0,n;e:for(let s=this.pos;n=this.buffer[s];++s)switch(n){case" ":i+=1;break;case`
`:t=s,i=0;break;case"\r":{let o=this.buffer[s+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!n&&!this.atEnd)return this.setNext("block-scalar");if(i>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=i:this.indentNext+=this.blockScalarIndent;do{let s=this.continueScalar(t+1);if(s===-1)break;t=this.buffer.indexOf(`
`,s)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}if(!this.blockScalarKeep)do{let s=t-1,o=this.buffer[s];o==="\r"&&(o=this.buffer[--s]);let l=s;for(;o===" "||o==="	";)o=this.buffer[--s];if(o===`
`&&s>=this.pos&&s+1+i>l)t=s;else break}while(!0);return yield Ff.SCALAR,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let t=this.flowLevel>0,i=this.pos-1,n=this.pos-1,s;for(;s=this.buffer[++n];)if(s===":"){let o=this.buffer[n+1];if(ln(o)||t&&o===",")break;i=n}else if(ln(s)){let o=this.buffer[n+1];if(s==="\r"&&(o===`
`?(n+=1,s=`
`,o=this.buffer[n+1]):i=n),o==="#"||t&&vk.includes(o))break;if(s===`
`){let l=this.continueScalar(n+1);if(l===-1)break;n=Math.max(n,l-2)}}else{if(t&&vk.includes(s))break;i=n}return!s&&!this.atEnd?this.setNext("plain-scalar"):(yield Ff.SCALAR,yield*this.pushToIndex(i+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,i){let n=this.buffer.slice(this.pos,t);return n?(yield n,this.pos+=n.length,n.length):(i&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(bk))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{let t=this.flowLevel>0,i=this.charAt(1);if(ln(i)||t&&vk.includes(i))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,i=this.buffer[t];for(;!ln(i)&&i!==">";)i=this.buffer[++t];return yield*this.pushToIndex(i===">"?t+1:t,!1)}else{let t=this.pos+1,i=this.buffer[t];for(;i;)if(Aae.includes(i))i=this.buffer[++t];else if(i==="%"&&lj.includes(this.buffer[t+1])&&lj.includes(this.buffer[t+2]))i=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){let t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let i=this.pos-1,n;do n=this.buffer[++i];while(n===" "||t&&n==="	");let s=i-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=i),s}*pushUntil(t){let i=this.pos,n=this.buffer[i];for(;!t(n);)n=this.buffer[++i];return yield*this.pushToIndex(i,!1)}};cj.Lexer=Sk});var Ek=x(uj=>{"use strict";var _k=class{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let i=0,n=this.lineStarts.length;for(;i<n;){let o=i+n>>1;this.lineStarts[o]<t?i=o+1:n=o}if(this.lineStarts[i]===t)return{line:i+1,col:1};if(i===0)return{line:0,col:t};let s=this.lineStarts[i-1];return{line:i,col:t-s+1}}}};uj.LineCounter=_k});var Ck=x(gj=>{"use strict";var dj=b0(),Nae=wk();function An(r,t){for(let i=0;i<r.length;++i)if(r[i].type===t)return!0;return!1}function fj(r){for(let t=0;t<r.length;++t)switch(r[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function pj(r){switch(r?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function S0(r){var t;switch(r.type){case"document":return r.start;case"block-map":{let i=r.items[r.items.length-1];return(t=i.sep)!==null&&t!==void 0?t:i.start}case"block-seq":return r.items[r.items.length-1].start;default:return[]}}function du(r){var t;if(r.length===0)return[];let i=r.length;e:for(;--i>=0;)switch(r[i].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((t=r[++i])===null||t===void 0?void 0:t.type)==="space";);return r.splice(i,r.length)}function hj(r){if(r.start.type==="flow-seq-start")for(let t of r.items)t.sep&&!t.value&&!An(t.start,"explicit-key-ind")&&!An(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,pj(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}var Tk=class{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Nae.Lexer,this.onNewLine=t}*parse(t,i=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(let n of this.lexer.lex(t,i))yield*this.next(n);i||(yield*this.end())}*next(t){if(this.source=t,process.env.LOG_TOKENS&&console.log("|",dj.prettyToken(t)),this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}let i=dj.tokenType(t);if(i)if(i==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=i,yield*this.step(),i){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{let n=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:n,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){let i=t??this.stack.pop();if(i)if(this.stack.length===0)yield i;else{let n=this.peek(1);switch(i.type==="block-scalar"?i.indent="indent"in n?n.indent:0:i.type==="flow-collection"&&n.type==="document"&&(i.indent=0),i.type==="flow-collection"&&hj(i),n.type){case"document":n.value=i;break;case"block-scalar":n.props.push(i);break;case"block-map":{let s=n.items[n.items.length-1];if(s.value){n.items.push({start:[],key:i,sep:[]}),this.onKeyLine=!0;return}else if(s.sep)s.value=i;else{Object.assign(s,{key:i,sep:[]}),this.onKeyLine=!An(s.start,"explicit-key-ind");return}break}case"block-seq":{let s=n.items[n.items.length-1];s.value?n.items.push({start:[],value:i}):s.value=i;break}case"flow-collection":{let s=n.items[n.items.length-1];!s||s.value?n.items.push({start:[],key:i,sep:[]}):s.sep?s.value=i:Object.assign(s,{key:i,sep:[]});return}default:yield*this.pop(),yield*this.pop(i)}if((n.type==="document"||n.type==="block-map"||n.type==="block-seq")&&(i.type==="block-map"||i.type==="block-seq")){let s=i.items[i.items.length-1];s&&!s.sep&&!s.value&&s.start.length>0&&fj(s.start)===-1&&(i.indent===0||s.start.every(o=>o.type!=="comment"||o.indent<i.indent))&&(n.type==="document"?n.end=s.start:n.items.push({start:s.start}),i.items.splice(-1,1))}}else{let n="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:n}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{fj(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}let i=this.startBlockValue(t);i?this.stack.push(i):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){let i=S0(this.peek(2)),n=du(i),s;t.end?(s=t.end,s.push(this.sourceToken),delete t.end):s=[this.sourceToken];let o={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:n,key:t,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let i=this.source.indexOf(`
`)+1;for(;i!==0;)this.onNewLine(this.offset+i),i=this.source.indexOf(`
`,i)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){var i;let n=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){let s="end"in n.value?n.value.end:void 0,o=Array.isArray(s)?s[s.length-1]:void 0;o?.type==="comment"?s?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,t.indent)){let s=t.items[t.items.length-2],o=(i=s?.value)===null||i===void 0?void 0:i.end;if(Array.isArray(o)){Array.prototype.push.apply(o,n.start),o.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=t.indent){let s=!this.onKeyLine&&this.indent===t.indent&&n.sep,o=[];if(s&&n.sep&&!n.value){let l=[];for(let h=0;h<n.sep.length;++h){let p=n.sep[h];switch(p.type){case"newline":l.push(h);break;case"space":break;case"comment":p.indent>t.indent&&(l.length=0);break;default:l.length=0}}l.length>=2&&(o=n.sep.splice(l[1]))}switch(this.type){case"anchor":case"tag":s||n.value?(o.push(this.sourceToken),t.items.push({start:o}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!An(n.start,"explicit-key-ind")?n.start.push(this.sourceToken):s||n.value?(o.push(this.sourceToken),t.items.push({start:o})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(An(n.start,"explicit-key-ind"))if(n.sep)if(n.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(An(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(pj(n.key)&&!An(n.sep,"newline")){let l=du(n.start),h=n.key,p=n.sep;p.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:l,key:h,sep:p}]})}else o.length>0?n.sep=n.sep.concat(o,this.sourceToken):n.sep.push(this.sourceToken);else if(An(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{let l=du(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:l,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||s?t.items.push({start:o,key:null,sep:[this.sourceToken]}):An(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let l=this.flowScalar(this.type);s||n.value?(t.items.push({start:o,key:l,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(l):(Object.assign(n,{key:l,sep:[]}),this.onKeyLine=!0);return}default:{let l=this.startBlockValue(t);if(l){s&&l.type!=="block-seq"&&An(n.start,"explicit-key-ind")&&t.items.push({start:o}),this.stack.push(l);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){var i;let n=t.items[t.items.length-1];switch(this.type){case"newline":if(n.value){let s="end"in n.value?n.value.end:void 0,o=Array.isArray(s)?s[s.length-1]:void 0;o?.type==="comment"?s?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,t.indent)){let s=t.items[t.items.length-2],o=(i=s?.value)===null||i===void 0?void 0:i.end;if(Array.isArray(o)){Array.prototype.push.apply(o,n.start),o.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=t.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;n.value||An(n.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>t.indent){let s=this.startBlockValue(t);if(s){this.stack.push(s);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){let i=t.items[t.items.length-1];if(this.type==="flow-error-end"){let n;do yield*this.pop(),n=this.peek(1);while(n&&n.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!i||i.sep?t.items.push({start:[this.sourceToken]}):i.start.push(this.sourceToken);return;case"map-value-ind":!i||i.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):i.sep?i.sep.push(this.sourceToken):Object.assign(i,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!i||i.value?t.items.push({start:[this.sourceToken]}):i.sep?i.sep.push(this.sourceToken):i.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let s=this.flowScalar(this.type);!i||i.value?t.items.push({start:[],key:s,sep:[]}):i.sep?this.stack.push(s):Object.assign(i,{key:s,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}let n=this.startBlockValue(t);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{let n=this.peek(2);if(n.type==="block-map"&&(this.type==="map-value-ind"&&n.indent===t.indent||this.type==="newline"&&!n.items[n.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&n.type!=="flow-collection"){let s=S0(n),o=du(s);hj(t);let l=t.end.splice(1,t.end.length);l.push(this.sourceToken);let h={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:o,key:t,sep:l}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=h}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let i=this.source.indexOf(`
`)+1;for(;i!==0;)this.onNewLine(this.offset+i),i=this.source.indexOf(`
`,i)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let i=S0(t),n=du(i);return n.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n}]}}case"map-value-ind":{this.onKeyLine=!0;let i=S0(t),n=du(i);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,i){return this.type!=="comment"||this.indent<=i?!1:t.every(n=>n.type==="newline"||n.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}};gj.Parser=Tk});var Sj=x(Bf=>{"use strict";var mj=uk(),Dae=Of(),jf=Pf(),Pae=lC(),Iae=Ek(),yj=Ck();function vj(r){let t=r.prettyErrors!==!1;return{lineCounter:r.lineCounter||t&&new Iae.LineCounter||null,prettyErrors:t}}function Lae(r,t={}){let{lineCounter:i,prettyErrors:n}=vj(t),s=new yj.Parser(i?.addNewLine),o=new mj.Composer(t),l=Array.from(o.compose(s.parse(r)));if(n&&i)for(let h of l)h.errors.forEach(jf.prettifyError(r,i)),h.warnings.forEach(jf.prettifyError(r,i));return l.length>0?l:Object.assign([],{empty:!0},o.streamInfo())}function bj(r,t={}){let{lineCounter:i,prettyErrors:n}=vj(t),s=new yj.Parser(i?.addNewLine),o=new mj.Composer(t),l=null;for(let h of o.compose(s.parse(r),!0,r.length))if(!l)l=h;else if(l.options.logLevel!=="silent"){l.errors.push(new jf.YAMLParseError(h.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return n&&i&&(l.errors.forEach(jf.prettifyError(r,i)),l.warnings.forEach(jf.prettifyError(r,i))),l}function Mae(r,t,i){let n;typeof t=="function"?n=t:i===void 0&&t&&typeof t=="object"&&(i=t);let s=bj(r,i);if(!s)return null;if(s.warnings.forEach(o=>Pae.warn(s.options.logLevel,o)),s.errors.length>0){if(s.options.logLevel!=="silent")throw s.errors[0];s.errors=[]}return s.toJS(Object.assign({reviver:n},i))}function Fae(r,t,i){var n;let s=null;if(typeof t=="function"||Array.isArray(t)?s=t:i===void 0&&t&&(i=t),typeof i=="string"&&(i=i.length),typeof i=="number"){let o=Math.round(i);i=o<1?void 0:o>8?{indent:8}:{indent:o}}if(r===void 0){let{keepUndefined:o}=(n=i??t)!==null&&n!==void 0?n:{};if(!o)return}return new Dae.Document(r,s,i).toString(i)}Bf.parse=Mae;Bf.parseAllDocuments=Lae;Bf.parseDocument=bj;Bf.stringify=Fae});var _j=x(Pt=>{"use strict";var jae=uk(),Bae=Of(),Uae=VC(),kk=Pf(),qae=hf(),aa=Dt(),Wae=Js(),zae=hr(),Hae=sl(),Vae=ol(),$ae=b0(),Gae=wk(),Yae=Ek(),Kae=Ck(),w0=Sj(),wj=cf();Pt.Composer=jae.Composer;Pt.Document=Bae.Document;Pt.Schema=Uae.Schema;Pt.YAMLError=kk.YAMLError;Pt.YAMLParseError=kk.YAMLParseError;Pt.YAMLWarning=kk.YAMLWarning;Pt.Alias=qae.Alias;Pt.isAlias=aa.isAlias;Pt.isCollection=aa.isCollection;Pt.isDocument=aa.isDocument;Pt.isMap=aa.isMap;Pt.isNode=aa.isNode;Pt.isPair=aa.isPair;Pt.isScalar=aa.isScalar;Pt.isSeq=aa.isSeq;Pt.Pair=Wae.Pair;Pt.Scalar=zae.Scalar;Pt.YAMLMap=Hae.YAMLMap;Pt.YAMLSeq=Vae.YAMLSeq;Pt.CST=$ae;Pt.Lexer=Gae.Lexer;Pt.LineCounter=Yae.LineCounter;Pt.Parser=Kae.Parser;Pt.parse=w0.parse;Pt.parseAllDocuments=w0.parseAllDocuments;Pt.parseDocument=w0.parseDocument;Pt.stringify=w0.stringify;Pt.visit=wj.visit;Pt.visitAsync=wj.visitAsync});var Tj=x(xk=>{var Jae=typeof xk>"u"?{}:xk;(function(r){"use strict";function t(u){var v=Array.prototype.slice,T=u.length,q=function(P,Ce){return function(){return Ce.apply(this,P.concat(v.call(arguments)))}},G=function(){var P=v.call(arguments);return P.length<T?q(P,G):u.apply(this,v.apply(arguments,[0,T]))};return G}var i=function(u,v){for(var T=0;T<v.length;T+=1)u(v[T],T,v)},n=function(u,v,T){var q=v;return i(function(G,P){q=u(q,G,P)},T),q},s=function(u,v){var T=new Array(v.length);return i(function(q,G){T[G]=u(q)},v),T},o=function(u,v){var T=[];return i(function(q,G){u(q,G)&&T.push(q)},v),T},l=function(u,v){for(var T=0;T<u.length;T+=1)if(u[T]===v)return!0;return!1};function h(u){return function(){return u}}function p(u){return u.toString()}var g=function(u,v){return v.join(u)},m=function(u,v,T){return u+T+v},y=Array.prototype.concat,S=32767;function w(u){for(var v=[],T=0;T<u.length;T+=S){var q=u.slice(T,T+S);v=y.apply(v,q)}return v}function C(u,v){for(var T=Object(u),q=1;q<arguments.length;q++){var G=arguments[q];if(G!=null)for(var P in G)Object.prototype.hasOwnProperty.call(G,P)&&(T[P]=G[P])}return T}_.prototype=new Object,_.prototype.constructor=_,_.superclass=Object.prototype;function _(){this.init()}_.prototype.init=function(){this.reduceActions=[],this.reduceActions[3]=function(u){return new K(u[0],u[2])},this.reduceActions[5]=function(u){return new Q(u[0],u[2])},this.reduceActions[7]=function(u){return new le(u[0],u[2])},this.reduceActions[8]=function(u){return new ge(u[0],u[2])},this.reduceActions[10]=function(u){return new j(u[0],u[2])},this.reduceActions[11]=function(u){return new N(u[0],u[2])},this.reduceActions[12]=function(u){return new X(u[0],u[2])},this.reduceActions[13]=function(u){return new U(u[0],u[2])},this.reduceActions[15]=function(u){return new k(u[0],u[2])},this.reduceActions[16]=function(u){return new W(u[0],u[2])},this.reduceActions[18]=function(u){return new J(u[0],u[2])},this.reduceActions[19]=function(u){return new se(u[0],u[2])},this.reduceActions[20]=function(u){return new ue(u[0],u[2])},this.reduceActions[22]=function(u){return new L(u[1])},this.reduceActions[24]=function(u){return new fe(u[0],u[2])},this.reduceActions[25]=function(u){return new ye(void 0,void 0,u[0])},this.reduceActions[27]=function(u){return u[0].locationPath=u[2],u[0]},this.reduceActions[28]=function(u){return u[0].locationPath=u[2],u[0].locationPath.steps.unshift(new ce(ce.DESCENDANTORSELF,ve.nodeTest,[])),u[0]},this.reduceActions[29]=function(u){return new ye(u[0],[],void 0)},this.reduceActions[30]=function(u){return ne.instance_of(u[0],ye)?(u[0].filterPredicates==null&&(u[0].filterPredicates=[]),u[0].filterPredicates.push(u[1]),u[0]):new ye(u[0],[u[1]],void 0)},this.reduceActions[32]=function(u){return u[1]},this.reduceActions[33]=function(u){return new te(u[0])},this.reduceActions[34]=function(u){return new oe(u[0])},this.reduceActions[36]=function(u){return new Ie(u[0],[])},this.reduceActions[37]=function(u){return new Ie(u[0],u[2])},this.reduceActions[38]=function(u){return[u[0]]},this.reduceActions[39]=function(u){return u[2].unshift(u[0]),u[2]},this.reduceActions[43]=function(u){return new Je(!0,[])},this.reduceActions[44]=function(u){return u[1].absolute=!0,u[1]},this.reduceActions[46]=function(u){return new Je(!1,[u[0]])},this.reduceActions[47]=function(u){return u[0].steps.push(u[2]),u[0]},this.reduceActions[49]=function(u){return new ce(u[0],u[1],[])},this.reduceActions[50]=function(u){return new ce(ce.CHILD,u[0],[])},this.reduceActions[51]=function(u){return new ce(u[0],u[1],u[2])},this.reduceActions[52]=function(u){return new ce(ce.CHILD,u[0],u[1])},this.reduceActions[54]=function(u){return[u[0]]},this.reduceActions[55]=function(u){return u[1].unshift(u[0]),u[1]},this.reduceActions[56]=function(u){return u[0]=="ancestor"?ce.ANCESTOR:u[0]=="ancestor-or-self"?ce.ANCESTORORSELF:u[0]=="attribute"?ce.ATTRIBUTE:u[0]=="child"?ce.CHILD:u[0]=="descendant"?ce.DESCENDANT:u[0]=="descendant-or-self"?ce.DESCENDANTORSELF:u[0]=="following"?ce.FOLLOWING:u[0]=="following-sibling"?ce.FOLLOWINGSIBLING:u[0]=="namespace"?ce.NAMESPACE:u[0]=="parent"?ce.PARENT:u[0]=="preceding"?ce.PRECEDING:u[0]=="preceding-sibling"?ce.PRECEDINGSIBLING:u[0]=="self"?ce.SELF:-1},this.reduceActions[57]=function(u){return ce.ATTRIBUTE},this.reduceActions[59]=function(u){return u[0]=="comment"?ve.commentTest:u[0]=="text"?ve.textTest:u[0]=="processing-instruction"?ve.anyPiTest:u[0]=="node"?ve.nodeTest:new ve(-1,void 0)},this.reduceActions[60]=function(u){return new ve.PITest(u[2])},this.reduceActions[61]=function(u){return u[1]},this.reduceActions[63]=function(u){return u[1].absolute=!0,u[1].steps.unshift(new ce(ce.DESCENDANTORSELF,ve.nodeTest,[])),u[1]},this.reduceActions[64]=function(u){return u[0].steps.push(new ce(ce.DESCENDANTORSELF,ve.nodeTest,[])),u[0].steps.push(u[2]),u[0]},this.reduceActions[65]=function(u){return new ce(ce.SELF,ve.nodeTest,[])},this.reduceActions[66]=function(u){return new ce(ce.PARENT,ve.nodeTest,[])},this.reduceActions[67]=function(u){return new Xe(u[1])},this.reduceActions[68]=function(u){return ve.nameTestAny},this.reduceActions[69]=function(u){return new ve.NameTestPrefixAny(u[0].split(":")[0])},this.reduceActions[70]=function(u){return new ve.NameTestQName(u[0])}},_.actionTable=[" s s        sssssssss    s ss  s  ss","                 s                  ","r  rrrrrrrrr         rrrrrrr rr  r  ","                rrrrr               "," s s        sssssssss    s ss  s  ss","rs  rrrrrrrr s  sssssrrrrrr  rrs rs "," s s        sssssssss    s ss  s  ss","                            s       ","                            s       ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","  s                                 ","                            s       "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr  r  ","a                                   ","r       s                    rr  r  ","r      sr                    rr  r  ","r   s  rr            s       rr  r  ","r   rssrr            rss     rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrrs  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r  srrrrrrrr         rrrrrrs rr sr  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r   rrrrrrrr         rrrrrr  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","                sssss               ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             s      ","r  srrrrrrrr         rrrrrrs rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","              s                     ","                             s      ","                rrrrr               "," s s        sssssssss    s sss s  ss","r  srrrrrrrr         rrrrrrs rr  r  "," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss      ss  s  ss"," s s        sssssssss    s ss  s  ss"," s           s  sssss          s  s "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr rr  "," s           s  sssss          s  s "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             s      ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             rr     ","                             s      ","                             rs     ","r      sr                    rr  r  ","r   s  rr            s       rr  r  ","r   rssrr            rss     rr  r  ","r   rssrr            rss     rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","                                 r  ","                                 s  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  "," s s        sssssssss    s ss  s  ss","r  rrrrrrrrr         rrrrrrr rr rr  ","                             r      "],_.actionTableNumber=[` 1 0        /.-,+*)('    & %$  #  "!`,"                 J                  ","a  aaaaaaaaa         aaaaaaa aa  a  ","                YYYYY               ",` 1 0        /.-,+*)('    & %$  #  "!`,`K1  KKKKKKKK .  +*)('KKKKKK  KK# K" `,` 1 0        /.-,+*)('    & %$  #  "!`,"                            N       ","                            O       ","e  eeeeeeeee         eeeeeee ee ee  ","f  fffffffff         fffffff ff ff  ","d  ddddddddd         ddddddd dd dd  ","B  BBBBBBBBB         BBBBBBB BB BB  ","A  AAAAAAAAA         AAAAAAA AA AA  ","  P                                 ","                            Q       ",` 1           .  +*)('          #  " `,"b  bbbbbbbbb         bbbbbbb bb  b  ","                                    ","!       S                    !!  !  ",'"      T"                    ""  "  ',"$   V  $$            U       $$  $  ","&   &ZY&&            &XW     &&  &  ",")   )))))            )))\\[   ))  )  ",".   ....._^]         .....   ..  .  ","1   11111111         11111   11  1  ","5   55555555         55555`  55  5  ","7   77777777         777777  77  7  ","9   99999999         999999  99  9  ",":  c::::::::         ::::::b :: a:  ","I  fIIIIIIII         IIIIIIe II  I  ","=  =========         ======= == ==  ","?  ?????????         ??????? ?? ??  ","C  CCCCCCCCC         CCCCCCC CC CC  ","J   JJJJJJJJ         JJJJJJ  JJ  J  ","M   MMMMMMMM         MMMMMM  MM  M  ","N  NNNNNNNNN         NNNNNNN NN  N  ","P  PPPPPPPPP         PPPPPPP PP  P  ","                +*)('               ","R  RRRRRRRRR         RRRRRRR RR aR  ","U  UUUUUUUUU         UUUUUUU UU  U  ","Z  ZZZZZZZZZ         ZZZZZZZ ZZ ZZ  ","c  ccccccccc         ccccccc cc cc  ","                             j      ","L  fLLLLLLLL         LLLLLLe LL  L  ","6   66666666         66666   66  6  ","              k                     ","                             l      ","                XXXXX               ",` 1 0        /.-,+*)('    & %$m #  "!`,"_  f________         ______e __  _  ",` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('      %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1           .  +*)('          #  " `,` 1           .  +*)('          #  " `,">  >>>>>>>>>         >>>>>>> >> >>  ",` 1           .  +*)('          #  " `,` 1           .  +*)('          #  " `,"Q  QQQQQQQQQ         QQQQQQQ QQ aQ  ","V  VVVVVVVVV         VVVVVVV VV aV  ","T  TTTTTTTTT         TTTTTTT TT  T  ","@  @@@@@@@@@         @@@@@@@ @@ @@  ","                             \x87      ","[  [[[[[[[[[         [[[[[[[ [[ [[  ","D  DDDDDDDDD         DDDDDDD DD DD  ","                             HH     ","                             \x88      ","                             F\x89     ","#      T#                    ##  #  ","%   V  %%            U       %%  %  ","'   'ZY''            'XW     ''  '  ","(   (ZY((            (XW     ((  (  ","+   +++++            +++\\[   ++  +  ","*   *****            ***\\[   **  *  ","-   -----            ---\\[   --  -  ",",   ,,,,,            ,,,\\[   ,,  ,  ","0   00000_^]         00000   00  0  ","/   /////_^]         /////   //  /  ","2   22222222         22222   22  2  ","3   33333333         33333   33  3  ","4   44444444         44444   44  4  ","8   88888888         888888  88  8  ","                                 ^  ","                                 \x8A  ",";  f;;;;;;;;         ;;;;;;e ;;  ;  ","<  f<<<<<<<<         <<<<<<e <<  <  ","O  OOOOOOOOO         OOOOOOO OO  O  ","`  `````````         ``````` ``  `  ","S  SSSSSSSSS         SSSSSSS SS  S  ","W  WWWWWWWWW         WWWWWWW WW  W  ","\\  \\\\\\\\\\\\\\\\\\         \\\\\\\\\\\\\\ \\\\ \\\\  ","E  EEEEEEEEE         EEEEEEE EE EE  ",` 1 0        /.-,+*)('    & %$  #  "!`,"]  ]]]]]]]]]         ]]]]]]] ]] ]]  ","                             G      "],_.gotoTable=["3456789:;<=>?@ AB  CDEFGH IJ ","                             ","                             ","                             ","L456789:;<=>?@ AB  CDEFGH IJ ","            M        EFGH IJ ","       N;<=>?@ AB  CDEFGH IJ ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","            S        EFGH IJ ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","              e              ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                        h  J ","              i          j   ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","o456789:;<=>?@ ABpqCDEFGH IJ ","                             ","  r6789:;<=>?@ AB  CDEFGH IJ ","   s789:;<=>?@ AB  CDEFGH IJ ","    t89:;<=>?@ AB  CDEFGH IJ ","    u89:;<=>?@ AB  CDEFGH IJ ","     v9:;<=>?@ AB  CDEFGH IJ ","     w9:;<=>?@ AB  CDEFGH IJ ","     x9:;<=>?@ AB  CDEFGH IJ ","     y9:;<=>?@ AB  CDEFGH IJ ","      z:;<=>?@ AB  CDEFGH IJ ","      {:;<=>?@ AB  CDEFGH IJ ","       |;<=>?@ AB  CDEFGH IJ ","       };<=>?@ AB  CDEFGH IJ ","       ~;<=>?@ AB  CDEFGH IJ ","         \x7F=>?@ AB  CDEFGH IJ ","\x80456789:;<=>?@ AB  CDEFGH IJ\x81","            \x82        EFGH IJ ","            \x83        EFGH IJ ","                             ","                     \x84 GH IJ ","                     \x85 GH IJ ","              i          \x86   ","              i          \x87   ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","o456789:;<=>?@ AB\x8CqCDEFGH IJ ","                             ","                             "],_.productions=[[1,1,2],[2,1,3],[3,1,4],[3,3,3,-9,4],[4,1,5],[4,3,4,-8,5],[5,1,6],[5,3,5,-22,6],[5,3,5,-5,6],[6,1,7],[6,3,6,-23,7],[6,3,6,-24,7],[6,3,6,-6,7],[6,3,6,-7,7],[7,1,8],[7,3,7,-25,8],[7,3,7,-26,8],[8,1,9],[8,3,8,-12,9],[8,3,8,-11,9],[8,3,8,-10,9],[9,1,10],[9,2,-26,9],[10,1,11],[10,3,10,-27,11],[11,1,12],[11,1,13],[11,3,13,-28,14],[11,3,13,-4,14],[13,1,15],[13,2,13,16],[15,1,17],[15,3,-29,2,-30],[15,1,-15],[15,1,-16],[15,1,18],[18,3,-13,-29,-30],[18,4,-13,-29,19,-30],[19,1,20],[19,3,20,-31,19],[20,1,2],[12,1,14],[12,1,21],[21,1,-28],[21,2,-28,14],[21,1,22],[14,1,23],[14,3,14,-28,23],[14,1,24],[23,2,25,26],[23,1,26],[23,3,25,26,27],[23,2,26,27],[23,1,28],[27,1,16],[27,2,16,27],[25,2,-14,-3],[25,1,-32],[26,1,29],[26,3,-20,-29,-30],[26,4,-21,-29,-15,-30],[16,3,-33,30,-34],[30,1,2],[22,2,-4,14],[24,3,14,-4,23],[28,1,-35],[28,1,-2],[17,2,-36,-18],[29,1,-17],[29,1,-19],[29,1,-18]],_.DOUBLEDOT=2,_.DOUBLECOLON=3,_.DOUBLESLASH=4,_.NOTEQUAL=5,_.LESSTHANOREQUAL=6,_.GREATERTHANOREQUAL=7,_.AND=8,_.OR=9,_.MOD=10,_.DIV=11,_.MULTIPLYOPERATOR=12,_.FUNCTIONNAME=13,_.AXISNAME=14,_.LITERAL=15,_.NUMBER=16,_.ASTERISKNAMETEST=17,_.QNAME=18,_.NCNAMECOLONASTERISK=19,_.NODETYPE=20,_.PROCESSINGINSTRUCTIONWITHLITERAL=21,_.EQUALS=22,_.LESSTHAN=23,_.GREATERTHAN=24,_.PLUS=25,_.MINUS=26,_.BAR=27,_.SLASH=28,_.LEFTPARENTHESIS=29,_.RIGHTPARENTHESIS=30,_.COMMA=31,_.AT=32,_.LEFTBRACKET=33,_.RIGHTBRACKET=34,_.DOT=35,_.DOLLAR=36,_.prototype.tokenize=function(u){for(var v=[],T=[],q=u+"\0",G=0,P=q.charAt(G++);;){for(;P==" "||P=="	"||P=="\r"||P==`
`;)P=q.charAt(G++);if(P=="\0"||G>=q.length)break;if(P=="("){v.push(_.LEFTPARENTHESIS),T.push(P),P=q.charAt(G++);continue}if(P==")"){v.push(_.RIGHTPARENTHESIS),T.push(P),P=q.charAt(G++);continue}if(P=="["){v.push(_.LEFTBRACKET),T.push(P),P=q.charAt(G++);continue}if(P=="]"){v.push(_.RIGHTBRACKET),T.push(P),P=q.charAt(G++);continue}if(P=="@"){v.push(_.AT),T.push(P),P=q.charAt(G++);continue}if(P==","){v.push(_.COMMA),T.push(P),P=q.charAt(G++);continue}if(P=="|"){v.push(_.BAR),T.push(P),P=q.charAt(G++);continue}if(P=="+"){v.push(_.PLUS),T.push(P),P=q.charAt(G++);continue}if(P=="-"){v.push(_.MINUS),T.push(P),P=q.charAt(G++);continue}if(P=="="){v.push(_.EQUALS),T.push(P),P=q.charAt(G++);continue}if(P=="$"){v.push(_.DOLLAR),T.push(P),P=q.charAt(G++);continue}if(P=="."){if(P=q.charAt(G++),P=="."){v.push(_.DOUBLEDOT),T.push(".."),P=q.charAt(G++);continue}if(P>="0"&&P<="9"){var Ce="."+P;for(P=q.charAt(G++);P>="0"&&P<="9";)Ce+=P,P=q.charAt(G++);v.push(_.NUMBER),T.push(Ce);continue}v.push(_.DOT),T.push(".");continue}if(P=="'"||P=='"'){for(var Fe=P,He="";G<q.length&&(P=q.charAt(G))!==Fe;)He+=P,G+=1;if(P!==Fe)throw Pe.fromMessage("Unterminated string literal: "+Fe+He);G+=1,v.push(_.LITERAL),T.push(He),P=q.charAt(G++);continue}if(P>="0"&&P<="9"){var Ce=P;for(P=q.charAt(G++);P>="0"&&P<="9";)Ce+=P,P=q.charAt(G++);if(P=="."&&q.charAt(G)>="0"&&q.charAt(G)<="9")for(Ce+=P,Ce+=q.charAt(G++),P=q.charAt(G++);P>="0"&&P<="9";)Ce+=P,P=q.charAt(G++);v.push(_.NUMBER),T.push(Ce);continue}if(P=="*"){if(v.length>0){var _e=v[v.length-1];if(_e!=_.AT&&_e!=_.DOUBLECOLON&&_e!=_.LEFTPARENTHESIS&&_e!=_.LEFTBRACKET&&_e!=_.AND&&_e!=_.OR&&_e!=_.MOD&&_e!=_.DIV&&_e!=_.MULTIPLYOPERATOR&&_e!=_.SLASH&&_e!=_.DOUBLESLASH&&_e!=_.BAR&&_e!=_.PLUS&&_e!=_.MINUS&&_e!=_.EQUALS&&_e!=_.NOTEQUAL&&_e!=_.LESSTHAN&&_e!=_.LESSTHANOREQUAL&&_e!=_.GREATERTHAN&&_e!=_.GREATERTHANOREQUAL){v.push(_.MULTIPLYOPERATOR),T.push(P),P=q.charAt(G++);continue}}v.push(_.ASTERISKNAMETEST),T.push(P),P=q.charAt(G++);continue}if(P==":"&&q.charAt(G)==":"){v.push(_.DOUBLECOLON),T.push("::"),G++,P=q.charAt(G++);continue}if(P=="/"){if(P=q.charAt(G++),P=="/"){v.push(_.DOUBLESLASH),T.push("//"),P=q.charAt(G++);continue}v.push(_.SLASH),T.push("/");continue}if(P=="!"&&q.charAt(G)=="="){v.push(_.NOTEQUAL),T.push("!="),G++,P=q.charAt(G++);continue}if(P=="<"){if(q.charAt(G)=="="){v.push(_.LESSTHANOREQUAL),T.push("<="),G++,P=q.charAt(G++);continue}v.push(_.LESSTHAN),T.push("<"),P=q.charAt(G++);continue}if(P==">"){if(q.charAt(G)=="="){v.push(_.GREATERTHANOREQUAL),T.push(">="),G++,P=q.charAt(G++);continue}v.push(_.GREATERTHAN),T.push(">"),P=q.charAt(G++);continue}if(P=="_"||ne.isLetter(P.charCodeAt(0))){var Ye=P;for(P=q.charAt(G++);ne.isNCNameChar(P.charCodeAt(0));)Ye+=P,P=q.charAt(G++);if(v.length>0){var _e=v[v.length-1];if(_e!=_.AT&&_e!=_.DOUBLECOLON&&_e!=_.LEFTPARENTHESIS&&_e!=_.LEFTBRACKET&&_e!=_.AND&&_e!=_.OR&&_e!=_.MOD&&_e!=_.DIV&&_e!=_.MULTIPLYOPERATOR&&_e!=_.SLASH&&_e!=_.DOUBLESLASH&&_e!=_.BAR&&_e!=_.PLUS&&_e!=_.MINUS&&_e!=_.EQUALS&&_e!=_.NOTEQUAL&&_e!=_.LESSTHAN&&_e!=_.LESSTHANOREQUAL&&_e!=_.GREATERTHAN&&_e!=_.GREATERTHANOREQUAL){if(Ye=="and"){v.push(_.AND),T.push(Ye);continue}if(Ye=="or"){v.push(_.OR),T.push(Ye);continue}if(Ye=="mod"){v.push(_.MOD),T.push(Ye);continue}if(Ye=="div"){v.push(_.DIV),T.push(Ye);continue}}}if(P==":"){if(q.charAt(G)=="*"){v.push(_.NCNAMECOLONASTERISK),T.push(Ye+":*"),G++,P=q.charAt(G++);continue}if(q.charAt(G)=="_"||ne.isLetter(q.charCodeAt(G))){for(Ye+=":",P=q.charAt(G++);ne.isNCNameChar(P.charCodeAt(0));)Ye+=P,P=q.charAt(G++);if(P=="("){v.push(_.FUNCTIONNAME),T.push(Ye);continue}v.push(_.QNAME),T.push(Ye);continue}if(q.charAt(G)==":"){v.push(_.AXISNAME),T.push(Ye);continue}}if(P=="("){if(Ye=="comment"||Ye=="text"||Ye=="node"){v.push(_.NODETYPE),T.push(Ye);continue}if(Ye=="processing-instruction"){q.charAt(G)==")"?v.push(_.NODETYPE):v.push(_.PROCESSINGINSTRUCTIONWITHLITERAL),T.push(Ye);continue}v.push(_.FUNCTIONNAME),T.push(Ye);continue}v.push(_.QNAME),T.push(Ye);continue}throw new Error("Unexpected character "+P)}return v.push(1),T.push("[EOF]"),[v,T]},_.SHIFT="s",_.REDUCE="r",_.ACCEPT="a",_.prototype.parse=function(He){var v,T,q=this.tokenize(He);if(q!=null){v=q[0],T=q[1];var G=0,P=[],Ce=[],Fe=[],He,_e,Ye;for(P.push(0),Ce.push(1),Fe.push("_S"),_e=v[G],Ye=T[G++];;)switch(He=P[P.length-1],_.actionTable[He].charAt(_e-1)){case _.SHIFT:Ce.push(-_e),Fe.push(Ye),P.push(_.actionTableNumber[He].charCodeAt(_e-1)-32),_e=v[G],Ye=T[G++];break;case _.REDUCE:for(var er=_.productions[_.actionTableNumber[He].charCodeAt(_e-1)-32][1],ti=[],Tt=0;Tt<er;Tt++)Ce.pop(),ti.unshift(Fe.pop()),P.pop();var Bn=P[P.length-1];Ce.push(_.productions[_.actionTableNumber[He].charCodeAt(_e-1)-32][0]),this.reduceActions[_.actionTableNumber[He].charCodeAt(_e-1)-32]==null?Fe.push(ti[0]):Fe.push(this.reduceActions[_.actionTableNumber[He].charCodeAt(_e-1)-32](ti)),P.push(_.gotoTable[Bn].charCodeAt(_.productions[_.actionTableNumber[He].charCodeAt(_e-1)-32][0]-2)-33);break;case _.ACCEPT:return new R(Fe.pop());default:throw new Error("XPath parse error")}}},R.prototype=new Object,R.prototype.constructor=R,R.superclass=Object.prototype;function R(u){this.expression=u}R.prototype.toString=function(){return this.expression.toString()};function D(u,v,T){v in u||(u[v]=T)}R.prototype.evaluate=function(u){return u.contextNode=u.expressionContextNode,u.contextSize=1,u.contextPosition=1,u.isHtml&&(D(u,"caseInsensitive",!0),D(u,"allowAnyNamespaceForNoPrefix",!0)),D(u,"caseInsensitive",!1),this.expression.evaluate(u)},R.XML_NAMESPACE_URI="http://www.w3.org/XML/1998/namespace",R.XMLNS_NAMESPACE_URI="http://www.w3.org/2000/xmlns/",I.prototype=new Object,I.prototype.constructor=I,I.superclass=Object.prototype;function I(){}I.prototype.init=function(){},I.prototype.toString=function(){return"<Expression>"},I.prototype.evaluate=function(u){throw new Error("Could not evaluate expression.")},M.prototype=new I,M.prototype.constructor=M,M.superclass=I.prototype;function M(u){arguments.length>0&&this.init(u)}M.prototype.init=function(u){this.rhs=u},L.prototype=new M,L.prototype.constructor=L,L.superclass=M.prototype;function L(u){arguments.length>0&&this.init(u)}L.prototype.init=function(u){L.superclass.init.call(this,u)},L.prototype.evaluate=function(u){return this.rhs.evaluate(u).number().negate()},L.prototype.toString=function(){return"-"+this.rhs.toString()},V.prototype=new I,V.prototype.constructor=V,V.superclass=I.prototype;function V(u,v){arguments.length>0&&this.init(u,v)}V.prototype.init=function(u,v){this.lhs=u,this.rhs=v},K.prototype=new V,K.prototype.constructor=K,K.superclass=V.prototype;function K(u,v){arguments.length>0&&this.init(u,v)}K.prototype.init=function(u,v){K.superclass.init.call(this,u,v)},K.prototype.toString=function(){return"("+this.lhs.toString()+" or "+this.rhs.toString()+")"},K.prototype.evaluate=function(u){var v=this.lhs.evaluate(u).bool();return v.booleanValue()?v:this.rhs.evaluate(u).bool()},Q.prototype=new V,Q.prototype.constructor=Q,Q.superclass=V.prototype;function Q(u,v){arguments.length>0&&this.init(u,v)}Q.prototype.init=function(u,v){Q.superclass.init.call(this,u,v)},Q.prototype.toString=function(){return"("+this.lhs.toString()+" and "+this.rhs.toString()+")"},Q.prototype.evaluate=function(u){var v=this.lhs.evaluate(u).bool();return v.booleanValue()?this.rhs.evaluate(u).bool():v},le.prototype=new V,le.prototype.constructor=le,le.superclass=V.prototype;function le(u,v){arguments.length>0&&this.init(u,v)}le.prototype.init=function(u,v){le.superclass.init.call(this,u,v)},le.prototype.toString=function(){return"("+this.lhs.toString()+" = "+this.rhs.toString()+")"},le.prototype.evaluate=function(u){return this.lhs.evaluate(u).equals(this.rhs.evaluate(u))},ge.prototype=new V,ge.prototype.constructor=ge,ge.superclass=V.prototype;function ge(u,v){arguments.length>0&&this.init(u,v)}ge.prototype.init=function(u,v){ge.superclass.init.call(this,u,v)},ge.prototype.toString=function(){return"("+this.lhs.toString()+" != "+this.rhs.toString()+")"},ge.prototype.evaluate=function(u){return this.lhs.evaluate(u).notequal(this.rhs.evaluate(u))},j.prototype=new V,j.prototype.constructor=j,j.superclass=V.prototype;function j(u,v){arguments.length>0&&this.init(u,v)}j.prototype.init=function(u,v){j.superclass.init.call(this,u,v)},j.prototype.evaluate=function(u){return this.lhs.evaluate(u).lessthan(this.rhs.evaluate(u))},j.prototype.toString=function(){return"("+this.lhs.toString()+" < "+this.rhs.toString()+")"},N.prototype=new V,N.prototype.constructor=N,N.superclass=V.prototype;function N(u,v){arguments.length>0&&this.init(u,v)}N.prototype.init=function(u,v){N.superclass.init.call(this,u,v)},N.prototype.evaluate=function(u){return this.lhs.evaluate(u).greaterthan(this.rhs.evaluate(u))},N.prototype.toString=function(){return"("+this.lhs.toString()+" > "+this.rhs.toString()+")"},X.prototype=new V,X.prototype.constructor=X,X.superclass=V.prototype;function X(u,v){arguments.length>0&&this.init(u,v)}X.prototype.init=function(u,v){X.superclass.init.call(this,u,v)},X.prototype.evaluate=function(u){return this.lhs.evaluate(u).lessthanorequal(this.rhs.evaluate(u))},X.prototype.toString=function(){return"("+this.lhs.toString()+" <= "+this.rhs.toString()+")"},U.prototype=new V,U.prototype.constructor=U,U.superclass=V.prototype;function U(u,v){arguments.length>0&&this.init(u,v)}U.prototype.init=function(u,v){U.superclass.init.call(this,u,v)},U.prototype.evaluate=function(u){return this.lhs.evaluate(u).greaterthanorequal(this.rhs.evaluate(u))},U.prototype.toString=function(){return"("+this.lhs.toString()+" >= "+this.rhs.toString()+")"},k.prototype=new V,k.prototype.constructor=k,k.superclass=V.prototype;function k(u,v){arguments.length>0&&this.init(u,v)}k.prototype.init=function(u,v){k.superclass.init.call(this,u,v)},k.prototype.evaluate=function(u){return this.lhs.evaluate(u).number().plus(this.rhs.evaluate(u).number())},k.prototype.toString=function(){return"("+this.lhs.toString()+" + "+this.rhs.toString()+")"},W.prototype=new V,W.prototype.constructor=W,W.superclass=V.prototype;function W(u,v){arguments.length>0&&this.init(u,v)}W.prototype.init=function(u,v){W.superclass.init.call(this,u,v)},W.prototype.evaluate=function(u){return this.lhs.evaluate(u).number().minus(this.rhs.evaluate(u).number())},W.prototype.toString=function(){return"("+this.lhs.toString()+" - "+this.rhs.toString()+")"},J.prototype=new V,J.prototype.constructor=J,J.superclass=V.prototype;function J(u,v){arguments.length>0&&this.init(u,v)}J.prototype.init=function(u,v){J.superclass.init.call(this,u,v)},J.prototype.evaluate=function(u){return this.lhs.evaluate(u).number().multiply(this.rhs.evaluate(u).number())},J.prototype.toString=function(){return"("+this.lhs.toString()+" * "+this.rhs.toString()+")"},se.prototype=new V,se.prototype.constructor=se,se.superclass=V.prototype;function se(u,v){arguments.length>0&&this.init(u,v)}se.prototype.init=function(u,v){se.superclass.init.call(this,u,v)},se.prototype.evaluate=function(u){return this.lhs.evaluate(u).number().div(this.rhs.evaluate(u).number())},se.prototype.toString=function(){return"("+this.lhs.toString()+" div "+this.rhs.toString()+")"},ue.prototype=new V,ue.prototype.constructor=ue,ue.superclass=V.prototype;function ue(u,v){arguments.length>0&&this.init(u,v)}ue.prototype.init=function(u,v){ue.superclass.init.call(this,u,v)},ue.prototype.evaluate=function(u){return this.lhs.evaluate(u).number().mod(this.rhs.evaluate(u).number())},ue.prototype.toString=function(){return"("+this.lhs.toString()+" mod "+this.rhs.toString()+")"},fe.prototype=new V,fe.prototype.constructor=fe,fe.superclass=V.prototype;function fe(u,v){arguments.length>0&&this.init(u,v)}fe.prototype.init=function(u,v){fe.superclass.init.call(this,u,v)},fe.prototype.evaluate=function(u){return this.lhs.evaluate(u).nodeset().union(this.rhs.evaluate(u).nodeset())},fe.prototype.toString=function(){return s(p,[this.lhs,this.rhs]).join(" | ")},ye.prototype=new I,ye.prototype.constructor=ye,ye.superclass=I.prototype;function ye(u,v,T){arguments.length>0&&this.init(u,v,T)}ye.prototype.init=function(u,v,T){ye.superclass.init.call(this),this.filter=u,this.filterPredicates=v,this.locationPath=T};function $e(u){for(;u&&u.parentNode;)u=u.parentNode;return u}ye.applyPredicates=function(u,v,T){if(u.length===0)return T;var q=v.extend({});return n(function(G,P){return q.contextSize=G.length,o(function(Ce,Fe){return q.contextNode=Ce,q.contextPosition=Fe+1,ye.predicateMatches(P,q)},G)},T,u)},ye.getRoot=function(u,v){var T=v[0];if(T.nodeType===9)return T;if(u.virtualRoot)return u.virtualRoot;var q=T.ownerDocument;if(q)return q;for(var G=T;G.parentNode!=null;)G=G.parentNode;return G},ye.applyStep=function(u,v,T){var q=this,G=[];switch(v.contextNode=T,u.axis){case ce.ANCESTOR:if(v.contextNode===v.virtualRoot)break;var P;for(v.contextNode.nodeType==2?P=ye.getOwnerElement(v.contextNode):P=v.contextNode.parentNode;P!=null&&(u.nodeTest.matches(P,v)&&G.push(P),P!==v.virtualRoot);)P=P.parentNode;break;case ce.ANCESTORORSELF:for(var P=v.contextNode;P!=null&&(u.nodeTest.matches(P,v)&&G.push(P),P!==v.virtualRoot);P=P.nodeType==2?ye.getOwnerElement(P):P.parentNode);break;case ce.ATTRIBUTE:var Ce=v.contextNode.attributes;if(Ce!=null)for(var Fe=0;Fe<Ce.length;Fe++){var P=Ce.item(Fe);u.nodeTest.matches(P,v)&&G.push(P)}break;case ce.CHILD:for(var P=v.contextNode.firstChild;P!=null;P=P.nextSibling)u.nodeTest.matches(P,v)&&G.push(P);break;case ce.DESCENDANT:for(var Tt=[v.contextNode.firstChild];Tt.length>0;)for(var P=Tt.pop();P!=null;)u.nodeTest.matches(P,v)&&G.push(P),P.firstChild!=null?(Tt.push(P.nextSibling),P=P.firstChild):P=P.nextSibling;break;case ce.DESCENDANTORSELF:u.nodeTest.matches(v.contextNode,v)&&G.push(v.contextNode);for(var Tt=[v.contextNode.firstChild];Tt.length>0;)for(var P=Tt.pop();P!=null;)u.nodeTest.matches(P,v)&&G.push(P),P.firstChild!=null?(Tt.push(P.nextSibling),P=P.firstChild):P=P.nextSibling;break;case ce.FOLLOWING:if(v.contextNode===v.virtualRoot)break;var Tt=[];v.contextNode.firstChild!=null?Tt.unshift(v.contextNode.firstChild):Tt.unshift(v.contextNode.nextSibling);for(var P=v.contextNode.parentNode;P!=null&&P.nodeType!=9&&P!==v.virtualRoot;P=P.parentNode)Tt.unshift(P.nextSibling);do for(var P=Tt.pop();P!=null;)u.nodeTest.matches(P,v)&&G.push(P),P.firstChild!=null?(Tt.push(P.nextSibling),P=P.firstChild):P=P.nextSibling;while(Tt.length>0);break;case ce.FOLLOWINGSIBLING:if(v.contextNode===v.virtualRoot)break;for(var P=v.contextNode.nextSibling;P!=null;P=P.nextSibling)u.nodeTest.matches(P,v)&&G.push(P);break;case ce.NAMESPACE:var He={};if(v.contextNode.nodeType==1){He.xml=R.XML_NAMESPACE_URI,He.xmlns=R.XMLNS_NAMESPACE_URI;for(var P=v.contextNode;P!=null&&P.nodeType==1;P=P.parentNode)for(var Fe=0;Fe<P.attributes.length;Fe++){var _e=P.attributes.item(Fe),Ye=String(_e.name);if(Ye=="xmlns")He[""]==null&&(He[""]=_e.value);else if(Ye.length>6&&Ye.substring(0,6)=="xmlns:"){var er=Ye.substring(6,Ye.length);He[er]==null&&(He[er]=_e.value)}}for(var er in He){var ti=new Ft(er,He[er],v.contextNode);u.nodeTest.matches(ti,v)&&G.push(ti)}}break;case ce.PARENT:P=null,v.contextNode!==v.virtualRoot&&(v.contextNode.nodeType==2?P=ye.getOwnerElement(v.contextNode):P=v.contextNode.parentNode),P!=null&&u.nodeTest.matches(P,v)&&G.push(P);break;case ce.PRECEDING:var Tt;v.virtualRoot!=null?Tt=[v.virtualRoot]:Tt=[$e(v.contextNode)];e:for(;Tt.length>0;)for(var P=Tt.pop();P!=null;){if(P==v.contextNode)break e;u.nodeTest.matches(P,v)&&G.unshift(P),P.firstChild!=null?(Tt.push(P.nextSibling),P=P.firstChild):P=P.nextSibling}break;case ce.PRECEDINGSIBLING:if(v.contextNode===v.virtualRoot)break;for(var P=v.contextNode.previousSibling;P!=null;P=P.previousSibling)u.nodeTest.matches(P,v)&&G.push(P);break;case ce.SELF:u.nodeTest.matches(v.contextNode,v)&&G.push(v.contextNode);break;default:}return G};function Ge(u,v,T){return ye.applyPredicates(u.predicates,v,ye.applyStep(u,v,T))}function Qe(u,v,T){return w(s(Ge.bind(null,T,u),v))}ye.applySteps=function(u,v,T){return n(Qe.bind(null,v),T,u)},ye.prototype.applyFilter=function(u,v){if(!this.filter)return{nodes:[u.contextNode]};var T=this.filter.evaluate(u);if(!ne.instance_of(T,Te)){if(this.filterPredicates!=null&&this.filterPredicates.length>0||this.locationPath!=null)throw new Error("Path expression filter must evaluate to a nodeset if predicates or location path are used");return{nonNodes:T}}return{nodes:ye.applyPredicates(this.filterPredicates||[],v,T.toUnsortedArray())}},ye.applyLocationPath=function(u,v,T){if(!u)return T;var q=u.absolute?[ye.getRoot(v,T)]:T;return ye.applySteps(u.steps,v,q)},ye.prototype.evaluate=function(u){var v=C(new sr,u),T=this.applyFilter(u,v);if("nonNodes"in T)return T.nonNodes;var q=new Te;return q.addArray(ye.applyLocationPath(this.locationPath,v,T.nodes)),q},ye.predicateMatches=function(u,v){var T=u.evaluate(v);return ne.instance_of(T,oe)?v.contextPosition===T.numberValue():T.booleanValue()},ye.predicateString=function(u){return m("[","]",u.toString())},ye.predicatesString=function(u){return g("",s(ye.predicateString,u))},ye.prototype.toString=function(){if(this.filter!=null){var u=p(this.filter);return ne.instance_of(this.filter,te)?m("'","'",u):this.filterPredicates!=null&&this.filterPredicates.length?m("(",")",u)+ye.predicatesString(this.filterPredicates):this.locationPath!=null?u+(this.locationPath.absolute?"":"/")+p(this.locationPath):u}return p(this.locationPath)},ye.getOwnerElement=function(u){if(u.ownerElement)return u.ownerElement;try{if(u.selectSingleNode)return u.selectSingleNode("..")}catch{}for(var v=u.nodeType==9?u:u.ownerDocument,T=v.getElementsByTagName("*"),q=0;q<T.length;q++)for(var G=T.item(q),P=G.attributes,Ce=0;Ce<P.length;Ce++){var Fe=P.item(Ce);if(Fe===u)return G}return null},Je.prototype=new Object,Je.prototype.constructor=Je,Je.superclass=Object.prototype;function Je(u,v){arguments.length>0&&this.init(u,v)}Je.prototype.init=function(u,v){this.absolute=u,this.steps=v},Je.prototype.toString=function(){return(this.absolute?"/":"")+s(p,this.steps).join("/")},ce.prototype=new Object,ce.prototype.constructor=ce,ce.superclass=Object.prototype;function ce(u,v,T){arguments.length>0&&this.init(u,v,T)}ce.prototype.init=function(u,v,T){this.axis=u,this.nodeTest=v,this.predicates=T},ce.prototype.toString=function(){return ce.STEPNAMES[this.axis]+"::"+this.nodeTest.toString()+ye.predicatesString(this.predicates)},ce.ANCESTOR=0,ce.ANCESTORORSELF=1,ce.ATTRIBUTE=2,ce.CHILD=3,ce.DESCENDANT=4,ce.DESCENDANTORSELF=5,ce.FOLLOWING=6,ce.FOLLOWINGSIBLING=7,ce.NAMESPACE=8,ce.PARENT=9,ce.PRECEDING=10,ce.PRECEDINGSIBLING=11,ce.SELF=12,ce.STEPNAMES=n(function(u,v){return u[v[0]]=v[1],u},{},[[ce.ANCESTOR,"ancestor"],[ce.ANCESTORORSELF,"ancestor-or-self"],[ce.ATTRIBUTE,"attribute"],[ce.CHILD,"child"],[ce.DESCENDANT,"descendant"],[ce.DESCENDANTORSELF,"descendant-or-self"],[ce.FOLLOWING,"following"],[ce.FOLLOWINGSIBLING,"following-sibling"],[ce.NAMESPACE,"namespace"],[ce.PARENT,"parent"],[ce.PRECEDING,"preceding"],[ce.PRECEDINGSIBLING,"preceding-sibling"],[ce.SELF,"self"]]),ve.prototype=new Object,ve.prototype.constructor=ve,ve.superclass=Object.prototype;function ve(u,v){arguments.length>0&&this.init(u,v)}ve.prototype.init=function(u,v){this.type=u,this.value=v},ve.prototype.toString=function(){return"<unknown nodetest type>"},ve.prototype.matches=function(u,v){console.warn("unknown node test type")},ve.NAMETESTANY=0,ve.NAMETESTPREFIXANY=1,ve.NAMETESTQNAME=2,ve.COMMENT=3,ve.TEXT=4,ve.PI=5,ve.NODE=6,ve.isNodeType=function(u){return function(v){return l(u,v.nodeType)}},ve.makeNodeTestType=function(u,v,T){var q=T||function(){};return q.prototype=new ve(u),q.prototype.constructor=q,C(q.prototype,v),q},ve.makeNodeTypeTest=function(u,v,T){return new(ve.makeNodeTestType(u,{matches:ve.isNodeType(v),toString:h(T)}))},ve.hasPrefix=function(u){return u.prefix||(u.nodeName||u.tagName).indexOf(":")!==-1},ve.isElementOrAttribute=ve.isNodeType([1,2]),ve.nameSpaceMatches=function(u,v,T){var q=T.namespaceURI||"";if(!u)return!q||v.allowAnyNamespaceForNoPrefix&&!ve.hasPrefix(T);var G=v.namespaceResolver.getNamespace(u,v.expressionContextNode);if(G==null)throw new Error("Cannot resolve QName "+u);return G===q},ve.localNameMatches=function(u,v,T){var q=T.localName||T.nodeName;return v.caseInsensitive?u.toLowerCase()===q.toLowerCase():u===q},ve.NameTestPrefixAny=ve.makeNodeTestType(ve.NAMETESTPREFIXANY,{matches:function(u,v){return ve.isElementOrAttribute(u)&&ve.nameSpaceMatches(this.prefix,v,u)},toString:function(){return this.prefix+":*"}},function(v){this.prefix=v}),ve.NameTestQName=ve.makeNodeTestType(ve.NAMETESTQNAME,{matches:function(u,v){return ve.isNodeType([1,2,Ft.XPATH_NAMESPACE_NODE])(u)&&ve.nameSpaceMatches(this.prefix,v,u)&&ve.localNameMatches(this.localName,v,u)},toString:function(){return this.name}},function(v){var T=v.split(":");this.name=v,this.prefix=T.length>1?T[0]:null,this.localName=T[T.length>1?1:0]}),ve.PITest=ve.makeNodeTestType(ve.PI,{matches:function(u,v){return ve.isNodeType([7])(u)&&(u.target||u.nodeName)===this.name},toString:function(){return m('processing-instruction("','")',this.name)}},function(u){this.name=u}),ve.nameTestAny=ve.makeNodeTypeTest(ve.NAMETESTANY,[1,2,Ft.XPATH_NAMESPACE_NODE],"*"),ve.textTest=ve.makeNodeTypeTest(ve.TEXT,[3,4],"text()"),ve.commentTest=ve.makeNodeTypeTest(ve.COMMENT,[8],"comment()"),ve.nodeTest=ve.makeNodeTypeTest(ve.NODE,[1,2,3,4,7,8,9],"node()"),ve.anyPiTest=ve.makeNodeTypeTest(ve.PI,[7],"processing-instruction()"),Xe.prototype=new I,Xe.prototype.constructor=Xe,Xe.superclass=I.prototype;function Xe(u){arguments.length>0&&this.init(u)}Xe.prototype.init=function(u){this.variable=u},Xe.prototype.toString=function(){return"$"+this.variable},Xe.prototype.evaluate=function(u){var v=ne.resolveQName(this.variable,u.namespaceResolver,u.contextNode,!1);if(v[0]==null)throw new Error("Cannot resolve QName "+fn);var T=u.variableResolver.getVariable(v[1],v[0]);if(!T)throw Pe.fromMessage("Undeclared variable: "+this.toString());return T},Ie.prototype=new I,Ie.prototype.constructor=Ie,Ie.superclass=I.prototype;function Ie(u,v){arguments.length>0&&this.init(u,v)}Ie.prototype.init=function(u,v){this.functionName=u,this.arguments=v},Ie.prototype.toString=function(){for(var u=this.functionName+"(",v=0;v<this.arguments.length;v++)v>0&&(u+=", "),u+=this.arguments[v].toString();return u+")"},Ie.prototype.evaluate=function(u){var v=$.getFunctionFromContext(this.functionName,u);if(!v)throw new Error("Unknown function "+this.functionName);var T=[u].concat(this.arguments);return v.apply(u.functionResolver.thisArg,T)};var de=new Object;de.equals=function(u,v){return u.equals(v)},de.notequal=function(u,v){return u.notequal(v)},de.lessthan=function(u,v){return u.lessthan(v)},de.greaterthan=function(u,v){return u.greaterthan(v)},de.lessthanorequal=function(u,v){return u.lessthanorequal(v)},de.greaterthanorequal=function(u,v){return u.greaterthanorequal(v)},te.prototype=new I,te.prototype.constructor=te,te.superclass=I.prototype;function te(u){arguments.length>0&&this.init(u)}te.prototype.init=function(u){this.str=String(u)},te.prototype.toString=function(){return this.str},te.prototype.evaluate=function(u){return this},te.prototype.string=function(){return this},te.prototype.number=function(){return new oe(this.str)},te.prototype.bool=function(){return new pe(this.str)},te.prototype.nodeset=function(){throw new Error("Cannot convert string to nodeset")},te.prototype.stringValue=function(){return this.str},te.prototype.numberValue=function(){return this.number().numberValue()},te.prototype.booleanValue=function(){return this.bool().booleanValue()},te.prototype.equals=function(u){return ne.instance_of(u,pe)?this.bool().equals(u):ne.instance_of(u,oe)?this.number().equals(u):ne.instance_of(u,Te)?u.compareWithString(this,de.equals):new pe(this.str==u.str)},te.prototype.notequal=function(u){return ne.instance_of(u,pe)?this.bool().notequal(u):ne.instance_of(u,oe)?this.number().notequal(u):ne.instance_of(u,Te)?u.compareWithString(this,de.notequal):new pe(this.str!=u.str)},te.prototype.lessthan=function(u){return this.number().lessthan(u)},te.prototype.greaterthan=function(u){return this.number().greaterthan(u)},te.prototype.lessthanorequal=function(u){return this.number().lessthanorequal(u)},te.prototype.greaterthanorequal=function(u){return this.number().greaterthanorequal(u)},oe.prototype=new I,oe.prototype.constructor=oe,oe.superclass=I.prototype;function oe(u){arguments.length>0&&this.init(u)}oe.prototype.init=function(u){this.num=typeof u=="string"?this.parse(u):Number(u)},oe.prototype.numberFormat=/^\s*-?[0-9]*\.?[0-9]+\s*$/,oe.prototype.parse=function(u){return this.numberFormat.test(u)?parseFloat(u):Number.NaN};function xe(u){for(var v=u.split("e-"),T=v[0].replace(".",""),q=Number(v[1]),G=0;G<q-1;G+=1)T="0"+T;return"0."+T}function Ne(u){for(var v=u.split("e"),T=v[0].replace(".",""),q=Number(v[1]),G=q+1-T.length,P=0;P<G;P+=1)T+="0";return T}oe.prototype.toString=function(){var u=this.num.toString();return u.indexOf("e-")!==-1?xe(u):u.indexOf("e")!==-1?Ne(u):u},oe.prototype.evaluate=function(u){return this},oe.prototype.string=function(){return new te(this.toString())},oe.prototype.number=function(){return this},oe.prototype.bool=function(){return new pe(this.num)},oe.prototype.nodeset=function(){throw new Error("Cannot convert number to nodeset")},oe.prototype.stringValue=function(){return this.string().stringValue()},oe.prototype.numberValue=function(){return this.num},oe.prototype.booleanValue=function(){return this.bool().booleanValue()},oe.prototype.negate=function(){return new oe(-this.num)},oe.prototype.equals=function(u){return ne.instance_of(u,pe)?this.bool().equals(u):ne.instance_of(u,te)?this.equals(u.number()):ne.instance_of(u,Te)?u.compareWithNumber(this,de.equals):new pe(this.num==u.num)},oe.prototype.notequal=function(u){return ne.instance_of(u,pe)?this.bool().notequal(u):ne.instance_of(u,te)?this.notequal(u.number()):ne.instance_of(u,Te)?u.compareWithNumber(this,de.notequal):new pe(this.num!=u.num)},oe.prototype.lessthan=function(u){return ne.instance_of(u,Te)?u.compareWithNumber(this,de.greaterthan):ne.instance_of(u,pe)||ne.instance_of(u,te)?this.lessthan(u.number()):new pe(this.num<u.num)},oe.prototype.greaterthan=function(u){return ne.instance_of(u,Te)?u.compareWithNumber(this,de.lessthan):ne.instance_of(u,pe)||ne.instance_of(u,te)?this.greaterthan(u.number()):new pe(this.num>u.num)},oe.prototype.lessthanorequal=function(u){return ne.instance_of(u,Te)?u.compareWithNumber(this,de.greaterthanorequal):ne.instance_of(u,pe)||ne.instance_of(u,te)?this.lessthanorequal(u.number()):new pe(this.num<=u.num)},oe.prototype.greaterthanorequal=function(u){return ne.instance_of(u,Te)?u.compareWithNumber(this,de.lessthanorequal):ne.instance_of(u,pe)||ne.instance_of(u,te)?this.greaterthanorequal(u.number()):new pe(this.num>=u.num)},oe.prototype.plus=function(u){return new oe(this.num+u.num)},oe.prototype.minus=function(u){return new oe(this.num-u.num)},oe.prototype.multiply=function(u){return new oe(this.num*u.num)},oe.prototype.div=function(u){return new oe(this.num/u.num)},oe.prototype.mod=function(u){return new oe(this.num%u.num)},pe.prototype=new I,pe.prototype.constructor=pe,pe.superclass=I.prototype;function pe(u){arguments.length>0&&this.init(u)}pe.prototype.init=function(u){this.b=!!u},pe.prototype.toString=function(){return this.b.toString()},pe.prototype.evaluate=function(u){return this},pe.prototype.string=function(){return new te(this.b)},pe.prototype.number=function(){return new oe(this.b)},pe.prototype.bool=function(){return this},pe.prototype.nodeset=function(){throw new Error("Cannot convert boolean to nodeset")},pe.prototype.stringValue=function(){return this.string().stringValue()},pe.prototype.numberValue=function(){return this.number().numberValue()},pe.prototype.booleanValue=function(){return this.b},pe.prototype.not=function(){return new pe(!this.b)},pe.prototype.equals=function(u){return ne.instance_of(u,te)||ne.instance_of(u,oe)?this.equals(u.bool()):ne.instance_of(u,Te)?u.compareWithBoolean(this,de.equals):new pe(this.b==u.b)},pe.prototype.notequal=function(u){return ne.instance_of(u,te)||ne.instance_of(u,oe)?this.notequal(u.bool()):ne.instance_of(u,Te)?u.compareWithBoolean(this,de.notequal):new pe(this.b!=u.b)},pe.prototype.lessthan=function(u){return this.number().lessthan(u)},pe.prototype.greaterthan=function(u){return this.number().greaterthan(u)},pe.prototype.lessthanorequal=function(u){return this.number().lessthanorequal(u)},pe.prototype.greaterthanorequal=function(u){return this.number().greaterthanorequal(u)},pe.true_=new pe(!0),pe.false_=new pe(!1),et.prototype=new Object,et.prototype.constructor=et,et.superclass=Object.prototype;function et(u){this.init(u)}et.prototype.init=function(u){this.left=null,this.right=null,this.node=u,this.depth=1},et.prototype.balance=function(){var u=this.left==null?0:this.left.depth,v=this.right==null?0:this.right.depth;if(u>v+1){var T=this.left.left==null?0:this.left.left.depth,q=this.left.right==null?0:this.left.right.depth;T<q&&this.left.rotateRR(),this.rotateLL()}else if(u+1<v){var G=this.right.right==null?0:this.right.right.depth,P=this.right.left==null?0:this.right.left.depth;P>G&&this.right.rotateLL(),this.rotateRR()}},et.prototype.rotateLL=function(){var u=this.node,v=this.right;this.node=this.left.node,this.right=this.left,this.left=this.left.left,this.right.left=this.right.right,this.right.right=v,this.right.node=u,this.right.updateInNewLocation(),this.updateInNewLocation()},et.prototype.rotateRR=function(){var u=this.node,v=this.left;this.node=this.right.node,this.left=this.right,this.right=this.right.right,this.left.right=this.left.left,this.left.left=v,this.left.node=u,this.left.updateInNewLocation(),this.updateInNewLocation()},et.prototype.updateInNewLocation=function(){this.getDepthFromChildren()},et.prototype.getDepthFromChildren=function(){this.depth=this.node==null?0:1,this.left!=null&&(this.depth=this.left.depth+1),this.right!=null&&this.depth<=this.right.depth&&(this.depth=this.right.depth+1)};function it(u,v){if(u===v)return 0;if(u.compareDocumentPosition){var T=u.compareDocumentPosition(v);return T&1||T&10?1:T&20?-1:0}for(var q=0,G=0,P=u;P!=null;P=P.parentNode||P.ownerElement)q++;for(var Ce=v;Ce!=null;Ce=Ce.parentNode||Ce.ownerElement)G++;if(q>G){for(;q>G;)u=u.parentNode||u.ownerElement,q--;if(u===v)return 1}else if(G>q){for(;G>q;)v=v.parentNode||v.ownerElement,G--;if(u===v)return-1}for(var Fe=u.parentNode||u.ownerElement,He=v.parentNode||v.ownerElement;Fe!==He;)u=Fe,v=He,Fe=u.parentNode||u.ownerElement,He=v.parentNode||v.ownerElement;var _e=ne.isAttribute(u),Ye=ne.isAttribute(v);if(_e&&!Ye)return-1;if(!_e&&Ye)return 1;if(Fe)for(var er=_e?Fe.attributes:Fe.childNodes,ti=er.length,Tt=0;Tt<ti;Tt+=1){var Bn=er[Tt];if(Bn===u)return-1;if(Bn===v)return 1}throw new Error("Unexpected: could not determine node order")}et.prototype.add=function(u){if(u===this.node)return!1;var v=it(u,this.node),T=!1;return v==-1?this.left==null?(this.left=new et(u),T=!0):(T=this.left.add(u),T&&this.balance()):v==1&&(this.right==null?(this.right=new et(u),T=!0):(T=this.right.add(u),T&&this.balance())),T&&this.getDepthFromChildren(),T},Te.prototype=new I,Te.prototype.constructor=Te,Te.superclass=I.prototype;function Te(){this.init()}Te.prototype.init=function(){this.tree=null,this.nodes=[],this.size=0},Te.prototype.toString=function(){var u=this.first();return u==null?"":this.stringForNode(u)},Te.prototype.evaluate=function(u){return this},Te.prototype.string=function(){return new te(this.toString())},Te.prototype.stringValue=function(){return this.toString()},Te.prototype.number=function(){return new oe(this.string())},Te.prototype.numberValue=function(){return Number(this.string())},Te.prototype.bool=function(){return new pe(this.booleanValue())},Te.prototype.booleanValue=function(){return!!this.size},Te.prototype.nodeset=function(){return this},Te.prototype.stringForNode=function(u){return u.nodeType==9||u.nodeType==1||u.nodeType===11?this.stringForContainerNode(u):u.nodeType===2?u.value||u.nodeValue:u.isNamespaceNode?u.namespace:u.nodeValue},Te.prototype.stringForContainerNode=function(u){for(var v="",T=u.firstChild;T!=null;T=T.nextSibling){var q=T.nodeType;(q===1||q===3||q===4||q===9||q===11)&&(v+=this.stringForNode(T))}return v},Te.prototype.buildTree=function(){if(!this.tree&&this.nodes.length){this.tree=new et(this.nodes[0]);for(var u=1;u<this.nodes.length;u+=1)this.tree.add(this.nodes[u])}return this.tree},Te.prototype.first=function(){var u=this.buildTree();if(u==null)return null;for(;u.left!=null;)u=u.left;return u.node},Te.prototype.add=function(u){for(var v=0;v<this.nodes.length;v+=1)if(u===this.nodes[v])return;this.tree=null,this.nodes.push(u),this.size+=1},Te.prototype.addArray=function(u){var v=this;i(function(T){v.add(T)},u)},Te.prototype.toArray=function(){var u=[];return this.toArrayRec(this.buildTree(),u),u},Te.prototype.toArrayRec=function(u,v){u!=null&&(this.toArrayRec(u.left,v),v.push(u.node),this.toArrayRec(u.right,v))},Te.prototype.toUnsortedArray=function(){return this.nodes.slice()},Te.prototype.compareWithString=function(u,v){for(var T=this.toUnsortedArray(),q=0;q<T.length;q++){var G=T[q],P=new te(this.stringForNode(G)),Ce=v(P,u);if(Ce.booleanValue())return Ce}return new pe(!1)},Te.prototype.compareWithNumber=function(u,v){for(var T=this.toUnsortedArray(),q=0;q<T.length;q++){var G=T[q],P=new oe(this.stringForNode(G)),Ce=v(P,u);if(Ce.booleanValue())return Ce}return new pe(!1)},Te.prototype.compareWithBoolean=function(u,v){return v(this.bool(),u)},Te.prototype.compareWithNodeSet=function(u,v){for(var T=this.toUnsortedArray(),q=function(Fe,He){return v(He,Fe)},G=0;G<T.length;G++){var P=new te(this.stringForNode(T[G])),Ce=u.compareWithString(P,q);if(Ce.booleanValue())return Ce}return new pe(!1)},Te.compareWith=t(function(u,v){return ne.instance_of(v,te)?this.compareWithString(v,u):ne.instance_of(v,oe)?this.compareWithNumber(v,u):ne.instance_of(v,pe)?this.compareWithBoolean(v,u):this.compareWithNodeSet(v,u)}),Te.prototype.equals=Te.compareWith(de.equals),Te.prototype.notequal=Te.compareWith(de.notequal),Te.prototype.lessthan=Te.compareWith(de.lessthan),Te.prototype.greaterthan=Te.compareWith(de.greaterthan),Te.prototype.lessthanorequal=Te.compareWith(de.lessthanorequal),Te.prototype.greaterthanorequal=Te.compareWith(de.greaterthanorequal),Te.prototype.union=function(u){var v=new Te;return v.addArray(this.toUnsortedArray()),v.addArray(u.toUnsortedArray()),v},Ft.prototype=new Object,Ft.prototype.constructor=Ft,Ft.superclass=Object.prototype;function Ft(u,v,T){this.isXPathNamespace=!0,this.ownerDocument=T.ownerDocument,this.nodeName="#namespace",this.prefix=u,this.localName=u,this.namespaceURI=v,this.nodeValue=v,this.ownerElement=T,this.nodeType=Ft.XPATH_NAMESPACE_NODE}Ft.prototype.toString=function(){return'{ "'+this.prefix+'", "'+this.namespaceURI+'" }'},sr.prototype=new Object,sr.prototype.constructor=sr,sr.superclass=Object.prototype;function sr(u,v,T){this.variableResolver=u??new ee,this.namespaceResolver=v??new ae,this.functionResolver=T??new $}sr.prototype.extend=function(u){return C(new sr,this,u)},ee.prototype=new Object,ee.prototype.constructor=ee,ee.superclass=Object.prototype;function ee(){}ee.prototype.getVariable=function(u,v){return null},$.prototype=new Object,$.prototype.constructor=$,$.superclass=Object.prototype;function $(u){this.thisArg=u??re,this.functions=new Object,this.addStandardFunctions()}$.prototype.addStandardFunctions=function(){this.functions["{}last"]=re.last,this.functions["{}position"]=re.position,this.functions["{}count"]=re.count,this.functions["{}id"]=re.id,this.functions["{}local-name"]=re.localName,this.functions["{}namespace-uri"]=re.namespaceURI,this.functions["{}name"]=re.name,this.functions["{}string"]=re.string,this.functions["{}concat"]=re.concat,this.functions["{}starts-with"]=re.startsWith,this.functions["{}contains"]=re.contains,this.functions["{}substring-before"]=re.substringBefore,this.functions["{}substring-after"]=re.substringAfter,this.functions["{}substring"]=re.substring,this.functions["{}string-length"]=re.stringLength,this.functions["{}normalize-space"]=re.normalizeSpace,this.functions["{}translate"]=re.translate,this.functions["{}boolean"]=re.boolean_,this.functions["{}not"]=re.not,this.functions["{}true"]=re.true_,this.functions["{}false"]=re.false_,this.functions["{}lang"]=re.lang,this.functions["{}number"]=re.number,this.functions["{}sum"]=re.sum,this.functions["{}floor"]=re.floor,this.functions["{}ceiling"]=re.ceiling,this.functions["{}round"]=re.round},$.prototype.addFunction=function(u,v,T){this.functions["{"+u+"}"+v]=T},$.getFunctionFromContext=function(u,v){var T=ne.resolveQName(u,v.namespaceResolver,v.contextNode,!1);if(T[0]===null)throw new Error("Cannot resolve QName "+name);return v.functionResolver.getFunction(T[1],T[0])},$.prototype.getFunction=function(u,v){return this.functions["{"+v+"}"+u]},ae.prototype=new Object,ae.prototype.constructor=ae,ae.superclass=Object.prototype;function ae(){}ae.prototype.getNamespace=function(u,v){if(u=="xml")return R.XML_NAMESPACE_URI;if(u=="xmlns")return R.XMLNS_NAMESPACE_URI;for(v.nodeType==9?v=v.documentElement:v.nodeType==2?v=ye.getOwnerElement(v):v.nodeType!=1&&(v=v.parentNode);v!=null&&v.nodeType==1;){for(var T=v.attributes,q=0;q<T.length;q++){var G=T.item(q),P=G.name||G.nodeName;if(P==="xmlns"&&u===""||P==="xmlns:"+u)return String(G.value||G.nodeValue)}v=v.parentNode}return null};var re=new Object;re.last=function(u){if(arguments.length!=1)throw new Error("Function last expects ()");return new oe(u.contextSize)},re.position=function(u){if(arguments.length!=1)throw new Error("Function position expects ()");return new oe(u.contextPosition)},re.count=function(){var u=arguments[0],v;if(arguments.length!=2||!ne.instance_of(v=arguments[1].evaluate(u),Te))throw new Error("Function count expects (node-set)");return new oe(v.size)},re.id=function(){var u=arguments[0],v;if(arguments.length!=2)throw new Error("Function id expects (object)");v=arguments[1].evaluate(u),ne.instance_of(v,Te)?v=v.toArray().join(" "):v=v.stringValue();for(var T=v.split(/[\x0d\x0a\x09\x20]+/),q=0,G=new Te,P=u.contextNode.nodeType==9?u.contextNode:u.contextNode.ownerDocument,Ce=0;Ce<T.length;Ce++){var Fe;P.getElementById?Fe=P.getElementById(T[Ce]):Fe=ne.getElementById(P,T[Ce]),Fe!=null&&(G.add(Fe),q++)}return G},re.localName=function(u,v){var T;if(arguments.length==1)T=u.contextNode;else if(arguments.length==2)T=v.evaluate(u).first();else throw new Error("Function local-name expects (node-set?)");return T==null?new te(""):new te(T.localName||T.baseName||T.target||T.nodeName||"")},re.namespaceURI=function(){var u=arguments[0],v;if(arguments.length==1)v=u.contextNode;else if(arguments.length==2)v=arguments[1].evaluate(u).first();else throw new Error("Function namespace-uri expects (node-set?)");return v==null?new te(""):new te(v.namespaceURI)},re.name=function(){var u=arguments[0],v;if(arguments.length==1)v=u.contextNode;else if(arguments.length==2)v=arguments[1].evaluate(u).first();else throw new Error("Function name expects (node-set?)");return v==null?new te(""):v.nodeType==1?new te(v.nodeName):v.nodeType==2?new te(v.name||v.nodeName):v.nodeType===7?new te(v.target||v.nodeName):v.localName==null?new te(""):new te(v.localName)},re.string=function(){var u=arguments[0];if(arguments.length==1)return new te(Te.prototype.stringForNode(u.contextNode));if(arguments.length==2)return arguments[1].evaluate(u).string();throw new Error("Function string expects (object?)")},re.concat=function(u){if(arguments.length<3)throw new Error("Function concat expects (string, string[, string]*)");for(var v="",T=1;T<arguments.length;T++)v+=arguments[T].evaluate(u).stringValue();return new te(v)},re.startsWith=function(){var u=arguments[0];if(arguments.length!=3)throw new Error("Function startsWith expects (string, string)");var v=arguments[1].evaluate(u).stringValue(),T=arguments[2].evaluate(u).stringValue();return new pe(v.substring(0,T.length)==T)},re.contains=function(){var u=arguments[0];if(arguments.length!=3)throw new Error("Function contains expects (string, string)");var v=arguments[1].evaluate(u).stringValue(),T=arguments[2].evaluate(u).stringValue();return new pe(v.indexOf(T)!==-1)},re.substringBefore=function(){var u=arguments[0];if(arguments.length!=3)throw new Error("Function substring-before expects (string, string)");var v=arguments[1].evaluate(u).stringValue(),T=arguments[2].evaluate(u).stringValue();return new te(v.substring(0,v.indexOf(T)))},re.substringAfter=function(){var u=arguments[0];if(arguments.length!=3)throw new Error("Function substring-after expects (string, string)");var v=arguments[1].evaluate(u).stringValue(),T=arguments[2].evaluate(u).stringValue();if(T.length==0)return new te(v);var q=v.indexOf(T);return q==-1?new te(""):new te(v.substring(q+T.length))},re.substring=function(){var u=arguments[0];if(!(arguments.length==3||arguments.length==4))throw new Error("Function substring expects (string, number, number?)");var v=arguments[1].evaluate(u).stringValue(),T=Math.round(arguments[2].evaluate(u).numberValue())-1,q=arguments.length==4?T+Math.round(arguments[3].evaluate(u).numberValue()):void 0;return new te(v.substring(T,q))},re.stringLength=function(){var u=arguments[0],v;if(arguments.length==1)v=Te.prototype.stringForNode(u.contextNode);else if(arguments.length==2)v=arguments[1].evaluate(u).stringValue();else throw new Error("Function string-length expects (string?)");return new oe(v.length)},re.normalizeSpace=function(){var u=arguments[0],v;if(arguments.length==1)v=Te.prototype.stringForNode(u.contextNode);else if(arguments.length==2)v=arguments[1].evaluate(u).stringValue();else throw new Error("Function normalize-space expects (string?)");for(var T=0,q=v.length-1;ne.isSpace(v.charCodeAt(q));)q--;for(var G="";T<=q&&ne.isSpace(v.charCodeAt(T));)T++;for(;T<=q;)if(ne.isSpace(v.charCodeAt(T)))for(G+=" ";T<=q&&ne.isSpace(v.charCodeAt(T));)T++;else G+=v.charAt(T),T++;return new te(G)},re.translate=function(u,v,T,q){if(arguments.length!=4)throw new Error("Function translate expects (string, string, string)");var G=v.evaluate(u).stringValue(),P=T.evaluate(u).stringValue(),Ce=q.evaluate(u).stringValue(),Fe=n(function(_e,Ye,er){return Ye in _e||(_e[Ye]=er>Ce.length?"":Ce[er]),_e},{},P),He=g("",s(function(_e){return _e in Fe?Fe[_e]:_e},G));return new te(He)},re.boolean_=function(){var u=arguments[0];if(arguments.length!=2)throw new Error("Function boolean expects (object)");return arguments[1].evaluate(u).bool()},re.not=function(u,v){if(arguments.length!=2)throw new Error("Function not expects (object)");return v.evaluate(u).bool().not()},re.true_=function(){if(arguments.length!=1)throw new Error("Function true expects ()");return pe.true_},re.false_=function(){if(arguments.length!=1)throw new Error("Function false expects ()");return pe.false_},re.lang=function(){var u=arguments[0];if(arguments.length!=2)throw new Error("Function lang expects (string)");for(var v,T=u.contextNode;T!=null&&T.nodeType!=9;T=T.parentNode){var q=T.getAttributeNS(R.XML_NAMESPACE_URI,"lang");if(q!=null){v=String(q);break}}if(v==null)return pe.false_;var G=arguments[1].evaluate(u).stringValue();return new pe(v.substring(0,G.length)==G&&(v.length==G.length||v.charAt(G.length)=="-"))},re.number=function(){var u=arguments[0];if(!(arguments.length==1||arguments.length==2))throw new Error("Function number expects (object?)");return arguments.length==1?new oe(Te.prototype.stringForNode(u.contextNode)):arguments[1].evaluate(u).number()},re.sum=function(){var u=arguments[0],v;if(arguments.length!=2||!ne.instance_of(v=arguments[1].evaluate(u),Te))throw new Error("Function sum expects (node-set)");v=v.toUnsortedArray();for(var T=0,q=0;q<v.length;q++)T+=new oe(Te.prototype.stringForNode(v[q])).numberValue();return new oe(T)},re.floor=function(){var u=arguments[0];if(arguments.length!=2)throw new Error("Function floor expects (number)");return new oe(Math.floor(arguments[1].evaluate(u).numberValue()))},re.ceiling=function(){var u=arguments[0];if(arguments.length!=2)throw new Error("Function ceiling expects (number)");return new oe(Math.ceil(arguments[1].evaluate(u).numberValue()))},re.round=function(){var u=arguments[0];if(arguments.length!=2)throw new Error("Function round expects (number)");return new oe(Math.round(arguments[1].evaluate(u).numberValue()))};var ne=new Object;ne.isAttribute=function(u){return u&&(u.nodeType===2||u.ownerElement)},ne.splitQName=function(u){var v=u.indexOf(":");return v==-1?[null,u]:[u.substring(0,v),u.substring(v+1)]},ne.resolveQName=function(u,v,T,q){var G=ne.splitQName(u);return G[0]!=null?G[0]=v.getNamespace(G[0],T):q?(G[0]=v.getNamespace("",T),G[0]==null&&(G[0]="")):G[0]="",G},ne.isSpace=function(u){return u==9||u==13||u==10||u==32},ne.isLetter=function(u){return u>=65&&u<=90||u>=97&&u<=122||u>=192&&u<=214||u>=216&&u<=246||u>=248&&u<=255||u>=256&&u<=305||u>=308&&u<=318||u>=321&&u<=328||u>=330&&u<=382||u>=384&&u<=451||u>=461&&u<=496||u>=500&&u<=501||u>=506&&u<=535||u>=592&&u<=680||u>=699&&u<=705||u==902||u>=904&&u<=906||u==908||u>=910&&u<=929||u>=931&&u<=974||u>=976&&u<=982||u==986||u==988||u==990||u==992||u>=994&&u<=1011||u>=1025&&u<=1036||u>=1038&&u<=1103||u>=1105&&u<=1116||u>=1118&&u<=1153||u>=1168&&u<=1220||u>=1223&&u<=1224||u>=1227&&u<=1228||u>=1232&&u<=1259||u>=1262&&u<=1269||u>=1272&&u<=1273||u>=1329&&u<=1366||u==1369||u>=1377&&u<=1414||u>=1488&&u<=1514||u>=1520&&u<=1522||u>=1569&&u<=1594||u>=1601&&u<=1610||u>=1649&&u<=1719||u>=1722&&u<=1726||u>=1728&&u<=1742||u>=1744&&u<=1747||u==1749||u>=1765&&u<=1766||u>=2309&&u<=2361||u==2365||u>=2392&&u<=2401||u>=2437&&u<=2444||u>=2447&&u<=2448||u>=2451&&u<=2472||u>=2474&&u<=2480||u==2482||u>=2486&&u<=2489||u>=2524&&u<=2525||u>=2527&&u<=2529||u>=2544&&u<=2545||u>=2565&&u<=2570||u>=2575&&u<=2576||u>=2579&&u<=2600||u>=2602&&u<=2608||u>=2610&&u<=2611||u>=2613&&u<=2614||u>=2616&&u<=2617||u>=2649&&u<=2652||u==2654||u>=2674&&u<=2676||u>=2693&&u<=2699||u==2701||u>=2703&&u<=2705||u>=2707&&u<=2728||u>=2730&&u<=2736||u>=2738&&u<=2739||u>=2741&&u<=2745||u==2749||u==2784||u>=2821&&u<=2828||u>=2831&&u<=2832||u>=2835&&u<=2856||u>=2858&&u<=2864||u>=2866&&u<=2867||u>=2870&&u<=2873||u==2877||u>=2908&&u<=2909||u>=2911&&u<=2913||u>=2949&&u<=2954||u>=2958&&u<=2960||u>=2962&&u<=2965||u>=2969&&u<=2970||u==2972||u>=2974&&u<=2975||u>=2979&&u<=2980||u>=2984&&u<=2986||u>=2990&&u<=2997||u>=2999&&u<=3001||u>=3077&&u<=3084||u>=3086&&u<=3088||u>=3090&&u<=3112||u>=3114&&u<=3123||u>=3125&&u<=3129||u>=3168&&u<=3169||u>=3205&&u<=3212||u>=3214&&u<=3216||u>=3218&&u<=3240||u>=3242&&u<=3251||u>=3253&&u<=3257||u==3294||u>=3296&&u<=3297||u>=3333&&u<=3340||u>=3342&&u<=3344||u>=3346&&u<=3368||u>=3370&&u<=3385||u>=3424&&u<=3425||u>=3585&&u<=3630||u==3632||u>=3634&&u<=3635||u>=3648&&u<=3653||u>=3713&&u<=3714||u==3716||u>=3719&&u<=3720||u==3722||u==3725||u>=3732&&u<=3735||u>=3737&&u<=3743||u>=3745&&u<=3747||u==3749||u==3751||u>=3754&&u<=3755||u>=3757&&u<=3758||u==3760||u>=3762&&u<=3763||u==3773||u>=3776&&u<=3780||u>=3904&&u<=3911||u>=3913&&u<=3945||u>=4256&&u<=4293||u>=4304&&u<=4342||u==4352||u>=4354&&u<=4355||u>=4357&&u<=4359||u==4361||u>=4363&&u<=4364||u>=4366&&u<=4370||u==4412||u==4414||u==4416||u==4428||u==4430||u==4432||u>=4436&&u<=4437||u==4441||u>=4447&&u<=4449||u==4451||u==4453||u==4455||u==4457||u>=4461&&u<=4462||u>=4466&&u<=4467||u==4469||u==4510||u==4520||u==4523||u>=4526&&u<=4527||u>=4535&&u<=4536||u==4538||u>=4540&&u<=4546||u==4587||u==4592||u==4601||u>=7680&&u<=7835||u>=7840&&u<=7929||u>=7936&&u<=7957||u>=7960&&u<=7965||u>=7968&&u<=8005||u>=8008&&u<=8013||u>=8016&&u<=8023||u==8025||u==8027||u==8029||u>=8031&&u<=8061||u>=8064&&u<=8116||u>=8118&&u<=8124||u==8126||u>=8130&&u<=8132||u>=8134&&u<=8140||u>=8144&&u<=8147||u>=8150&&u<=8155||u>=8160&&u<=8172||u>=8178&&u<=8180||u>=8182&&u<=8188||u==8486||u>=8490&&u<=8491||u==8494||u>=8576&&u<=8578||u>=12353&&u<=12436||u>=12449&&u<=12538||u>=12549&&u<=12588||u>=44032&&u<=55203||u>=19968&&u<=40869||u==12295||u>=12321&&u<=12329},ne.isNCNameChar=function(u){return u>=48&&u<=57||u>=1632&&u<=1641||u>=1776&&u<=1785||u>=2406&&u<=2415||u>=2534&&u<=2543||u>=2662&&u<=2671||u>=2790&&u<=2799||u>=2918&&u<=2927||u>=3047&&u<=3055||u>=3174&&u<=3183||u>=3302&&u<=3311||u>=3430&&u<=3439||u>=3664&&u<=3673||u>=3792&&u<=3801||u>=3872&&u<=3881||u==46||u==45||u==95||ne.isLetter(u)||u>=768&&u<=837||u>=864&&u<=865||u>=1155&&u<=1158||u>=1425&&u<=1441||u>=1443&&u<=1465||u>=1467&&u<=1469||u==1471||u>=1473&&u<=1474||u==1476||u>=1611&&u<=1618||u==1648||u>=1750&&u<=1756||u>=1757&&u<=1759||u>=1760&&u<=1764||u>=1767&&u<=1768||u>=1770&&u<=1773||u>=2305&&u<=2307||u==2364||u>=2366&&u<=2380||u==2381||u>=2385&&u<=2388||u>=2402&&u<=2403||u>=2433&&u<=2435||u==2492||u==2494||u==2495||u>=2496&&u<=2500||u>=2503&&u<=2504||u>=2507&&u<=2509||u==2519||u>=2530&&u<=2531||u==2562||u==2620||u==2622||u==2623||u>=2624&&u<=2626||u>=2631&&u<=2632||u>=2635&&u<=2637||u>=2672&&u<=2673||u>=2689&&u<=2691||u==2748||u>=2750&&u<=2757||u>=2759&&u<=2761||u>=2763&&u<=2765||u>=2817&&u<=2819||u==2876||u>=2878&&u<=2883||u>=2887&&u<=2888||u>=2891&&u<=2893||u>=2902&&u<=2903||u>=2946&&u<=2947||u>=3006&&u<=3010||u>=3014&&u<=3016||u>=3018&&u<=3021||u==3031||u>=3073&&u<=3075||u>=3134&&u<=3140||u>=3142&&u<=3144||u>=3146&&u<=3149||u>=3157&&u<=3158||u>=3202&&u<=3203||u>=3262&&u<=3268||u>=3270&&u<=3272||u>=3274&&u<=3277||u>=3285&&u<=3286||u>=3330&&u<=3331||u>=3390&&u<=3395||u>=3398&&u<=3400||u>=3402&&u<=3405||u==3415||u==3633||u>=3636&&u<=3642||u>=3655&&u<=3662||u==3761||u>=3764&&u<=3769||u>=3771&&u<=3772||u>=3784&&u<=3789||u>=3864&&u<=3865||u==3893||u==3895||u==3897||u==3902||u==3903||u>=3953&&u<=3972||u>=3974&&u<=3979||u>=3984&&u<=3989||u==3991||u>=3993&&u<=4013||u>=4017&&u<=4023||u==4025||u>=8400&&u<=8412||u==8417||u>=12330&&u<=12335||u==12441||u==12442||u==183||u==720||u==721||u==903||u==1600||u==3654||u==3782||u==12293||u>=12337&&u<=12341||u>=12445&&u<=12446||u>=12540&&u<=12542},ne.coalesceText=function(u){for(var v=u.firstChild;v!=null;v=v.nextSibling)if(v.nodeType==3||v.nodeType==4){var T=v.nodeValue,q=v;for(v=v.nextSibling;v!=null&&(v.nodeType==3||v.nodeType==4);){T+=v.nodeValue;var G=v;v=v.nextSibling,G.parentNode.removeChild(G)}if(q.nodeType==4){var P=q.parentNode;if(q.nextSibling==null)P.removeChild(q),P.appendChild(P.ownerDocument.createTextNode(T));else{var Ce=q.nextSibling;P.removeChild(q),P.insertBefore(P.ownerDocument.createTextNode(T),Ce)}}else q.nodeValue=T;if(v==null)break}else v.nodeType==1&&ne.coalesceText(v)},ne.instance_of=function(u,v){for(;u!=null;){if(u.constructor===v)return!0;if(u===Object)return!1;u=u.constructor.superclass}return!1},ne.getElementById=function(u,v){if(u.nodeType==1&&(u.getAttribute("id")==v||u.getAttributeNS(null,"id")==v))return u;for(var T=u.firstChild;T!=null;T=T.nextSibling){var q=ne.getElementById(T,v);if(q!=null)return q}return null};var Pe=function(){function u(T,q){var G=q?": "+q.toString():"";switch(T){case v.INVALID_EXPRESSION_ERR:return"Invalid expression"+G;case v.TYPE_ERR:return"Type error"+G}return null}function v(T,q,G){var P=Error.call(this,u(T,q)||G);return P.code=T,P.exception=q,P}return v.prototype=Object.create(Error.prototype),v.prototype.constructor=v,v.superclass=Error,v.prototype.toString=function(){return this.message},v.fromMessage=function(T,q){return new v(null,q,T)},v.INVALID_EXPRESSION_ERR=51,v.TYPE_ERR=52,v}();z.prototype={},z.prototype.constructor=z,z.superclass=Object.prototype;function z(u,v,T){this.xpath=T.parse(u),this.context=new sr,this.context.namespaceResolver=new F(v)}z.getOwnerDocument=function(u){return u.nodeType===9?u:u.ownerDocument},z.detectHtmlDom=function(u){if(!u)return!1;var v=z.getOwnerDocument(u);try{return v.implementation.hasFeature("HTML","2.0")}catch{return!0}},z.prototype.evaluate=function(u,v,T){this.context.expressionContextNode=u,this.context.caseInsensitive=z.detectHtmlDom(u);var q=this.xpath.evaluate(this.context);return new B(q,v)},F.prototype={},F.prototype.constructor=F,F.superclass=Object.prototype;function F(u){this.xpathNSResolver=u}F.prototype.getNamespace=function(u,v){return this.xpathNSResolver==null?null:this.xpathNSResolver.lookupNamespaceURI(u)},O.prototype={},O.prototype.constructor=O,O.superclass=Object.prototype;function O(u){this.node=u,this.namespaceResolver=new ae}O.prototype.lookupNamespaceURI=function(u){return this.namespaceResolver.getNamespace(u,this.node)},B.prototype={},B.prototype.constructor=B,B.superclass=Object.prototype;function B(u,v){switch(v==B.ANY_TYPE&&(u.constructor===te?v=B.STRING_TYPE:u.constructor===oe?v=B.NUMBER_TYPE:u.constructor===pe?v=B.BOOLEAN_TYPE:u.constructor===Te&&(v=B.UNORDERED_NODE_ITERATOR_TYPE)),this.resultType=v,v){case B.NUMBER_TYPE:this.numberValue=u.numberValue();return;case B.STRING_TYPE:this.stringValue=u.stringValue();return;case B.BOOLEAN_TYPE:this.booleanValue=u.booleanValue();return;case B.ANY_UNORDERED_NODE_TYPE:case B.FIRST_ORDERED_NODE_TYPE:if(u.constructor===Te){this.singleNodeValue=u.first();return}break;case B.UNORDERED_NODE_ITERATOR_TYPE:case B.ORDERED_NODE_ITERATOR_TYPE:if(u.constructor===Te){this.invalidIteratorState=!1,this.nodes=u.toArray(),this.iteratorIndex=0;return}break;case B.UNORDERED_NODE_SNAPSHOT_TYPE:case B.ORDERED_NODE_SNAPSHOT_TYPE:if(u.constructor===Te){this.nodes=u.toArray(),this.snapshotLength=this.nodes.length;return}break}throw new Pe(Pe.TYPE_ERR)}B.prototype.iterateNext=function(){if(this.resultType!=B.UNORDERED_NODE_ITERATOR_TYPE&&this.resultType!=B.ORDERED_NODE_ITERATOR_TYPE)throw new Pe(Pe.TYPE_ERR);return this.nodes[this.iteratorIndex++]},B.prototype.snapshotItem=function(u){if(this.resultType!=B.UNORDERED_NODE_SNAPSHOT_TYPE&&this.resultType!=B.ORDERED_NODE_SNAPSHOT_TYPE)throw new Pe(Pe.TYPE_ERR);return this.nodes[u]},B.ANY_TYPE=0,B.NUMBER_TYPE=1,B.STRING_TYPE=2,B.BOOLEAN_TYPE=3,B.UNORDERED_NODE_ITERATOR_TYPE=4,B.ORDERED_NODE_ITERATOR_TYPE=5,B.UNORDERED_NODE_SNAPSHOT_TYPE=6,B.ORDERED_NODE_SNAPSHOT_TYPE=7,B.ANY_UNORDERED_NODE_TYPE=8,B.FIRST_ORDERED_NODE_TYPE=9;function Z(u,v){u.createExpression=function(T,q){try{return new z(T,q,v)}catch(G){throw new Pe(Pe.INVALID_EXPRESSION_ERR,G)}},u.createNSResolver=function(T){return new O(T)},u.evaluate=function(T,q,G,P,Ce){if(P<0||P>9)throw{code:0,toString:function(){return"Request type not supported"}};return u.createExpression(T,G,v).evaluate(q,P,Ce)}}try{var E=!0;try{document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("XPath",null)&&(E=!1)}catch{}E&&Z(document,new _)}catch{}Z(r,new _),function(){var u=new _,v=new ae,T=new $,q=new ee;function G(ke){return{getNamespace:function(ot,fi){var fo=ke(ot,fi);return fo||v.getNamespace(ot,fi)}}}function P(ke){return G(ke.getNamespace.bind(ke))}function Ce(ke){return G(function(ot){return ke[ot]})}function Fe(ke){return ke&&typeof ke.getNamespace=="function"?P(ke):typeof ke=="function"?G(ke):typeof ke=="object"?Ce(ke):v}function He(ke){if(ke===null||typeof ke>"u"||ke instanceof te||ke instanceof pe||ke instanceof oe||ke instanceof Te)return ke;switch(typeof ke){case"string":return new te(ke);case"boolean":return new pe(ke);case"number":return new oe(ke)}var ot=new Te;return ot.addArray([].concat(ke)),ot}function _e(ke){return function(ot){var fi=Array.prototype.slice.call(arguments,1).map(function(Tq){return Tq.evaluate(ot)}),fo=ke.apply(this,[].concat(ot,fi));return He(fo)}}function Ye(ke){return{getFunction:function(ot,fi){var fo=ke(ot,fi);return fo?_e(fo):T.getFunction(ot,fi)}}}function er(ke){return Ye(ke.getFunction.bind(ke))}function ti(ke){return Ye(function(ot){return ke[ot]})}function Tt(ke){return ke&&typeof ke.getFunction=="function"?er(ke):typeof ke=="function"?Ye(ke):typeof ke=="object"?ti(ke):T}function Bn(ke){return{getVariable:function(ot,fi){var fo=ke(ot,fi);return He(fo)}}}function Kv(ke){if(ke){if(typeof ke.getVariable=="function")return Bn(ke.getVariable.bind(ke));if(typeof ke=="function")return Bn(ke);if(typeof ke=="object")return Bn(function(ot){return ke[ot]})}return q}function A(ke,ot,fi){ke in fi&&(ot[ke]=fi[ke])}function he(ke){var ot=new sr;return ke?(ot.namespaceResolver=Fe(ke.namespaces),ot.functionResolver=Tt(ke.functions),ot.variableResolver=Kv(ke.variables),ot.expressionContextNode=ke.node,A("allowAnyNamespaceForNoPrefix",ot,ke),A("isHtml",ot,ke)):ot.namespaceResolver=v,ot}function ze(ke,ot){var fi=he(ot);return ke.evaluate(fi)}var pt={evaluate:function(ke){return ze(this.expression,ke)},evaluateNumber:function(ke){return this.evaluate(ke).numberValue()},evaluateString:function(ke){return this.evaluate(ke).stringValue()},evaluateBoolean:function(ke){return this.evaluate(ke).booleanValue()},evaluateNodeSet:function(ke){return this.evaluate(ke).nodeset()},select:function(ke){return this.evaluateNodeSet(ke).toArray()},select1:function(ke){return this.select(ke)[0]}};function xt(ke){var ot=u.parse(ke);return Object.create(pt,{expression:{value:ot}})}r.parse=xt}(),C(r,{XPath:R,XPathParser:_,XPathResult:B,Step:ce,PathExpr:ye,NodeTest:ve,LocationPath:Je,OrOperation:K,AndOperation:Q,BarOperation:fe,EqualsOperation:le,NotEqualOperation:ge,LessThanOperation:j,GreaterThanOperation:N,LessThanOrEqualOperation:X,GreaterThanOrEqualOperation:U,PlusOperation:k,MinusOperation:W,MultiplyOperation:J,DivOperation:se,ModOperation:ue,UnaryMinusOperation:L,FunctionCall:Ie,VariableReference:Xe,XPathContext:sr,XNodeSet:Te,XBoolean:pe,XString:te,XNumber:oe,NamespaceResolver:ae,FunctionResolver:$,VariableResolver:ee,Utilities:ne}),r.select=function(u,v,T){return r.selectWithResolver(u,v,null,T)},r.useNamespaces=function(u){var v={mappings:u||{},lookupNamespaceURI:function(T){return this.mappings[T]}};return function(T,q,G){return r.selectWithResolver(T,q,v,G)}},r.selectWithResolver=function(u,v,T,q){var G=new z(u,T,new _),P=B.ANY_TYPE,Ce=G.evaluate(v,P,null);return Ce.resultType==B.STRING_TYPE?Ce=Ce.stringValue:Ce.resultType==B.NUMBER_TYPE?Ce=Ce.numberValue:Ce.resultType==B.BOOLEAN_TYPE?Ce=Ce.booleanValue:(Ce=Ce.nodes,q&&(Ce=Ce[0])),Ce},r.select1=function(u,v){return r.select(u,v,!0)}})(Jae)});var kj=x(Cj=>{Cj.entityMap={lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",times:"\xD7",divide:"\xF7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",euro:"\u20AC",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}});var Ij=x(Ok=>{var Ak=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Rj=new RegExp("[\\-\\.0-9"+Ak.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),xj=new RegExp("^"+Ak.source+Rj.source+"*(?::"+Ak.source+Rj.source+"*)?$"),qf=0,la=1,fu=2,Wf=3,hu=4,pu=5,zf=6,N0=7;function gu(r,t){this.message=r,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,gu)}gu.prototype=new Error;gu.prototype.name=gu.name;function Nj(){}Nj.prototype={parse:function(r,t,i){var n=this.domBuilder;n.startDocument(),Dj(t,t={}),Zae(r,t,i,n,this.errorHandler),n.endDocument()}};function Zae(r,t,i,n,s){function o(J){if(J>65535){J-=65536;var se=55296+(J>>10),ue=56320+(J&1023);return String.fromCharCode(se,ue)}else return String.fromCharCode(J)}function l(J){var se=J.slice(1,-1);return se in i?i[se]:se.charAt(0)==="#"?o(parseInt(se.substr(1).replace("x","0x"))):(s.error("entity not found:"+J),J)}function h(J){if(J>_){var se=r.substring(_,J).replace(/&#?\w+;/g,l);S&&p(_),n.characters(se,0,J-_),_=J}}function p(J,se){for(;J>=m&&(se=y.exec(r));)g=se.index,m=g+se[0].length,S.lineNumber++;S.columnNumber=J-g+1}for(var g=0,m=0,y=/.*(?:\r\n?|\n)|.*$/g,S=n.locator,w=[{currentNSMap:t}],C={},_=0;;){try{var R=r.indexOf("<",_);if(R<0){if(!r.substr(_).match(/^\s*$/)){var D=n.doc,I=D.createTextNode(r.substr(_));D.appendChild(I),n.currentElement=I}return}switch(R>_&&h(R),r.charAt(R+1)){case"/":var N=r.indexOf(">",R+3),M=r.substring(R+2,N),L=w.pop();N<0?(M=r.substring(R+2).replace(/[\s<].*/,""),s.error("end tag name: "+M+" is not complete:"+L.tagName),N=R+1+M.length):M.match(/\s</)&&(M=M.replace(/[\s<].*/,""),s.error("end tag name: "+M+" maybe not complete"),N=R+1+M.length);var V=L.localNSMap,K=L.tagName==M,Q=K||L.tagName&&L.tagName.toLowerCase()==M.toLowerCase();if(Q){if(n.endElement(L.uri,L.localName,M),V)for(var le in V)n.endPrefixMapping(le);K||s.fatalError("end tag name: "+M+" is not match the current start tagName:"+L.tagName)}else w.push(L);N++;break;case"?":S&&p(R),N=ile(r,R,n);break;case"!":S&&p(R),N=rle(r,R,n,s);break;default:S&&p(R);var ge=new Pj,j=w[w.length-1].currentNSMap,N=Qae(r,R,ge,j,l,s),X=ge.length;if(!ge.closed&&tle(r,N,ge.tagName,C)&&(ge.closed=!0,i.nbsp||s.warning("unclosed xml attribute")),S&&X){for(var U=Aj(S,{}),k=0;k<X;k++){var W=ge[k];p(W.offset),W.locator=Aj(S,{})}n.locator=U,Oj(ge,n,j)&&w.push(ge),n.locator=S}else Oj(ge,n,j)&&w.push(ge);ge.uri==="http://www.w3.org/1999/xhtml"&&!ge.closed?N=ele(r,N,ge.tagName,l,n):N++}}catch(J){if(J instanceof gu)throw J;s.error("element parse error: "+J),N=-1}N>_?_=N:h(Math.max(R,_)+1)}}function Aj(r,t){return t.lineNumber=r.lineNumber,t.columnNumber=r.columnNumber,t}function Qae(r,t,i,n,s,o){function l(w,C,_){w in i.attributeNames&&o.fatalError("Attribute "+w+" redefined"),i.addValue(w,C,_)}for(var h,p,g=++t,m=qf;;){var y=r.charAt(g);switch(y){case"=":if(m===la)h=r.slice(t,g),m=Wf;else if(m===fu)m=Wf;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(m===Wf||m===la)if(m===la&&(o.warning('attribute value must after "="'),h=r.slice(t,g)),t=g+1,g=r.indexOf(y,t),g>0)p=r.slice(t,g).replace(/&#?\w+;/g,s),l(h,p,t-1),m=pu;else throw new Error("attribute value no end '"+y+"' match");else if(m==hu)p=r.slice(t,g).replace(/&#?\w+;/g,s),l(h,p,t),o.warning('attribute "'+h+'" missed start quot('+y+")!!"),t=g+1,m=pu;else throw new Error('attribute value must after "="');break;case"/":switch(m){case qf:i.setTagName(r.slice(t,g));case pu:case zf:case N0:m=N0,i.closed=!0;case hu:case la:case fu:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),m==qf&&i.setTagName(r.slice(t,g)),g;case">":switch(m){case qf:i.setTagName(r.slice(t,g));case pu:case zf:case N0:break;case hu:case la:p=r.slice(t,g),p.slice(-1)==="/"&&(i.closed=!0,p=p.slice(0,-1));case fu:m===fu&&(p=h),m==hu?(o.warning('attribute "'+p+'" missed quot(")!'),l(h,p.replace(/&#?\w+;/g,s),t)):((n[""]!=="http://www.w3.org/1999/xhtml"||!p.match(/^(?:disabled|checked|selected)$/i))&&o.warning('attribute "'+p+'" missed value!! "'+p+'" instead!!'),l(p,p,t));break;case Wf:throw new Error("attribute value missed!!")}return g;case"\x80":y=" ";default:if(y<=" ")switch(m){case qf:i.setTagName(r.slice(t,g)),m=zf;break;case la:h=r.slice(t,g),m=fu;break;case hu:var p=r.slice(t,g).replace(/&#?\w+;/g,s);o.warning('attribute "'+p+'" missed quot(")!!'),l(h,p,t);case pu:m=zf;break}else switch(m){case fu:var S=i.tagName;(n[""]!=="http://www.w3.org/1999/xhtml"||!h.match(/^(?:disabled|checked|selected)$/i))&&o.warning('attribute "'+h+'" missed value!! "'+h+'" instead2!!'),l(h,h,t),t=g,m=la;break;case pu:o.warning('attribute space is required"'+h+'"!!');case zf:m=la,t=g;break;case Wf:m=hu,t=g;break;case N0:throw new Error("elements closed character '/' and '>' must be connected to")}}g++}}function Oj(r,t,i){for(var n=r.tagName,s=null,y=r.length;y--;){var o=r[y],l=o.qName,h=o.value,S=l.indexOf(":");if(S>0)var p=o.prefix=l.slice(0,S),g=l.slice(S+1),m=p==="xmlns"&&g;else g=l,p=null,m=l==="xmlns"&&"";o.localName=g,m!==!1&&(s==null&&(s={},Dj(i,i={})),i[m]=s[m]=h,o.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(m,h))}for(var y=r.length;y--;){o=r[y];var p=o.prefix;p&&(p==="xml"&&(o.uri="http://www.w3.org/XML/1998/namespace"),p!=="xmlns"&&(o.uri=i[p||""]))}var S=n.indexOf(":");S>0?(p=r.prefix=n.slice(0,S),g=r.localName=n.slice(S+1)):(p=null,g=r.localName=n);var w=r.uri=i[p||""];if(t.startElement(w,g,n,r),r.closed){if(t.endElement(w,g,n),s)for(p in s)t.endPrefixMapping(p)}else return r.currentNSMap=i,r.localNSMap=s,!0}function ele(r,t,i,n,s){if(/^(?:script|textarea)$/i.test(i)){var o=r.indexOf("</"+i+">",t),l=r.substring(t+1,o);if(/[&<]/.test(l))return/^script$/i.test(i)?(s.characters(l,0,l.length),o):(l=l.replace(/&#?\w+;/g,n),s.characters(l,0,l.length),o)}return t+1}function tle(r,t,i,n){var s=n[i];return s==null&&(s=r.lastIndexOf("</"+i+">"),s<t&&(s=r.lastIndexOf("</"+i)),n[i]=s),s<t}function Dj(r,t){for(var i in r)t[i]=r[i]}function rle(r,t,i,n){var s=r.charAt(t+2);switch(s){case"-":if(r.charAt(t+3)==="-"){var o=r.indexOf("-->",t+4);return o>t?(i.comment(r,t+4,o-t-4),o+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(r.substr(t+3,6)=="CDATA["){var o=r.indexOf("]]>",t+9);return i.startCDATA(),i.characters(r,t+9,o-t-9),i.endCDATA(),o+3}var l=nle(r,t),h=l.length;if(h>1&&/!doctype/i.test(l[0][0])){var p=l[1][0],g=!1,m=!1;h>3&&(/^public$/i.test(l[2][0])?(g=l[3][0],m=h>4&&l[4][0]):/^system$/i.test(l[2][0])&&(m=l[3][0]));var y=l[h-1];return i.startDTD(p,g,m),i.endDTD(),y.index+y[0].length}}return-1}function ile(r,t,i){var n=r.indexOf("?>",t);if(n){var s=r.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(s){var o=s[0].length;return i.processingInstruction(s[1],s[2]),n+2}else return-1}return-1}function Pj(){this.attributeNames={}}Pj.prototype={setTagName:function(r){if(!xj.test(r))throw new Error("invalid tagName:"+r);this.tagName=r},addValue:function(r,t,i){if(!xj.test(r))throw new Error("invalid attribute:"+r);this.attributeNames[r]=this.length,this[this.length++]={qName:r,value:t,offset:i}},length:0,getLocalName:function(r){return this[r].localName},getLocator:function(r){return this[r].locator},getQName:function(r){return this[r].qName},getURI:function(r){return this[r].uri},getValue:function(r){return this[r].value}};function nle(r,t){var i,n=[],s=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(s.lastIndex=t,s.exec(r);i=s.exec(r);)if(n.push(i),i[1])return n}Ok.XMLReader=Nj;Ok.ParseError=gu});var Uk=x(Yf=>{function Vf(r,t){for(var i in r)t[i]=r[i]}function Ti(r,t){var i=r.prototype;if(!(i instanceof t)){let s=function(){};var n=s;s.prototype=t.prototype,s=new s,Vf(i,s),r.prototype=i=s}i.constructor!=r&&(typeof r!="function"&&console.error("unknow Class:"+r),i.constructor=r)}var sle="http://www.w3.org/1999/xhtml",Ci={},On=Ci.ELEMENT_NODE=1,yu=Ci.ATTRIBUTE_NODE=2,D0=Ci.TEXT_NODE=3,Uj=Ci.CDATA_SECTION_NODE=4,qj=Ci.ENTITY_REFERENCE_NODE=5,ole=Ci.ENTITY_NODE=6,Wj=Ci.PROCESSING_INSTRUCTION_NODE=7,zj=Ci.COMMENT_NODE=8,Hj=Ci.DOCUMENT_NODE=9,Vj=Ci.DOCUMENT_TYPE_NODE=10,Zs=Ci.DOCUMENT_FRAGMENT_NODE=11,ale=Ci.NOTATION_NODE=12,Jr={},Ar={},Qwe=Jr.INDEX_SIZE_ERR=(Ar[1]="Index size error",1),e_e=Jr.DOMSTRING_SIZE_ERR=(Ar[2]="DOMString size error",2),lle=Jr.HIERARCHY_REQUEST_ERR=(Ar[3]="Hierarchy request error",3),t_e=Jr.WRONG_DOCUMENT_ERR=(Ar[4]="Wrong document",4),r_e=Jr.INVALID_CHARACTER_ERR=(Ar[5]="Invalid character",5),i_e=Jr.NO_DATA_ALLOWED_ERR=(Ar[6]="No data allowed",6),n_e=Jr.NO_MODIFICATION_ALLOWED_ERR=(Ar[7]="No modification allowed",7),cle=Jr.NOT_FOUND_ERR=(Ar[8]="Not found",8),s_e=Jr.NOT_SUPPORTED_ERR=(Ar[9]="Not supported",9),Lj=Jr.INUSE_ATTRIBUTE_ERR=(Ar[10]="Attribute in use",10),o_e=Jr.INVALID_STATE_ERR=(Ar[11]="Invalid state",11),a_e=Jr.SYNTAX_ERR=(Ar[12]="Syntax error",12),l_e=Jr.INVALID_MODIFICATION_ERR=(Ar[13]="Invalid modification",13),c_e=Jr.NAMESPACE_ERR=(Ar[14]="Invalid namespace",14),u_e=Jr.INVALID_ACCESS_ERR=(Ar[15]="Invalid access",15);function ul(r,t){if(t instanceof Error)var i=t;else i=this,Error.call(this,Ar[r]),this.message=Ar[r],Error.captureStackTrace&&Error.captureStackTrace(this,ul);return i.code=r,t&&(this.message=this.message+": "+t),i}ul.prototype=Error.prototype;Vf(Jr,ul);function ca(){}ca.prototype={length:0,item:function(r){return this[r]||null},toString:function(r,t){for(var i=[],n=0;n<this.length;n++)mu(this[n],i,r,t);return i.join("")}};function vu(r,t){this._node=r,this._refresh=t,Dk(this)}function Dk(r){var t=r._node._inc||r._node.ownerDocument._inc;if(r._inc!=t){var i=r._refresh(r._node);rB(r,"length",i.length),Vf(i,r),r._inc=t}}vu.prototype.item=function(r){return Dk(this),this[r]};Ti(vu,ca);function P0(){}function $j(r,t){for(var i=r.length;i--;)if(r[i]===t)return i}function Mj(r,t,i,n){if(n?t[$j(t,n)]=i:t[t.length++]=i,r){i.ownerElement=r;var s=r.ownerDocument;s&&(n&&Yj(s,r,n),ule(s,r,i))}}function Fj(r,t,i){var n=$j(t,i);if(n>=0){for(var s=t.length-1;n<s;)t[n]=t[++n];if(t.length=s,r){var o=r.ownerDocument;o&&(Yj(o,r,i),i.ownerElement=null)}}else throw ul(cle,new Error(r.tagName+"@"+i))}P0.prototype={length:0,item:ca.prototype.item,getNamedItem:function(r){for(var t=this.length;t--;){var i=this[t];if(i.nodeName==r)return i}},setNamedItem:function(r){var t=r.ownerElement;if(t&&t!=this._ownerElement)throw new ul(Lj);var i=this.getNamedItem(r.nodeName);return Mj(this._ownerElement,this,r,i),i},setNamedItemNS:function(r){var t=r.ownerElement,i;if(t&&t!=this._ownerElement)throw new ul(Lj);return i=this.getNamedItemNS(r.namespaceURI,r.localName),Mj(this._ownerElement,this,r,i),i},removeNamedItem:function(r){var t=this.getNamedItem(r);return Fj(this._ownerElement,this,t),t},removeNamedItemNS:function(r,t){var i=this.getNamedItemNS(r,t);return Fj(this._ownerElement,this,i),i},getNamedItemNS:function(r,t){for(var i=this.length;i--;){var n=this[i];if(n.localName==t&&n.namespaceURI==r)return n}return null}};function Gj(r){if(this._features={},r)for(var t in r)this._features=r[t]}Gj.prototype={hasFeature:function(r,t){var i=this._features[r.toLowerCase()];return!!(i&&(!t||t in i))},createDocument:function(r,t,i){var n=new $f;if(n.implementation=this,n.childNodes=new ca,n.doctype=i,i&&n.appendChild(i),t){var s=n.createElementNS(r,t);n.appendChild(s)}return n},createDocumentType:function(r,t,i){var n=new Fk;return n.name=r,n.nodeName=r,n.publicId=t,n.systemId=i,n}};function Zr(){}Zr.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(r,t){return Xj(this,r,t)},replaceChild:function(r,t){this.insertBefore(r,t),t&&this.removeChild(t)},removeChild:function(r){return Kj(this,r)},appendChild:function(r){return this.insertBefore(r,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(r){return Nk(this.ownerDocument||this,this,r)},normalize:function(){for(var r=this.firstChild;r;){var t=r.nextSibling;t&&t.nodeType==D0&&r.nodeType==D0?(this.removeChild(t),r.appendData(t.data)):(r.normalize(),r=t)}},isSupported:function(r,t){return this.ownerDocument.implementation.hasFeature(r,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(r){for(var t=this;t;){var i=t._nsMap;if(i){for(var n in i)if(i[n]==r)return n}t=t.nodeType==yu?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(r){for(var t=this;t;){var i=t._nsMap;if(i&&r in i)return i[r];t=t.nodeType==yu?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(r){var t=this.lookupPrefix(r);return t==null}};function jj(r){return r=="<"&&"&lt;"||r==">"&&"&gt;"||r=="&"&&"&amp;"||r=='"'&&"&quot;"||"&#"+r.charCodeAt()+";"}Vf(Ci,Zr);Vf(Ci,Zr.prototype);function Hf(r,t){if(t(r))return!0;if(r=r.firstChild)do if(Hf(r,t))return!0;while(r=r.nextSibling)}function $f(){}function ule(r,t,i){r&&r._inc++;var n=i.namespaceURI;n=="http://www.w3.org/2000/xmlns/"&&(t._nsMap[i.prefix?i.localName:""]=i.value)}function Yj(r,t,i,n){r&&r._inc++;var s=i.namespaceURI;s=="http://www.w3.org/2000/xmlns/"&&delete t._nsMap[i.prefix?i.localName:""]}function Pk(r,t,i){if(r&&r._inc){r._inc++;var n=t.childNodes;if(i)n[n.length++]=i;else{for(var s=t.firstChild,o=0;s;)n[o++]=s,s=s.nextSibling;n.length=o}}}function Kj(r,t){var i=t.previousSibling,n=t.nextSibling;return i?i.nextSibling=n:r.firstChild=n,n?n.previousSibling=i:r.lastChild=i,Pk(r.ownerDocument,r),t}function Xj(r,t,i){var n=t.parentNode;if(n&&n.removeChild(t),t.nodeType===Zs){var s=t.firstChild;if(s==null)return t;var o=t.lastChild}else s=o=t;var l=i?i.previousSibling:r.lastChild;s.previousSibling=l,o.nextSibling=i,l?l.nextSibling=s:r.firstChild=s,i==null?r.lastChild=o:i.previousSibling=o;do s.parentNode=r;while(s!==o&&(s=s.nextSibling));return Pk(r.ownerDocument||r,r),t.nodeType==Zs&&(t.firstChild=t.lastChild=null),t}function dle(r,t){var i=t.parentNode;if(i){var n=r.lastChild;i.removeChild(t);var n=r.lastChild}var n=r.lastChild;return t.parentNode=r,t.previousSibling=n,t.nextSibling=null,n?n.nextSibling=t:r.firstChild=t,r.lastChild=t,Pk(r.ownerDocument,r,t),t}$f.prototype={nodeName:"#document",nodeType:Hj,doctype:null,documentElement:null,_inc:1,insertBefore:function(r,t){if(r.nodeType==Zs){for(var i=r.firstChild;i;){var n=i.nextSibling;this.insertBefore(i,t),i=n}return r}return this.documentElement==null&&r.nodeType==On&&(this.documentElement=r),Xj(this,r,t),r.ownerDocument=this,r},removeChild:function(r){return this.documentElement==r&&(this.documentElement=null),Kj(this,r)},importNode:function(r,t){return tB(this,r,t)},getElementById:function(r){var t=null;return Hf(this.documentElement,function(i){if(i.nodeType==On&&i.getAttribute("id")==r)return t=i,!0}),t},getElementsByClassName:function(r){var t=new RegExp("(^|\\s)"+r+"(\\s|$)");return new vu(this,function(i){var n=[];return Hf(i.documentElement,function(s){s!==i&&s.nodeType==On&&t.test(s.getAttribute("class"))&&n.push(s)}),n})},createElement:function(r){var t=new bu;t.ownerDocument=this,t.nodeName=r,t.tagName=r,t.childNodes=new ca;var i=t.attributes=new P0;return i._ownerElement=t,t},createDocumentFragment:function(){var r=new L0;return r.ownerDocument=this,r.childNodes=new ca,r},createTextNode:function(r){var t=new Ik;return t.ownerDocument=this,t.appendData(r),t},createComment:function(r){var t=new Lk;return t.ownerDocument=this,t.appendData(r),t},createCDATASection:function(r){var t=new Mk;return t.ownerDocument=this,t.appendData(r),t},createProcessingInstruction:function(r,t){var i=new Bk;return i.ownerDocument=this,i.tagName=i.target=r,i.nodeValue=i.data=t,i},createAttribute:function(r){var t=new I0;return t.ownerDocument=this,t.name=r,t.nodeName=r,t.localName=r,t.specified=!0,t},createEntityReference:function(r){var t=new jk;return t.ownerDocument=this,t.nodeName=r,t},createElementNS:function(r,t){var i=new bu,n=t.split(":"),s=i.attributes=new P0;return i.childNodes=new ca,i.ownerDocument=this,i.nodeName=t,i.tagName=t,i.namespaceURI=r,n.length==2?(i.prefix=n[0],i.localName=n[1]):i.localName=t,s._ownerElement=i,i},createAttributeNS:function(r,t){var i=new I0,n=t.split(":");return i.ownerDocument=this,i.nodeName=t,i.name=t,i.namespaceURI=r,i.specified=!0,n.length==2?(i.prefix=n[0],i.localName=n[1]):i.localName=t,i}};Ti($f,Zr);function bu(){this._nsMap={}}bu.prototype={nodeType:On,hasAttribute:function(r){return this.getAttributeNode(r)!=null},getAttribute:function(r){var t=this.getAttributeNode(r);return t&&t.value||""},getAttributeNode:function(r){return this.attributes.getNamedItem(r)},setAttribute:function(r,t){var i=this.ownerDocument.createAttribute(r);i.value=i.nodeValue=""+t,this.setAttributeNode(i)},removeAttribute:function(r){var t=this.getAttributeNode(r);t&&this.removeAttributeNode(t)},appendChild:function(r){return r.nodeType===Zs?this.insertBefore(r,null):dle(this,r)},setAttributeNode:function(r){return this.attributes.setNamedItem(r)},setAttributeNodeNS:function(r){return this.attributes.setNamedItemNS(r)},removeAttributeNode:function(r){return this.attributes.removeNamedItem(r.nodeName)},removeAttributeNS:function(r,t){var i=this.getAttributeNodeNS(r,t);i&&this.removeAttributeNode(i)},hasAttributeNS:function(r,t){return this.getAttributeNodeNS(r,t)!=null},getAttributeNS:function(r,t){var i=this.getAttributeNodeNS(r,t);return i&&i.value||""},setAttributeNS:function(r,t,i){var n=this.ownerDocument.createAttributeNS(r,t);n.value=n.nodeValue=""+i,this.setAttributeNode(n)},getAttributeNodeNS:function(r,t){return this.attributes.getNamedItemNS(r,t)},getElementsByTagName:function(r){return new vu(this,function(t){var i=[];return Hf(t,function(n){n!==t&&n.nodeType==On&&(r==="*"||n.tagName==r)&&i.push(n)}),i})},getElementsByTagNameNS:function(r,t){return new vu(this,function(i){var n=[];return Hf(i,function(s){s!==i&&s.nodeType===On&&(r==="*"||s.namespaceURI===r)&&(t==="*"||s.localName==t)&&n.push(s)}),n})}};$f.prototype.getElementsByTagName=bu.prototype.getElementsByTagName;$f.prototype.getElementsByTagNameNS=bu.prototype.getElementsByTagNameNS;Ti(bu,Zr);function I0(){}I0.prototype.nodeType=yu;Ti(I0,Zr);function Gf(){}Gf.prototype={data:"",substringData:function(r,t){return this.data.substring(r,r+t)},appendData:function(r){r=this.data+r,this.nodeValue=this.data=r,this.length=r.length},insertData:function(r,t){this.replaceData(r,0,t)},appendChild:function(r){throw new Error(Ar[lle])},deleteData:function(r,t){this.replaceData(r,t,"")},replaceData:function(r,t,i){var n=this.data.substring(0,r),s=this.data.substring(r+t);i=n+i+s,this.nodeValue=this.data=i,this.length=i.length}};Ti(Gf,Zr);function Ik(){}Ik.prototype={nodeName:"#text",nodeType:D0,splitText:function(r){var t=this.data,i=t.substring(r);t=t.substring(0,r),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(i);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}};Ti(Ik,Gf);function Lk(){}Lk.prototype={nodeName:"#comment",nodeType:zj};Ti(Lk,Gf);function Mk(){}Mk.prototype={nodeName:"#cdata-section",nodeType:Uj};Ti(Mk,Gf);function Fk(){}Fk.prototype.nodeType=Vj;Ti(Fk,Zr);function Jj(){}Jj.prototype.nodeType=ale;Ti(Jj,Zr);function Zj(){}Zj.prototype.nodeType=ole;Ti(Zj,Zr);function jk(){}jk.prototype.nodeType=qj;Ti(jk,Zr);function L0(){}L0.prototype.nodeName="#document-fragment";L0.prototype.nodeType=Zs;Ti(L0,Zr);function Bk(){}Bk.prototype.nodeType=Wj;Ti(Bk,Zr);function Qj(){}Qj.prototype.serializeToString=function(r,t,i){return eB.call(r,t,i)};Zr.prototype.toString=eB;function eB(r,t){var i=[],n=this.nodeType==9&&this.documentElement||this,s=n.prefix,o=n.namespaceURI;if(o&&s==null){var s=n.lookupPrefix(o);if(s==null)var l=[{namespace:o,prefix:null}]}return mu(this,i,r,t,l),i.join("")}function Bj(r,t,i){var n=r.prefix||"",s=r.namespaceURI;if(!n&&!s||n==="xml"&&s==="http://www.w3.org/XML/1998/namespace"||s=="http://www.w3.org/2000/xmlns/")return!1;for(var o=i.length;o--;){var l=i[o];if(l.prefix==n)return l.namespace!=s}return!0}function mu(r,t,i,n,s){if(n)if(r=n(r),r){if(typeof r=="string"){t.push(r);return}}else return;switch(r.nodeType){case On:s||(s=[]);var o=s.length,l=r.attributes,h=l.length,C=r.firstChild,p=r.tagName;i=sle===r.namespaceURI||i,t.push("<",p);for(var g=0;g<h;g++){var m=l.item(g);m.prefix=="xmlns"?s.push({prefix:m.localName,namespace:m.value}):m.nodeName=="xmlns"&&s.push({prefix:"",namespace:m.value})}for(var g=0;g<h;g++){var m=l.item(g);if(Bj(m,i,s)){var y=m.prefix||"",S=m.namespaceURI,w=y?" xmlns:"+y:" xmlns";t.push(w,'="',S,'"'),s.push({prefix:y,namespace:S})}mu(m,t,i,n,s)}if(Bj(r,i,s)){var y=r.prefix||"",S=r.namespaceURI;if(S){var w=y?" xmlns:"+y:" xmlns";t.push(w,'="',S,'"'),s.push({prefix:y,namespace:S})}}if(C||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(p)){if(t.push(">"),i&&/^script$/i.test(p))for(;C;)C.data?t.push(C.data):mu(C,t,i,n,s),C=C.nextSibling;else for(;C;)mu(C,t,i,n,s),C=C.nextSibling;t.push("</",p,">")}else t.push("/>");return;case Hj:case Zs:for(var C=r.firstChild;C;)mu(C,t,i,n,s),C=C.nextSibling;return;case yu:return t.push(" ",r.name,'="',r.value.replace(/[<&"]/g,jj),'"');case D0:return t.push(r.data.replace(/[<&]/g,jj).replace(/]]>/g,"]]&gt;"));case Uj:return t.push("<![CDATA[",r.data,"]]>");case zj:return t.push("<!--",r.data,"-->");case Vj:var _=r.publicId,R=r.systemId;if(t.push("<!DOCTYPE ",r.name),_)t.push(" PUBLIC ",_),R&&R!="."&&t.push(" ",R),t.push(">");else if(R&&R!=".")t.push(" SYSTEM ",R,">");else{var D=r.internalSubset;D&&t.push(" [",D,"]"),t.push(">")}return;case Wj:return t.push("<?",r.target," ",r.data,"?>");case qj:return t.push("&",r.nodeName,";");default:t.push("??",r.nodeName)}}function tB(r,t,i){var n;switch(t.nodeType){case On:n=t.cloneNode(!1),n.ownerDocument=r;case Zs:break;case yu:i=!0;break}if(n||(n=t.cloneNode(!1)),n.ownerDocument=r,n.parentNode=null,i)for(var s=t.firstChild;s;)n.appendChild(tB(r,s,i)),s=s.nextSibling;return n}function Nk(r,t,i){var n=new t.constructor;for(var s in t){var o=t[s];typeof o!="object"&&o!=n[s]&&(n[s]=o)}switch(t.childNodes&&(n.childNodes=new ca),n.ownerDocument=r,n.nodeType){case On:var l=t.attributes,h=n.attributes=new P0,p=l.length;h._ownerElement=n;for(var g=0;g<p;g++)n.setAttributeNode(Nk(r,l.item(g),!0));break;case yu:i=!0}if(i)for(var m=t.firstChild;m;)n.appendChild(Nk(r,m,i)),m=m.nextSibling;return n}function rB(r,t,i){r[t]=i}try{if(Object.defineProperty){let r=function(t){switch(t.nodeType){case On:case Zs:var i=[];for(t=t.firstChild;t;)t.nodeType!==7&&t.nodeType!==8&&i.push(r(t)),t=t.nextSibling;return i.join("");default:return t.nodeValue}};fle=r,Object.defineProperty(vu.prototype,"length",{get:function(){return Dk(this),this.$$length}}),Object.defineProperty(Zr.prototype,"textContent",{get:function(){return r(this)},set:function(t){switch(this.nodeType){case On:case Zs:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),rB=function(t,i,n){t["$$"+i]=n}}}catch{}var fle;Yf.Node=Zr;Yf.DOMException=ul;Yf.DOMImplementation=Gj;Yf.XMLSerializer=Qj});var oB=x(Xf=>{function nB(r){this.options=r||{locator:{}}}nB.prototype.parseFromString=function(r,t){var i=this.options,n=new gle,s=i.domBuilder||new Kf,o=i.errorHandler,l=i.locator,h=i.xmlns||{},p=/\/x?html?$/.test(t),g=p?ple.entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return l&&s.setDocumentLocator(l),n.errorHandler=hle(o,s,l),n.domBuilder=i.domBuilder||s,p&&(h[""]="http://www.w3.org/1999/xhtml"),h.xml=h.xml||"http://www.w3.org/XML/1998/namespace",r&&typeof r=="string"?n.parse(r,h,g):n.errorHandler.error("invalid doc source"),s.doc};function hle(r,t,i){if(!r){if(t instanceof Kf)return t;r=t}var n={},s=r instanceof Function;i=i||{};function o(l){var h=r[l];!h&&s&&(h=r.length==2?function(p){r(l,p)}:r),n[l]=h&&function(p){h("[xmldom "+l+"]	"+p+qk(i))}||function(){}}return o("warning"),o("error"),o("fatalError"),n}function Kf(){this.cdata=!1}function Su(r,t){t.lineNumber=r.lineNumber,t.columnNumber=r.columnNumber}Kf.prototype={startDocument:function(){this.doc=new yle().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(r,t,i,n){var s=this.doc,o=s.createElementNS(r,i||t),l=n.length;M0(this,o),this.currentElement=o,this.locator&&Su(this.locator,o);for(var h=0;h<l;h++){var r=n.getURI(h),p=n.getValue(h),i=n.getQName(h),g=s.createAttributeNS(r,i);this.locator&&Su(n.getLocator(h),g),g.value=g.nodeValue=p,o.setAttributeNode(g)}},endElement:function(r,t,i){var n=this.currentElement,s=n.tagName;this.currentElement=n.parentNode},startPrefixMapping:function(r,t){},endPrefixMapping:function(r){},processingInstruction:function(r,t){var i=this.doc.createProcessingInstruction(r,t);this.locator&&Su(this.locator,i),M0(this,i)},ignorableWhitespace:function(r,t,i){},characters:function(r,t,i){if(r=iB.apply(this,arguments),r){if(this.cdata)var n=this.doc.createCDATASection(r);else var n=this.doc.createTextNode(r);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(r)&&this.doc.appendChild(n),this.locator&&Su(this.locator,n)}},skippedEntity:function(r){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(r){(this.locator=r)&&(r.lineNumber=0)},comment:function(r,t,i){r=iB.apply(this,arguments);var n=this.doc.createComment(r);this.locator&&Su(this.locator,n),M0(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(r,t,i){var n=this.doc.implementation;if(n&&n.createDocumentType){var s=n.createDocumentType(r,t,i);this.locator&&Su(this.locator,s),M0(this,s)}},warning:function(r){console.warn("[xmldom warning]	"+r,qk(this.locator))},error:function(r){console.error("[xmldom error]	"+r,qk(this.locator))},fatalError:function(r){throw new mle(r,this.locator)}};function qk(r){if(r)return`
@`+(r.systemId||"")+"#[line:"+r.lineNumber+",col:"+r.columnNumber+"]"}function iB(r,t,i){return typeof r=="string"?r.substr(t,i):r.length>=t+i||t?new java.lang.String(r,t,i)+"":r}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(r){Kf.prototype[r]=function(){return null}});function M0(r,t){r.currentElement?r.currentElement.appendChild(t):r.doc.appendChild(t)}var ple=kj(),sB=Ij(),gle=sB.XMLReader,mle=sB.ParseError,yle=Xf.DOMImplementation=Uk().DOMImplementation;Xf.XMLSerializer=Uk().XMLSerializer;Xf.DOMParser=nB;Xf.__DOMHandler=Kf});var Jf=x((__e,aB)=>{var vle="2.0.0",ble=Number.MAX_SAFE_INTEGER||9007199254740991,Sle=16,wle=256-6,_le=["major","premajor","minor","preminor","patch","prepatch","prerelease"];aB.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:Sle,MAX_SAFE_BUILD_LENGTH:wle,MAX_SAFE_INTEGER:ble,RELEASE_TYPES:_le,SEMVER_SPEC_VERSION:vle,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Zf=x((E_e,lB)=>{var Ele=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};lB.exports=Ele});var wu=x((Qs,cB)=>{var{MAX_SAFE_COMPONENT_LENGTH:zk,MAX_SAFE_BUILD_LENGTH:Tle,MAX_LENGTH:Cle}=Jf(),kle=Zf();Qs=cB.exports={};var Rle=Qs.re=[],xle=Qs.safeRe=[],je=Qs.src=[],Be=Qs.t={},Ale=0,Hk="[a-zA-Z0-9-]",Ole=[["\\s",1],["\\d",Cle],[Hk,Tle]],Nle=r=>{for(let[t,i]of Ole)r=r.split(`${t}*`).join(`${t}{0,${i}}`).split(`${t}+`).join(`${t}{1,${i}}`);return r},lt=(r,t,i)=>{let n=Nle(t),s=Ale++;kle(r,s,t),Be[r]=s,je[s]=t,Rle[s]=new RegExp(t,i?"g":void 0),xle[s]=new RegExp(n,i?"g":void 0)};lt("NUMERICIDENTIFIER","0|[1-9]\\d*");lt("NUMERICIDENTIFIERLOOSE","\\d+");lt("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Hk}*`);lt("MAINVERSION",`(${je[Be.NUMERICIDENTIFIER]})\\.(${je[Be.NUMERICIDENTIFIER]})\\.(${je[Be.NUMERICIDENTIFIER]})`);lt("MAINVERSIONLOOSE",`(${je[Be.NUMERICIDENTIFIERLOOSE]})\\.(${je[Be.NUMERICIDENTIFIERLOOSE]})\\.(${je[Be.NUMERICIDENTIFIERLOOSE]})`);lt("PRERELEASEIDENTIFIER",`(?:${je[Be.NUMERICIDENTIFIER]}|${je[Be.NONNUMERICIDENTIFIER]})`);lt("PRERELEASEIDENTIFIERLOOSE",`(?:${je[Be.NUMERICIDENTIFIERLOOSE]}|${je[Be.NONNUMERICIDENTIFIER]})`);lt("PRERELEASE",`(?:-(${je[Be.PRERELEASEIDENTIFIER]}(?:\\.${je[Be.PRERELEASEIDENTIFIER]})*))`);lt("PRERELEASELOOSE",`(?:-?(${je[Be.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${je[Be.PRERELEASEIDENTIFIERLOOSE]})*))`);lt("BUILDIDENTIFIER",`${Hk}+`);lt("BUILD",`(?:\\+(${je[Be.BUILDIDENTIFIER]}(?:\\.${je[Be.BUILDIDENTIFIER]})*))`);lt("FULLPLAIN",`v?${je[Be.MAINVERSION]}${je[Be.PRERELEASE]}?${je[Be.BUILD]}?`);lt("FULL",`^${je[Be.FULLPLAIN]}$`);lt("LOOSEPLAIN",`[v=\\s]*${je[Be.MAINVERSIONLOOSE]}${je[Be.PRERELEASELOOSE]}?${je[Be.BUILD]}?`);lt("LOOSE",`^${je[Be.LOOSEPLAIN]}$`);lt("GTLT","((?:<|>)?=?)");lt("XRANGEIDENTIFIERLOOSE",`${je[Be.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);lt("XRANGEIDENTIFIER",`${je[Be.NUMERICIDENTIFIER]}|x|X|\\*`);lt("XRANGEPLAIN",`[v=\\s]*(${je[Be.XRANGEIDENTIFIER]})(?:\\.(${je[Be.XRANGEIDENTIFIER]})(?:\\.(${je[Be.XRANGEIDENTIFIER]})(?:${je[Be.PRERELEASE]})?${je[Be.BUILD]}?)?)?`);lt("XRANGEPLAINLOOSE",`[v=\\s]*(${je[Be.XRANGEIDENTIFIERLOOSE]})(?:\\.(${je[Be.XRANGEIDENTIFIERLOOSE]})(?:\\.(${je[Be.XRANGEIDENTIFIERLOOSE]})(?:${je[Be.PRERELEASELOOSE]})?${je[Be.BUILD]}?)?)?`);lt("XRANGE",`^${je[Be.GTLT]}\\s*${je[Be.XRANGEPLAIN]}$`);lt("XRANGELOOSE",`^${je[Be.GTLT]}\\s*${je[Be.XRANGEPLAINLOOSE]}$`);lt("COERCE",`(^|[^\\d])(\\d{1,${zk}})(?:\\.(\\d{1,${zk}}))?(?:\\.(\\d{1,${zk}}))?(?:$|[^\\d])`);lt("COERCERTL",je[Be.COERCE],!0);lt("LONETILDE","(?:~>?)");lt("TILDETRIM",`(\\s*)${je[Be.LONETILDE]}\\s+`,!0);Qs.tildeTrimReplace="$1~";lt("TILDE",`^${je[Be.LONETILDE]}${je[Be.XRANGEPLAIN]}$`);lt("TILDELOOSE",`^${je[Be.LONETILDE]}${je[Be.XRANGEPLAINLOOSE]}$`);lt("LONECARET","(?:\\^)");lt("CARETTRIM",`(\\s*)${je[Be.LONECARET]}\\s+`,!0);Qs.caretTrimReplace="$1^";lt("CARET",`^${je[Be.LONECARET]}${je[Be.XRANGEPLAIN]}$`);lt("CARETLOOSE",`^${je[Be.LONECARET]}${je[Be.XRANGEPLAINLOOSE]}$`);lt("COMPARATORLOOSE",`^${je[Be.GTLT]}\\s*(${je[Be.LOOSEPLAIN]})$|^$`);lt("COMPARATOR",`^${je[Be.GTLT]}\\s*(${je[Be.FULLPLAIN]})$|^$`);lt("COMPARATORTRIM",`(\\s*)${je[Be.GTLT]}\\s*(${je[Be.LOOSEPLAIN]}|${je[Be.XRANGEPLAIN]})`,!0);Qs.comparatorTrimReplace="$1$2$3";lt("HYPHENRANGE",`^\\s*(${je[Be.XRANGEPLAIN]})\\s+-\\s+(${je[Be.XRANGEPLAIN]})\\s*$`);lt("HYPHENRANGELOOSE",`^\\s*(${je[Be.XRANGEPLAINLOOSE]})\\s+-\\s+(${je[Be.XRANGEPLAINLOOSE]})\\s*$`);lt("STAR","(<|>)?=?\\s*\\*");lt("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");lt("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var U0=x((T_e,uB)=>{var Dle=Object.freeze({loose:!0}),Ple=Object.freeze({}),Ile=r=>r?typeof r!="object"?Dle:r:Ple;uB.exports=Ile});var Vk=x((C_e,hB)=>{var dB=/^[0-9]+$/,fB=(r,t)=>{let i=dB.test(r),n=dB.test(t);return i&&n&&(r=+r,t=+t),r===t?0:i&&!n?-1:n&&!i?1:r<t?-1:1},Lle=(r,t)=>fB(t,r);hB.exports={compareIdentifiers:fB,rcompareIdentifiers:Lle}});var Qr=x((k_e,yB)=>{var q0=Zf(),{MAX_LENGTH:pB,MAX_SAFE_INTEGER:W0}=Jf(),{safeRe:gB,t:mB}=wu(),Mle=U0(),{compareIdentifiers:_u}=Vk(),$k=class r{constructor(t,i){if(i=Mle(i),t instanceof r){if(t.loose===!!i.loose&&t.includePrerelease===!!i.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>pB)throw new TypeError(`version is longer than ${pB} characters`);q0("SemVer",t,i),this.options=i,this.loose=!!i.loose,this.includePrerelease=!!i.includePrerelease;let n=t.trim().match(i.loose?gB[mB.LOOSE]:gB[mB.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>W0||this.major<0)throw new TypeError("Invalid major version");if(this.minor>W0||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>W0||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let o=+s;if(o>=0&&o<W0)return o}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(q0("SemVer.compare",this.version,this.options,t),!(t instanceof r)){if(typeof t=="string"&&t===this.version)return 0;t=new r(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof r||(t=new r(t,this.options)),_u(this.major,t.major)||_u(this.minor,t.minor)||_u(this.patch,t.patch)}comparePre(t){if(t instanceof r||(t=new r(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let i=0;do{let n=this.prerelease[i],s=t.prerelease[i];if(q0("prerelease compare",i,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return _u(n,s)}while(++i)}compareBuild(t){t instanceof r||(t=new r(t,this.options));let i=0;do{let n=this.build[i],s=t.build[i];if(q0("prerelease compare",i,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return _u(n,s)}while(++i)}inc(t,i,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",i,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",i,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",i,n),this.inc("pre",i,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",i,n),this.inc("pre",i,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(n)?1:0;if(!i&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(i===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(i){let o=[i,s];n===!1&&(o=[i]),_u(this.prerelease[0],i)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};yB.exports=$k});var dl=x((R_e,bB)=>{var vB=Qr(),Fle=(r,t,i=!1)=>{if(r instanceof vB)return r;try{return new vB(r,t)}catch(n){if(!i)return null;throw n}};bB.exports=Fle});var wB=x((x_e,SB)=>{var jle=dl(),Ble=(r,t)=>{let i=jle(r,t);return i?i.version:null};SB.exports=Ble});var EB=x((A_e,_B)=>{var Ule=dl(),qle=(r,t)=>{let i=Ule(r.trim().replace(/^[=v]+/,""),t);return i?i.version:null};_B.exports=qle});var kB=x((O_e,CB)=>{var TB=Qr(),Wle=(r,t,i,n,s)=>{typeof i=="string"&&(s=n,n=i,i=void 0);try{return new TB(r instanceof TB?r.version:r,i).inc(t,n,s).version}catch{return null}};CB.exports=Wle});var AB=x((N_e,xB)=>{var RB=dl(),zle=(r,t)=>{let i=RB(r,null,!0),n=RB(t,null,!0),s=i.compare(n);if(s===0)return null;let o=s>0,l=o?i:n,h=o?n:i,p=!!l.prerelease.length;if(!!h.prerelease.length&&!p)return!h.patch&&!h.minor?"major":l.patch?"patch":l.minor?"minor":"major";let m=p?"pre":"";return i.major!==n.major?m+"major":i.minor!==n.minor?m+"minor":i.patch!==n.patch?m+"patch":"prerelease"};xB.exports=zle});var NB=x((D_e,OB)=>{var Hle=Qr(),Vle=(r,t)=>new Hle(r,t).major;OB.exports=Vle});var PB=x((P_e,DB)=>{var $le=Qr(),Gle=(r,t)=>new $le(r,t).minor;DB.exports=Gle});var LB=x((I_e,IB)=>{var Yle=Qr(),Kle=(r,t)=>new Yle(r,t).patch;IB.exports=Kle});var FB=x((L_e,MB)=>{var Xle=dl(),Jle=(r,t)=>{let i=Xle(r,t);return i&&i.prerelease.length?i.prerelease:null};MB.exports=Jle});var cn=x((M_e,BB)=>{var jB=Qr(),Zle=(r,t,i)=>new jB(r,i).compare(new jB(t,i));BB.exports=Zle});var qB=x((F_e,UB)=>{var Qle=cn(),ece=(r,t,i)=>Qle(t,r,i);UB.exports=ece});var zB=x((j_e,WB)=>{var tce=cn(),rce=(r,t)=>tce(r,t,!0);WB.exports=rce});var z0=x((B_e,VB)=>{var HB=Qr(),ice=(r,t,i)=>{let n=new HB(r,i),s=new HB(t,i);return n.compare(s)||n.compareBuild(s)};VB.exports=ice});var GB=x((U_e,$B)=>{var nce=z0(),sce=(r,t)=>r.sort((i,n)=>nce(i,n,t));$B.exports=sce});var KB=x((q_e,YB)=>{var oce=z0(),ace=(r,t)=>r.sort((i,n)=>oce(n,i,t));YB.exports=ace});var Qf=x((W_e,XB)=>{var lce=cn(),cce=(r,t,i)=>lce(r,t,i)>0;XB.exports=cce});var H0=x((z_e,JB)=>{var uce=cn(),dce=(r,t,i)=>uce(r,t,i)<0;JB.exports=dce});var Gk=x((H_e,ZB)=>{var fce=cn(),hce=(r,t,i)=>fce(r,t,i)===0;ZB.exports=hce});var Yk=x((V_e,QB)=>{var pce=cn(),gce=(r,t,i)=>pce(r,t,i)!==0;QB.exports=gce});var V0=x(($_e,e9)=>{var mce=cn(),yce=(r,t,i)=>mce(r,t,i)>=0;e9.exports=yce});var $0=x((G_e,t9)=>{var vce=cn(),bce=(r,t,i)=>vce(r,t,i)<=0;t9.exports=bce});var Kk=x((Y_e,r9)=>{var Sce=Gk(),wce=Yk(),_ce=Qf(),Ece=V0(),Tce=H0(),Cce=$0(),kce=(r,t,i,n)=>{switch(t){case"===":return typeof r=="object"&&(r=r.version),typeof i=="object"&&(i=i.version),r===i;case"!==":return typeof r=="object"&&(r=r.version),typeof i=="object"&&(i=i.version),r!==i;case"":case"=":case"==":return Sce(r,i,n);case"!=":return wce(r,i,n);case">":return _ce(r,i,n);case">=":return Ece(r,i,n);case"<":return Tce(r,i,n);case"<=":return Cce(r,i,n);default:throw new TypeError(`Invalid operator: ${t}`)}};r9.exports=kce});var n9=x((K_e,i9)=>{var Rce=Qr(),xce=dl(),{safeRe:G0,t:Y0}=wu(),Ace=(r,t)=>{if(r instanceof Rce)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;t=t||{};let i=null;if(!t.rtl)i=r.match(G0[Y0.COERCE]);else{let n;for(;(n=G0[Y0.COERCERTL].exec(r))&&(!i||i.index+i[0].length!==r.length);)(!i||n.index+n[0].length!==i.index+i[0].length)&&(i=n),G0[Y0.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;G0[Y0.COERCERTL].lastIndex=-1}return i===null?null:xce(`${i[2]}.${i[3]||"0"}.${i[4]||"0"}`,t)};i9.exports=Ace});var c9=x((X_e,l9)=>{"use strict";var Oce=Rm(),fl=Symbol("max"),to=Symbol("length"),Eu=Symbol("lengthCalculator"),th=Symbol("allowStale"),hl=Symbol("maxAge"),eo=Symbol("dispose"),s9=Symbol("noDisposeOnSet"),Or=Symbol("lruList"),Nn=Symbol("cache"),a9=Symbol("updateAgeOnGet"),Xk=()=>1,Zk=class{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");let i=this[fl]=t.max||1/0,n=t.length||Xk;if(this[Eu]=typeof n!="function"?Xk:n,this[th]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[hl]=t.maxAge||0,this[eo]=t.dispose,this[s9]=t.noDisposeOnSet||!1,this[a9]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[fl]=t||1/0,eh(this)}get max(){return this[fl]}set allowStale(t){this[th]=!!t}get allowStale(){return this[th]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[hl]=t,eh(this)}get maxAge(){return this[hl]}set lengthCalculator(t){typeof t!="function"&&(t=Xk),t!==this[Eu]&&(this[Eu]=t,this[to]=0,this[Or].forEach(i=>{i.length=this[Eu](i.value,i.key),this[to]+=i.length})),eh(this)}get lengthCalculator(){return this[Eu]}get length(){return this[to]}get itemCount(){return this[Or].length}rforEach(t,i){i=i||this;for(let n=this[Or].tail;n!==null;){let s=n.prev;o9(this,t,n,i),n=s}}forEach(t,i){i=i||this;for(let n=this[Or].head;n!==null;){let s=n.next;o9(this,t,n,i),n=s}}keys(){return this[Or].toArray().map(t=>t.key)}values(){return this[Or].toArray().map(t=>t.value)}reset(){this[eo]&&this[Or]&&this[Or].length&&this[Or].forEach(t=>this[eo](t.key,t.value)),this[Nn]=new Map,this[Or]=new Oce,this[to]=0}dump(){return this[Or].map(t=>K0(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[Or]}set(t,i,n){if(n=n||this[hl],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let s=n?Date.now():0,o=this[Eu](i,t);if(this[Nn].has(t)){if(o>this[fl])return Tu(this,this[Nn].get(t)),!1;let p=this[Nn].get(t).value;return this[eo]&&(this[s9]||this[eo](t,p.value)),p.now=s,p.maxAge=n,p.value=i,this[to]+=o-p.length,p.length=o,this.get(t),eh(this),!0}let l=new Qk(t,i,o,s,n);return l.length>this[fl]?(this[eo]&&this[eo](t,i),!1):(this[to]+=l.length,this[Or].unshift(l),this[Nn].set(t,this[Or].head),eh(this),!0)}has(t){if(!this[Nn].has(t))return!1;let i=this[Nn].get(t).value;return!K0(this,i)}get(t){return Jk(this,t,!0)}peek(t){return Jk(this,t,!1)}pop(){let t=this[Or].tail;return t?(Tu(this,t),t.value):null}del(t){Tu(this,this[Nn].get(t))}load(t){this.reset();let i=Date.now();for(let n=t.length-1;n>=0;n--){let s=t[n],o=s.e||0;if(o===0)this.set(s.k,s.v);else{let l=o-i;l>0&&this.set(s.k,s.v,l)}}}prune(){this[Nn].forEach((t,i)=>Jk(this,i,!1))}},Jk=(r,t,i)=>{let n=r[Nn].get(t);if(n){let s=n.value;if(K0(r,s)){if(Tu(r,n),!r[th])return}else i&&(r[a9]&&(n.value.now=Date.now()),r[Or].unshiftNode(n));return s.value}},K0=(r,t)=>{if(!t||!t.maxAge&&!r[hl])return!1;let i=Date.now()-t.now;return t.maxAge?i>t.maxAge:r[hl]&&i>r[hl]},eh=r=>{if(r[to]>r[fl])for(let t=r[Or].tail;r[to]>r[fl]&&t!==null;){let i=t.prev;Tu(r,t),t=i}},Tu=(r,t)=>{if(t){let i=t.value;r[eo]&&r[eo](i.key,i.value),r[to]-=i.length,r[Nn].delete(i.key),r[Or].removeNode(t)}},Qk=class{constructor(t,i,n,s,o){this.key=t,this.value=i,this.length=n,this.now=s,this.maxAge=o||0}},o9=(r,t,i,n)=>{let s=i.value;K0(r,s)&&(Tu(r,i),r[th]||(s=void 0)),s&&t.call(n,s.value,s.key,r)};l9.exports=Zk});var un=x((J_e,h9)=>{var e2=class r{constructor(t,i){if(i=Dce(i),t instanceof r)return t.loose===!!i.loose&&t.includePrerelease===!!i.includePrerelease?t:new r(t.raw,i);if(t instanceof t2)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=i,this.loose=!!i.loose,this.includePrerelease=!!i.includePrerelease,this.raw=t.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!d9(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&Bce(s[0])){this.set=[s];break}}}this.format()}format(){return this.range=this.set.map(t=>t.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(t){let n=((this.options.includePrerelease&&Fce)|(this.options.loose&&jce))+":"+t,s=u9.get(n);if(s)return s;let o=this.options.loose,l=o?ki[ai.HYPHENRANGELOOSE]:ki[ai.HYPHENRANGE];t=t.replace(l,Kce(this.options.includePrerelease)),$t("hyphen replace",t),t=t.replace(ki[ai.COMPARATORTRIM],Ice),$t("comparator trim",t),t=t.replace(ki[ai.TILDETRIM],Lce),$t("tilde trim",t),t=t.replace(ki[ai.CARETTRIM],Mce),$t("caret trim",t);let h=t.split(" ").map(y=>Uce(y,this.options)).join(" ").split(/\s+/).map(y=>Yce(y,this.options));o&&(h=h.filter(y=>($t("loose invalid filter",y,this.options),!!y.match(ki[ai.COMPARATORLOOSE])))),$t("range list",h);let p=new Map,g=h.map(y=>new t2(y,this.options));for(let y of g){if(d9(y))return[y];p.set(y.value,y)}p.size>1&&p.has("")&&p.delete("");let m=[...p.values()];return u9.set(n,m),m}intersects(t,i){if(!(t instanceof r))throw new TypeError("a Range is required");return this.set.some(n=>f9(n,i)&&t.set.some(s=>f9(s,i)&&n.every(o=>s.every(l=>o.intersects(l,i)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new Pce(t,this.options)}catch{return!1}for(let i=0;i<this.set.length;i++)if(Xce(this.set[i],t,this.options))return!0;return!1}};h9.exports=e2;var Nce=c9(),u9=new Nce({max:1e3}),Dce=U0(),t2=rh(),$t=Zf(),Pce=Qr(),{safeRe:ki,t:ai,comparatorTrimReplace:Ice,tildeTrimReplace:Lce,caretTrimReplace:Mce}=wu(),{FLAG_INCLUDE_PRERELEASE:Fce,FLAG_LOOSE:jce}=Jf(),d9=r=>r.value==="<0.0.0-0",Bce=r=>r.value==="",f9=(r,t)=>{let i=!0,n=r.slice(),s=n.pop();for(;i&&n.length;)i=n.every(o=>s.intersects(o,t)),s=n.pop();return i},Uce=(r,t)=>($t("comp",r,t),r=zce(r,t),$t("caret",r),r=qce(r,t),$t("tildes",r),r=Vce(r,t),$t("xrange",r),r=Gce(r,t),$t("stars",r),r),li=r=>!r||r.toLowerCase()==="x"||r==="*",qce=(r,t)=>r.trim().split(/\s+/).map(i=>Wce(i,t)).join(" "),Wce=(r,t)=>{let i=t.loose?ki[ai.TILDELOOSE]:ki[ai.TILDE];return r.replace(i,(n,s,o,l,h)=>{$t("tilde",r,n,s,o,l,h);let p;return li(s)?p="":li(o)?p=`>=${s}.0.0 <${+s+1}.0.0-0`:li(l)?p=`>=${s}.${o}.0 <${s}.${+o+1}.0-0`:h?($t("replaceTilde pr",h),p=`>=${s}.${o}.${l}-${h} <${s}.${+o+1}.0-0`):p=`>=${s}.${o}.${l} <${s}.${+o+1}.0-0`,$t("tilde return",p),p})},zce=(r,t)=>r.trim().split(/\s+/).map(i=>Hce(i,t)).join(" "),Hce=(r,t)=>{$t("caret",r,t);let i=t.loose?ki[ai.CARETLOOSE]:ki[ai.CARET],n=t.includePrerelease?"-0":"";return r.replace(i,(s,o,l,h,p)=>{$t("caret",r,s,o,l,h,p);let g;return li(o)?g="":li(l)?g=`>=${o}.0.0${n} <${+o+1}.0.0-0`:li(h)?o==="0"?g=`>=${o}.${l}.0${n} <${o}.${+l+1}.0-0`:g=`>=${o}.${l}.0${n} <${+o+1}.0.0-0`:p?($t("replaceCaret pr",p),o==="0"?l==="0"?g=`>=${o}.${l}.${h}-${p} <${o}.${l}.${+h+1}-0`:g=`>=${o}.${l}.${h}-${p} <${o}.${+l+1}.0-0`:g=`>=${o}.${l}.${h}-${p} <${+o+1}.0.0-0`):($t("no pr"),o==="0"?l==="0"?g=`>=${o}.${l}.${h}${n} <${o}.${l}.${+h+1}-0`:g=`>=${o}.${l}.${h}${n} <${o}.${+l+1}.0-0`:g=`>=${o}.${l}.${h} <${+o+1}.0.0-0`),$t("caret return",g),g})},Vce=(r,t)=>($t("replaceXRanges",r,t),r.split(/\s+/).map(i=>$ce(i,t)).join(" ")),$ce=(r,t)=>{r=r.trim();let i=t.loose?ki[ai.XRANGELOOSE]:ki[ai.XRANGE];return r.replace(i,(n,s,o,l,h,p)=>{$t("xRange",r,n,s,o,l,h,p);let g=li(o),m=g||li(l),y=m||li(h),S=y;return s==="="&&S&&(s=""),p=t.includePrerelease?"-0":"",g?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&S?(m&&(l=0),h=0,s===">"?(s=">=",m?(o=+o+1,l=0,h=0):(l=+l+1,h=0)):s==="<="&&(s="<",m?o=+o+1:l=+l+1),s==="<"&&(p="-0"),n=`${s+o}.${l}.${h}${p}`):m?n=`>=${o}.0.0${p} <${+o+1}.0.0-0`:y&&(n=`>=${o}.${l}.0${p} <${o}.${+l+1}.0-0`),$t("xRange return",n),n})},Gce=(r,t)=>($t("replaceStars",r,t),r.trim().replace(ki[ai.STAR],"")),Yce=(r,t)=>($t("replaceGTE0",r,t),r.trim().replace(ki[t.includePrerelease?ai.GTE0PRE:ai.GTE0],"")),Kce=r=>(t,i,n,s,o,l,h,p,g,m,y,S,w)=>(li(n)?i="":li(s)?i=`>=${n}.0.0${r?"-0":""}`:li(o)?i=`>=${n}.${s}.0${r?"-0":""}`:l?i=`>=${i}`:i=`>=${i}${r?"-0":""}`,li(g)?p="":li(m)?p=`<${+g+1}.0.0-0`:li(y)?p=`<${g}.${+m+1}.0-0`:S?p=`<=${g}.${m}.${y}-${S}`:r?p=`<${g}.${m}.${+y+1}-0`:p=`<=${p}`,`${i} ${p}`.trim()),Xce=(r,t,i)=>{for(let n=0;n<r.length;n++)if(!r[n].test(t))return!1;if(t.prerelease.length&&!i.includePrerelease){for(let n=0;n<r.length;n++)if($t(r[n].semver),r[n].semver!==t2.ANY&&r[n].semver.prerelease.length>0){let s=r[n].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0}});var rh=x((Z_e,b9)=>{var ih=Symbol("SemVer ANY"),n2=class r{static get ANY(){return ih}constructor(t,i){if(i=p9(i),t instanceof r){if(t.loose===!!i.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),i2("comparator",t,i),this.options=i,this.loose=!!i.loose,this.parse(t),this.semver===ih?this.value="":this.value=this.operator+this.semver.version,i2("comp",this)}parse(t){let i=this.options.loose?g9[m9.COMPARATORLOOSE]:g9[m9.COMPARATOR],n=t.match(i);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new y9(n[2],this.options.loose):this.semver=ih}toString(){return this.value}test(t){if(i2("Comparator.test",t,this.options.loose),this.semver===ih||t===ih)return!0;if(typeof t=="string")try{t=new y9(t,this.options)}catch{return!1}return r2(t,this.operator,this.semver,this.options)}intersects(t,i){if(!(t instanceof r))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new v9(t.value,i).test(this.value):t.operator===""?t.value===""?!0:new v9(this.value,i).test(t.semver):(i=p9(i),i.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!i.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||r2(this.semver,"<",t.semver,i)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||r2(this.semver,">",t.semver,i)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};b9.exports=n2;var p9=U0(),{safeRe:g9,t:m9}=wu(),r2=Kk(),i2=Zf(),y9=Qr(),v9=un()});var nh=x((Q_e,S9)=>{var Jce=un(),Zce=(r,t,i)=>{try{t=new Jce(t,i)}catch{return!1}return t.test(r)};S9.exports=Zce});var _9=x((eEe,w9)=>{var Qce=un(),eue=(r,t)=>new Qce(r,t).set.map(i=>i.map(n=>n.value).join(" ").trim().split(" "));w9.exports=eue});var T9=x((tEe,E9)=>{var tue=Qr(),rue=un(),iue=(r,t,i)=>{let n=null,s=null,o=null;try{o=new rue(t,i)}catch{return null}return r.forEach(l=>{o.test(l)&&(!n||s.compare(l)===-1)&&(n=l,s=new tue(n,i))}),n};E9.exports=iue});var k9=x((rEe,C9)=>{var nue=Qr(),sue=un(),oue=(r,t,i)=>{let n=null,s=null,o=null;try{o=new sue(t,i)}catch{return null}return r.forEach(l=>{o.test(l)&&(!n||s.compare(l)===1)&&(n=l,s=new nue(n,i))}),n};C9.exports=oue});var A9=x((iEe,x9)=>{var s2=Qr(),aue=un(),R9=Qf(),lue=(r,t)=>{r=new aue(r,t);let i=new s2("0.0.0");if(r.test(i)||(i=new s2("0.0.0-0"),r.test(i)))return i;i=null;for(let n=0;n<r.set.length;++n){let s=r.set[n],o=null;s.forEach(l=>{let h=new s2(l.semver.version);switch(l.operator){case">":h.prerelease.length===0?h.patch++:h.prerelease.push(0),h.raw=h.format();case"":case">=":(!o||R9(h,o))&&(o=h);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${l.operator}`)}}),o&&(!i||R9(i,o))&&(i=o)}return i&&r.test(i)?i:null};x9.exports=lue});var N9=x((nEe,O9)=>{var cue=un(),uue=(r,t)=>{try{return new cue(r,t).range||"*"}catch{return null}};O9.exports=uue});var X0=x((sEe,L9)=>{var due=Qr(),I9=rh(),{ANY:fue}=I9,hue=un(),pue=nh(),D9=Qf(),P9=H0(),gue=$0(),mue=V0(),yue=(r,t,i,n)=>{r=new due(r,n),t=new hue(t,n);let s,o,l,h,p;switch(i){case">":s=D9,o=gue,l=P9,h=">",p=">=";break;case"<":s=P9,o=mue,l=D9,h="<",p="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(pue(r,t,n))return!1;for(let g=0;g<t.set.length;++g){let m=t.set[g],y=null,S=null;if(m.forEach(w=>{w.semver===fue&&(w=new I9(">=0.0.0")),y=y||w,S=S||w,s(w.semver,y.semver,n)?y=w:l(w.semver,S.semver,n)&&(S=w)}),y.operator===h||y.operator===p||(!S.operator||S.operator===h)&&o(r,S.semver))return!1;if(S.operator===p&&l(r,S.semver))return!1}return!0};L9.exports=yue});var F9=x((oEe,M9)=>{var vue=X0(),bue=(r,t,i)=>vue(r,t,">",i);M9.exports=bue});var B9=x((aEe,j9)=>{var Sue=X0(),wue=(r,t,i)=>Sue(r,t,"<",i);j9.exports=wue});var W9=x((lEe,q9)=>{var U9=un(),_ue=(r,t,i)=>(r=new U9(r,i),t=new U9(t,i),r.intersects(t,i));q9.exports=_ue});var H9=x((cEe,z9)=>{var Eue=nh(),Tue=cn();z9.exports=(r,t,i)=>{let n=[],s=null,o=null,l=r.sort((m,y)=>Tue(m,y,i));for(let m of l)Eue(m,t,i)?(o=m,s||(s=m)):(o&&n.push([s,o]),o=null,s=null);s&&n.push([s,null]);let h=[];for(let[m,y]of n)m===y?h.push(m):!y&&m===l[0]?h.push("*"):y?m===l[0]?h.push(`<=${y}`):h.push(`${m} - ${y}`):h.push(`>=${m}`);let p=h.join(" || "),g=typeof t.raw=="string"?t.raw:String(t);return p.length<g.length?p:t}});var X9=x((uEe,K9)=>{var V9=un(),a2=rh(),{ANY:o2}=a2,sh=nh(),l2=cn(),Cue=(r,t,i={})=>{if(r===t)return!0;r=new V9(r,i),t=new V9(t,i);let n=!1;e:for(let s of r.set){for(let o of t.set){let l=Rue(s,o,i);if(n=n||l!==null,l)continue e}if(n)return!1}return!0},kue=[new a2(">=0.0.0-0")],$9=[new a2(">=0.0.0")],Rue=(r,t,i)=>{if(r===t)return!0;if(r.length===1&&r[0].semver===o2){if(t.length===1&&t[0].semver===o2)return!0;i.includePrerelease?r=kue:r=$9}if(t.length===1&&t[0].semver===o2){if(i.includePrerelease)return!0;t=$9}let n=new Set,s,o;for(let w of r)w.operator===">"||w.operator===">="?s=G9(s,w,i):w.operator==="<"||w.operator==="<="?o=Y9(o,w,i):n.add(w.semver);if(n.size>1)return null;let l;if(s&&o){if(l=l2(s.semver,o.semver,i),l>0)return null;if(l===0&&(s.operator!==">="||o.operator!=="<="))return null}for(let w of n){if(s&&!sh(w,String(s),i)||o&&!sh(w,String(o),i))return null;for(let C of t)if(!sh(w,String(C),i))return!1;return!0}let h,p,g,m,y=o&&!i.includePrerelease&&o.semver.prerelease.length?o.semver:!1,S=s&&!i.includePrerelease&&s.semver.prerelease.length?s.semver:!1;y&&y.prerelease.length===1&&o.operator==="<"&&y.prerelease[0]===0&&(y=!1);for(let w of t){if(m=m||w.operator===">"||w.operator===">=",g=g||w.operator==="<"||w.operator==="<=",s){if(S&&w.semver.prerelease&&w.semver.prerelease.length&&w.semver.major===S.major&&w.semver.minor===S.minor&&w.semver.patch===S.patch&&(S=!1),w.operator===">"||w.operator===">="){if(h=G9(s,w,i),h===w&&h!==s)return!1}else if(s.operator===">="&&!sh(s.semver,String(w),i))return!1}if(o){if(y&&w.semver.prerelease&&w.semver.prerelease.length&&w.semver.major===y.major&&w.semver.minor===y.minor&&w.semver.patch===y.patch&&(y=!1),w.operator==="<"||w.operator==="<="){if(p=Y9(o,w,i),p===w&&p!==o)return!1}else if(o.operator==="<="&&!sh(o.semver,String(w),i))return!1}if(!w.operator&&(o||s)&&l!==0)return!1}return!(s&&g&&!o&&l!==0||o&&m&&!s&&l!==0||S||y)},G9=(r,t,i)=>{if(!r)return t;let n=l2(r.semver,t.semver,i);return n>0?r:n<0||t.operator===">"&&r.operator===">="?t:r},Y9=(r,t,i)=>{if(!r)return t;let n=l2(r.semver,t.semver,i);return n<0?r:n>0||t.operator==="<"&&r.operator==="<="?t:r};K9.exports=Cue});var e7=x((dEe,Q9)=>{var c2=wu(),J9=Jf(),xue=Qr(),Z9=Vk(),Aue=dl(),Oue=wB(),Nue=EB(),Due=kB(),Pue=AB(),Iue=NB(),Lue=PB(),Mue=LB(),Fue=FB(),jue=cn(),Bue=qB(),Uue=zB(),que=z0(),Wue=GB(),zue=KB(),Hue=Qf(),Vue=H0(),$ue=Gk(),Gue=Yk(),Yue=V0(),Kue=$0(),Xue=Kk(),Jue=n9(),Zue=rh(),Que=un(),ede=nh(),tde=_9(),rde=T9(),ide=k9(),nde=A9(),sde=N9(),ode=X0(),ade=F9(),lde=B9(),cde=W9(),ude=H9(),dde=X9();Q9.exports={parse:Aue,valid:Oue,clean:Nue,inc:Due,diff:Pue,major:Iue,minor:Lue,patch:Mue,prerelease:Fue,compare:jue,rcompare:Bue,compareLoose:Uue,compareBuild:que,sort:Wue,rsort:zue,gt:Hue,lt:Vue,eq:$ue,neq:Gue,gte:Yue,lte:Kue,cmp:Xue,coerce:Jue,Comparator:Zue,Range:Que,satisfies:ede,toComparators:tde,maxSatisfying:rde,minSatisfying:ide,minVersion:nde,validRange:sde,outside:ode,gtr:ade,ltr:lde,intersects:cde,simplifyRange:ude,subset:dde,SemVer:xue,re:c2.re,src:c2.src,tokens:c2.t,SEMVER_SPEC_VERSION:J9.SEMVER_SPEC_VERSION,RELEASE_TYPES:J9.RELEASE_TYPES,compareIdentifiers:Z9.compareIdentifiers,rcompareIdentifiers:Z9.rcompareIdentifiers}});var ua=x(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.asPromise=nr.thenable=nr.typedArray=nr.stringArray=nr.array=nr.func=nr.error=nr.number=nr.string=nr.boolean=void 0;function fde(r){return r===!0||r===!1}nr.boolean=fde;function t7(r){return typeof r=="string"||r instanceof String}nr.string=t7;function hde(r){return typeof r=="number"||r instanceof Number}nr.number=hde;function pde(r){return r instanceof Error}nr.error=pde;function r7(r){return typeof r=="function"}nr.func=r7;function i7(r){return Array.isArray(r)}nr.array=i7;function gde(r){return i7(r)&&r.every(t=>t7(t))}nr.stringArray=gde;function mde(r,t){return Array.isArray(r)&&r.every(t)}nr.typedArray=mde;function n7(r){return r&&r7(r.then)}nr.thenable=n7;function yde(r){return r instanceof Promise?r:n7(r)?new Promise((t,i)=>{r.then(n=>t(n),n=>i(n))}):Promise.resolve(r)}nr.asPromise=yde});var ro=x(f2=>{"use strict";Object.defineProperty(f2,"__esModule",{value:!0});var u2;function d2(){if(u2===void 0)throw new Error("No runtime abstraction layer installed");return u2}(function(r){function t(i){if(i===void 0)throw new Error("No runtime abstraction layer provided");u2=i}r.install=t})(d2||(d2={}));f2.default=d2});var h2=x(oh=>{"use strict";Object.defineProperty(oh,"__esModule",{value:!0});oh.Disposable=void 0;var vde;(function(r){function t(i){return{dispose:i}}r.create=t})(vde=oh.Disposable||(oh.Disposable={}))});var s7=x(J0=>{"use strict";Object.defineProperty(J0,"__esModule",{value:!0});J0.AbstractMessageBuffer=void 0;var bde=13,Sde=10,wde=`\r
`,p2=class{constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let i=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(i),this._totalLength+=i.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let t=0,i=0,n=0,s=0;e:for(;i<this._chunks.length;){let p=this._chunks[i];for(n=0;n<p.length;){switch(p[n]){case bde:switch(t){case 0:t=1;break;case 2:t=3;break;default:t=0}break;case Sde:switch(t){case 1:t=2;break;case 3:t=4,n++;break e;default:t=0}break;default:t=0}n++}s+=p.byteLength,i++}if(t!==4)return;let o=this._read(s+n),l=new Map,h=this.toString(o,"ascii").split(wde);if(h.length<2)return l;for(let p=0;p<h.length-2;p++){let g=h[p],m=g.indexOf(":");if(m===-1)throw new Error("Message header must separate key and value using :");let y=g.substr(0,m),S=g.substr(m+1).trim();l.set(y,S)}return l}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(o)}if(this._chunks[0].byteLength>t){let o=this._chunks[0],l=this.asNative(o,t);return this._chunks[0]=o.slice(t),this._totalLength-=t,l}let i=this.allocNative(t),n=0,s=0;for(;t>0;){let o=this._chunks[s];if(o.byteLength>t){let l=o.slice(0,t);i.set(l,n),n+=t,this._chunks[s]=o.slice(t),this._totalLength-=t,t-=t}else i.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,t-=o.byteLength}return i}};J0.AbstractMessageBuffer=p2});var l7=x(v2=>{"use strict";Object.defineProperty(v2,"__esModule",{value:!0});var _de=ro(),o7=require("util"),pl=h2(),Ede=s7(),Z0=class r extends Ede.AbstractMessageBuffer{constructor(t="utf-8"){super(t)}emptyBuffer(){return r.emptyBuffer}fromString(t,i){return Buffer.from(t,i)}toString(t,i){return t instanceof Buffer?t.toString(i):new o7.TextDecoder(i).decode(t)}asNative(t,i){return i===void 0?t instanceof Buffer?t:Buffer.from(t):t instanceof Buffer?t.slice(0,i):Buffer.from(t,0,i)}allocNative(t){return Buffer.allocUnsafe(t)}};Z0.emptyBuffer=Buffer.allocUnsafe(0);var g2=class{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),pl.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),pl.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),pl.Disposable.create(()=>this.stream.off("end",t))}onData(t){return this.stream.on("data",t),pl.Disposable.create(()=>this.stream.off("data",t))}},m2=class{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),pl.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),pl.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),pl.Disposable.create(()=>this.stream.off("end",t))}write(t,i){return new Promise((n,s)=>{let o=l=>{l==null?n():s(l)};typeof t=="string"?this.stream.write(t,i,o):this.stream.write(t,o)})}end(){this.stream.end()}},a7=Object.freeze({messageBuffer:Object.freeze({create:r=>new Z0(r)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(r,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(r,void 0,0),t.charset))}catch(i){return Promise.reject(i)}}}),decoder:Object.freeze({name:"application/json",decode:(r,t)=>{try{return r instanceof Buffer?Promise.resolve(JSON.parse(r.toString(t.charset))):Promise.resolve(JSON.parse(new o7.TextDecoder(t.charset).decode(r)))}catch(i){return Promise.reject(i)}}})}),stream:Object.freeze({asReadableStream:r=>new g2(r),asWritableStream:r=>new m2(r)}),console,timer:Object.freeze({setTimeout(r,t,...i){return setTimeout(r,t,...i)},clearTimeout(r){clearTimeout(r)},setImmediate(r,...t){return setImmediate(r,...t)},clearImmediate(r){clearImmediate(r)}})});function y2(){return a7}(function(r){function t(){_de.default.install(a7)}r.install=t})(y2||(y2={}));v2.default=y2});var Cu=x(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});ei.stringArray=ei.array=ei.func=ei.error=ei.number=ei.string=ei.boolean=void 0;function Tde(r){return r===!0||r===!1}ei.boolean=Tde;function c7(r){return typeof r=="string"||r instanceof String}ei.string=c7;function Cde(r){return typeof r=="number"||r instanceof Number}ei.number=Cde;function kde(r){return r instanceof Error}ei.error=kde;function Rde(r){return typeof r=="function"}ei.func=Rde;function u7(r){return Array.isArray(r)}ei.array=u7;function xde(r){return u7(r)&&r.every(t=>c7(t))}ei.stringArray=xde});var W2=x(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.isResponseMessage=Ue.isNotificationMessage=Ue.isRequestMessage=Ue.NotificationType9=Ue.NotificationType8=Ue.NotificationType7=Ue.NotificationType6=Ue.NotificationType5=Ue.NotificationType4=Ue.NotificationType3=Ue.NotificationType2=Ue.NotificationType1=Ue.NotificationType0=Ue.NotificationType=Ue.RequestType9=Ue.RequestType8=Ue.RequestType7=Ue.RequestType6=Ue.RequestType5=Ue.RequestType4=Ue.RequestType3=Ue.RequestType2=Ue.RequestType1=Ue.RequestType=Ue.RequestType0=Ue.AbstractMessageSignature=Ue.ParameterStructures=Ue.ResponseError=Ue.ErrorCodes=void 0;var gl=Cu(),d7;(function(r){r.ParseError=-32700,r.InvalidRequest=-32600,r.MethodNotFound=-32601,r.InvalidParams=-32602,r.InternalError=-32603,r.jsonrpcReservedErrorRangeStart=-32099,r.serverErrorStart=r.jsonrpcReservedErrorRangeStart,r.MessageWriteError=-32099,r.MessageReadError=-32098,r.ServerNotInitialized=-32002,r.UnknownErrorCode=-32001,r.jsonrpcReservedErrorRangeEnd=-32e3,r.serverErrorEnd=r.jsonrpcReservedErrorRangeEnd})(d7=Ue.ErrorCodes||(Ue.ErrorCodes={}));var b2=class r extends Error{constructor(t,i,n){super(i),this.code=gl.number(t)?t:d7.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,r.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};Ue.ResponseError=b2;var Ri=class r{constructor(t){this.kind=t}static is(t){return t===r.auto||t===r.byName||t===r.byPosition}toString(){return this.kind}};Ue.ParameterStructures=Ri;Ri.auto=new Ri("auto");Ri.byPosition=new Ri("byPosition");Ri.byName=new Ri("byName");var Gt=class{constructor(t,i){this.method=t,this.numberOfParams=i}get parameterStructures(){return Ri.auto}};Ue.AbstractMessageSignature=Gt;var S2=class extends Gt{constructor(t){super(t,0)}};Ue.RequestType0=S2;var w2=class extends Gt{constructor(t,i=Ri.auto){super(t,1),this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}};Ue.RequestType=w2;var _2=class extends Gt{constructor(t,i=Ri.auto){super(t,1),this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}};Ue.RequestType1=_2;var E2=class extends Gt{constructor(t){super(t,2)}};Ue.RequestType2=E2;var T2=class extends Gt{constructor(t){super(t,3)}};Ue.RequestType3=T2;var C2=class extends Gt{constructor(t){super(t,4)}};Ue.RequestType4=C2;var k2=class extends Gt{constructor(t){super(t,5)}};Ue.RequestType5=k2;var R2=class extends Gt{constructor(t){super(t,6)}};Ue.RequestType6=R2;var x2=class extends Gt{constructor(t){super(t,7)}};Ue.RequestType7=x2;var A2=class extends Gt{constructor(t){super(t,8)}};Ue.RequestType8=A2;var O2=class extends Gt{constructor(t){super(t,9)}};Ue.RequestType9=O2;var N2=class extends Gt{constructor(t,i=Ri.auto){super(t,1),this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}};Ue.NotificationType=N2;var D2=class extends Gt{constructor(t){super(t,0)}};Ue.NotificationType0=D2;var P2=class extends Gt{constructor(t,i=Ri.auto){super(t,1),this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}};Ue.NotificationType1=P2;var I2=class extends Gt{constructor(t){super(t,2)}};Ue.NotificationType2=I2;var L2=class extends Gt{constructor(t){super(t,3)}};Ue.NotificationType3=L2;var M2=class extends Gt{constructor(t){super(t,4)}};Ue.NotificationType4=M2;var F2=class extends Gt{constructor(t){super(t,5)}};Ue.NotificationType5=F2;var j2=class extends Gt{constructor(t){super(t,6)}};Ue.NotificationType6=j2;var B2=class extends Gt{constructor(t){super(t,7)}};Ue.NotificationType7=B2;var U2=class extends Gt{constructor(t){super(t,8)}};Ue.NotificationType8=U2;var q2=class extends Gt{constructor(t){super(t,9)}};Ue.NotificationType9=q2;function Ade(r){let t=r;return t&&gl.string(t.method)&&(gl.string(t.id)||gl.number(t.id))}Ue.isRequestMessage=Ade;function Ode(r){let t=r;return t&&gl.string(t.method)&&r.id===void 0}Ue.isNotificationMessage=Ode;function Nde(r){let t=r;return t&&(t.result!==void 0||!!t.error)&&(gl.string(t.id)||gl.number(t.id)||t.id===null)}Ue.isResponseMessage=Nde});var ku=x(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});ml.Emitter=ml.Event=void 0;var Dde=ro(),Pde;(function(r){let t={dispose(){}};r.None=function(){return t}})(Pde=ml.Event||(ml.Event={}));var z2=class{add(t,i=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(i),Array.isArray(n)&&n.push({dispose:()=>this.remove(t,i)})}remove(t,i=null){if(!this._callbacks)return;let n=!1;for(let s=0,o=this._callbacks.length;s<o;s++)if(this._callbacks[s]===t)if(this._contexts[s]===i){this._callbacks.splice(s,1),this._contexts.splice(s,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let i=[],n=this._callbacks.slice(0),s=this._contexts.slice(0);for(let o=0,l=n.length;o<l;o++)try{i.push(n[o].apply(s[o],t))}catch(h){Dde.default().console.error(h)}return i}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Q0=class r{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,i,n)=>{this._callbacks||(this._callbacks=new z2),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,i);let s={dispose:()=>{this._callbacks&&(this._callbacks.remove(t,i),s.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(s),s}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};ml.Emitter=Q0;Q0._noop=function(){}});var G2=x(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.CancellationTokenSource=yl.CancellationToken=void 0;var f7=ro(),Ide=Cu(),H2=ku(),V2;(function(r){r.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:H2.Event.None}),r.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:H2.Event.None});function t(i){let n=i;return n&&(n===r.None||n===r.Cancelled||Ide.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}r.is=t})(V2=yl.CancellationToken||(yl.CancellationToken={}));var Lde=Object.freeze(function(r,t){let i=f7.default().timer.setTimeout(r.bind(t),0);return{dispose(){f7.default().timer.clearTimeout(i)}}}),ev=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Lde:(this._emitter||(this._emitter=new H2.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},$2=class{get token(){return this._token||(this._token=new ev),this._token}cancel(){this._token?this._token.cancel():this._token=V2.Cancelled}dispose(){this._token?this._token instanceof ev&&this._token.dispose():this._token=V2.None}};yl.CancellationTokenSource=$2});var h7=x(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.ReadableStreamMessageReader=io.AbstractMessageReader=io.MessageReader=void 0;var tv=ro(),Ru=Cu(),Y2=ku(),Mde;(function(r){function t(i){let n=i;return n&&Ru.func(n.listen)&&Ru.func(n.dispose)&&Ru.func(n.onError)&&Ru.func(n.onClose)&&Ru.func(n.onPartialMessage)}r.is=t})(Mde=io.MessageReader||(io.MessageReader={}));var rv=class{constructor(){this.errorEmitter=new Y2.Emitter,this.closeEmitter=new Y2.Emitter,this.partialMessageEmitter=new Y2.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${Ru.string(t.message)?t.message:"unknown"}`)}};io.AbstractMessageReader=rv;var K2;(function(r){function t(i){var n;let s,o,l,h=new Map,p,g=new Map;if(i===void 0||typeof i=="string")s=i??"utf-8";else{if(s=(n=i.charset)!==null&&n!==void 0?n:"utf-8",i.contentDecoder!==void 0&&(l=i.contentDecoder,h.set(l.name,l)),i.contentDecoders!==void 0)for(let m of i.contentDecoders)h.set(m.name,m);if(i.contentTypeDecoder!==void 0&&(p=i.contentTypeDecoder,g.set(p.name,p)),i.contentTypeDecoders!==void 0)for(let m of i.contentTypeDecoders)g.set(m.name,m)}return p===void 0&&(p=tv.default().applicationJson.decoder,g.set(p.name,p)),{charset:s,contentDecoder:l,contentDecoders:h,contentTypeDecoder:p,contentTypeDecoders:g}}r.fromOptions=t})(K2||(K2={}));var X2=class extends rv{constructor(t,i){super(),this.readable=t,this.options=K2.fromOptions(i),this.buffer=tv.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let i=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),i}onData(t){for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let s=this.buffer.tryReadHeaders();if(!s)return;let o=s.get("Content-Length");if(!o)throw new Error("Header must provide a Content-Length property.");let l=parseInt(o);if(isNaN(l))throw new Error("Content-Length value must be a number.");this.nextMessageLength=l}let i=this.buffer.tryReadBody(this.nextMessageLength);if(i===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let n;this.options.contentDecoder!==void 0?n=this.options.contentDecoder.decode(i):n=Promise.resolve(i),n.then(s=>{this.options.contentTypeDecoder.decode(s,this.options).then(o=>{this.callback(o)},o=>{this.fireError(o)})},s=>{this.fireError(s)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(tv.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=tv.default().timer.setTimeout((t,i)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:i}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};io.ReadableStreamMessageReader=X2});var p7=x(iv=>{"use strict";Object.defineProperty(iv,"__esModule",{value:!0});iv.Semaphore=void 0;var Fde=ro(),J2=class{constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((i,n)=>{this._waiting.push({thunk:t,resolve:i,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||Fde.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let i=t.thunk();i instanceof Promise?i.then(n=>{this._active--,t.resolve(n),this.runNext()},n=>{this._active--,t.reject(n),this.runNext()}):(this._active--,t.resolve(i),this.runNext())}catch(i){this._active--,t.reject(i),this.runNext()}}};iv.Semaphore=J2});var v7=x(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.WriteableStreamMessageWriter=no.AbstractMessageWriter=no.MessageWriter=void 0;var g7=ro(),ah=Cu(),jde=p7(),m7=ku(),Bde="Content-Length: ",y7=`\r
`,Ude;(function(r){function t(i){let n=i;return n&&ah.func(n.dispose)&&ah.func(n.onClose)&&ah.func(n.onError)&&ah.func(n.write)}r.is=t})(Ude=no.MessageWriter||(no.MessageWriter={}));var nv=class{constructor(){this.errorEmitter=new m7.Emitter,this.closeEmitter=new m7.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,i,n){this.errorEmitter.fire([this.asError(t),i,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${ah.string(t.message)?t.message:"unknown"}`)}};no.AbstractMessageWriter=nv;var Z2;(function(r){function t(i){var n,s;return i===void 0||typeof i=="string"?{charset:i??"utf-8",contentTypeEncoder:g7.default().applicationJson.encoder}:{charset:(n=i.charset)!==null&&n!==void 0?n:"utf-8",contentEncoder:i.contentEncoder,contentTypeEncoder:(s=i.contentTypeEncoder)!==null&&s!==void 0?s:g7.default().applicationJson.encoder}}r.fromOptions=t})(Z2||(Z2={}));var Q2=class extends nv{constructor(t,i){super(),this.writable=t,this.options=Z2.fromOptions(i),this.errorCount=0,this.writeSemaphore=new jde.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let s=[];return s.push(Bde,n.byteLength.toString(),y7),s.push(y7),this.doWrite(t,s,n)},n=>{throw this.fireError(n),n}))}async doWrite(t,i,n){try{return await this.writable.write(i.join(""),"ascii"),this.writable.write(n)}catch(s){return this.handleError(s,t),Promise.reject(s)}}handleError(t,i){this.errorCount++,this.fireError(t,i,this.errorCount)}end(){this.writable.end()}};no.WriteableStreamMessageWriter=Q2});var b7=x(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.LRUCache=so.LinkedMap=so.Touch=void 0;var ci;(function(r){r.None=0,r.First=1,r.AsOld=r.First,r.Last=2,r.AsNew=r.Last})(ci=so.Touch||(so.Touch={}));var sv=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var t;return(t=this._head)===null||t===void 0?void 0:t.value}get last(){var t;return(t=this._tail)===null||t===void 0?void 0:t.value}has(t){return this._map.has(t)}get(t,i=ci.None){let n=this._map.get(t);if(n)return i!==ci.None&&this.touch(n,i),n.value}set(t,i,n=ci.None){let s=this._map.get(t);if(s)s.value=i,n!==ci.None&&this.touch(s,n);else{switch(s={key:t,value:i,next:void 0,previous:void 0},n){case ci.None:this.addItemLast(s);break;case ci.First:this.addItemFirst(s);break;case ci.Last:this.addItemLast(s);break;default:this.addItemLast(s);break}this._map.set(t,s),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let i=this._map.get(t);if(i)return this._map.delete(t),this.removeItem(i),this._size--,i.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,i){let n=this._state,s=this._head;for(;s;){if(i?t.bind(i)(s.value,s.key,this):t(s.value,s.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");s=s.next}}keys(){let t=this,i=this._state,n=this._head,s={[Symbol.iterator](){return s},next(){if(t._state!==i)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:n.key,done:!1};return n=n.next,o}else return{value:void 0,done:!0}}};return s}values(){let t=this,i=this._state,n=this._head,s={[Symbol.iterator](){return s},next(){if(t._state!==i)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:n.value,done:!1};return n=n.next,o}else return{value:void 0,done:!0}}};return s}entries(){let t=this,i=this._state,n=this._head,s={[Symbol.iterator](){return s},next(){if(t._state!==i)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:[n.key,n.value],done:!1};return n=n.next,o}else return{value:void 0,done:!0}}};return s}[Symbol.iterator](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let i=this._head,n=this.size;for(;i&&n>t;)this._map.delete(i.key),i=i.next,n--;this._head=i,this._size=n,i&&(i.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let i=t.next,n=t.previous;if(!i||!n)throw new Error("Invalid list");i.previous=n,n.next=i}t.next=void 0,t.previous=void 0,this._state++}touch(t,i){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(i!==ci.First&&i!==ci.Last)){if(i===ci.First){if(t===this._head)return;let n=t.next,s=t.previous;t===this._tail?(s.next=void 0,this._tail=s):(n.previous=s,s.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(i===ci.Last){if(t===this._tail)return;let n=t.next,s=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=s,s.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((i,n)=>{t.push([n,i])}),t}fromJSON(t){this.clear();for(let[i,n]of t)this.set(i,n)}};so.LinkedMap=sv;var eR=class extends sv{constructor(t,i=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,i),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,i=ci.AsNew){return super.get(t,i)}peek(t){return super.get(t,ci.None)}set(t,i){return super.set(t,i,ci.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};so.LRUCache=eR});var T7=x(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.createMessageConnection=tt.ConnectionOptions=tt.CancellationStrategy=tt.CancellationSenderStrategy=tt.CancellationReceiverStrategy=tt.ConnectionStrategy=tt.ConnectionError=tt.ConnectionErrors=tt.LogTraceNotification=tt.SetTraceNotification=tt.TraceFormat=tt.Trace=tt.NullLogger=tt.ProgressType=void 0;var S7=ro(),Nr=Cu(),Ze=W2(),w7=b7(),lh=ku(),tR=G2(),ch;(function(r){r.type=new Ze.NotificationType("$/cancelRequest")})(ch||(ch={}));var av;(function(r){r.type=new Ze.NotificationType("$/progress")})(av||(av={}));var rR=class{constructor(){}};tt.ProgressType=rR;var iR;(function(r){function t(i){return Nr.func(i)}r.is=t})(iR||(iR={}));tt.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var pr;(function(r){r[r.Off=0]="Off",r[r.Messages=1]="Messages",r[r.Verbose=2]="Verbose"})(pr=tt.Trace||(tt.Trace={}));(function(r){function t(n){if(!Nr.string(n))return r.Off;switch(n=n.toLowerCase(),n){case"off":return r.Off;case"messages":return r.Messages;case"verbose":return r.Verbose;default:return r.Off}}r.fromString=t;function i(n){switch(n){case r.Off:return"off";case r.Messages:return"messages";case r.Verbose:return"verbose";default:return"off"}}r.toString=i})(pr=tt.Trace||(tt.Trace={}));var Dn;(function(r){r.Text="text",r.JSON="json"})(Dn=tt.TraceFormat||(tt.TraceFormat={}));(function(r){function t(i){return i=i.toLowerCase(),i==="json"?r.JSON:r.Text}r.fromString=t})(Dn=tt.TraceFormat||(tt.TraceFormat={}));var _7;(function(r){r.type=new Ze.NotificationType("$/setTrace")})(_7=tt.SetTraceNotification||(tt.SetTraceNotification={}));var nR;(function(r){r.type=new Ze.NotificationType("$/logTrace")})(nR=tt.LogTraceNotification||(tt.LogTraceNotification={}));var ov;(function(r){r[r.Closed=1]="Closed",r[r.Disposed=2]="Disposed",r[r.AlreadyListening=3]="AlreadyListening"})(ov=tt.ConnectionErrors||(tt.ConnectionErrors={}));var xu=class r extends Error{constructor(t,i){super(i),this.code=t,Object.setPrototypeOf(this,r.prototype)}};tt.ConnectionError=xu;var E7;(function(r){function t(i){let n=i;return n&&Nr.func(n.cancelUndispatched)}r.is=t})(E7=tt.ConnectionStrategy||(tt.ConnectionStrategy={}));var sR;(function(r){r.Message=Object.freeze({createCancellationTokenSource(i){return new tR.CancellationTokenSource}});function t(i){let n=i;return n&&Nr.func(n.createCancellationTokenSource)}r.is=t})(sR=tt.CancellationReceiverStrategy||(tt.CancellationReceiverStrategy={}));var oR;(function(r){r.Message=Object.freeze({sendCancellation(i,n){i.sendNotification(ch.type,{id:n})},cleanup(i){}});function t(i){let n=i;return n&&Nr.func(n.sendCancellation)&&Nr.func(n.cleanup)}r.is=t})(oR=tt.CancellationSenderStrategy||(tt.CancellationSenderStrategy={}));var aR;(function(r){r.Message=Object.freeze({receiver:sR.Message,sender:oR.Message});function t(i){let n=i;return n&&sR.is(n.receiver)&&oR.is(n.sender)}r.is=t})(aR=tt.CancellationStrategy||(tt.CancellationStrategy={}));var qde;(function(r){function t(i){let n=i;return n&&(aR.is(n.cancellationStrategy)||E7.is(n.connectionStrategy))}r.is=t})(qde=tt.ConnectionOptions||(tt.ConnectionOptions={}));var Pn;(function(r){r[r.New=1]="New",r[r.Listening=2]="Listening",r[r.Closed=3]="Closed",r[r.Disposed=4]="Disposed"})(Pn||(Pn={}));function Wde(r,t,i,n){let s=i!==void 0?i:tt.NullLogger,o=0,l=0,h=0,p="2.0",g,m=Object.create(null),y,S=Object.create(null),w=new Map,C,_=new w7.LinkedMap,R=Object.create(null),D=Object.create(null),I=pr.Off,M=Dn.Text,L,V=Pn.New,K=new lh.Emitter,Q=new lh.Emitter,le=new lh.Emitter,ge=new lh.Emitter,j=new lh.Emitter,N=n&&n.cancellationStrategy?n.cancellationStrategy:aR.Message;function X(z){if(z===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+z.toString()}function U(z){return z===null?"res-unknown-"+(++h).toString():"res-"+z.toString()}function k(){return"not-"+(++l).toString()}function W(z,F){Ze.isRequestMessage(F)?z.set(X(F.id),F):Ze.isResponseMessage(F)?z.set(U(F.id),F):z.set(k(),F)}function J(z){}function se(){return V===Pn.Listening}function ue(){return V===Pn.Closed}function fe(){return V===Pn.Disposed}function ye(){(V===Pn.New||V===Pn.Listening)&&(V=Pn.Closed,Q.fire(void 0))}function $e(z){K.fire([z,void 0,void 0])}function Ge(z){K.fire(z)}r.onClose(ye),r.onError($e),t.onClose(ye),t.onError(Ge);function Qe(){C||_.size===0||(C=S7.default().timer.setImmediate(()=>{C=void 0,Je()}))}function Je(){if(_.size===0)return;let z=_.shift();try{Ze.isRequestMessage(z)?ve(z):Ze.isNotificationMessage(z)?Ie(z):Ze.isResponseMessage(z)?Xe(z):de(z)}finally{Qe()}}let ce=z=>{try{if(Ze.isNotificationMessage(z)&&z.method===ch.type.method){let F=X(z.params.id),O=_.get(F);if(Ze.isRequestMessage(O)){let B=n?.connectionStrategy,Z=B&&B.cancelUndispatched?B.cancelUndispatched(O,J):void 0;if(Z&&(Z.error!==void 0||Z.result!==void 0)){_.delete(F),Z.id=O.id,xe(Z,z.method,Date.now()),t.write(Z);return}}}W(_,z)}finally{Qe()}};function ve(z){if(fe())return;function F(T,q,G){let P={jsonrpc:p,id:z.id};T instanceof Ze.ResponseError?P.error=T.toJson():P.result=T===void 0?null:T,xe(P,q,G),t.write(P)}function O(T,q,G){let P={jsonrpc:p,id:z.id,error:T.toJson()};xe(P,q,G),t.write(P)}function B(T,q,G){T===void 0&&(T=null);let P={jsonrpc:p,id:z.id,result:T};xe(P,q,G),t.write(P)}Ne(z);let Z=m[z.method],E,u;Z&&(E=Z.type,u=Z.handler);let v=Date.now();if(u||g){let T=String(z.id),q=N.receiver.createCancellationTokenSource(T);D[T]=q;try{let G;if(u)if(z.params===void 0){if(E!==void 0&&E.numberOfParams!==0){O(new Ze.ResponseError(Ze.ErrorCodes.InvalidParams,`Request ${z.method} defines ${E.numberOfParams} params but recevied none.`),z.method,v);return}G=u(q.token)}else if(Array.isArray(z.params)){if(E!==void 0&&E.parameterStructures===Ze.ParameterStructures.byName){O(new Ze.ResponseError(Ze.ErrorCodes.InvalidParams,`Request ${z.method} defines parameters by name but received parameters by position`),z.method,v);return}G=u(...z.params,q.token)}else{if(E!==void 0&&E.parameterStructures===Ze.ParameterStructures.byPosition){O(new Ze.ResponseError(Ze.ErrorCodes.InvalidParams,`Request ${z.method} defines parameters by position but received parameters by name`),z.method,v);return}G=u(z.params,q.token)}else g&&(G=g(z.method,z.params,q.token));let P=G;G?P.then?P.then(Ce=>{delete D[T],F(Ce,z.method,v)},Ce=>{delete D[T],Ce instanceof Ze.ResponseError?O(Ce,z.method,v):Ce&&Nr.string(Ce.message)?O(new Ze.ResponseError(Ze.ErrorCodes.InternalError,`Request ${z.method} failed with message: ${Ce.message}`),z.method,v):O(new Ze.ResponseError(Ze.ErrorCodes.InternalError,`Request ${z.method} failed unexpectedly without providing any details.`),z.method,v)}):(delete D[T],F(G,z.method,v)):(delete D[T],B(G,z.method,v))}catch(G){delete D[T],G instanceof Ze.ResponseError?F(G,z.method,v):G&&Nr.string(G.message)?O(new Ze.ResponseError(Ze.ErrorCodes.InternalError,`Request ${z.method} failed with message: ${G.message}`),z.method,v):O(new Ze.ResponseError(Ze.ErrorCodes.InternalError,`Request ${z.method} failed unexpectedly without providing any details.`),z.method,v)}}else O(new Ze.ResponseError(Ze.ErrorCodes.MethodNotFound,`Unhandled method ${z.method}`),z.method,v)}function Xe(z){if(!fe())if(z.id===null)z.error?s.error(`Received response message without id: Error is: 
${JSON.stringify(z.error,void 0,4)}`):s.error("Received response message without id. No further error information provided.");else{let F=String(z.id),O=R[F];if(et(z,O),O){delete R[F];try{if(z.error){let B=z.error;O.reject(new Ze.ResponseError(B.code,B.message,B.data))}else if(z.result!==void 0)O.resolve(z.result);else throw new Error("Should never happen.")}catch(B){B.message?s.error(`Response handler '${O.method}' failed with message: ${B.message}`):s.error(`Response handler '${O.method}' failed unexpectedly.`)}}}}function Ie(z){if(fe())return;let F,O;if(z.method===ch.type.method)O=B=>{let Z=B.id,E=D[String(Z)];E&&E.cancel()};else{let B=S[z.method];B&&(O=B.handler,F=B.type)}if(O||y)try{pe(z),O?z.params===void 0?(F!==void 0&&F.numberOfParams!==0&&F.parameterStructures!==Ze.ParameterStructures.byName&&s.error(`Notification ${z.method} defines ${F.numberOfParams} params but recevied none.`),O()):Array.isArray(z.params)?(F!==void 0&&(F.parameterStructures===Ze.ParameterStructures.byName&&s.error(`Notification ${z.method} defines parameters by name but received parameters by position`),F.numberOfParams!==z.params.length&&s.error(`Notification ${z.method} defines ${F.numberOfParams} params but received ${z.params.length} argumennts`)),O(...z.params)):(F!==void 0&&F.parameterStructures===Ze.ParameterStructures.byPosition&&s.error(`Notification ${z.method} defines parameters by position but received parameters by name`),O(z.params)):y&&y(z.method,z.params)}catch(B){B.message?s.error(`Notification handler '${z.method}' failed with message: ${B.message}`):s.error(`Notification handler '${z.method}' failed unexpectedly.`)}else le.fire(z)}function de(z){if(!z){s.error("Received empty message.");return}s.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(z,null,4)}`);let F=z;if(Nr.string(F.id)||Nr.number(F.id)){let O=String(F.id),B=R[O];B&&B.reject(new Error("The received response has neither a result nor an error property."))}}function te(z){if(!(I===pr.Off||!L))if(M===Dn.Text){let F;I===pr.Verbose&&z.params&&(F=`Params: ${JSON.stringify(z.params,null,4)}

`),L.log(`Sending request '${z.method} - (${z.id})'.`,F)}else it("send-request",z)}function oe(z){if(!(I===pr.Off||!L))if(M===Dn.Text){let F;I===pr.Verbose&&(z.params?F=`Params: ${JSON.stringify(z.params,null,4)}

`:F=`No parameters provided.

`),L.log(`Sending notification '${z.method}'.`,F)}else it("send-notification",z)}function xe(z,F,O){if(!(I===pr.Off||!L))if(M===Dn.Text){let B;I===pr.Verbose&&(z.error&&z.error.data?B=`Error data: ${JSON.stringify(z.error.data,null,4)}

`:z.result?B=`Result: ${JSON.stringify(z.result,null,4)}

`:z.error===void 0&&(B=`No result returned.

`)),L.log(`Sending response '${F} - (${z.id})'. Processing request took ${Date.now()-O}ms`,B)}else it("send-response",z)}function Ne(z){if(!(I===pr.Off||!L))if(M===Dn.Text){let F;I===pr.Verbose&&z.params&&(F=`Params: ${JSON.stringify(z.params,null,4)}

`),L.log(`Received request '${z.method} - (${z.id})'.`,F)}else it("receive-request",z)}function pe(z){if(!(I===pr.Off||!L||z.method===nR.type.method))if(M===Dn.Text){let F;I===pr.Verbose&&(z.params?F=`Params: ${JSON.stringify(z.params,null,4)}

`:F=`No parameters provided.

`),L.log(`Received notification '${z.method}'.`,F)}else it("receive-notification",z)}function et(z,F){if(!(I===pr.Off||!L))if(M===Dn.Text){let O;if(I===pr.Verbose&&(z.error&&z.error.data?O=`Error data: ${JSON.stringify(z.error.data,null,4)}

`:z.result?O=`Result: ${JSON.stringify(z.result,null,4)}

`:z.error===void 0&&(O=`No result returned.

`)),F){let B=z.error?` Request failed: ${z.error.message} (${z.error.code}).`:"";L.log(`Received response '${F.method} - (${z.id})' in ${Date.now()-F.timerStart}ms.${B}`,O)}else L.log(`Received response ${z.id} without active response promise.`,O)}else it("receive-response",z)}function it(z,F){if(!L||I===pr.Off)return;let O={isLSPMessage:!0,type:z,message:F,timestamp:Date.now()};L.log(O)}function Te(){if(ue())throw new xu(ov.Closed,"Connection is closed.");if(fe())throw new xu(ov.Disposed,"Connection is disposed.")}function Ft(){if(se())throw new xu(ov.AlreadyListening,"Connection is already listening")}function sr(){if(!se())throw new Error("Call listen() first.")}function ee(z){return z===void 0?null:z}function $(z){if(z!==null)return z}function ae(z){return z!=null&&!Array.isArray(z)&&typeof z=="object"}function re(z,F){switch(z){case Ze.ParameterStructures.auto:return ae(F)?$(F):[ee(F)];case Ze.ParameterStructures.byName:if(!ae(F))throw new Error("Recevied parameters by name but param is not an object literal.");return $(F);case Ze.ParameterStructures.byPosition:return[ee(F)];default:throw new Error(`Unknown parameter structure ${z.toString()}`)}}function ne(z,F){let O,B=z.numberOfParams;switch(B){case 0:O=void 0;break;case 1:O=re(z.parameterStructures,F[0]);break;default:O=[];for(let Z=0;Z<F.length&&Z<B;Z++)O.push(ee(F[Z]));if(F.length<B)for(let Z=F.length;Z<B;Z++)O.push(null);break}return O}let Pe={sendNotification:(z,...F)=>{Te();let O,B;if(Nr.string(z)){O=z;let E=F[0],u=0,v=Ze.ParameterStructures.auto;Ze.ParameterStructures.is(E)&&(u=1,v=E);let T=F.length,q=T-u;switch(q){case 0:B=void 0;break;case 1:B=re(v,F[u]);break;default:if(v===Ze.ParameterStructures.byName)throw new Error(`Recevied ${q} parameters for 'by Name' notification parameter structure.`);B=F.slice(u,T).map(G=>ee(G));break}}else{let E=F;O=z.method,B=ne(z,E)}let Z={jsonrpc:p,method:O,params:B};oe(Z),t.write(Z)},onNotification:(z,F)=>{Te();let O;return Nr.func(z)?y=z:F&&(Nr.string(z)?(O=z,S[z]={type:void 0,handler:F}):(O=z.method,S[z.method]={type:z,handler:F})),{dispose:()=>{O!==void 0?delete S[O]:y=void 0}}},onProgress:(z,F,O)=>{if(w.has(F))throw new Error(`Progress handler for token ${F} already registered`);return w.set(F,O),{dispose:()=>{w.delete(F)}}},sendProgress:(z,F,O)=>{Pe.sendNotification(av.type,{token:F,value:O})},onUnhandledProgress:ge.event,sendRequest:(z,...F)=>{Te(),sr();let O,B,Z;if(Nr.string(z)){O=z;let T=F[0],q=F[F.length-1],G=0,P=Ze.ParameterStructures.auto;Ze.ParameterStructures.is(T)&&(G=1,P=T);let Ce=F.length;tR.CancellationToken.is(q)&&(Ce=Ce-1,Z=q);let Fe=Ce-G;switch(Fe){case 0:B=void 0;break;case 1:B=re(P,F[G]);break;default:if(P===Ze.ParameterStructures.byName)throw new Error(`Recevied ${Fe} parameters for 'by Name' request parameter structure.`);B=F.slice(G,Ce).map(He=>ee(He));break}}else{let T=F;O=z.method,B=ne(z,T);let q=z.numberOfParams;Z=tR.CancellationToken.is(T[q])?T[q]:void 0}let E=o++,u;return Z&&(u=Z.onCancellationRequested(()=>{N.sender.sendCancellation(Pe,E)})),new Promise((T,q)=>{let G={jsonrpc:p,id:E,method:O,params:B},P=He=>{T(He),N.sender.cleanup(E),u?.dispose()},Ce=He=>{q(He),N.sender.cleanup(E),u?.dispose()},Fe={method:O,timerStart:Date.now(),resolve:P,reject:Ce};te(G);try{t.write(G)}catch(He){Fe.reject(new Ze.ResponseError(Ze.ErrorCodes.MessageWriteError,He.message?He.message:"Unknown reason")),Fe=null}Fe&&(R[String(E)]=Fe)})},onRequest:(z,F)=>{Te();let O=null;return iR.is(z)?(O=void 0,g=z):Nr.string(z)?(O=null,F!==void 0&&(O=z,m[z]={handler:F,type:void 0})):F!==void 0&&(O=z.method,m[z.method]={type:z,handler:F}),{dispose:()=>{O!==null&&(O!==void 0?delete m[O]:g=void 0)}}},trace:(z,F,O)=>{let B=!1,Z=Dn.Text;O!==void 0&&(Nr.boolean(O)?B=O:(B=O.sendNotification||!1,Z=O.traceFormat||Dn.Text)),I=z,M=Z,I===pr.Off?L=void 0:L=F,B&&!ue()&&!fe()&&Pe.sendNotification(_7.type,{value:pr.toString(z)})},onError:K.event,onClose:Q.event,onUnhandledNotification:le.event,onDispose:j.event,end:()=>{t.end()},dispose:()=>{if(fe())return;V=Pn.Disposed,j.fire(void 0);let z=new Error("Connection got disposed.");Object.keys(R).forEach(F=>{R[F].reject(z)}),R=Object.create(null),D=Object.create(null),_=new w7.LinkedMap,Nr.func(t.dispose)&&t.dispose(),Nr.func(r.dispose)&&r.dispose()},listen:()=>{Te(),Ft(),V=Pn.Listening,r.listen(ce)},inspect:()=>{S7.default().console.log("inspect")}};return Pe.onNotification(nR.type,z=>{I===pr.Off||!L||L.log(z.message,I===pr.Verbose?z.verbose:void 0)}),Pe.onNotification(av.type,z=>{let F=w.get(z.token);F?F(z.value):ge.fire(z)}),Pe}tt.createMessageConnection=Wde});var uR=x(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.CancellationSenderStrategy=Ee.CancellationReceiverStrategy=Ee.ConnectionError=Ee.ConnectionErrors=Ee.LogTraceNotification=Ee.SetTraceNotification=Ee.TraceFormat=Ee.Trace=Ee.ProgressType=Ee.createMessageConnection=Ee.NullLogger=Ee.ConnectionOptions=Ee.ConnectionStrategy=Ee.WriteableStreamMessageWriter=Ee.AbstractMessageWriter=Ee.MessageWriter=Ee.ReadableStreamMessageReader=Ee.AbstractMessageReader=Ee.MessageReader=Ee.CancellationToken=Ee.CancellationTokenSource=Ee.Emitter=Ee.Event=Ee.Disposable=Ee.ParameterStructures=Ee.NotificationType9=Ee.NotificationType8=Ee.NotificationType7=Ee.NotificationType6=Ee.NotificationType5=Ee.NotificationType4=Ee.NotificationType3=Ee.NotificationType2=Ee.NotificationType1=Ee.NotificationType0=Ee.NotificationType=Ee.ErrorCodes=Ee.ResponseError=Ee.RequestType9=Ee.RequestType8=Ee.RequestType7=Ee.RequestType6=Ee.RequestType5=Ee.RequestType4=Ee.RequestType3=Ee.RequestType2=Ee.RequestType1=Ee.RequestType0=Ee.RequestType=Ee.RAL=void 0;Ee.CancellationStrategy=void 0;var Yt=W2();Object.defineProperty(Ee,"RequestType",{enumerable:!0,get:function(){return Yt.RequestType}});Object.defineProperty(Ee,"RequestType0",{enumerable:!0,get:function(){return Yt.RequestType0}});Object.defineProperty(Ee,"RequestType1",{enumerable:!0,get:function(){return Yt.RequestType1}});Object.defineProperty(Ee,"RequestType2",{enumerable:!0,get:function(){return Yt.RequestType2}});Object.defineProperty(Ee,"RequestType3",{enumerable:!0,get:function(){return Yt.RequestType3}});Object.defineProperty(Ee,"RequestType4",{enumerable:!0,get:function(){return Yt.RequestType4}});Object.defineProperty(Ee,"RequestType5",{enumerable:!0,get:function(){return Yt.RequestType5}});Object.defineProperty(Ee,"RequestType6",{enumerable:!0,get:function(){return Yt.RequestType6}});Object.defineProperty(Ee,"RequestType7",{enumerable:!0,get:function(){return Yt.RequestType7}});Object.defineProperty(Ee,"RequestType8",{enumerable:!0,get:function(){return Yt.RequestType8}});Object.defineProperty(Ee,"RequestType9",{enumerable:!0,get:function(){return Yt.RequestType9}});Object.defineProperty(Ee,"ResponseError",{enumerable:!0,get:function(){return Yt.ResponseError}});Object.defineProperty(Ee,"ErrorCodes",{enumerable:!0,get:function(){return Yt.ErrorCodes}});Object.defineProperty(Ee,"NotificationType",{enumerable:!0,get:function(){return Yt.NotificationType}});Object.defineProperty(Ee,"NotificationType0",{enumerable:!0,get:function(){return Yt.NotificationType0}});Object.defineProperty(Ee,"NotificationType1",{enumerable:!0,get:function(){return Yt.NotificationType1}});Object.defineProperty(Ee,"NotificationType2",{enumerable:!0,get:function(){return Yt.NotificationType2}});Object.defineProperty(Ee,"NotificationType3",{enumerable:!0,get:function(){return Yt.NotificationType3}});Object.defineProperty(Ee,"NotificationType4",{enumerable:!0,get:function(){return Yt.NotificationType4}});Object.defineProperty(Ee,"NotificationType5",{enumerable:!0,get:function(){return Yt.NotificationType5}});Object.defineProperty(Ee,"NotificationType6",{enumerable:!0,get:function(){return Yt.NotificationType6}});Object.defineProperty(Ee,"NotificationType7",{enumerable:!0,get:function(){return Yt.NotificationType7}});Object.defineProperty(Ee,"NotificationType8",{enumerable:!0,get:function(){return Yt.NotificationType8}});Object.defineProperty(Ee,"NotificationType9",{enumerable:!0,get:function(){return Yt.NotificationType9}});Object.defineProperty(Ee,"ParameterStructures",{enumerable:!0,get:function(){return Yt.ParameterStructures}});var zde=h2();Object.defineProperty(Ee,"Disposable",{enumerable:!0,get:function(){return zde.Disposable}});var C7=ku();Object.defineProperty(Ee,"Event",{enumerable:!0,get:function(){return C7.Event}});Object.defineProperty(Ee,"Emitter",{enumerable:!0,get:function(){return C7.Emitter}});var k7=G2();Object.defineProperty(Ee,"CancellationTokenSource",{enumerable:!0,get:function(){return k7.CancellationTokenSource}});Object.defineProperty(Ee,"CancellationToken",{enumerable:!0,get:function(){return k7.CancellationToken}});var lR=h7();Object.defineProperty(Ee,"MessageReader",{enumerable:!0,get:function(){return lR.MessageReader}});Object.defineProperty(Ee,"AbstractMessageReader",{enumerable:!0,get:function(){return lR.AbstractMessageReader}});Object.defineProperty(Ee,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return lR.ReadableStreamMessageReader}});var cR=v7();Object.defineProperty(Ee,"MessageWriter",{enumerable:!0,get:function(){return cR.MessageWriter}});Object.defineProperty(Ee,"AbstractMessageWriter",{enumerable:!0,get:function(){return cR.AbstractMessageWriter}});Object.defineProperty(Ee,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return cR.WriteableStreamMessageWriter}});var xi=T7();Object.defineProperty(Ee,"ConnectionStrategy",{enumerable:!0,get:function(){return xi.ConnectionStrategy}});Object.defineProperty(Ee,"ConnectionOptions",{enumerable:!0,get:function(){return xi.ConnectionOptions}});Object.defineProperty(Ee,"NullLogger",{enumerable:!0,get:function(){return xi.NullLogger}});Object.defineProperty(Ee,"createMessageConnection",{enumerable:!0,get:function(){return xi.createMessageConnection}});Object.defineProperty(Ee,"ProgressType",{enumerable:!0,get:function(){return xi.ProgressType}});Object.defineProperty(Ee,"Trace",{enumerable:!0,get:function(){return xi.Trace}});Object.defineProperty(Ee,"TraceFormat",{enumerable:!0,get:function(){return xi.TraceFormat}});Object.defineProperty(Ee,"SetTraceNotification",{enumerable:!0,get:function(){return xi.SetTraceNotification}});Object.defineProperty(Ee,"LogTraceNotification",{enumerable:!0,get:function(){return xi.LogTraceNotification}});Object.defineProperty(Ee,"ConnectionErrors",{enumerable:!0,get:function(){return xi.ConnectionErrors}});Object.defineProperty(Ee,"ConnectionError",{enumerable:!0,get:function(){return xi.ConnectionError}});Object.defineProperty(Ee,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return xi.CancellationReceiverStrategy}});Object.defineProperty(Ee,"CancellationSenderStrategy",{enumerable:!0,get:function(){return xi.CancellationSenderStrategy}});Object.defineProperty(Ee,"CancellationStrategy",{enumerable:!0,get:function(){return xi.CancellationStrategy}});var Hde=ro();Ee.RAL=Hde.default});var Ou=x(Rt=>{"use strict";var Vde=Rt&&Rt.__createBinding||(Object.create?function(r,t,i,n){n===void 0&&(n=i),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[i]}})}:function(r,t,i,n){n===void 0&&(n=i),r[n]=t[i]}),$de=Rt&&Rt.__exportStar||function(r,t){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(t,i)&&Vde(t,r,i)};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.createMessageConnection=Rt.createServerSocketTransport=Rt.createClientSocketTransport=Rt.createServerPipeTransport=Rt.createClientPipeTransport=Rt.generateRandomPipeName=Rt.StreamMessageWriter=Rt.StreamMessageReader=Rt.SocketMessageWriter=Rt.SocketMessageReader=Rt.IPCMessageWriter=Rt.IPCMessageReader=void 0;var Au=l7();Au.default.install();var gs=uR(),R7=require("path"),Gde=require("os"),Yde=require("crypto"),uv=require("net");$de(uR(),Rt);var dR=class extends gs.AbstractMessageReader{constructor(t){super(),this.process=t;let i=this.process;i.on("error",n=>this.fireError(n)),i.on("close",()=>this.fireClose())}listen(t){return this.process.on("message",t),gs.Disposable.create(()=>this.process.off("message",t))}};Rt.IPCMessageReader=dR;var fR=class extends gs.AbstractMessageWriter{constructor(t){super(),this.process=t,this.errorCount=0;let i=this.process;i.on("error",n=>this.fireError(n)),i.on("close",()=>this.fireClose)}write(t){try{return typeof this.process.send=="function"&&this.process.send(t,void 0,void 0,i=>{i?(this.errorCount++,this.handleError(i,t)):this.errorCount=0}),Promise.resolve()}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,i){this.errorCount++,this.fireError(t,i,this.errorCount)}end(){}};Rt.IPCMessageWriter=fR;var vl=class extends gs.ReadableStreamMessageReader{constructor(t,i="utf-8"){super(Au.default().stream.asReadableStream(t),i)}};Rt.SocketMessageReader=vl;var bl=class extends gs.WriteableStreamMessageWriter{constructor(t,i){super(Au.default().stream.asWritableStream(t),i),this.socket=t}dispose(){super.dispose(),this.socket.destroy()}};Rt.SocketMessageWriter=bl;var lv=class extends gs.ReadableStreamMessageReader{constructor(t,i){super(Au.default().stream.asReadableStream(t),i)}};Rt.StreamMessageReader=lv;var cv=class extends gs.WriteableStreamMessageWriter{constructor(t,i){super(Au.default().stream.asWritableStream(t),i)}};Rt.StreamMessageWriter=cv;var x7=process.env.XDG_RUNTIME_DIR,Kde=new Map([["linux",107],["darwin",103]]);function Xde(){let r=Yde.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${r}-sock`;let t;x7?t=R7.join(x7,`vscode-ipc-${r}.sock`):t=R7.join(Gde.tmpdir(),`vscode-${r}.sock`);let i=Kde.get(process.platform);return i!==void 0&&t.length>=i&&Au.default().console.warn(`WARNING: IPC handle "${t}" is longer than ${i} characters.`),t}Rt.generateRandomPipeName=Xde;function Jde(r,t="utf-8"){let i,n=new Promise((s,o)=>{i=s});return new Promise((s,o)=>{let l=uv.createServer(h=>{l.close(),i([new vl(h,t),new bl(h,t)])});l.on("error",o),l.listen(r,()=>{l.removeListener("error",o),s({onConnected:()=>n})})})}Rt.createClientPipeTransport=Jde;function Zde(r,t="utf-8"){let i=uv.createConnection(r);return[new vl(i,t),new bl(i,t)]}Rt.createServerPipeTransport=Zde;function Qde(r,t="utf-8"){let i,n=new Promise((s,o)=>{i=s});return new Promise((s,o)=>{let l=uv.createServer(h=>{l.close(),i([new vl(h,t),new bl(h,t)])});l.on("error",o),l.listen(r,"127.0.0.1",()=>{l.removeListener("error",o),s({onConnected:()=>n})})})}Rt.createClientSocketTransport=Qde;function efe(r,t="utf-8"){let i=uv.createConnection(r,"127.0.0.1");return[new vl(i,t),new bl(i,t)]}Rt.createServerSocketTransport=efe;function tfe(r){let t=r;return t.read!==void 0&&t.addListener!==void 0}function rfe(r){let t=r;return t.write!==void 0&&t.addListener!==void 0}function ife(r,t,i,n){i||(i=gs.NullLogger);let s=tfe(r)?new lv(r):r,o=rfe(t)?new cv(t):t;return gs.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),gs.createMessageConnection(s,o,i,n)}Rt.createMessageConnection=ife});var hR=x((xEe,A7)=>{"use strict";A7.exports=Ou()});var N7=x((O7,dv)=>{(function(r){if(typeof dv=="object"&&typeof dv.exports=="object"){var t=r(require,O7);t!==void 0&&(dv.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],r)})(function(r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=t.EOL=t.SelectionRange=t.DocumentLink=t.FormattingOptions=t.CodeLens=t.CodeAction=t.CodeActionContext=t.CodeActionKind=t.DocumentSymbol=t.SymbolInformation=t.SymbolTag=t.SymbolKind=t.DocumentHighlight=t.DocumentHighlightKind=t.SignatureInformation=t.ParameterInformation=t.Hover=t.MarkedString=t.CompletionList=t.CompletionItem=t.InsertTextMode=t.InsertReplaceEdit=t.CompletionItemTag=t.InsertTextFormat=t.CompletionItemKind=t.MarkupContent=t.MarkupKind=t.TextDocumentItem=t.OptionalVersionedTextDocumentIdentifier=t.VersionedTextDocumentIdentifier=t.TextDocumentIdentifier=t.WorkspaceChange=t.WorkspaceEdit=t.DeleteFile=t.RenameFile=t.CreateFile=t.TextDocumentEdit=t.AnnotatedTextEdit=t.ChangeAnnotationIdentifier=t.ChangeAnnotation=t.TextEdit=t.Command=t.Diagnostic=t.CodeDescription=t.DiagnosticTag=t.DiagnosticSeverity=t.DiagnosticRelatedInformation=t.FoldingRange=t.FoldingRangeKind=t.ColorPresentation=t.ColorInformation=t.Color=t.LocationLink=t.Location=t.Range=t.Position=t.uinteger=t.integer=void 0;var i;(function(O){O.MIN_VALUE=-2147483648,O.MAX_VALUE=2147483647})(i=t.integer||(t.integer={}));var n;(function(O){O.MIN_VALUE=0,O.MAX_VALUE=2147483647})(n=t.uinteger||(t.uinteger={}));var s;(function(O){function B(E,u){return E===Number.MAX_VALUE&&(E=n.MAX_VALUE),u===Number.MAX_VALUE&&(u=n.MAX_VALUE),{line:E,character:u}}O.create=B;function Z(E){var u=E;return F.objectLiteral(u)&&F.uinteger(u.line)&&F.uinteger(u.character)}O.is=Z})(s=t.Position||(t.Position={}));var o;(function(O){function B(E,u,v,T){if(F.uinteger(E)&&F.uinteger(u)&&F.uinteger(v)&&F.uinteger(T))return{start:s.create(E,u),end:s.create(v,T)};if(s.is(E)&&s.is(u))return{start:E,end:u};throw new Error("Range#create called with invalid arguments["+E+", "+u+", "+v+", "+T+"]")}O.create=B;function Z(E){var u=E;return F.objectLiteral(u)&&s.is(u.start)&&s.is(u.end)}O.is=Z})(o=t.Range||(t.Range={}));var l;(function(O){function B(E,u){return{uri:E,range:u}}O.create=B;function Z(E){var u=E;return F.defined(u)&&o.is(u.range)&&(F.string(u.uri)||F.undefined(u.uri))}O.is=Z})(l=t.Location||(t.Location={}));var h;(function(O){function B(E,u,v,T){return{targetUri:E,targetRange:u,targetSelectionRange:v,originSelectionRange:T}}O.create=B;function Z(E){var u=E;return F.defined(u)&&o.is(u.targetRange)&&F.string(u.targetUri)&&(o.is(u.targetSelectionRange)||F.undefined(u.targetSelectionRange))&&(o.is(u.originSelectionRange)||F.undefined(u.originSelectionRange))}O.is=Z})(h=t.LocationLink||(t.LocationLink={}));var p;(function(O){function B(E,u,v,T){return{red:E,green:u,blue:v,alpha:T}}O.create=B;function Z(E){var u=E;return F.numberRange(u.red,0,1)&&F.numberRange(u.green,0,1)&&F.numberRange(u.blue,0,1)&&F.numberRange(u.alpha,0,1)}O.is=Z})(p=t.Color||(t.Color={}));var g;(function(O){function B(E,u){return{range:E,color:u}}O.create=B;function Z(E){var u=E;return o.is(u.range)&&p.is(u.color)}O.is=Z})(g=t.ColorInformation||(t.ColorInformation={}));var m;(function(O){function B(E,u,v){return{label:E,textEdit:u,additionalTextEdits:v}}O.create=B;function Z(E){var u=E;return F.string(u.label)&&(F.undefined(u.textEdit)||M.is(u))&&(F.undefined(u.additionalTextEdits)||F.typedArray(u.additionalTextEdits,M.is))}O.is=Z})(m=t.ColorPresentation||(t.ColorPresentation={}));var y;(function(O){O.Comment="comment",O.Imports="imports",O.Region="region"})(y=t.FoldingRangeKind||(t.FoldingRangeKind={}));var S;(function(O){function B(E,u,v,T,q){var G={startLine:E,endLine:u};return F.defined(v)&&(G.startCharacter=v),F.defined(T)&&(G.endCharacter=T),F.defined(q)&&(G.kind=q),G}O.create=B;function Z(E){var u=E;return F.uinteger(u.startLine)&&F.uinteger(u.startLine)&&(F.undefined(u.startCharacter)||F.uinteger(u.startCharacter))&&(F.undefined(u.endCharacter)||F.uinteger(u.endCharacter))&&(F.undefined(u.kind)||F.string(u.kind))}O.is=Z})(S=t.FoldingRange||(t.FoldingRange={}));var w;(function(O){function B(E,u){return{location:E,message:u}}O.create=B;function Z(E){var u=E;return F.defined(u)&&l.is(u.location)&&F.string(u.message)}O.is=Z})(w=t.DiagnosticRelatedInformation||(t.DiagnosticRelatedInformation={}));var C;(function(O){O.Error=1,O.Warning=2,O.Information=3,O.Hint=4})(C=t.DiagnosticSeverity||(t.DiagnosticSeverity={}));var _;(function(O){O.Unnecessary=1,O.Deprecated=2})(_=t.DiagnosticTag||(t.DiagnosticTag={}));var R;(function(O){function B(Z){var E=Z;return E!=null&&F.string(E.href)}O.is=B})(R=t.CodeDescription||(t.CodeDescription={}));var D;(function(O){function B(E,u,v,T,q,G){var P={range:E,message:u};return F.defined(v)&&(P.severity=v),F.defined(T)&&(P.code=T),F.defined(q)&&(P.source=q),F.defined(G)&&(P.relatedInformation=G),P}O.create=B;function Z(E){var u,v=E;return F.defined(v)&&o.is(v.range)&&F.string(v.message)&&(F.number(v.severity)||F.undefined(v.severity))&&(F.integer(v.code)||F.string(v.code)||F.undefined(v.code))&&(F.undefined(v.codeDescription)||F.string((u=v.codeDescription)===null||u===void 0?void 0:u.href))&&(F.string(v.source)||F.undefined(v.source))&&(F.undefined(v.relatedInformation)||F.typedArray(v.relatedInformation,w.is))}O.is=Z})(D=t.Diagnostic||(t.Diagnostic={}));var I;(function(O){function B(E,u){for(var v=[],T=2;T<arguments.length;T++)v[T-2]=arguments[T];var q={title:E,command:u};return F.defined(v)&&v.length>0&&(q.arguments=v),q}O.create=B;function Z(E){var u=E;return F.defined(u)&&F.string(u.title)&&F.string(u.command)}O.is=Z})(I=t.Command||(t.Command={}));var M;(function(O){function B(v,T){return{range:v,newText:T}}O.replace=B;function Z(v,T){return{range:{start:v,end:v},newText:T}}O.insert=Z;function E(v){return{range:v,newText:""}}O.del=E;function u(v){var T=v;return F.objectLiteral(T)&&F.string(T.newText)&&o.is(T.range)}O.is=u})(M=t.TextEdit||(t.TextEdit={}));var L;(function(O){function B(E,u,v){var T={label:E};return u!==void 0&&(T.needsConfirmation=u),v!==void 0&&(T.description=v),T}O.create=B;function Z(E){var u=E;return u!==void 0&&F.objectLiteral(u)&&F.string(u.label)&&(F.boolean(u.needsConfirmation)||u.needsConfirmation===void 0)&&(F.string(u.description)||u.description===void 0)}O.is=Z})(L=t.ChangeAnnotation||(t.ChangeAnnotation={}));var V;(function(O){function B(Z){var E=Z;return typeof E=="string"}O.is=B})(V=t.ChangeAnnotationIdentifier||(t.ChangeAnnotationIdentifier={}));var K;(function(O){function B(v,T,q){return{range:v,newText:T,annotationId:q}}O.replace=B;function Z(v,T,q){return{range:{start:v,end:v},newText:T,annotationId:q}}O.insert=Z;function E(v,T){return{range:v,newText:"",annotationId:T}}O.del=E;function u(v){var T=v;return M.is(T)&&(L.is(T.annotationId)||V.is(T.annotationId))}O.is=u})(K=t.AnnotatedTextEdit||(t.AnnotatedTextEdit={}));var Q;(function(O){function B(E,u){return{textDocument:E,edits:u}}O.create=B;function Z(E){var u=E;return F.defined(u)&&se.is(u.textDocument)&&Array.isArray(u.edits)}O.is=Z})(Q=t.TextDocumentEdit||(t.TextDocumentEdit={}));var le;(function(O){function B(E,u,v){var T={kind:"create",uri:E};return u!==void 0&&(u.overwrite!==void 0||u.ignoreIfExists!==void 0)&&(T.options=u),v!==void 0&&(T.annotationId=v),T}O.create=B;function Z(E){var u=E;return u&&u.kind==="create"&&F.string(u.uri)&&(u.options===void 0||(u.options.overwrite===void 0||F.boolean(u.options.overwrite))&&(u.options.ignoreIfExists===void 0||F.boolean(u.options.ignoreIfExists)))&&(u.annotationId===void 0||V.is(u.annotationId))}O.is=Z})(le=t.CreateFile||(t.CreateFile={}));var ge;(function(O){function B(E,u,v,T){var q={kind:"rename",oldUri:E,newUri:u};return v!==void 0&&(v.overwrite!==void 0||v.ignoreIfExists!==void 0)&&(q.options=v),T!==void 0&&(q.annotationId=T),q}O.create=B;function Z(E){var u=E;return u&&u.kind==="rename"&&F.string(u.oldUri)&&F.string(u.newUri)&&(u.options===void 0||(u.options.overwrite===void 0||F.boolean(u.options.overwrite))&&(u.options.ignoreIfExists===void 0||F.boolean(u.options.ignoreIfExists)))&&(u.annotationId===void 0||V.is(u.annotationId))}O.is=Z})(ge=t.RenameFile||(t.RenameFile={}));var j;(function(O){function B(E,u,v){var T={kind:"delete",uri:E};return u!==void 0&&(u.recursive!==void 0||u.ignoreIfNotExists!==void 0)&&(T.options=u),v!==void 0&&(T.annotationId=v),T}O.create=B;function Z(E){var u=E;return u&&u.kind==="delete"&&F.string(u.uri)&&(u.options===void 0||(u.options.recursive===void 0||F.boolean(u.options.recursive))&&(u.options.ignoreIfNotExists===void 0||F.boolean(u.options.ignoreIfNotExists)))&&(u.annotationId===void 0||V.is(u.annotationId))}O.is=Z})(j=t.DeleteFile||(t.DeleteFile={}));var N;(function(O){function B(Z){var E=Z;return E&&(E.changes!==void 0||E.documentChanges!==void 0)&&(E.documentChanges===void 0||E.documentChanges.every(function(u){return F.string(u.kind)?le.is(u)||ge.is(u)||j.is(u):Q.is(u)}))}O.is=B})(N=t.WorkspaceEdit||(t.WorkspaceEdit={}));var X=function(){function O(B,Z){this.edits=B,this.changeAnnotations=Z}return O.prototype.insert=function(B,Z,E){var u,v;if(E===void 0?u=M.insert(B,Z):V.is(E)?(v=E,u=K.insert(B,Z,E)):(this.assertChangeAnnotations(this.changeAnnotations),v=this.changeAnnotations.manage(E),u=K.insert(B,Z,v)),this.edits.push(u),v!==void 0)return v},O.prototype.replace=function(B,Z,E){var u,v;if(E===void 0?u=M.replace(B,Z):V.is(E)?(v=E,u=K.replace(B,Z,E)):(this.assertChangeAnnotations(this.changeAnnotations),v=this.changeAnnotations.manage(E),u=K.replace(B,Z,v)),this.edits.push(u),v!==void 0)return v},O.prototype.delete=function(B,Z){var E,u;if(Z===void 0?E=M.del(B):V.is(Z)?(u=Z,E=K.del(B,Z)):(this.assertChangeAnnotations(this.changeAnnotations),u=this.changeAnnotations.manage(Z),E=K.del(B,u)),this.edits.push(E),u!==void 0)return u},O.prototype.add=function(B){this.edits.push(B)},O.prototype.all=function(){return this.edits},O.prototype.clear=function(){this.edits.splice(0,this.edits.length)},O.prototype.assertChangeAnnotations=function(B){if(B===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},O}(),U=function(){function O(B){this._annotations=B===void 0?Object.create(null):B,this._counter=0,this._size=0}return O.prototype.all=function(){return this._annotations},Object.defineProperty(O.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),O.prototype.manage=function(B,Z){var E;if(V.is(B)?E=B:(E=this.nextId(),Z=B),this._annotations[E]!==void 0)throw new Error("Id "+E+" is already in use.");if(Z===void 0)throw new Error("No annotation provided for id "+E);return this._annotations[E]=Z,this._size++,E},O.prototype.nextId=function(){return this._counter++,this._counter.toString()},O}(),k=function(){function O(B){var Z=this;this._textEditChanges=Object.create(null),B!==void 0?(this._workspaceEdit=B,B.documentChanges?(this._changeAnnotations=new U(B.changeAnnotations),B.changeAnnotations=this._changeAnnotations.all(),B.documentChanges.forEach(function(E){if(Q.is(E)){var u=new X(E.edits,Z._changeAnnotations);Z._textEditChanges[E.textDocument.uri]=u}})):B.changes&&Object.keys(B.changes).forEach(function(E){var u=new X(B.changes[E]);Z._textEditChanges[E]=u})):this._workspaceEdit={}}return Object.defineProperty(O.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),O.prototype.getTextEditChange=function(B){if(se.is(B)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Z={uri:B.uri,version:B.version},E=this._textEditChanges[Z.uri];if(!E){var u=[],v={textDocument:Z,edits:u};this._workspaceEdit.documentChanges.push(v),E=new X(u,this._changeAnnotations),this._textEditChanges[Z.uri]=E}return E}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var E=this._textEditChanges[B];if(!E){var u=[];this._workspaceEdit.changes[B]=u,E=new X(u),this._textEditChanges[B]=E}return E}},O.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new U,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},O.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},O.prototype.createFile=function(B,Z,E){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var u;L.is(Z)||V.is(Z)?u=Z:E=Z;var v,T;if(u===void 0?v=le.create(B,E):(T=V.is(u)?u:this._changeAnnotations.manage(u),v=le.create(B,E,T)),this._workspaceEdit.documentChanges.push(v),T!==void 0)return T},O.prototype.renameFile=function(B,Z,E,u){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var v;L.is(E)||V.is(E)?v=E:u=E;var T,q;if(v===void 0?T=ge.create(B,Z,u):(q=V.is(v)?v:this._changeAnnotations.manage(v),T=ge.create(B,Z,u,q)),this._workspaceEdit.documentChanges.push(T),q!==void 0)return q},O.prototype.deleteFile=function(B,Z,E){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var u;L.is(Z)||V.is(Z)?u=Z:E=Z;var v,T;if(u===void 0?v=j.create(B,E):(T=V.is(u)?u:this._changeAnnotations.manage(u),v=j.create(B,E,T)),this._workspaceEdit.documentChanges.push(v),T!==void 0)return T},O}();t.WorkspaceChange=k;var W;(function(O){function B(E){return{uri:E}}O.create=B;function Z(E){var u=E;return F.defined(u)&&F.string(u.uri)}O.is=Z})(W=t.TextDocumentIdentifier||(t.TextDocumentIdentifier={}));var J;(function(O){function B(E,u){return{uri:E,version:u}}O.create=B;function Z(E){var u=E;return F.defined(u)&&F.string(u.uri)&&F.integer(u.version)}O.is=Z})(J=t.VersionedTextDocumentIdentifier||(t.VersionedTextDocumentIdentifier={}));var se;(function(O){function B(E,u){return{uri:E,version:u}}O.create=B;function Z(E){var u=E;return F.defined(u)&&F.string(u.uri)&&(u.version===null||F.integer(u.version))}O.is=Z})(se=t.OptionalVersionedTextDocumentIdentifier||(t.OptionalVersionedTextDocumentIdentifier={}));var ue;(function(O){function B(E,u,v,T){return{uri:E,languageId:u,version:v,text:T}}O.create=B;function Z(E){var u=E;return F.defined(u)&&F.string(u.uri)&&F.string(u.languageId)&&F.integer(u.version)&&F.string(u.text)}O.is=Z})(ue=t.TextDocumentItem||(t.TextDocumentItem={}));var fe;(function(O){O.PlainText="plaintext",O.Markdown="markdown"})(fe=t.MarkupKind||(t.MarkupKind={})),function(O){function B(Z){var E=Z;return E===O.PlainText||E===O.Markdown}O.is=B}(fe=t.MarkupKind||(t.MarkupKind={}));var ye;(function(O){function B(Z){var E=Z;return F.objectLiteral(Z)&&fe.is(E.kind)&&F.string(E.value)}O.is=B})(ye=t.MarkupContent||(t.MarkupContent={}));var $e;(function(O){O.Text=1,O.Method=2,O.Function=3,O.Constructor=4,O.Field=5,O.Variable=6,O.Class=7,O.Interface=8,O.Module=9,O.Property=10,O.Unit=11,O.Value=12,O.Enum=13,O.Keyword=14,O.Snippet=15,O.Color=16,O.File=17,O.Reference=18,O.Folder=19,O.EnumMember=20,O.Constant=21,O.Struct=22,O.Event=23,O.Operator=24,O.TypeParameter=25})($e=t.CompletionItemKind||(t.CompletionItemKind={}));var Ge;(function(O){O.PlainText=1,O.Snippet=2})(Ge=t.InsertTextFormat||(t.InsertTextFormat={}));var Qe;(function(O){O.Deprecated=1})(Qe=t.CompletionItemTag||(t.CompletionItemTag={}));var Je;(function(O){function B(E,u,v){return{newText:E,insert:u,replace:v}}O.create=B;function Z(E){var u=E;return u&&F.string(u.newText)&&o.is(u.insert)&&o.is(u.replace)}O.is=Z})(Je=t.InsertReplaceEdit||(t.InsertReplaceEdit={}));var ce;(function(O){O.asIs=1,O.adjustIndentation=2})(ce=t.InsertTextMode||(t.InsertTextMode={}));var ve;(function(O){function B(Z){return{label:Z}}O.create=B})(ve=t.CompletionItem||(t.CompletionItem={}));var Xe;(function(O){function B(Z,E){return{items:Z||[],isIncomplete:!!E}}O.create=B})(Xe=t.CompletionList||(t.CompletionList={}));var Ie;(function(O){function B(E){return E.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}O.fromPlainText=B;function Z(E){var u=E;return F.string(u)||F.objectLiteral(u)&&F.string(u.language)&&F.string(u.value)}O.is=Z})(Ie=t.MarkedString||(t.MarkedString={}));var de;(function(O){function B(Z){var E=Z;return!!E&&F.objectLiteral(E)&&(ye.is(E.contents)||Ie.is(E.contents)||F.typedArray(E.contents,Ie.is))&&(Z.range===void 0||o.is(Z.range))}O.is=B})(de=t.Hover||(t.Hover={}));var te;(function(O){function B(Z,E){return E?{label:Z,documentation:E}:{label:Z}}O.create=B})(te=t.ParameterInformation||(t.ParameterInformation={}));var oe;(function(O){function B(Z,E){for(var u=[],v=2;v<arguments.length;v++)u[v-2]=arguments[v];var T={label:Z};return F.defined(E)&&(T.documentation=E),F.defined(u)?T.parameters=u:T.parameters=[],T}O.create=B})(oe=t.SignatureInformation||(t.SignatureInformation={}));var xe;(function(O){O.Text=1,O.Read=2,O.Write=3})(xe=t.DocumentHighlightKind||(t.DocumentHighlightKind={}));var Ne;(function(O){function B(Z,E){var u={range:Z};return F.number(E)&&(u.kind=E),u}O.create=B})(Ne=t.DocumentHighlight||(t.DocumentHighlight={}));var pe;(function(O){O.File=1,O.Module=2,O.Namespace=3,O.Package=4,O.Class=5,O.Method=6,O.Property=7,O.Field=8,O.Constructor=9,O.Enum=10,O.Interface=11,O.Function=12,O.Variable=13,O.Constant=14,O.String=15,O.Number=16,O.Boolean=17,O.Array=18,O.Object=19,O.Key=20,O.Null=21,O.EnumMember=22,O.Struct=23,O.Event=24,O.Operator=25,O.TypeParameter=26})(pe=t.SymbolKind||(t.SymbolKind={}));var et;(function(O){O.Deprecated=1})(et=t.SymbolTag||(t.SymbolTag={}));var it;(function(O){function B(Z,E,u,v,T){var q={name:Z,kind:E,location:{uri:v,range:u}};return T&&(q.containerName=T),q}O.create=B})(it=t.SymbolInformation||(t.SymbolInformation={}));var Te;(function(O){function B(E,u,v,T,q,G){var P={name:E,detail:u,kind:v,range:T,selectionRange:q};return G!==void 0&&(P.children=G),P}O.create=B;function Z(E){var u=E;return u&&F.string(u.name)&&F.number(u.kind)&&o.is(u.range)&&o.is(u.selectionRange)&&(u.detail===void 0||F.string(u.detail))&&(u.deprecated===void 0||F.boolean(u.deprecated))&&(u.children===void 0||Array.isArray(u.children))&&(u.tags===void 0||Array.isArray(u.tags))}O.is=Z})(Te=t.DocumentSymbol||(t.DocumentSymbol={}));var Ft;(function(O){O.Empty="",O.QuickFix="quickfix",O.Refactor="refactor",O.RefactorExtract="refactor.extract",O.RefactorInline="refactor.inline",O.RefactorRewrite="refactor.rewrite",O.Source="source",O.SourceOrganizeImports="source.organizeImports",O.SourceFixAll="source.fixAll"})(Ft=t.CodeActionKind||(t.CodeActionKind={}));var sr;(function(O){function B(E,u){var v={diagnostics:E};return u!=null&&(v.only=u),v}O.create=B;function Z(E){var u=E;return F.defined(u)&&F.typedArray(u.diagnostics,D.is)&&(u.only===void 0||F.typedArray(u.only,F.string))}O.is=Z})(sr=t.CodeActionContext||(t.CodeActionContext={}));var ee;(function(O){function B(E,u,v){var T={title:E},q=!0;return typeof u=="string"?(q=!1,T.kind=u):I.is(u)?T.command=u:T.edit=u,q&&v!==void 0&&(T.kind=v),T}O.create=B;function Z(E){var u=E;return u&&F.string(u.title)&&(u.diagnostics===void 0||F.typedArray(u.diagnostics,D.is))&&(u.kind===void 0||F.string(u.kind))&&(u.edit!==void 0||u.command!==void 0)&&(u.command===void 0||I.is(u.command))&&(u.isPreferred===void 0||F.boolean(u.isPreferred))&&(u.edit===void 0||N.is(u.edit))}O.is=Z})(ee=t.CodeAction||(t.CodeAction={}));var $;(function(O){function B(E,u){var v={range:E};return F.defined(u)&&(v.data=u),v}O.create=B;function Z(E){var u=E;return F.defined(u)&&o.is(u.range)&&(F.undefined(u.command)||I.is(u.command))}O.is=Z})($=t.CodeLens||(t.CodeLens={}));var ae;(function(O){function B(E,u){return{tabSize:E,insertSpaces:u}}O.create=B;function Z(E){var u=E;return F.defined(u)&&F.uinteger(u.tabSize)&&F.boolean(u.insertSpaces)}O.is=Z})(ae=t.FormattingOptions||(t.FormattingOptions={}));var re;(function(O){function B(E,u,v){return{range:E,target:u,data:v}}O.create=B;function Z(E){var u=E;return F.defined(u)&&o.is(u.range)&&(F.undefined(u.target)||F.string(u.target))}O.is=Z})(re=t.DocumentLink||(t.DocumentLink={}));var ne;(function(O){function B(E,u){return{range:E,parent:u}}O.create=B;function Z(E){var u=E;return u!==void 0&&o.is(u.range)&&(u.parent===void 0||O.is(u.parent))}O.is=Z})(ne=t.SelectionRange||(t.SelectionRange={})),t.EOL=[`
`,`\r
`,"\r"];var Pe;(function(O){function B(v,T,q,G){return new z(v,T,q,G)}O.create=B;function Z(v){var T=v;return!!(F.defined(T)&&F.string(T.uri)&&(F.undefined(T.languageId)||F.string(T.languageId))&&F.uinteger(T.lineCount)&&F.func(T.getText)&&F.func(T.positionAt)&&F.func(T.offsetAt))}O.is=Z;function E(v,T){for(var q=v.getText(),G=u(T,function(Ye,er){var ti=Ye.range.start.line-er.range.start.line;return ti===0?Ye.range.start.character-er.range.start.character:ti}),P=q.length,Ce=G.length-1;Ce>=0;Ce--){var Fe=G[Ce],He=v.offsetAt(Fe.range.start),_e=v.offsetAt(Fe.range.end);if(_e<=P)q=q.substring(0,He)+Fe.newText+q.substring(_e,q.length);else throw new Error("Overlapping edit");P=He}return q}O.applyEdits=E;function u(v,T){if(v.length<=1)return v;var q=v.length/2|0,G=v.slice(0,q),P=v.slice(q);u(G,T),u(P,T);for(var Ce=0,Fe=0,He=0;Ce<G.length&&Fe<P.length;){var _e=T(G[Ce],P[Fe]);_e<=0?v[He++]=G[Ce++]:v[He++]=P[Fe++]}for(;Ce<G.length;)v[He++]=G[Ce++];for(;Fe<P.length;)v[He++]=P[Fe++];return v}})(Pe=t.TextDocument||(t.TextDocument={}));var z=function(){function O(B,Z,E,u){this._uri=B,this._languageId=Z,this._version=E,this._content=u,this._lineOffsets=void 0}return Object.defineProperty(O.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),O.prototype.getText=function(B){if(B){var Z=this.offsetAt(B.start),E=this.offsetAt(B.end);return this._content.substring(Z,E)}return this._content},O.prototype.update=function(B,Z){this._content=B.text,this._version=Z,this._lineOffsets=void 0},O.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var B=[],Z=this._content,E=!0,u=0;u<Z.length;u++){E&&(B.push(u),E=!1);var v=Z.charAt(u);E=v==="\r"||v===`
`,v==="\r"&&u+1<Z.length&&Z.charAt(u+1)===`
`&&u++}E&&Z.length>0&&B.push(Z.length),this._lineOffsets=B}return this._lineOffsets},O.prototype.positionAt=function(B){B=Math.max(Math.min(B,this._content.length),0);var Z=this.getLineOffsets(),E=0,u=Z.length;if(u===0)return s.create(0,B);for(;E<u;){var v=Math.floor((E+u)/2);Z[v]>B?u=v:E=v+1}var T=E-1;return s.create(T,B-Z[T])},O.prototype.offsetAt=function(B){var Z=this.getLineOffsets();if(B.line>=Z.length)return this._content.length;if(B.line<0)return 0;var E=Z[B.line],u=B.line+1<Z.length?Z[B.line+1]:this._content.length;return Math.max(Math.min(E+B.character,u),E)},Object.defineProperty(O.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),O}(),F;(function(O){var B=Object.prototype.toString;function Z(_e){return typeof _e<"u"}O.defined=Z;function E(_e){return typeof _e>"u"}O.undefined=E;function u(_e){return _e===!0||_e===!1}O.boolean=u;function v(_e){return B.call(_e)==="[object String]"}O.string=v;function T(_e){return B.call(_e)==="[object Number]"}O.number=T;function q(_e,Ye,er){return B.call(_e)==="[object Number]"&&Ye<=_e&&_e<=er}O.numberRange=q;function G(_e){return B.call(_e)==="[object Number]"&&-2147483648<=_e&&_e<=2147483647}O.integer=G;function P(_e){return B.call(_e)==="[object Number]"&&0<=_e&&_e<=2147483647}O.uinteger=P;function Ce(_e){return B.call(_e)==="[object Function]"}O.func=Ce;function Fe(_e){return _e!==null&&typeof _e=="object"}O.objectLiteral=Fe;function He(_e,Ye){return Array.isArray(_e)&&_e.every(Ye)}O.typedArray=He})(F||(F={}))})});var Dr=x(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.ProtocolNotificationType=dn.ProtocolNotificationType0=dn.ProtocolRequestType=dn.ProtocolRequestType0=dn.RegistrationType=void 0;var Nu=Ou(),pR=class{constructor(t){this.method=t}};dn.RegistrationType=pR;var gR=class extends Nu.RequestType0{constructor(t){super(t)}};dn.ProtocolRequestType0=gR;var mR=class extends Nu.RequestType{constructor(t){super(t,Nu.ParameterStructures.byName)}};dn.ProtocolRequestType=mR;var yR=class extends Nu.NotificationType0{constructor(t){super(t)}};dn.ProtocolNotificationType0=yR;var vR=class extends Nu.NotificationType{constructor(t){super(t,Nu.ParameterStructures.byName)}};dn.ProtocolNotificationType=vR});var I7=x(gr=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.objectLiteral=gr.typedArray=gr.stringArray=gr.array=gr.func=gr.error=gr.number=gr.string=gr.boolean=void 0;function nfe(r){return r===!0||r===!1}gr.boolean=nfe;function D7(r){return typeof r=="string"||r instanceof String}gr.string=D7;function sfe(r){return typeof r=="number"||r instanceof Number}gr.number=sfe;function ofe(r){return r instanceof Error}gr.error=ofe;function afe(r){return typeof r=="function"}gr.func=afe;function P7(r){return Array.isArray(r)}gr.array=P7;function lfe(r){return P7(r)&&r.every(t=>D7(t))}gr.stringArray=lfe;function cfe(r,t){return Array.isArray(r)&&r.every(t)}gr.typedArray=cfe;function ufe(r){return r!==null&&typeof r=="object"}gr.objectLiteral=ufe});var L7=x(uh=>{"use strict";Object.defineProperty(uh,"__esModule",{value:!0});uh.ImplementationRequest=void 0;var dfe=Dr(),ffe;(function(r){r.method="textDocument/implementation",r.type=new dfe.ProtocolRequestType(r.method)})(ffe=uh.ImplementationRequest||(uh.ImplementationRequest={}))});var M7=x(dh=>{"use strict";Object.defineProperty(dh,"__esModule",{value:!0});dh.TypeDefinitionRequest=void 0;var hfe=Dr(),pfe;(function(r){r.method="textDocument/typeDefinition",r.type=new hfe.ProtocolRequestType(r.method)})(pfe=dh.TypeDefinitionRequest||(dh.TypeDefinitionRequest={}))});var j7=x(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});da.DidChangeWorkspaceFoldersNotification=da.WorkspaceFoldersRequest=void 0;var F7=Dr(),gfe;(function(r){r.type=new F7.ProtocolRequestType0("workspace/workspaceFolders")})(gfe=da.WorkspaceFoldersRequest||(da.WorkspaceFoldersRequest={}));var mfe;(function(r){r.type=new F7.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(mfe=da.DidChangeWorkspaceFoldersNotification||(da.DidChangeWorkspaceFoldersNotification={}))});var B7=x(fh=>{"use strict";Object.defineProperty(fh,"__esModule",{value:!0});fh.ConfigurationRequest=void 0;var yfe=Dr(),vfe;(function(r){r.type=new yfe.ProtocolRequestType("workspace/configuration")})(vfe=fh.ConfigurationRequest||(fh.ConfigurationRequest={}))});var q7=x(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});fa.ColorPresentationRequest=fa.DocumentColorRequest=void 0;var U7=Dr(),bfe;(function(r){r.method="textDocument/documentColor",r.type=new U7.ProtocolRequestType(r.method)})(bfe=fa.DocumentColorRequest||(fa.DocumentColorRequest={}));var Sfe;(function(r){r.type=new U7.ProtocolRequestType("textDocument/colorPresentation")})(Sfe=fa.ColorPresentationRequest||(fa.ColorPresentationRequest={}))});var W7=x(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});ha.FoldingRangeRequest=ha.FoldingRangeKind=void 0;var wfe=Dr(),_fe;(function(r){r.Comment="comment",r.Imports="imports",r.Region="region"})(_fe=ha.FoldingRangeKind||(ha.FoldingRangeKind={}));var Efe;(function(r){r.method="textDocument/foldingRange",r.type=new wfe.ProtocolRequestType(r.method)})(Efe=ha.FoldingRangeRequest||(ha.FoldingRangeRequest={}))});var z7=x(hh=>{"use strict";Object.defineProperty(hh,"__esModule",{value:!0});hh.DeclarationRequest=void 0;var Tfe=Dr(),Cfe;(function(r){r.method="textDocument/declaration",r.type=new Tfe.ProtocolRequestType(r.method)})(Cfe=hh.DeclarationRequest||(hh.DeclarationRequest={}))});var H7=x(ph=>{"use strict";Object.defineProperty(ph,"__esModule",{value:!0});ph.SelectionRangeRequest=void 0;var kfe=Dr(),Rfe;(function(r){r.method="textDocument/selectionRange",r.type=new kfe.ProtocolRequestType(r.method)})(Rfe=ph.SelectionRangeRequest||(ph.SelectionRangeRequest={}))});var $7=x(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.WorkDoneProgressCancelNotification=In.WorkDoneProgressCreateRequest=In.WorkDoneProgress=void 0;var xfe=Ou(),V7=Dr(),Afe;(function(r){r.type=new xfe.ProgressType;function t(i){return i===r.type}r.is=t})(Afe=In.WorkDoneProgress||(In.WorkDoneProgress={}));var Ofe;(function(r){r.type=new V7.ProtocolRequestType("window/workDoneProgress/create")})(Ofe=In.WorkDoneProgressCreateRequest||(In.WorkDoneProgressCreateRequest={}));var Nfe;(function(r){r.type=new V7.ProtocolNotificationType("window/workDoneProgress/cancel")})(Nfe=In.WorkDoneProgressCancelNotification||(In.WorkDoneProgressCancelNotification={}))});var G7=x(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.CallHierarchyOutgoingCallsRequest=Ln.CallHierarchyIncomingCallsRequest=Ln.CallHierarchyPrepareRequest=void 0;var bR=Dr(),Dfe;(function(r){r.method="textDocument/prepareCallHierarchy",r.type=new bR.ProtocolRequestType(r.method)})(Dfe=Ln.CallHierarchyPrepareRequest||(Ln.CallHierarchyPrepareRequest={}));var Pfe;(function(r){r.method="callHierarchy/incomingCalls",r.type=new bR.ProtocolRequestType(r.method)})(Pfe=Ln.CallHierarchyIncomingCallsRequest||(Ln.CallHierarchyIncomingCallsRequest={}));var Ife;(function(r){r.method="callHierarchy/outgoingCalls",r.type=new bR.ProtocolRequestType(r.method)})(Ife=Ln.CallHierarchyOutgoingCallsRequest||(Ln.CallHierarchyOutgoingCallsRequest={}))});var Y7=x(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.SemanticTokensRefreshRequest=Mt.SemanticTokensRangeRequest=Mt.SemanticTokensDeltaRequest=Mt.SemanticTokensRequest=Mt.SemanticTokensRegistrationType=Mt.TokenFormat=Mt.SemanticTokens=Mt.SemanticTokenModifiers=Mt.SemanticTokenTypes=void 0;var gh=Dr(),Lfe;(function(r){r.namespace="namespace",r.type="type",r.class="class",r.enum="enum",r.interface="interface",r.struct="struct",r.typeParameter="typeParameter",r.parameter="parameter",r.variable="variable",r.property="property",r.enumMember="enumMember",r.event="event",r.function="function",r.method="method",r.macro="macro",r.keyword="keyword",r.modifier="modifier",r.comment="comment",r.string="string",r.number="number",r.regexp="regexp",r.operator="operator"})(Lfe=Mt.SemanticTokenTypes||(Mt.SemanticTokenTypes={}));var Mfe;(function(r){r.declaration="declaration",r.definition="definition",r.readonly="readonly",r.static="static",r.deprecated="deprecated",r.abstract="abstract",r.async="async",r.modification="modification",r.documentation="documentation",r.defaultLibrary="defaultLibrary"})(Mfe=Mt.SemanticTokenModifiers||(Mt.SemanticTokenModifiers={}));var Ffe;(function(r){function t(i){let n=i;return n!==void 0&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}r.is=t})(Ffe=Mt.SemanticTokens||(Mt.SemanticTokens={}));var jfe;(function(r){r.Relative="relative"})(jfe=Mt.TokenFormat||(Mt.TokenFormat={}));var Bfe;(function(r){r.method="textDocument/semanticTokens",r.type=new gh.RegistrationType(r.method)})(Bfe=Mt.SemanticTokensRegistrationType||(Mt.SemanticTokensRegistrationType={}));var Ufe;(function(r){r.method="textDocument/semanticTokens/full",r.type=new gh.ProtocolRequestType(r.method)})(Ufe=Mt.SemanticTokensRequest||(Mt.SemanticTokensRequest={}));var qfe;(function(r){r.method="textDocument/semanticTokens/full/delta",r.type=new gh.ProtocolRequestType(r.method)})(qfe=Mt.SemanticTokensDeltaRequest||(Mt.SemanticTokensDeltaRequest={}));var Wfe;(function(r){r.method="textDocument/semanticTokens/range",r.type=new gh.ProtocolRequestType(r.method)})(Wfe=Mt.SemanticTokensRangeRequest||(Mt.SemanticTokensRangeRequest={}));var zfe;(function(r){r.method="workspace/semanticTokens/refresh",r.type=new gh.ProtocolRequestType0(r.method)})(zfe=Mt.SemanticTokensRefreshRequest||(Mt.SemanticTokensRefreshRequest={}))});var K7=x(mh=>{"use strict";Object.defineProperty(mh,"__esModule",{value:!0});mh.ShowDocumentRequest=void 0;var Hfe=Dr(),Vfe;(function(r){r.method="window/showDocument",r.type=new Hfe.ProtocolRequestType(r.method)})(Vfe=mh.ShowDocumentRequest||(mh.ShowDocumentRequest={}))});var X7=x(yh=>{"use strict";Object.defineProperty(yh,"__esModule",{value:!0});yh.LinkedEditingRangeRequest=void 0;var $fe=Dr(),Gfe;(function(r){r.method="textDocument/linkedEditingRange",r.type=new $fe.ProtocolRequestType(r.method)})(Gfe=yh.LinkedEditingRangeRequest||(yh.LinkedEditingRangeRequest={}))});var J7=x(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.WillDeleteFilesRequest=tr.DidDeleteFilesNotification=tr.DidRenameFilesNotification=tr.WillRenameFilesRequest=tr.DidCreateFilesNotification=tr.WillCreateFilesRequest=tr.FileOperationPatternKind=void 0;var Du=Dr(),Yfe;(function(r){r.file="file",r.folder="folder"})(Yfe=tr.FileOperationPatternKind||(tr.FileOperationPatternKind={}));var Kfe;(function(r){r.method="workspace/willCreateFiles",r.type=new Du.ProtocolRequestType(r.method)})(Kfe=tr.WillCreateFilesRequest||(tr.WillCreateFilesRequest={}));var Xfe;(function(r){r.method="workspace/didCreateFiles",r.type=new Du.ProtocolNotificationType(r.method)})(Xfe=tr.DidCreateFilesNotification||(tr.DidCreateFilesNotification={}));var Jfe;(function(r){r.method="workspace/willRenameFiles",r.type=new Du.ProtocolRequestType(r.method)})(Jfe=tr.WillRenameFilesRequest||(tr.WillRenameFilesRequest={}));var Zfe;(function(r){r.method="workspace/didRenameFiles",r.type=new Du.ProtocolNotificationType(r.method)})(Zfe=tr.DidRenameFilesNotification||(tr.DidRenameFilesNotification={}));var Qfe;(function(r){r.method="workspace/didDeleteFiles",r.type=new Du.ProtocolNotificationType(r.method)})(Qfe=tr.DidDeleteFilesNotification||(tr.DidDeleteFilesNotification={}));var ehe;(function(r){r.method="workspace/willDeleteFiles",r.type=new Du.ProtocolRequestType(r.method)})(ehe=tr.WillDeleteFilesRequest||(tr.WillDeleteFilesRequest={}))});var Z7=x(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});Mn.MonikerRequest=Mn.MonikerKind=Mn.UniquenessLevel=void 0;var the=Dr(),rhe;(function(r){r.document="document",r.project="project",r.group="group",r.scheme="scheme",r.global="global"})(rhe=Mn.UniquenessLevel||(Mn.UniquenessLevel={}));var ihe;(function(r){r.import="import",r.export="export",r.local="local"})(ihe=Mn.MonikerKind||(Mn.MonikerKind={}));var nhe;(function(r){r.method="textDocument/moniker",r.type=new the.ProtocolRequestType(r.method)})(nhe=Mn.MonikerRequest||(Mn.MonikerRequest={}))});var iU=x(H=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});H.DocumentLinkRequest=H.CodeLensRefreshRequest=H.CodeLensResolveRequest=H.CodeLensRequest=H.WorkspaceSymbolRequest=H.CodeActionResolveRequest=H.CodeActionRequest=H.DocumentSymbolRequest=H.DocumentHighlightRequest=H.ReferencesRequest=H.DefinitionRequest=H.SignatureHelpRequest=H.SignatureHelpTriggerKind=H.HoverRequest=H.CompletionResolveRequest=H.CompletionRequest=H.CompletionTriggerKind=H.PublishDiagnosticsNotification=H.WatchKind=H.FileChangeType=H.DidChangeWatchedFilesNotification=H.WillSaveTextDocumentWaitUntilRequest=H.WillSaveTextDocumentNotification=H.TextDocumentSaveReason=H.DidSaveTextDocumentNotification=H.DidCloseTextDocumentNotification=H.DidChangeTextDocumentNotification=H.TextDocumentContentChangeEvent=H.DidOpenTextDocumentNotification=H.TextDocumentSyncKind=H.TelemetryEventNotification=H.LogMessageNotification=H.ShowMessageRequest=H.ShowMessageNotification=H.MessageType=H.DidChangeConfigurationNotification=H.ExitNotification=H.ShutdownRequest=H.InitializedNotification=H.InitializeError=H.InitializeRequest=H.WorkDoneProgressOptions=H.TextDocumentRegistrationOptions=H.StaticRegistrationOptions=H.FailureHandlingKind=H.ResourceOperationKind=H.UnregistrationRequest=H.RegistrationRequest=H.DocumentSelector=H.DocumentFilter=void 0;H.MonikerRequest=H.MonikerKind=H.UniquenessLevel=H.WillDeleteFilesRequest=H.DidDeleteFilesNotification=H.WillRenameFilesRequest=H.DidRenameFilesNotification=H.WillCreateFilesRequest=H.DidCreateFilesNotification=H.FileOperationPatternKind=H.LinkedEditingRangeRequest=H.ShowDocumentRequest=H.SemanticTokensRegistrationType=H.SemanticTokensRefreshRequest=H.SemanticTokensRangeRequest=H.SemanticTokensDeltaRequest=H.SemanticTokensRequest=H.TokenFormat=H.SemanticTokens=H.SemanticTokenModifiers=H.SemanticTokenTypes=H.CallHierarchyPrepareRequest=H.CallHierarchyOutgoingCallsRequest=H.CallHierarchyIncomingCallsRequest=H.WorkDoneProgressCancelNotification=H.WorkDoneProgressCreateRequest=H.WorkDoneProgress=H.SelectionRangeRequest=H.DeclarationRequest=H.FoldingRangeRequest=H.ColorPresentationRequest=H.DocumentColorRequest=H.ConfigurationRequest=H.DidChangeWorkspaceFoldersNotification=H.WorkspaceFoldersRequest=H.TypeDefinitionRequest=H.ImplementationRequest=H.ApplyWorkspaceEditRequest=H.ExecuteCommandRequest=H.PrepareRenameRequest=H.RenameRequest=H.PrepareSupportDefaultBehavior=H.DocumentOnTypeFormattingRequest=H.DocumentRangeFormattingRequest=H.DocumentFormattingRequest=H.DocumentLinkResolveRequest=void 0;var pa=I7(),nt=Dr(),she=L7();Object.defineProperty(H,"ImplementationRequest",{enumerable:!0,get:function(){return she.ImplementationRequest}});var ohe=M7();Object.defineProperty(H,"TypeDefinitionRequest",{enumerable:!0,get:function(){return ohe.TypeDefinitionRequest}});var Q7=j7();Object.defineProperty(H,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return Q7.WorkspaceFoldersRequest}});Object.defineProperty(H,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return Q7.DidChangeWorkspaceFoldersNotification}});var ahe=B7();Object.defineProperty(H,"ConfigurationRequest",{enumerable:!0,get:function(){return ahe.ConfigurationRequest}});var eU=q7();Object.defineProperty(H,"DocumentColorRequest",{enumerable:!0,get:function(){return eU.DocumentColorRequest}});Object.defineProperty(H,"ColorPresentationRequest",{enumerable:!0,get:function(){return eU.ColorPresentationRequest}});var lhe=W7();Object.defineProperty(H,"FoldingRangeRequest",{enumerable:!0,get:function(){return lhe.FoldingRangeRequest}});var che=z7();Object.defineProperty(H,"DeclarationRequest",{enumerable:!0,get:function(){return che.DeclarationRequest}});var uhe=H7();Object.defineProperty(H,"SelectionRangeRequest",{enumerable:!0,get:function(){return uhe.SelectionRangeRequest}});var SR=$7();Object.defineProperty(H,"WorkDoneProgress",{enumerable:!0,get:function(){return SR.WorkDoneProgress}});Object.defineProperty(H,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return SR.WorkDoneProgressCreateRequest}});Object.defineProperty(H,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return SR.WorkDoneProgressCancelNotification}});var wR=G7();Object.defineProperty(H,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return wR.CallHierarchyIncomingCallsRequest}});Object.defineProperty(H,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return wR.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(H,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return wR.CallHierarchyPrepareRequest}});var oo=Y7();Object.defineProperty(H,"SemanticTokenTypes",{enumerable:!0,get:function(){return oo.SemanticTokenTypes}});Object.defineProperty(H,"SemanticTokenModifiers",{enumerable:!0,get:function(){return oo.SemanticTokenModifiers}});Object.defineProperty(H,"SemanticTokens",{enumerable:!0,get:function(){return oo.SemanticTokens}});Object.defineProperty(H,"TokenFormat",{enumerable:!0,get:function(){return oo.TokenFormat}});Object.defineProperty(H,"SemanticTokensRequest",{enumerable:!0,get:function(){return oo.SemanticTokensRequest}});Object.defineProperty(H,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return oo.SemanticTokensDeltaRequest}});Object.defineProperty(H,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return oo.SemanticTokensRangeRequest}});Object.defineProperty(H,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return oo.SemanticTokensRefreshRequest}});Object.defineProperty(H,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return oo.SemanticTokensRegistrationType}});var dhe=K7();Object.defineProperty(H,"ShowDocumentRequest",{enumerable:!0,get:function(){return dhe.ShowDocumentRequest}});var fhe=X7();Object.defineProperty(H,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return fhe.LinkedEditingRangeRequest}});var Sl=J7();Object.defineProperty(H,"FileOperationPatternKind",{enumerable:!0,get:function(){return Sl.FileOperationPatternKind}});Object.defineProperty(H,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Sl.DidCreateFilesNotification}});Object.defineProperty(H,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Sl.WillCreateFilesRequest}});Object.defineProperty(H,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Sl.DidRenameFilesNotification}});Object.defineProperty(H,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Sl.WillRenameFilesRequest}});Object.defineProperty(H,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Sl.DidDeleteFilesNotification}});Object.defineProperty(H,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Sl.WillDeleteFilesRequest}});var _R=Z7();Object.defineProperty(H,"UniquenessLevel",{enumerable:!0,get:function(){return _R.UniquenessLevel}});Object.defineProperty(H,"MonikerKind",{enumerable:!0,get:function(){return _R.MonikerKind}});Object.defineProperty(H,"MonikerRequest",{enumerable:!0,get:function(){return _R.MonikerRequest}});var tU;(function(r){function t(i){let n=i;return pa.string(n.language)||pa.string(n.scheme)||pa.string(n.pattern)}r.is=t})(tU=H.DocumentFilter||(H.DocumentFilter={}));var rU;(function(r){function t(i){if(!Array.isArray(i))return!1;for(let n of i)if(!pa.string(n)&&!tU.is(n))return!1;return!0}r.is=t})(rU=H.DocumentSelector||(H.DocumentSelector={}));var hhe;(function(r){r.type=new nt.ProtocolRequestType("client/registerCapability")})(hhe=H.RegistrationRequest||(H.RegistrationRequest={}));var phe;(function(r){r.type=new nt.ProtocolRequestType("client/unregisterCapability")})(phe=H.UnregistrationRequest||(H.UnregistrationRequest={}));var ghe;(function(r){r.Create="create",r.Rename="rename",r.Delete="delete"})(ghe=H.ResourceOperationKind||(H.ResourceOperationKind={}));var mhe;(function(r){r.Abort="abort",r.Transactional="transactional",r.TextOnlyTransactional="textOnlyTransactional",r.Undo="undo"})(mhe=H.FailureHandlingKind||(H.FailureHandlingKind={}));var yhe;(function(r){function t(i){let n=i;return n&&pa.string(n.id)&&n.id.length>0}r.hasId=t})(yhe=H.StaticRegistrationOptions||(H.StaticRegistrationOptions={}));var vhe;(function(r){function t(i){let n=i;return n&&(n.documentSelector===null||rU.is(n.documentSelector))}r.is=t})(vhe=H.TextDocumentRegistrationOptions||(H.TextDocumentRegistrationOptions={}));var bhe;(function(r){function t(n){let s=n;return pa.objectLiteral(s)&&(s.workDoneProgress===void 0||pa.boolean(s.workDoneProgress))}r.is=t;function i(n){let s=n;return s&&pa.boolean(s.workDoneProgress)}r.hasWorkDoneProgress=i})(bhe=H.WorkDoneProgressOptions||(H.WorkDoneProgressOptions={}));var She;(function(r){r.type=new nt.ProtocolRequestType("initialize")})(She=H.InitializeRequest||(H.InitializeRequest={}));var whe;(function(r){r.unknownProtocolVersion=1})(whe=H.InitializeError||(H.InitializeError={}));var _he;(function(r){r.type=new nt.ProtocolNotificationType("initialized")})(_he=H.InitializedNotification||(H.InitializedNotification={}));var Ehe;(function(r){r.type=new nt.ProtocolRequestType0("shutdown")})(Ehe=H.ShutdownRequest||(H.ShutdownRequest={}));var The;(function(r){r.type=new nt.ProtocolNotificationType0("exit")})(The=H.ExitNotification||(H.ExitNotification={}));var Che;(function(r){r.type=new nt.ProtocolNotificationType("workspace/didChangeConfiguration")})(Che=H.DidChangeConfigurationNotification||(H.DidChangeConfigurationNotification={}));var khe;(function(r){r.Error=1,r.Warning=2,r.Info=3,r.Log=4})(khe=H.MessageType||(H.MessageType={}));var Rhe;(function(r){r.type=new nt.ProtocolNotificationType("window/showMessage")})(Rhe=H.ShowMessageNotification||(H.ShowMessageNotification={}));var xhe;(function(r){r.type=new nt.ProtocolRequestType("window/showMessageRequest")})(xhe=H.ShowMessageRequest||(H.ShowMessageRequest={}));var Ahe;(function(r){r.type=new nt.ProtocolNotificationType("window/logMessage")})(Ahe=H.LogMessageNotification||(H.LogMessageNotification={}));var Ohe;(function(r){r.type=new nt.ProtocolNotificationType("telemetry/event")})(Ohe=H.TelemetryEventNotification||(H.TelemetryEventNotification={}));var Nhe;(function(r){r.None=0,r.Full=1,r.Incremental=2})(Nhe=H.TextDocumentSyncKind||(H.TextDocumentSyncKind={}));var Dhe;(function(r){r.method="textDocument/didOpen",r.type=new nt.ProtocolNotificationType(r.method)})(Dhe=H.DidOpenTextDocumentNotification||(H.DidOpenTextDocumentNotification={}));var Phe;(function(r){function t(n){let s=n;return s!=null&&typeof s.text=="string"&&s.range!==void 0&&(s.rangeLength===void 0||typeof s.rangeLength=="number")}r.isIncremental=t;function i(n){let s=n;return s!=null&&typeof s.text=="string"&&s.range===void 0&&s.rangeLength===void 0}r.isFull=i})(Phe=H.TextDocumentContentChangeEvent||(H.TextDocumentContentChangeEvent={}));var Ihe;(function(r){r.method="textDocument/didChange",r.type=new nt.ProtocolNotificationType(r.method)})(Ihe=H.DidChangeTextDocumentNotification||(H.DidChangeTextDocumentNotification={}));var Lhe;(function(r){r.method="textDocument/didClose",r.type=new nt.ProtocolNotificationType(r.method)})(Lhe=H.DidCloseTextDocumentNotification||(H.DidCloseTextDocumentNotification={}));var Mhe;(function(r){r.method="textDocument/didSave",r.type=new nt.ProtocolNotificationType(r.method)})(Mhe=H.DidSaveTextDocumentNotification||(H.DidSaveTextDocumentNotification={}));var Fhe;(function(r){r.Manual=1,r.AfterDelay=2,r.FocusOut=3})(Fhe=H.TextDocumentSaveReason||(H.TextDocumentSaveReason={}));var jhe;(function(r){r.method="textDocument/willSave",r.type=new nt.ProtocolNotificationType(r.method)})(jhe=H.WillSaveTextDocumentNotification||(H.WillSaveTextDocumentNotification={}));var Bhe;(function(r){r.method="textDocument/willSaveWaitUntil",r.type=new nt.ProtocolRequestType(r.method)})(Bhe=H.WillSaveTextDocumentWaitUntilRequest||(H.WillSaveTextDocumentWaitUntilRequest={}));var Uhe;(function(r){r.type=new nt.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(Uhe=H.DidChangeWatchedFilesNotification||(H.DidChangeWatchedFilesNotification={}));var qhe;(function(r){r.Created=1,r.Changed=2,r.Deleted=3})(qhe=H.FileChangeType||(H.FileChangeType={}));var Whe;(function(r){r.Create=1,r.Change=2,r.Delete=4})(Whe=H.WatchKind||(H.WatchKind={}));var zhe;(function(r){r.type=new nt.ProtocolNotificationType("textDocument/publishDiagnostics")})(zhe=H.PublishDiagnosticsNotification||(H.PublishDiagnosticsNotification={}));var Hhe;(function(r){r.Invoked=1,r.TriggerCharacter=2,r.TriggerForIncompleteCompletions=3})(Hhe=H.CompletionTriggerKind||(H.CompletionTriggerKind={}));var Vhe;(function(r){r.method="textDocument/completion",r.type=new nt.ProtocolRequestType(r.method)})(Vhe=H.CompletionRequest||(H.CompletionRequest={}));var $he;(function(r){r.method="completionItem/resolve",r.type=new nt.ProtocolRequestType(r.method)})($he=H.CompletionResolveRequest||(H.CompletionResolveRequest={}));var Ghe;(function(r){r.method="textDocument/hover",r.type=new nt.ProtocolRequestType(r.method)})(Ghe=H.HoverRequest||(H.HoverRequest={}));var Yhe;(function(r){r.Invoked=1,r.TriggerCharacter=2,r.ContentChange=3})(Yhe=H.SignatureHelpTriggerKind||(H.SignatureHelpTriggerKind={}));var Khe;(function(r){r.method="textDocument/signatureHelp",r.type=new nt.ProtocolRequestType(r.method)})(Khe=H.SignatureHelpRequest||(H.SignatureHelpRequest={}));var Xhe;(function(r){r.method="textDocument/definition",r.type=new nt.ProtocolRequestType(r.method)})(Xhe=H.DefinitionRequest||(H.DefinitionRequest={}));var Jhe;(function(r){r.method="textDocument/references",r.type=new nt.ProtocolRequestType(r.method)})(Jhe=H.ReferencesRequest||(H.ReferencesRequest={}));var Zhe;(function(r){r.method="textDocument/documentHighlight",r.type=new nt.ProtocolRequestType(r.method)})(Zhe=H.DocumentHighlightRequest||(H.DocumentHighlightRequest={}));var Qhe;(function(r){r.method="textDocument/documentSymbol",r.type=new nt.ProtocolRequestType(r.method)})(Qhe=H.DocumentSymbolRequest||(H.DocumentSymbolRequest={}));var epe;(function(r){r.method="textDocument/codeAction",r.type=new nt.ProtocolRequestType(r.method)})(epe=H.CodeActionRequest||(H.CodeActionRequest={}));var tpe;(function(r){r.method="codeAction/resolve",r.type=new nt.ProtocolRequestType(r.method)})(tpe=H.CodeActionResolveRequest||(H.CodeActionResolveRequest={}));var rpe;(function(r){r.method="workspace/symbol",r.type=new nt.ProtocolRequestType(r.method)})(rpe=H.WorkspaceSymbolRequest||(H.WorkspaceSymbolRequest={}));var ipe;(function(r){r.method="textDocument/codeLens",r.type=new nt.ProtocolRequestType(r.method)})(ipe=H.CodeLensRequest||(H.CodeLensRequest={}));var npe;(function(r){r.method="codeLens/resolve",r.type=new nt.ProtocolRequestType(r.method)})(npe=H.CodeLensResolveRequest||(H.CodeLensResolveRequest={}));var spe;(function(r){r.method="workspace/codeLens/refresh",r.type=new nt.ProtocolRequestType0(r.method)})(spe=H.CodeLensRefreshRequest||(H.CodeLensRefreshRequest={}));var ope;(function(r){r.method="textDocument/documentLink",r.type=new nt.ProtocolRequestType(r.method)})(ope=H.DocumentLinkRequest||(H.DocumentLinkRequest={}));var ape;(function(r){r.method="documentLink/resolve",r.type=new nt.ProtocolRequestType(r.method)})(ape=H.DocumentLinkResolveRequest||(H.DocumentLinkResolveRequest={}));var lpe;(function(r){r.method="textDocument/formatting",r.type=new nt.ProtocolRequestType(r.method)})(lpe=H.DocumentFormattingRequest||(H.DocumentFormattingRequest={}));var cpe;(function(r){r.method="textDocument/rangeFormatting",r.type=new nt.ProtocolRequestType(r.method)})(cpe=H.DocumentRangeFormattingRequest||(H.DocumentRangeFormattingRequest={}));var upe;(function(r){r.method="textDocument/onTypeFormatting",r.type=new nt.ProtocolRequestType(r.method)})(upe=H.DocumentOnTypeFormattingRequest||(H.DocumentOnTypeFormattingRequest={}));var dpe;(function(r){r.Identifier=1})(dpe=H.PrepareSupportDefaultBehavior||(H.PrepareSupportDefaultBehavior={}));var fpe;(function(r){r.method="textDocument/rename",r.type=new nt.ProtocolRequestType(r.method)})(fpe=H.RenameRequest||(H.RenameRequest={}));var hpe;(function(r){r.method="textDocument/prepareRename",r.type=new nt.ProtocolRequestType(r.method)})(hpe=H.PrepareRenameRequest||(H.PrepareRenameRequest={}));var ppe;(function(r){r.type=new nt.ProtocolRequestType("workspace/executeCommand")})(ppe=H.ExecuteCommandRequest||(H.ExecuteCommandRequest={}));var gpe;(function(r){r.type=new nt.ProtocolRequestType("workspace/applyEdit")})(gpe=H.ApplyWorkspaceEditRequest||(H.ApplyWorkspaceEditRequest={}))});var sU=x(fv=>{"use strict";Object.defineProperty(fv,"__esModule",{value:!0});fv.createProtocolConnection=void 0;var nU=Ou();function mpe(r,t,i,n){return nU.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),nU.createMessageConnection(r,t,i,n)}fv.createProtocolConnection=mpe});var oU=x(ui=>{"use strict";var ype=ui&&ui.__createBinding||(Object.create?function(r,t,i,n){n===void 0&&(n=i),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[i]}})}:function(r,t,i,n){n===void 0&&(n=i),r[n]=t[i]}),hv=ui&&ui.__exportStar||function(r,t){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(t,i)&&ype(t,r,i)};Object.defineProperty(ui,"__esModule",{value:!0});ui.LSPErrorCodes=ui.createProtocolConnection=void 0;hv(Ou(),ui);hv(N7(),ui);hv(Dr(),ui);hv(iU(),ui);var vpe=sU();Object.defineProperty(ui,"createProtocolConnection",{enumerable:!0,get:function(){return vpe.createProtocolConnection}});var bpe;(function(r){r.lspReservedErrorRangeStart=-32899,r.ContentModified=-32801,r.RequestCancelled=-32800,r.lspReservedErrorRangeEnd=-32800})(bpe=ui.LSPErrorCodes||(ui.LSPErrorCodes={}))});var rr=x(ms=>{"use strict";var Spe=ms&&ms.__createBinding||(Object.create?function(r,t,i,n){n===void 0&&(n=i),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[i]}})}:function(r,t,i,n){n===void 0&&(n=i),r[n]=t[i]}),aU=ms&&ms.__exportStar||function(r,t){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(t,i)&&Spe(t,r,i)};Object.defineProperty(ms,"__esModule",{value:!0});ms.createProtocolConnection=void 0;var wpe=hR();aU(hR(),ms);aU(oU(),ms);function _pe(r,t,i,n){return wpe.createMessageConnection(r,t,i,n)}ms.createProtocolConnection=_pe});var CR=x(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.toJSONObject=Iu.ConfigurationFeature=void 0;var ER=require("vscode"),Epe=rr(),TR=class{constructor(t){this._client=t}fillClientCapabilities(t){t.workspace=t.workspace||{},t.workspace.configuration=!0}initialize(){let t=this._client;t.onRequest(Epe.ConfigurationRequest.type,(i,n)=>{let s=l=>{let h=[];for(let p of l.items){let g=p.scopeUri!==void 0&&p.scopeUri!==null?this._client.protocol2CodeConverter.asUri(p.scopeUri):void 0;h.push(this.getConfiguration(g,p.section!==null?p.section:void 0))}return h},o=t.clientOptions.middleware.workspace;return o&&o.configuration?o.configuration(i,n,s):s(i,n)})}getConfiguration(t,i){let n=null;if(i){let s=i.lastIndexOf(".");if(s===-1)n=Pu(ER.workspace.getConfiguration(void 0,t).get(i));else{let o=ER.workspace.getConfiguration(i.substr(0,s),t);o&&(n=Pu(o.get(i.substr(s+1))))}}else{let s=ER.workspace.getConfiguration(void 0,t);n={};for(let o of Object.keys(s))s.has(o)&&(n[o]=Pu(s.get(o)))}return n===void 0&&(n=null),n}dispose(){}};Iu.ConfigurationFeature=TR;function Pu(r){if(r){if(Array.isArray(r))return r.map(Pu);if(typeof r=="object"){let t=Object.create(null);for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=Pu(r[i]));return t}}return r}Iu.toJSONObject=Pu});var xR=x(RR=>{"use strict";Object.defineProperty(RR,"__esModule",{value:!0});var Tpe=require("vscode"),kR=class extends Tpe.CompletionItem{constructor(t){super(t)}};RR.default=kR});var NR=x(OR=>{"use strict";Object.defineProperty(OR,"__esModule",{value:!0});var Cpe=require("vscode"),AR=class extends Cpe.CodeLens{constructor(t){super(t)}};OR.default=AR});var IR=x(PR=>{"use strict";Object.defineProperty(PR,"__esModule",{value:!0});var kpe=require("vscode"),DR=class extends kpe.DocumentLink{constructor(t,i){super(t,i)}};PR.default=DR});var FR=x(MR=>{"use strict";Object.defineProperty(MR,"__esModule",{value:!0});var Rpe=require("vscode"),LR=class extends Rpe.CodeAction{constructor(t,i){super(t),this.data=i}};MR.default=LR});var UR=x(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});wl.ProtocolDiagnostic=wl.DiagnosticCode=void 0;var xpe=require("vscode"),jR=ua(),Ape;(function(r){function t(i){let n=i;return n!=null&&(jR.number(n.value)||jR.string(n.value))&&jR.string(n.target)}r.is=t})(Ape=wl.DiagnosticCode||(wl.DiagnosticCode={}));var BR=class extends xpe.Diagnostic{constructor(t,i,n,s){super(t,i,n),this.data=s,this.hasDiagnosticCode=!1}};wl.ProtocolDiagnostic=BR});var zR=x(WR=>{"use strict";Object.defineProperty(WR,"__esModule",{value:!0});var Ope=require("vscode"),qR=class extends Ope.CallHierarchyItem{constructor(t,i,n,s,o,l,h){super(t,i,n,s,o,l),h!==void 0&&(this.data=h)}};WR.default=qR});var cU=x(pv=>{"use strict";Object.defineProperty(pv,"__esModule",{value:!0});pv.createConverter=void 0;var Pr=require("vscode"),It=rr(),vh=ua(),Npe=xR(),Dpe=NR(),Ppe=IR(),Ipe=FR(),lU=UR(),Lpe=zR(),Mpe=rr(),HR;(function(r){function t(i){let n=i;return n&&!!n.inserting&&!!n.replacing}r.is=t})(HR||(HR={}));function Fpe(r){let i=r||(E=>E.toString());function n(E){return i(E)}function s(E){return{uri:i(E.uri)}}function o(E){return{uri:i(E.uri),version:E.version}}function l(E){return{textDocument:{uri:i(E.uri),languageId:E.languageId,version:E.version,text:E.getText()}}}function h(E){let u=E;return!!u.document&&!!u.contentChanges}function p(E){let u=E;return!!u.uri&&!!u.version}function g(E){if(p(E))return{textDocument:{uri:i(E.uri),version:E.version},contentChanges:[{text:E.getText()}]};if(h(E)){let u=E.document;return{textDocument:{uri:i(u.uri),version:u.version},contentChanges:E.contentChanges.map(T=>{let q=T.range;return{range:{start:{line:q.start.line,character:q.start.character},end:{line:q.end.line,character:q.end.character}},rangeLength:T.rangeLength,text:T.text}})}}else throw Error("Unsupported text document change parameter")}function m(E){return{textDocument:s(E)}}function y(E,u=!1){let v={textDocument:s(E)};return u&&(v.text=E.getText()),v}function S(E){switch(E){case Pr.TextDocumentSaveReason.Manual:return It.TextDocumentSaveReason.Manual;case Pr.TextDocumentSaveReason.AfterDelay:return It.TextDocumentSaveReason.AfterDelay;case Pr.TextDocumentSaveReason.FocusOut:return It.TextDocumentSaveReason.FocusOut}return It.TextDocumentSaveReason.Manual}function w(E){return{textDocument:s(E.document),reason:S(E.reason)}}function C(E){return{files:E.files.map(u=>({uri:i(u)}))}}function _(E){return{files:E.files.map(u=>({oldUri:i(u.oldUri),newUri:i(u.newUri)}))}}function R(E){return{files:E.files.map(u=>({uri:i(u)}))}}function D(E){return{files:E.files.map(u=>({uri:i(u)}))}}function I(E){return{files:E.files.map(u=>({oldUri:i(u.oldUri),newUri:i(u.newUri)}))}}function M(E){return{files:E.files.map(u=>({uri:i(u)}))}}function L(E,u){return{textDocument:s(E),position:k(u)}}function V(E){switch(E){case Pr.CompletionTriggerKind.TriggerCharacter:return It.CompletionTriggerKind.TriggerCharacter;case Pr.CompletionTriggerKind.TriggerForIncompleteCompletions:return It.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return It.CompletionTriggerKind.Invoked}}function K(E,u,v){return{textDocument:s(E),position:k(u),context:{triggerKind:V(v.triggerKind),triggerCharacter:v.triggerCharacter}}}function Q(E){switch(E){case Pr.SignatureHelpTriggerKind.Invoke:return It.SignatureHelpTriggerKind.Invoked;case Pr.SignatureHelpTriggerKind.TriggerCharacter:return It.SignatureHelpTriggerKind.TriggerCharacter;case Pr.SignatureHelpTriggerKind.ContentChange:return It.SignatureHelpTriggerKind.ContentChange}}function le(E){return{label:E.label}}function ge(E){return E.map(le)}function j(E){return{label:E.label,parameters:ge(E.parameters)}}function N(E){return E.map(j)}function X(E){return E===void 0?E:{signatures:N(E.signatures),activeSignature:E.activeSignature,activeParameter:E.activeParameter}}function U(E,u,v){return{textDocument:s(E),position:k(u),context:{isRetrigger:v.isRetrigger,triggerCharacter:v.triggerCharacter,triggerKind:Q(v.triggerKind),activeSignatureHelp:X(v.activeSignatureHelp)}}}function k(E){return{line:E.line,character:E.character}}function W(E){return E==null?E:{line:E.line,character:E.character}}function J(E){let u=[];for(let v of E)u.push(W(v));return u}function se(E){return E==null?E:{start:W(E.start),end:W(E.end)}}function ue(E){return E==null?E:It.Location.create(n(E.uri),se(E.range))}function fe(E){switch(E){case Pr.DiagnosticSeverity.Error:return It.DiagnosticSeverity.Error;case Pr.DiagnosticSeverity.Warning:return It.DiagnosticSeverity.Warning;case Pr.DiagnosticSeverity.Information:return It.DiagnosticSeverity.Information;case Pr.DiagnosticSeverity.Hint:return It.DiagnosticSeverity.Hint}}function ye(E){if(!E)return;let u=[];for(let v of E){let T=$e(v);T!==void 0&&u.push(T)}return u.length>0?u:void 0}function $e(E){switch(E){case Pr.DiagnosticTag.Unnecessary:return It.DiagnosticTag.Unnecessary;case Pr.DiagnosticTag.Deprecated:return It.DiagnosticTag.Deprecated;default:return}}function Ge(E){return{message:E.message,location:ue(E.location)}}function Qe(E){return E.map(Ge)}function Je(E){if(E!=null)return vh.number(E)||vh.string(E)?E:{value:E.value,target:n(E.target)}}function ce(E){let u=It.Diagnostic.create(se(E.range),E.message),v=E instanceof lU.ProtocolDiagnostic?E:void 0;v!==void 0&&v.data!==void 0&&(u.data=v.data);let T=Je(E.code);return lU.DiagnosticCode.is(T)?v!==void 0&&v.hasDiagnosticCode?u.code=T:(u.code=T.value,u.codeDescription={href:T.target}):u.code=T,vh.number(E.severity)&&(u.severity=fe(E.severity)),Array.isArray(E.tags)&&(u.tags=ye(E.tags)),E.relatedInformation&&(u.relatedInformation=Qe(E.relatedInformation)),E.source&&(u.source=E.source),u}function ve(E){return E==null?E:E.map(ce)}function Xe(E,u){switch(E){case"$string":return u;case It.MarkupKind.PlainText:return{kind:E,value:u};case It.MarkupKind.Markdown:return{kind:E,value:u.value};default:return`Unsupported Markup content received. Kind is: ${E}`}}function Ie(E){switch(E){case Pr.CompletionItemTag.Deprecated:return It.CompletionItemTag.Deprecated}}function de(E){if(E===void 0)return E;let u=[];for(let v of E){let T=Ie(v);T!==void 0&&u.push(T)}return u}function te(E,u){return u!==void 0?u:E+1}function oe(E){let u={label:E.label},v=E instanceof Npe.default?E:void 0;E.detail&&(u.detail=E.detail),E.documentation&&(!v||v.documentationFormat==="$string"?u.documentation=E.documentation:u.documentation=Xe(v.documentationFormat,E.documentation)),E.filterText&&(u.filterText=E.filterText),xe(u,E),vh.number(E.kind)&&(u.kind=te(E.kind,v&&v.originalItemKind)),E.sortText&&(u.sortText=E.sortText),E.additionalTextEdits&&(u.additionalTextEdits=et(E.additionalTextEdits)),E.commitCharacters&&(u.commitCharacters=E.commitCharacters.slice()),E.command&&(u.command=re(E.command)),(E.preselect===!0||E.preselect===!1)&&(u.preselect=E.preselect);let T=de(E.tags);if(v){if(v.data!==void 0&&(u.data=v.data),v.deprecated===!0||v.deprecated===!1){if(v.deprecated===!0&&T!==void 0&&T.length>0){let q=T.indexOf(Pr.CompletionItemTag.Deprecated);q!==-1&&T.splice(q,1)}u.deprecated=v.deprecated}v.insertTextMode!==void 0&&(u.insertTextMode=v.insertTextMode)}return T!==void 0&&T.length>0&&(u.tags=T),u.insertTextMode===void 0&&E.keepWhitespace===!0&&(u.insertTextMode=Mpe.InsertTextMode.adjustIndentation),u}function xe(E,u){let v=It.InsertTextFormat.PlainText,T,q;u.textEdit?(T=u.textEdit.newText,q=u.textEdit.range):u.insertText instanceof Pr.SnippetString?(v=It.InsertTextFormat.Snippet,T=u.insertText.value):T=u.insertText,u.range&&(q=u.range),E.insertTextFormat=v,u.fromEdit&&T!==void 0&&q!==void 0?E.textEdit=Ne(T,q):E.insertText=T}function Ne(E,u){return HR.is(u)?It.InsertReplaceEdit.create(E,se(u.inserting),se(u.replacing)):{newText:E,range:se(u)}}function pe(E){return{range:se(E.range),newText:E.newText}}function et(E){return E==null?E:E.map(pe)}function it(E){return E<=Pr.SymbolKind.TypeParameter?E+1:It.SymbolKind.Property}function Te(E){return E}function Ft(E){return E.map(Te)}function sr(E,u,v){return{textDocument:s(E),position:k(u),context:{includeDeclaration:v.includeDeclaration}}}function ee(E){let u=It.CodeAction.create(E.title);if(E instanceof Ipe.default&&E.data!==void 0&&(u.data=E.data),E.kind!==void 0&&(u.kind=ae(E.kind)),E.diagnostics!==void 0&&(u.diagnostics=ve(E.diagnostics)),E.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return E.command!==void 0&&(u.command=re(E.command)),E.isPreferred!==void 0&&(u.isPreferred=E.isPreferred),E.disabled!==void 0&&(u.disabled={reason:E.disabled.reason}),u}function $(E){if(E==null)return E;let u;return E.only&&vh.string(E.only.value)&&(u=[E.only.value]),It.CodeActionContext.create(ve(E.diagnostics),u)}function ae(E){if(E!=null)return E.value}function re(E){let u=It.Command.create(E.title,E.command);return E.arguments&&(u.arguments=E.arguments),u}function ne(E){let u=It.CodeLens.create(se(E.range));return E.command&&(u.command=re(E.command)),E instanceof Dpe.default&&E.data&&(u.data=E.data),u}function Pe(E,u){let v={tabSize:E.tabSize,insertSpaces:E.insertSpaces};return u.trimTrailingWhitespace&&(v.trimTrailingWhitespace=!0),u.trimFinalNewlines&&(v.trimFinalNewlines=!0),u.insertFinalNewline&&(v.insertFinalNewline=!0),v}function z(E){return{textDocument:s(E)}}function F(E){return{textDocument:s(E)}}function O(E){let u=It.DocumentLink.create(se(E.range));E.target&&(u.target=n(E.target)),E.tooltip!==void 0&&(u.tooltip=E.tooltip);let v=E instanceof Ppe.default?E:void 0;return v&&v.data&&(u.data=v.data),u}function B(E){return{textDocument:s(E)}}function Z(E){let u={name:E.name,kind:it(E.kind),uri:n(E.uri),range:se(E.range),selectionRange:se(E.selectionRange)};return E.detail!==void 0&&E.detail.length>0&&(u.detail=E.detail),E.tags!==void 0&&(u.tags=Ft(E.tags)),E instanceof Lpe.default&&E.data!==void 0&&(u.data=E.data),u}return{asUri:n,asTextDocumentIdentifier:s,asVersionedTextDocumentIdentifier:o,asOpenTextDocumentParams:l,asChangeTextDocumentParams:g,asCloseTextDocumentParams:m,asSaveTextDocumentParams:y,asWillSaveTextDocumentParams:w,asDidCreateFilesParams:C,asDidRenameFilesParams:_,asDidDeleteFilesParams:R,asWillCreateFilesParams:D,asWillRenameFilesParams:I,asWillDeleteFilesParams:M,asTextDocumentPositionParams:L,asCompletionParams:K,asSignatureHelpParams:U,asWorkerPosition:k,asRange:se,asPosition:W,asPositions:J,asLocation:ue,asDiagnosticSeverity:fe,asDiagnosticTag:$e,asDiagnostic:ce,asDiagnostics:ve,asCompletionItem:oe,asTextEdit:pe,asSymbolKind:it,asSymbolTag:Te,asSymbolTags:Ft,asReferenceParams:sr,asCodeAction:ee,asCodeActionContext:$,asCommand:re,asCodeLens:ne,asFormattingOptions:Pe,asDocumentSymbolParams:z,asCodeLensParams:F,asDocumentLink:O,asDocumentLinkParams:B,asCallHierarchyItem:Z}}pv.createConverter=Fpe});var fU=x(mv=>{"use strict";Object.defineProperty(mv,"__esModule",{value:!0});mv.createConverter=void 0;var qe=require("vscode"),dt=rr(),Fn=ua(),jpe=xR(),Bpe=NR(),Upe=IR(),qpe=FR(),uU=UR(),Wpe=zR(),dU=rr(),gv;(function(r){function t(i){let n=i;return n&&Fn.string(n.language)&&Fn.string(n.value)}r.is=t})(gv||(gv={}));function zpe(r,t){let n=r||(A=>qe.Uri.parse(A));function s(A){return n(A)}function o(A){return A.map(l)}function l(A){let he=new uU.ProtocolDiagnostic(S(A.range),A.message,C(A.severity),A.data);return A.code!==void 0&&(dt.CodeDescription.is(A.codeDescription)?he.code={value:A.code,target:s(A.codeDescription.href)}:uU.DiagnosticCode.is(A.code)?(he.hasDiagnosticCode=!0,he.code={value:A.code.value,target:s(A.code.target)}):he.code=A.code),A.source&&(he.source=A.source),A.relatedInformation&&(he.relatedInformation=h(A.relatedInformation)),Array.isArray(A.tags)&&(he.tags=g(A.tags)),he}function h(A){return A.map(p)}function p(A){return new qe.DiagnosticRelatedInformation(se(A.location),A.message)}function g(A){if(!A)return;let he=[];for(let ze of A){let pt=m(ze);pt!==void 0&&he.push(pt)}return he.length>0?he:void 0}function m(A){switch(A){case dt.DiagnosticTag.Unnecessary:return qe.DiagnosticTag.Unnecessary;case dt.DiagnosticTag.Deprecated:return qe.DiagnosticTag.Deprecated;default:return}}function y(A){if(A)return new qe.Position(A.line,A.character)}function S(A){if(A)return new qe.Range(y(A.start),y(A.end))}function w(A){return A.map(he=>S(he))}function C(A){if(A==null)return qe.DiagnosticSeverity.Error;switch(A){case dt.DiagnosticSeverity.Error:return qe.DiagnosticSeverity.Error;case dt.DiagnosticSeverity.Warning:return qe.DiagnosticSeverity.Warning;case dt.DiagnosticSeverity.Information:return qe.DiagnosticSeverity.Information;case dt.DiagnosticSeverity.Hint:return qe.DiagnosticSeverity.Hint}return qe.DiagnosticSeverity.Error}function _(A){if(Fn.string(A))return D(A);if(gv.is(A))return D().appendCodeblock(A.value,A.language);if(Array.isArray(A)){let he=[];for(let ze of A){let pt=D();gv.is(ze)?pt.appendCodeblock(ze.value,ze.language):pt.appendMarkdown(ze),he.push(pt)}return he}else{let he;switch(A.kind){case dt.MarkupKind.Markdown:return D(A.value);case dt.MarkupKind.PlainText:return he=D(),he.appendText(A.value),he;default:return he=D(),he.appendText(`Unsupported Markup content received. Kind is: ${A.kind}`),he}}}function R(A){if(Fn.string(A))return A;switch(A.kind){case dt.MarkupKind.Markdown:return D(A.value);case dt.MarkupKind.PlainText:return A.value;default:return`Unsupported Markup content received. Kind is: ${A.kind}`}}function D(A){let he=new qe.MarkdownString(A);return t===!0&&(he.isTrusted=t),he}function I(A){if(A)return new qe.Hover(_(A.contents),S(A.range))}function M(A){if(!A)return;if(Array.isArray(A))return A.map(Q);let he=A;return new qe.CompletionList(he.items.map(Q),he.isIncomplete)}function L(A){return dt.CompletionItemKind.Text<=A&&A<=dt.CompletionItemKind.TypeParameter?[A-1,void 0]:[qe.CompletionItemKind.Text,A]}function V(A){switch(A){case dt.CompletionItemTag.Deprecated:return qe.CompletionItemTag.Deprecated}}function K(A){if(A==null)return[];let he=[];for(let ze of A){let pt=V(ze);pt!==void 0&&he.push(pt)}return he}function Q(A){let he=K(A.tags),ze=new jpe.default(A.label);A.detail&&(ze.detail=A.detail),A.documentation&&(ze.documentation=R(A.documentation),ze.documentationFormat=Fn.string(A.documentation)?"$string":A.documentation.kind),A.filterText&&(ze.filterText=A.filterText);let pt=le(A);if(pt&&(ze.insertText=pt.text,ze.range=pt.range,ze.fromEdit=pt.fromEdit),Fn.number(A.kind)){let[xt,ke]=L(A.kind);ze.kind=xt,ke&&(ze.originalItemKind=ke)}return A.sortText&&(ze.sortText=A.sortText),A.additionalTextEdits&&(ze.additionalTextEdits=N(A.additionalTextEdits)),Fn.stringArray(A.commitCharacters)&&(ze.commitCharacters=A.commitCharacters.slice()),A.command&&(ze.command=pe(A.command)),(A.deprecated===!0||A.deprecated===!1)&&(ze.deprecated=A.deprecated,A.deprecated===!0&&he.push(qe.CompletionItemTag.Deprecated)),(A.preselect===!0||A.preselect===!1)&&(ze.preselect=A.preselect),A.data!==void 0&&(ze.data=A.data),he.length>0&&(ze.tags=he),A.insertTextMode!==void 0&&(ze.insertTextMode=A.insertTextMode,A.insertTextMode===dU.InsertTextMode.asIs&&(ze.keepWhitespace=!0)),ze}function le(A){return A.textEdit?A.insertTextFormat===dt.InsertTextFormat.Snippet?{text:new qe.SnippetString(A.textEdit.newText),range:ge(A.textEdit),fromEdit:!0}:{text:A.textEdit.newText,range:ge(A.textEdit),fromEdit:!0}:A.insertText?A.insertTextFormat===dt.InsertTextFormat.Snippet?{text:new qe.SnippetString(A.insertText),fromEdit:!1}:{text:A.insertText,fromEdit:!1}:void 0}function ge(A){return dt.InsertReplaceEdit.is(A)?{inserting:S(A.insert),replacing:S(A.replace)}:S(A.range)}function j(A){if(A)return new qe.TextEdit(S(A.range),A.newText)}function N(A){if(A)return A.map(j)}function X(A){if(!A)return;let he=new qe.SignatureHelp;return Fn.number(A.activeSignature)?he.activeSignature=A.activeSignature:he.activeSignature=0,Fn.number(A.activeParameter)?he.activeParameter=A.activeParameter:he.activeParameter=0,A.signatures&&(he.signatures=U(A.signatures)),he}function U(A){return A.map(k)}function k(A){let he=new qe.SignatureInformation(A.label);return A.documentation!==void 0&&(he.documentation=R(A.documentation)),A.parameters!==void 0&&(he.parameters=W(A.parameters)),A.activeParameter!==void 0&&(he.activeParameter=A.activeParameter),he}function W(A){return A.map(J)}function J(A){let he=new qe.ParameterInformation(A.label);return A.documentation&&(he.documentation=R(A.documentation)),he}function se(A){if(A)return new qe.Location(n(A.uri),S(A.range))}function ue(A){if(A)return $e(A)}function fe(A){if(A)return $e(A)}function ye(A){if(!A)return;let he={targetUri:n(A.targetUri),targetRange:S(A.targetRange),originSelectionRange:S(A.originSelectionRange),targetSelectionRange:S(A.targetSelectionRange)};if(!he.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return he}function $e(A){if(A)return Fn.array(A)?A.length===0?[]:dt.LocationLink.is(A[0])?A.map(ze=>ye(ze)):A.map(ze=>se(ze)):dt.LocationLink.is(A)?[ye(A)]:se(A)}function Ge(A){if(A)return A.map(he=>se(he))}function Qe(A){if(A)return A.map(Je)}function Je(A){let he=new qe.DocumentHighlight(S(A.range));return Fn.number(A.kind)&&(he.kind=ce(A.kind)),he}function ce(A){switch(A){case dt.DocumentHighlightKind.Text:return qe.DocumentHighlightKind.Text;case dt.DocumentHighlightKind.Read:return qe.DocumentHighlightKind.Read;case dt.DocumentHighlightKind.Write:return qe.DocumentHighlightKind.Write}return qe.DocumentHighlightKind.Text}function ve(A,he){if(A)return A.map(ze=>te(ze,he))}function Xe(A){return A<=dt.SymbolKind.TypeParameter?A-1:qe.SymbolKind.Property}function Ie(A){switch(A){case dt.SymbolTag.Deprecated:return qe.SymbolTag.Deprecated;default:return}}function de(A){if(A==null)return;let he=[];for(let ze of A){let pt=Ie(ze);pt!==void 0&&he.push(pt)}return he.length===0?void 0:he}function te(A,he){let ze=new qe.SymbolInformation(A.name,Xe(A.kind),S(A.location.range),A.location.uri?n(A.location.uri):he);return Ne(ze,A),A.containerName&&(ze.containerName=A.containerName),ze}function oe(A){if(A!=null)return A.map(xe)}function xe(A){let he=new qe.DocumentSymbol(A.name,A.detail||"",Xe(A.kind),S(A.range),S(A.selectionRange));if(Ne(he,A),A.children!==void 0&&A.children.length>0){let ze=[];for(let pt of A.children)ze.push(xe(pt));he.children=ze}return he}function Ne(A,he){A.tags=de(he.tags),he.deprecated&&(A.tags?A.tags.includes(qe.SymbolTag.Deprecated)||(A.tags=A.tags.concat(qe.SymbolTag.Deprecated)):A.tags=[qe.SymbolTag.Deprecated])}function pe(A){let he={title:A.title,command:A.command};return A.arguments&&(he.arguments=A.arguments),he}function et(A){if(A)return A.map(pe)}let it=new Map;it.set(dt.CodeActionKind.Empty,qe.CodeActionKind.Empty),it.set(dt.CodeActionKind.QuickFix,qe.CodeActionKind.QuickFix),it.set(dt.CodeActionKind.Refactor,qe.CodeActionKind.Refactor),it.set(dt.CodeActionKind.RefactorExtract,qe.CodeActionKind.RefactorExtract),it.set(dt.CodeActionKind.RefactorInline,qe.CodeActionKind.RefactorInline),it.set(dt.CodeActionKind.RefactorRewrite,qe.CodeActionKind.RefactorRewrite),it.set(dt.CodeActionKind.Source,qe.CodeActionKind.Source),it.set(dt.CodeActionKind.SourceOrganizeImports,qe.CodeActionKind.SourceOrganizeImports);function Te(A){if(A==null)return;let he=it.get(A);if(he)return he;let ze=A.split(".");he=qe.CodeActionKind.Empty;for(let pt of ze)he=he.append(pt);return he}function Ft(A){if(A!=null)return A.map(he=>Te(he))}function sr(A){if(A==null)return;let he=new qpe.default(A.title,A.data);return A.kind!==void 0&&(he.kind=Te(A.kind)),A.diagnostics!==void 0&&(he.diagnostics=o(A.diagnostics)),A.edit!==void 0&&(he.edit=ae(A.edit)),A.command!==void 0&&(he.command=pe(A.command)),A.isPreferred!==void 0&&(he.isPreferred=A.isPreferred),A.disabled!==void 0&&(he.disabled={reason:A.disabled.reason}),he}function ee(A){if(!A)return;let he=new Bpe.default(S(A.range));return A.command&&(he.command=pe(A.command)),A.data!==void 0&&A.data!==null&&(he.data=A.data),he}function $(A){if(A)return A.map(he=>ee(he))}function ae(A){if(!A)return;let he=new Map;if(A.changeAnnotations!==void 0)for(let xt of Object.keys(A.changeAnnotations)){let ke=re(A.changeAnnotations[xt]);he.set(xt,ke)}let ze=xt=>{if(xt!==void 0)return he.get(xt)},pt=new qe.WorkspaceEdit;if(A.documentChanges)for(let xt of A.documentChanges)if(dt.CreateFile.is(xt))pt.createFile(n(xt.uri),xt.options,ze(xt.annotationId));else if(dt.RenameFile.is(xt))pt.renameFile(n(xt.oldUri),n(xt.newUri),xt.options,ze(xt.annotationId));else if(dt.DeleteFile.is(xt))pt.deleteFile(n(xt.uri),xt.options,ze(xt.annotationId));else if(dt.TextDocumentEdit.is(xt)){let ke=n(xt.textDocument.uri);for(let ot of xt.edits)dU.AnnotatedTextEdit.is(ot)?pt.replace(ke,S(ot.range),ot.newText,ze(ot.annotationId)):pt.replace(ke,S(ot.range),ot.newText)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(xt,void 0,4)}`);else A.changes&&Object.keys(A.changes).forEach(xt=>{pt.set(n(xt),N(A.changes[xt]))});return pt}function re(A){if(A!==void 0)return{label:A.label,needsConfirmation:!!A.needsConfirmation,description:A.description}}function ne(A){let he=S(A.range),ze=A.target?s(A.target):void 0,pt=new Upe.default(he,ze);return A.tooltip!==void 0&&(pt.tooltip=A.tooltip),A.data!==void 0&&A.data!==null&&(pt.data=A.data),pt}function Pe(A){if(A)return A.map(ne)}function z(A){return new qe.Color(A.red,A.green,A.blue,A.alpha)}function F(A){return new qe.ColorInformation(S(A.range),z(A.color))}function O(A){if(Array.isArray(A))return A.map(F)}function B(A){let he=new qe.ColorPresentation(A.label);return he.additionalTextEdits=N(A.additionalTextEdits),A.textEdit&&(he.textEdit=j(A.textEdit)),he}function Z(A){if(Array.isArray(A))return A.map(B)}function E(A){if(A)switch(A){case dt.FoldingRangeKind.Comment:return qe.FoldingRangeKind.Comment;case dt.FoldingRangeKind.Imports:return qe.FoldingRangeKind.Imports;case dt.FoldingRangeKind.Region:return qe.FoldingRangeKind.Region}}function u(A){return new qe.FoldingRange(A.startLine,A.endLine,E(A.kind))}function v(A){if(Array.isArray(A))return A.map(u)}function T(A){return new qe.SelectionRange(S(A.range),A.parent?T(A.parent):void 0)}function q(A){if(!Array.isArray(A))return[];let he=[];for(let ze of A)he.push(T(ze));return he}function G(A){if(A===null)return;let he=new Wpe.default(Xe(A.kind),A.name,A.detail||"",s(A.uri),S(A.range),S(A.selectionRange),A.data);return A.tags!==void 0&&(he.tags=de(A.tags)),he}function P(A){if(A!==null)return A.map(he=>G(he))}function Ce(A){return new qe.CallHierarchyIncomingCall(G(A.from),w(A.fromRanges))}function Fe(A){if(A!==null)return A.map(he=>Ce(he))}function He(A){return new qe.CallHierarchyOutgoingCall(G(A.to),w(A.fromRanges))}function _e(A){if(A!==null)return A.map(he=>He(he))}function Ye(A){if(A!=null)return new qe.SemanticTokens(new Uint32Array(A.data),A.resultId)}function er(A){return new qe.SemanticTokensEdit(A.start,A.deleteCount,A.data!==void 0?new Uint32Array(A.data):void 0)}function ti(A){if(A!=null)return new qe.SemanticTokensEdits(A.edits.map(er),A.resultId)}function Tt(A){return A}function Bn(A){if(A!=null)return new qe.LinkedEditingRanges(w(A.ranges),Kv(A.wordPattern))}function Kv(A){if(A!=null)return new RegExp(A)}return{asUri:s,asDiagnostics:o,asDiagnostic:l,asRange:S,asRanges:w,asPosition:y,asDiagnosticSeverity:C,asDiagnosticTag:m,asHover:I,asCompletionResult:M,asCompletionItem:Q,asTextEdit:j,asTextEdits:N,asSignatureHelp:X,asSignatureInformations:U,asSignatureInformation:k,asParameterInformations:W,asParameterInformation:J,asDeclarationResult:ue,asDefinitionResult:fe,asLocation:se,asReferences:Ge,asDocumentHighlights:Qe,asDocumentHighlight:Je,asDocumentHighlightKind:ce,asSymbolKind:Xe,asSymbolTag:Ie,asSymbolTags:de,asSymbolInformations:ve,asSymbolInformation:te,asDocumentSymbols:oe,asDocumentSymbol:xe,asCommand:pe,asCommands:et,asCodeAction:sr,asCodeActionKind:Te,asCodeActionKinds:Ft,asCodeLens:ee,asCodeLenses:$,asWorkspaceEdit:ae,asDocumentLink:ne,asDocumentLinks:Pe,asFoldingRangeKind:E,asFoldingRange:u,asFoldingRanges:v,asColor:z,asColorInformation:F,asColorInformations:O,asColorPresentation:B,asColorPresentations:Z,asSelectionRange:T,asSelectionRanges:q,asSemanticTokensLegend:Tt,asSemanticTokens:Ye,asSemanticTokensEdit:er,asSemanticTokensEdits:ti,asCallHierarchyItem:G,asCallHierarchyItems:P,asCallHierarchyIncomingCall:Ce,asCallHierarchyIncomingCalls:Fe,asCallHierarchyOutgoingCall:He,asCallHierarchyOutgoingCalls:_e,asLinkedEditingRanges:Bn}}mv.createConverter=zpe});var pU=x(yv=>{"use strict";Object.defineProperty(yv,"__esModule",{value:!0});yv.Delayer=void 0;var hU=rr(),VR=class{constructor(t){this.defaultDelay=t,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(t,i=this.defaultDelay){return this.task=t,i>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(n=>{this.onSuccess=n}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var n=this.task();return this.task=void 0,n})),(i>=0||this.timeout===void 0)&&(this.timeout=hU.RAL().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},i>=0?i:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let t=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,t}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(hU.RAL().timer.clearTimeout(this.timeout),this.timeout=void 0)}};yv.Delayer=VR});var vv=x(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.generateUuid=hn.parse=hn.isUUID=hn.v4=hn.empty=void 0;var bh=class{constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}},Sh=class r extends bh{constructor(){super([r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-","4",r._randomHex(),r._randomHex(),r._randomHex(),"-",r._oneOf(r._timeHighBits),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex()].join(""))}static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return r._oneOf(r._chars)}};Sh._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Sh._timeHighBits=["8","9","a","b"];hn.empty=new bh("00000000-0000-0000-0000-000000000000");function gU(){return new Sh}hn.v4=gU;var Hpe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function mU(r){return Hpe.test(r)}hn.isUUID=mU;function Vpe(r){if(!mU(r))throw new Error("invalid uuid");return new bh(r)}hn.parse=Vpe;function $pe(){return gU().asHex()}hn.generateUuid=$pe});var GR=x(bv=>{"use strict";Object.defineProperty(bv,"__esModule",{value:!0});bv.ProgressPart=void 0;var yU=require("vscode"),vU=rr(),bU=ua(),$R=class{constructor(t,i,n){this._client=t,this._token=i,this._reported=0,this._disposable=this._client.onProgress(vU.WorkDoneProgress.type,this._token,s=>{switch(s.kind){case"begin":this.begin(s);break;case"report":this.report(s);break;case"end":this.done(),n&&n(this);break}})}begin(t){yU.window.withProgress({location:yU.ProgressLocation.Window,cancellable:t.cancellable,title:t.title},async(i,n)=>(this._progress=i,this._infinite=t.percentage===void 0,this._cancellationToken=n,this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(vU.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(t),new Promise((s,o)=>{this._resolve=s,this._reject=o})))}report(t){if(this._infinite&&bU.string(t.message))this._progress.report({message:t.message});else if(bU.number(t.percentage)){let i=Math.max(0,Math.min(t.percentage,100)),n=Math.max(0,i-this._reported);this._progress.report({message:t.message,increment:n}),this._reported+=n}}cancel(){this._disposable&&(this._disposable.dispose(),this._disposable=void 0),this._reject&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this._disposable&&(this._disposable.dispose(),this._disposable=void 0),this._resolve&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}};bv.ProgressPart=$R});var Bi=x(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.BaseLanguageClient=ur.MessageTransports=ur.TextDocumentFeature=ur.State=ur.RevealOutputChannelOn=ur.CloseAction=ur.ErrorAction=void 0;var Me=require("vscode"),Y=rr(),Gpe=CR(),Ype=cU(),Kpe=fU(),Ut=ua(),SU=pU(),qt=vv(),Xpe=GR(),YR=class{error(t){Y.RAL().console.error(t)}warn(t){Y.RAL().console.warn(t)}info(t){Y.RAL().console.info(t)}log(t){Y.RAL().console.log(t)}};function Jpe(r,t,i,n,s){let o=new YR,l=Y.createProtocolConnection(r,t,o,s);return l.onError(p=>{i(p[0],p[1],p[2])}),l.onClose(n),{listen:()=>l.listen(),sendRequest:(p,...g)=>l.sendRequest(Ut.string(p)?p:p.method,...g),onRequest:(p,g)=>l.onRequest(Ut.string(p)?p:p.method,g),sendNotification:(p,g)=>l.sendNotification(Ut.string(p)?p:p.method,g),onNotification:(p,g)=>l.onNotification(Ut.string(p)?p:p.method,g),onProgress:l.onProgress,sendProgress:l.sendProgress,trace:(p,g,m)=>{let y={sendNotification:!1,traceFormat:Y.TraceFormat.Text};m===void 0?l.trace(p,g,y):(Ut.boolean(m),l.trace(p,g,m))},initialize:p=>l.sendRequest(Y.InitializeRequest.type,p),shutdown:()=>l.sendRequest(Y.ShutdownRequest.type,void 0),exit:()=>l.sendNotification(Y.ExitNotification.type),onLogMessage:p=>l.onNotification(Y.LogMessageNotification.type,p),onShowMessage:p=>l.onNotification(Y.ShowMessageNotification.type,p),onTelemetry:p=>l.onNotification(Y.TelemetryEventNotification.type,p),didChangeConfiguration:p=>l.sendNotification(Y.DidChangeConfigurationNotification.type,p),didChangeWatchedFiles:p=>l.sendNotification(Y.DidChangeWatchedFilesNotification.type,p),didOpenTextDocument:p=>l.sendNotification(Y.DidOpenTextDocumentNotification.type,p),didChangeTextDocument:p=>l.sendNotification(Y.DidChangeTextDocumentNotification.type,p),didCloseTextDocument:p=>l.sendNotification(Y.DidCloseTextDocumentNotification.type,p),didSaveTextDocument:p=>l.sendNotification(Y.DidSaveTextDocumentNotification.type,p),onDiagnostics:p=>l.onNotification(Y.PublishDiagnosticsNotification.type,p),end:()=>l.end(),dispose:()=>l.dispose()}}var wv;(function(r){r[r.Continue=1]="Continue",r[r.Shutdown=2]="Shutdown"})(wv=ur.ErrorAction||(ur.ErrorAction={}));var _l;(function(r){r[r.DoNotRestart=1]="DoNotRestart",r[r.Restart=2]="Restart"})(_l=ur.CloseAction||(ur.CloseAction={}));var KR=class{constructor(t,i){this.name=t,this.maxRestartCount=i,this.restarts=[]}error(t,i,n){return n&&n<=3?wv.Continue:wv.Shutdown}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?_l.Restart:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?(Me.window.showErrorMessage(`The ${this.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted.`),_l.DoNotRestart):(this.restarts.shift(),_l.Restart)}},wh;(function(r){r[r.Info=1]="Info",r[r.Warn=2]="Warn",r[r.Error=3]="Error",r[r.Never=4]="Never"})(wh=ur.RevealOutputChannelOn||(ur.RevealOutputChannelOn={}));var Sv;(function(r){r[r.Stopped=1]="Stopped",r[r.Starting=3]="Starting",r[r.Running=2]="Running"})(Sv=ur.State||(ur.State={}));var Qt;(function(r){r[r.Initial=0]="Initial",r[r.Starting=1]="Starting",r[r.StartFailed=2]="StartFailed",r[r.Running=3]="Running",r[r.Stopping=4]="Stopping",r[r.Stopped=5]="Stopped"})(Qt||(Qt={}));var wU=[Y.SymbolKind.File,Y.SymbolKind.Module,Y.SymbolKind.Namespace,Y.SymbolKind.Package,Y.SymbolKind.Class,Y.SymbolKind.Method,Y.SymbolKind.Property,Y.SymbolKind.Field,Y.SymbolKind.Constructor,Y.SymbolKind.Enum,Y.SymbolKind.Interface,Y.SymbolKind.Function,Y.SymbolKind.Variable,Y.SymbolKind.Constant,Y.SymbolKind.String,Y.SymbolKind.Number,Y.SymbolKind.Boolean,Y.SymbolKind.Array,Y.SymbolKind.Object,Y.SymbolKind.Key,Y.SymbolKind.Null,Y.SymbolKind.EnumMember,Y.SymbolKind.Struct,Y.SymbolKind.Event,Y.SymbolKind.Operator,Y.SymbolKind.TypeParameter],Zpe=[Y.CompletionItemKind.Text,Y.CompletionItemKind.Method,Y.CompletionItemKind.Function,Y.CompletionItemKind.Constructor,Y.CompletionItemKind.Field,Y.CompletionItemKind.Variable,Y.CompletionItemKind.Class,Y.CompletionItemKind.Interface,Y.CompletionItemKind.Module,Y.CompletionItemKind.Property,Y.CompletionItemKind.Unit,Y.CompletionItemKind.Value,Y.CompletionItemKind.Enum,Y.CompletionItemKind.Keyword,Y.CompletionItemKind.Snippet,Y.CompletionItemKind.Color,Y.CompletionItemKind.File,Y.CompletionItemKind.Reference,Y.CompletionItemKind.Folder,Y.CompletionItemKind.EnumMember,Y.CompletionItemKind.Constant,Y.CompletionItemKind.Struct,Y.CompletionItemKind.Event,Y.CompletionItemKind.Operator,Y.CompletionItemKind.TypeParameter],_U=[Y.SymbolTag.Deprecated];function We(r,t){return r[t]===void 0&&(r[t]={}),r[t]}var _h;(function(r){function t(i){let n=Me.workspace.getConfiguration("files",i);return{trimTrailingWhitespace:n.get("trimTrailingWhitespace"),trimFinalNewlines:n.get("trimFinalNewlines"),insertFinalNewline:n.get("insertFinalNewline")}}r.fromConfiguration=t})(_h||(_h={}));var XR;(function(r){function t(i){let n=i;return n&&Ut.func(n.register)&&Ut.func(n.unregister)&&Ut.func(n.dispose)&&n.registrationType!==void 0}r.is=t})(XR||(XR={}));var jn=class{constructor(t,i,n,s,o,l){this._client=t,this._event=i,this._type=n,this._middleware=s,this._createParams=o,this._selectorFilter=l,this._selectors=new Map}static textDocumentFilter(t,i){for(let n of t)if(Me.languages.match(n,i))return!0;return!1}register(t){t.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(this.callback,this)),this._selectors.set(t.id,t.registerOptions.documentSelector))}callback(t){(!this._selectorFilter||this._selectorFilter(this._selectors.values(),t))&&(this._middleware?this._middleware(t,i=>this._client.sendNotification(this._type,this._createParams(i))):this._client.sendNotification(this._type,this._createParams(t)),this.notificationSent(t))}notificationSent(t){}unregister(t){this._selectors.delete(t),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(t){for(let i of this._selectors.values())if(Me.languages.match(i,t))return{send:n=>{this.callback(n)}}}},JR=class extends jn{constructor(t,i){super(t,Me.workspace.onDidOpenTextDocument,Y.DidOpenTextDocumentNotification.type,t.clientOptions.middleware.didOpen,n=>t.code2ProtocolConverter.asOpenTextDocumentParams(n),jn.textDocumentFilter),this._syncedDocuments=i}fillClientCapabilities(t){We(We(t,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(t,i){let n=t.resolvedTextDocumentSync;i&&n&&n.openClose&&this.register({id:qt.generateUuid(),registerOptions:{documentSelector:i}})}get registrationType(){return Y.DidOpenTextDocumentNotification.type}register(t){if(super.register(t),!t.registerOptions.documentSelector)return;let i=t.registerOptions.documentSelector;Me.workspace.textDocuments.forEach(n=>{let s=n.uri.toString();if(!this._syncedDocuments.has(s)&&Me.languages.match(i,n)){let o=this._client.clientOptions.middleware,l=h=>{this._client.sendNotification(this._type,this._createParams(h))};o.didOpen?o.didOpen(n,l):l(n),this._syncedDocuments.set(s,n)}})}notificationSent(t){super.notificationSent(t),this._syncedDocuments.set(t.uri.toString(),t)}},ZR=class extends jn{constructor(t,i){super(t,Me.workspace.onDidCloseTextDocument,Y.DidCloseTextDocumentNotification.type,t.clientOptions.middleware.didClose,n=>t.code2ProtocolConverter.asCloseTextDocumentParams(n),jn.textDocumentFilter),this._syncedDocuments=i}get registrationType(){return Y.DidCloseTextDocumentNotification.type}fillClientCapabilities(t){We(We(t,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(t,i){let n=t.resolvedTextDocumentSync;i&&n&&n.openClose&&this.register({id:qt.generateUuid(),registerOptions:{documentSelector:i}})}notificationSent(t){super.notificationSent(t),this._syncedDocuments.delete(t.uri.toString())}unregister(t){let i=this._selectors.get(t);super.unregister(t);let n=this._selectors.values();this._syncedDocuments.forEach(s=>{if(Me.languages.match(i,s)&&!this._selectorFilter(n,s)){let o=this._client.clientOptions.middleware,l=h=>{this._client.sendNotification(this._type,this._createParams(h))};this._syncedDocuments.delete(s.uri.toString()),o.didClose?o.didClose(s,l):l(s)}})}},QR=class{constructor(t){this._client=t,this._changeData=new Map,this._forcingDelivery=!1}get registrationType(){return Y.DidChangeTextDocumentNotification.type}fillClientCapabilities(t){We(We(t,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(t,i){let n=t.resolvedTextDocumentSync;i&&n&&n.change!==void 0&&n.change!==Y.TextDocumentSyncKind.None&&this.register({id:qt.generateUuid(),registerOptions:Object.assign({},{documentSelector:i},{syncKind:n.change})})}register(t){t.registerOptions.documentSelector&&(this._listener||(this._listener=Me.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(t.id,{documentSelector:t.registerOptions.documentSelector,syncKind:t.registerOptions.syncKind}))}callback(t){if(t.contentChanges.length!==0){for(let i of this._changeData.values())if(Me.languages.match(i.documentSelector,t.document)){let n=this._client.clientOptions.middleware;if(i.syncKind===Y.TextDocumentSyncKind.Incremental){let s=this._client.code2ProtocolConverter.asChangeTextDocumentParams(t);n.didChange?n.didChange(t,()=>this._client.sendNotification(Y.DidChangeTextDocumentNotification.type,s)):this._client.sendNotification(Y.DidChangeTextDocumentNotification.type,s)}else if(i.syncKind===Y.TextDocumentSyncKind.Full){let s=o=>{this._changeDelayer?(this._changeDelayer.uri!==o.document.uri.toString()&&(this.forceDelivery(),this._changeDelayer.uri=o.document.uri.toString()),this._changeDelayer.delayer.trigger(()=>{this._client.sendNotification(Y.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(o.document))})):(this._changeDelayer={uri:o.document.uri.toString(),delayer:new SU.Delayer(200)},this._changeDelayer.delayer.trigger(()=>{this._client.sendNotification(Y.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(o.document))},-1))};n.didChange?n.didChange(t,s):s(t)}}}}unregister(t){this._changeData.delete(t),this._changeData.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}forceDelivery(){if(!(this._forcingDelivery||!this._changeDelayer))try{this._forcingDelivery=!0,this._changeDelayer.delayer.forceDelivery()}finally{this._forcingDelivery=!1}}getProvider(t){for(let i of this._changeData.values())if(Me.languages.match(i.documentSelector,t))return{send:n=>{this.callback(n)}}}},ex=class extends jn{constructor(t){super(t,Me.workspace.onWillSaveTextDocument,Y.WillSaveTextDocumentNotification.type,t.clientOptions.middleware.willSave,i=>t.code2ProtocolConverter.asWillSaveTextDocumentParams(i),(i,n)=>jn.textDocumentFilter(i,n.document))}get registrationType(){return Y.WillSaveTextDocumentNotification.type}fillClientCapabilities(t){let i=We(We(t,"textDocument"),"synchronization");i.willSave=!0}initialize(t,i){let n=t.resolvedTextDocumentSync;i&&n&&n.willSave&&this.register({id:qt.generateUuid(),registerOptions:{documentSelector:i}})}},tx=class{constructor(t){this._client=t,this._selectors=new Map}get registrationType(){return Y.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(t){let i=We(We(t,"textDocument"),"synchronization");i.willSaveWaitUntil=!0}initialize(t,i){let n=t.resolvedTextDocumentSync;i&&n&&n.willSaveWaitUntil&&this.register({id:qt.generateUuid(),registerOptions:{documentSelector:i}})}register(t){t.registerOptions.documentSelector&&(this._listener||(this._listener=Me.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(t.id,t.registerOptions.documentSelector))}callback(t){if(jn.textDocumentFilter(this._selectors.values(),t.document)){let i=this._client.clientOptions.middleware,n=s=>this._client.sendRequest(Y.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(s)).then(o=>{let l=this._client.protocol2CodeConverter.asTextEdits(o);return l===void 0?[]:l});t.waitUntil(i.willSaveWaitUntil?i.willSaveWaitUntil(t,n):n(t))}}unregister(t){this._selectors.delete(t),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}},rx=class extends jn{constructor(t){super(t,Me.workspace.onDidSaveTextDocument,Y.DidSaveTextDocumentNotification.type,t.clientOptions.middleware.didSave,i=>t.code2ProtocolConverter.asSaveTextDocumentParams(i,this._includeText),jn.textDocumentFilter),this._includeText=!1}get registrationType(){return Y.DidSaveTextDocumentNotification.type}fillClientCapabilities(t){We(We(t,"textDocument"),"synchronization").didSave=!0}initialize(t,i){let n=t.resolvedTextDocumentSync;if(i&&n&&n.save){let s=typeof n.save=="boolean"?{includeText:!1}:{includeText:!!n.save.includeText};this.register({id:qt.generateUuid(),registerOptions:Object.assign({},{documentSelector:i},s)})}}register(t){this._includeText=!!t.registerOptions.includeText,super.register(t)}},ix=class{constructor(t,i){this._client=t,this._notifyFileEvent=i,this._watchers=new Map}get registrationType(){return Y.DidChangeWatchedFilesNotification.type}fillClientCapabilities(t){We(We(t,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0}initialize(t,i){}register(t){if(!Array.isArray(t.registerOptions.watchers))return;let i=[];for(let n of t.registerOptions.watchers){if(!Ut.string(n.globPattern))continue;let s=!0,o=!0,l=!0;n.kind!==void 0&&n.kind!==null&&(s=(n.kind&Y.WatchKind.Create)!==0,o=(n.kind&Y.WatchKind.Change)!==0,l=(n.kind&Y.WatchKind.Delete)!==0);let h=Me.workspace.createFileSystemWatcher(n.globPattern,!s,!o,!l);this.hookListeners(h,s,o,l),i.push(h)}this._watchers.set(t.id,i)}registerRaw(t,i){let n=[];for(let s of i)this.hookListeners(s,!0,!0,!0,n);this._watchers.set(t,n)}hookListeners(t,i,n,s,o){i&&t.onDidCreate(l=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(l),type:Y.FileChangeType.Created}),null,o),n&&t.onDidChange(l=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(l),type:Y.FileChangeType.Changed}),null,o),s&&t.onDidDelete(l=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(l),type:Y.FileChangeType.Deleted}),null,o)}unregister(t){let i=this._watchers.get(t);if(i)for(let n of i)n.dispose()}dispose(){this._watchers.forEach(t=>{for(let i of t)i.dispose()}),this._watchers.clear()}},Fr=class{constructor(t,i){this._client=t,this._registrationType=i,this._registrations=new Map}get registrationType(){return this._registrationType}register(t){if(!t.registerOptions.documentSelector)return;let i=this.registerLanguageProvider(t.registerOptions);this._registrations.set(t.id,{disposable:i[0],data:t,provider:i[1]})}unregister(t){let i=this._registrations.get(t);i!==void 0&&i.disposable.dispose()}dispose(){this._registrations.forEach(t=>{t.disposable.dispose()}),this._registrations.clear()}getRegistration(t,i){if(i){if(Y.TextDocumentRegistrationOptions.is(i)){let n=Y.StaticRegistrationOptions.hasId(i)?i.id:qt.generateUuid(),s=i.documentSelector||t;if(s)return[n,Object.assign({},i,{documentSelector:s})]}else if(Ut.boolean(i)&&i===!0||Y.WorkDoneProgressOptions.is(i)){if(!t)return[void 0,void 0];let n=Ut.boolean(i)&&i===!0?{documentSelector:t}:Object.assign({},i,{documentSelector:t});return[qt.generateUuid(),n]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(t,i){if(!(!t||!i))return Ut.boolean(i)&&i===!0?{documentSelector:t}:Object.assign({},i,{documentSelector:t})}getProvider(t){for(let i of this._registrations.values()){let n=i.data.registerOptions.documentSelector;if(n!==null&&Me.languages.match(n,t))return i.provider}}getAllProviders(){let t=[];for(let i of this._registrations.values())t.push(i.provider);return t}};ur.TextDocumentFeature=Fr;var nx=class{constructor(t,i){this._client=t,this._registrationType=i,this._registrations=new Map}get registrationType(){return this._registrationType}register(t){let i=this.registerLanguageProvider(t.registerOptions);this._registrations.set(t.id,{disposable:i[0],provider:i[1]})}unregister(t){let i=this._registrations.get(t);i!==void 0&&i.disposable.dispose()}dispose(){this._registrations.forEach(t=>{t.disposable.dispose()}),this._registrations.clear()}getProviders(){let t=[];for(let i of this._registrations.values())t.push(i.provider);return t}},sx=class extends Fr{constructor(t){super(t,Y.CompletionRequest.type)}fillClientCapabilities(t){let i=We(We(t,"textDocument"),"completion");i.dynamicRegistration=!0,i.contextSupport=!0,i.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[Y.MarkupKind.Markdown,Y.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[Y.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[Y.InsertTextMode.asIs,Y.InsertTextMode.adjustIndentation]}},i.completionItemKind={valueSet:Zpe}}initialize(t,i){let n=this.getRegistrationOptions(i,t.completionProvider);n&&this.register({id:qt.generateUuid(),registerOptions:n})}registerLanguageProvider(t){let i=t.triggerCharacters||[],n={provideCompletionItems:(s,o,l,h)=>{let p=this._client,g=this._client.clientOptions.middleware,m=(y,S,w,C)=>p.sendRequest(Y.CompletionRequest.type,p.code2ProtocolConverter.asCompletionParams(y,S,w),C).then(p.protocol2CodeConverter.asCompletionResult,_=>p.handleFailedRequest(Y.CompletionRequest.type,_,null));return g.provideCompletionItem?g.provideCompletionItem(s,o,h,l,m):m(s,o,h,l)},resolveCompletionItem:t.resolveProvider?(s,o)=>{let l=this._client,h=this._client.clientOptions.middleware,p=(g,m)=>l.sendRequest(Y.CompletionResolveRequest.type,l.code2ProtocolConverter.asCompletionItem(g),m).then(l.protocol2CodeConverter.asCompletionItem,y=>l.handleFailedRequest(Y.CompletionResolveRequest.type,y,g));return h.resolveCompletionItem?h.resolveCompletionItem(s,o,p):p(s,o)}:void 0};return[Me.languages.registerCompletionItemProvider(t.documentSelector,n,...i),n]}},ox=class extends Fr{constructor(t){super(t,Y.HoverRequest.type)}fillClientCapabilities(t){let i=We(We(t,"textDocument"),"hover");i.dynamicRegistration=!0,i.contentFormat=[Y.MarkupKind.Markdown,Y.MarkupKind.PlainText]}initialize(t,i){let n=this.getRegistrationOptions(i,t.hoverProvider);n&&this.register({id:qt.generateUuid(),registerOptions:n})}registerLanguageProvider(t){let i={provideHover:(n,s,o)=>{let l=this._client,h=(g,m,y)=>l.sendRequest(Y.HoverRequest.type,l.code2ProtocolConverter.asTextDocumentPositionParams(g,m),y).then(l.protocol2CodeConverter.asHover,S=>l.handleFailedRequest(Y.HoverRequest.type,S,null)),p=l.clientOptions.middleware;return p.provideHover?p.provideHover(n,s,o,h):h(n,s,o)}};return[Me.languages.registerHoverProvider(t.documentSelector,i),i]}},ax=class extends Fr{constructor(t){super(t,Y.SignatureHelpRequest.type)}fillClientCapabilities(t){let i=We(We(t,"textDocument"),"signatureHelp");i.dynamicRegistration=!0,i.signatureInformation={documentationFormat:[Y.MarkupKind.Markdown,Y.MarkupKind.PlainText]},i.signatureInformation.parameterInformation={labelOffsetSupport:!0},i.signatureInformation.activeParameterSupport=!0,i.contextSupport=!0}initialize(t,i){let n=this.getRegistrationOptions(i,t.signatureHelpProvider);n&&this.register({id:qt.generateUuid(),registerOptions:n})}registerLanguageProvider(t){let i={provideSignatureHelp:(s,o,l,h)=>{let p=this._client,g=(y,S,w,C)=>p.sendRequest(Y.SignatureHelpRequest.type,p.code2ProtocolConverter.asSignatureHelpParams(y,S,w),C).then(p.protocol2CodeConverter.asSignatureHelp,_=>p.handleFailedRequest(Y.SignatureHelpRequest.type,_,null)),m=p.clientOptions.middleware;return m.provideSignatureHelp?m.provideSignatureHelp(s,o,h,l,g):g(s,o,h,l)}},n;if(t.retriggerCharacters===void 0){let s=t.triggerCharacters||[];n=Me.languages.registerSignatureHelpProvider(t.documentSelector,i,...s)}else{let s={triggerCharacters:t.triggerCharacters||[],retriggerCharacters:t.retriggerCharacters||[]};n=Me.languages.registerSignatureHelpProvider(t.documentSelector,i,s)}return[n,i]}},lx=class extends Fr{constructor(t){super(t,Y.DefinitionRequest.type)}fillClientCapabilities(t){let i=We(We(t,"textDocument"),"definition");i.dynamicRegistration=!0,i.linkSupport=!0}initialize(t,i){let n=this.getRegistrationOptions(i,t.definitionProvider);n&&this.register({id:qt.generateUuid(),registerOptions:n})}registerLanguageProvider(t){let i={provideDefinition:(n,s,o)=>{let l=this._client,h=(g,m,y)=>l.sendRequest(Y.DefinitionRequest.type,l.code2ProtocolConverter.asTextDocumentPositionParams(g,m),y).then(l.protocol2CodeConverter.asDefinitionResult,S=>l.handleFailedRequest(Y.DefinitionRequest.type,S,null)),p=l.clientOptions.middleware;return p.provideDefinition?p.provideDefinition(n,s,o,h):h(n,s,o)}};return[Me.languages.registerDefinitionProvider(t.documentSelector,i),i]}},cx=class extends Fr{constructor(t){super(t,Y.ReferencesRequest.type)}fillClientCapabilities(t){We(We(t,"textDocument"),"references").dynamicRegistration=!0}initialize(t,i){let n=this.getRegistrationOptions(i,t.referencesProvider);n&&this.register({id:qt.generateUuid(),registerOptions:n})}registerLanguageProvider(t){let i={provideReferences:(n,s,o,l)=>{let h=this._client,p=(m,y,S,w)=>h.sendRequest(Y.ReferencesRequest.type,h.code2ProtocolConverter.asReferenceParams(m,y,S),w).then(h.protocol2CodeConverter.asReferences,C=>h.handleFailedRequest(Y.ReferencesRequest.type,C,null)),g=h.clientOptions.middleware;return g.provideReferences?g.provideReferences(n,s,o,l,p):p(n,s,o,l)}};return[Me.languages.registerReferenceProvider(t.documentSelector,i),i]}},ux=class extends Fr{constructor(t){super(t,Y.DocumentHighlightRequest.type)}fillClientCapabilities(t){We(We(t,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(t,i){let n=this.getRegistrationOptions(i,t.documentHighlightProvider);n&&this.register({id:qt.generateUuid(),registerOptions:n})}registerLanguageProvider(t){let i={provideDocumentHighlights:(n,s,o)=>{let l=this._client,h=(g,m,y)=>l.sendRequest(Y.DocumentHighlightRequest.type,l.code2ProtocolConverter.asTextDocumentPositionParams(g,m),y).then(l.protocol2CodeConverter.asDocumentHighlights,S=>l.handleFailedRequest(Y.DocumentHighlightRequest.type,S,null)),p=l.clientOptions.middleware;return p.provideDocumentHighlights?p.provideDocumentHighlights(n,s,o,h):h(n,s,o)}};return[Me.languages.registerDocumentHighlightProvider(t.documentSelector,i),i]}},dx=class extends Fr{constructor(t){super(t,Y.DocumentSymbolRequest.type)}fillClientCapabilities(t){let i=We(We(t,"textDocument"),"documentSymbol");i.dynamicRegistration=!0,i.symbolKind={valueSet:wU},i.hierarchicalDocumentSymbolSupport=!0,i.tagSupport={valueSet:_U},i.labelSupport=!0}initialize(t,i){let n=this.getRegistrationOptions(i,t.documentSymbolProvider);n&&this.register({id:qt.generateUuid(),registerOptions:n})}registerLanguageProvider(t){let i={provideDocumentSymbols:(s,o)=>{let l=this._client,h=(g,m)=>l.sendRequest(Y.DocumentSymbolRequest.type,l.code2ProtocolConverter.asDocumentSymbolParams(g),m).then(y=>{if(y!==null){if(y.length===0)return[];{let S=y[0];return Y.DocumentSymbol.is(S)?l.protocol2CodeConverter.asDocumentSymbols(y):l.protocol2CodeConverter.asSymbolInformations(y)}}},y=>l.handleFailedRequest(Y.DocumentSymbolRequest.type,y,null)),p=l.clientOptions.middleware;return p.provideDocumentSymbols?p.provideDocumentSymbols(s,o,h):h(s,o)}},n=t.label!==void 0?{label:t.label}:void 0;return[Me.languages.registerDocumentSymbolProvider(t.documentSelector,i,n),i]}},fx=class extends nx{constructor(t){super(t,Y.WorkspaceSymbolRequest.type)}fillClientCapabilities(t){let i=We(We(t,"workspace"),"symbol");i.dynamicRegistration=!0,i.symbolKind={valueSet:wU},i.tagSupport={valueSet:_U}}initialize(t){t.workspaceSymbolProvider&&this.register({id:qt.generateUuid(),registerOptions:t.workspaceSymbolProvider===!0?{workDoneProgress:!1}:t.workspaceSymbolProvider})}registerLanguageProvider(t){let i={provideWorkspaceSymbols:(n,s)=>{let o=this._client,l=(p,g)=>o.sendRequest(Y.WorkspaceSymbolRequest.type,{query:p},g).then(o.protocol2CodeConverter.asSymbolInformations,m=>o.handleFailedRequest(Y.WorkspaceSymbolRequest.type,m,null)),h=o.clientOptions.middleware;return h.provideWorkspaceSymbols?h.provideWorkspaceSymbols(n,s,l):l(n,s)}};return[Me.languages.registerWorkspaceSymbolProvider(i),i]}},hx=class extends Fr{constructor(t){super(t,Y.CodeActionRequest.type)}fillClientCapabilities(t){let i=We(We(t,"textDocument"),"codeAction");i.dynamicRegistration=!0,i.isPreferredSupport=!0,i.disabledSupport=!0,i.dataSupport=!0,i.resolveSupport={properties:["edit"]},i.codeActionLiteralSupport={codeActionKind:{valueSet:[Y.CodeActionKind.Empty,Y.CodeActionKind.QuickFix,Y.CodeActionKind.Refactor,Y.CodeActionKind.RefactorExtract,Y.CodeActionKind.RefactorInline,Y.CodeActionKind.RefactorRewrite,Y.CodeActionKind.Source,Y.CodeActionKind.SourceOrganizeImports]}},i.honorsChangeAnnotations=!1}initialize(t,i){let n=this.getRegistrationOptions(i,t.codeActionProvider);n&&this.register({id:qt.generateUuid(),registerOptions:n})}registerLanguageProvider(t){let i={provideCodeActions:(n,s,o,l)=>{let h=this._client,p=(m,y,S,w)=>{let C={textDocument:h.code2ProtocolConverter.asTextDocumentIdentifier(m),range:h.code2ProtocolConverter.asRange(y),context:h.code2ProtocolConverter.asCodeActionContext(S)};return h.sendRequest(Y.CodeActionRequest.type,C,w).then(_=>{if(_===null)return;let R=[];for(let D of _)Y.Command.is(D)?R.push(h.protocol2CodeConverter.asCommand(D)):R.push(h.protocol2CodeConverter.asCodeAction(D));return R},_=>h.handleFailedRequest(Y.CodeActionRequest.type,_,null))},g=h.clientOptions.middleware;return g.provideCodeActions?g.provideCodeActions(n,s,o,l,p):p(n,s,o,l)},resolveCodeAction:t.resolveProvider?(n,s)=>{let o=this._client,l=this._client.clientOptions.middleware,h=(p,g)=>o.sendRequest(Y.CodeActionResolveRequest.type,o.code2ProtocolConverter.asCodeAction(p),g).then(o.protocol2CodeConverter.asCodeAction,m=>o.handleFailedRequest(Y.CodeActionResolveRequest.type,m,p));return l.resolveCodeAction?l.resolveCodeAction(n,s,h):h(n,s)}:void 0};return[Me.languages.registerCodeActionsProvider(t.documentSelector,i,t.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(t.codeActionKinds)}:void 0),i]}},px=class extends Fr{constructor(t){super(t,Y.CodeLensRequest.type)}fillClientCapabilities(t){We(We(t,"textDocument"),"codeLens").dynamicRegistration=!0,We(We(t,"workspace"),"codeLens").refreshSupport=!0}initialize(t,i){this._client.onRequest(Y.CodeLensRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeCodeLensEmitter.fire()});let s=this.getRegistrationOptions(i,t.codeLensProvider);s&&this.register({id:qt.generateUuid(),registerOptions:s})}registerLanguageProvider(t){let i=new Me.EventEmitter,n={onDidChangeCodeLenses:i.event,provideCodeLenses:(s,o)=>{let l=this._client,h=(g,m)=>l.sendRequest(Y.CodeLensRequest.type,l.code2ProtocolConverter.asCodeLensParams(g),m).then(l.protocol2CodeConverter.asCodeLenses,y=>l.handleFailedRequest(Y.CodeLensRequest.type,y,null)),p=l.clientOptions.middleware;return p.provideCodeLenses?p.provideCodeLenses(s,o,h):h(s,o)},resolveCodeLens:t.resolveProvider?(s,o)=>{let l=this._client,h=(g,m)=>l.sendRequest(Y.CodeLensResolveRequest.type,l.code2ProtocolConverter.asCodeLens(g),m).then(l.protocol2CodeConverter.asCodeLens,y=>l.handleFailedRequest(Y.CodeLensResolveRequest.type,y,g)),p=l.clientOptions.middleware;return p.resolveCodeLens?p.resolveCodeLens(s,o,h):h(s,o)}:void 0};return[Me.languages.registerCodeLensProvider(t.documentSelector,n),{provider:n,onDidChangeCodeLensEmitter:i}]}},gx=class extends Fr{constructor(t){super(t,Y.DocumentFormattingRequest.type)}fillClientCapabilities(t){We(We(t,"textDocument"),"formatting").dynamicRegistration=!0}initialize(t,i){let n=this.getRegistrationOptions(i,t.documentFormattingProvider);n&&this.register({id:qt.generateUuid(),registerOptions:n})}registerLanguageProvider(t){let i={provideDocumentFormattingEdits:(n,s,o)=>{let l=this._client,h=(g,m,y)=>{let S={textDocument:l.code2ProtocolConverter.asTextDocumentIdentifier(g),options:l.code2ProtocolConverter.asFormattingOptions(m,_h.fromConfiguration(g))};return l.sendRequest(Y.DocumentFormattingRequest.type,S,y).then(l.protocol2CodeConverter.asTextEdits,w=>l.handleFailedRequest(Y.DocumentFormattingRequest.type,w,null))},p=l.clientOptions.middleware;return p.provideDocumentFormattingEdits?p.provideDocumentFormattingEdits(n,s,o,h):h(n,s,o)}};return[Me.languages.registerDocumentFormattingEditProvider(t.documentSelector,i),i]}},mx=class extends Fr{constructor(t){super(t,Y.DocumentRangeFormattingRequest.type)}fillClientCapabilities(t){We(We(t,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(t,i){let n=this.getRegistrationOptions(i,t.documentRangeFormattingProvider);n&&this.register({id:qt.generateUuid(),registerOptions:n})}registerLanguageProvider(t){let i={provideDocumentRangeFormattingEdits:(n,s,o,l)=>{let h=this._client,p=(m,y,S,w)=>{let C={textDocument:h.code2ProtocolConverter.asTextDocumentIdentifier(m),range:h.code2ProtocolConverter.asRange(y),options:h.code2ProtocolConverter.asFormattingOptions(S,_h.fromConfiguration(m))};return h.sendRequest(Y.DocumentRangeFormattingRequest.type,C,w).then(h.protocol2CodeConverter.asTextEdits,_=>h.handleFailedRequest(Y.DocumentRangeFormattingRequest.type,_,null))},g=h.clientOptions.middleware;return g.provideDocumentRangeFormattingEdits?g.provideDocumentRangeFormattingEdits(n,s,o,l,p):p(n,s,o,l)}};return[Me.languages.registerDocumentRangeFormattingEditProvider(t.documentSelector,i),i]}},yx=class extends Fr{constructor(t){super(t,Y.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(t){We(We(t,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(t,i){let n=this.getRegistrationOptions(i,t.documentOnTypeFormattingProvider);n&&this.register({id:qt.generateUuid(),registerOptions:n})}registerLanguageProvider(t){let i={provideOnTypeFormattingEdits:(s,o,l,h,p)=>{let g=this._client,m=(S,w,C,_,R)=>{let D={textDocument:g.code2ProtocolConverter.asTextDocumentIdentifier(S),position:g.code2ProtocolConverter.asPosition(w),ch:C,options:g.code2ProtocolConverter.asFormattingOptions(_,_h.fromConfiguration(S))};return g.sendRequest(Y.DocumentOnTypeFormattingRequest.type,D,R).then(g.protocol2CodeConverter.asTextEdits,I=>g.handleFailedRequest(Y.DocumentOnTypeFormattingRequest.type,I,null))},y=g.clientOptions.middleware;return y.provideOnTypeFormattingEdits?y.provideOnTypeFormattingEdits(s,o,l,h,p,m):m(s,o,l,h,p)}},n=t.moreTriggerCharacter||[];return[Me.languages.registerOnTypeFormattingEditProvider(t.documentSelector,i,t.firstTriggerCharacter,...n),i]}},vx=class extends Fr{constructor(t){super(t,Y.RenameRequest.type)}fillClientCapabilities(t){let i=We(We(t,"textDocument"),"rename");i.dynamicRegistration=!0,i.prepareSupport=!0,i.prepareSupportDefaultBehavior=Y.PrepareSupportDefaultBehavior.Identifier,i.honorsChangeAnnotations=!0}initialize(t,i){let n=this.getRegistrationOptions(i,t.renameProvider);n&&(Ut.boolean(t.renameProvider)&&(n.prepareProvider=!1),this.register({id:qt.generateUuid(),registerOptions:n}))}registerLanguageProvider(t){let i={provideRenameEdits:(n,s,o,l)=>{let h=this._client,p=(m,y,S,w)=>{let C={textDocument:h.code2ProtocolConverter.asTextDocumentIdentifier(m),position:h.code2ProtocolConverter.asPosition(y),newName:S};return h.sendRequest(Y.RenameRequest.type,C,w).then(h.protocol2CodeConverter.asWorkspaceEdit,_=>h.handleFailedRequest(Y.RenameRequest.type,_,null))},g=h.clientOptions.middleware;return g.provideRenameEdits?g.provideRenameEdits(n,s,o,l,p):p(n,s,o,l)},prepareRename:t.prepareProvider?(n,s,o)=>{let l=this._client,h=(g,m,y)=>{let S={textDocument:l.code2ProtocolConverter.asTextDocumentIdentifier(g),position:l.code2ProtocolConverter.asPosition(m)};return l.sendRequest(Y.PrepareRenameRequest.type,S,y).then(w=>Y.Range.is(w)?l.protocol2CodeConverter.asRange(w):this.isDefaultBehavior(w)?w.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):w&&Y.Range.is(w.range)?{range:l.protocol2CodeConverter.asRange(w.range),placeholder:w.placeholder}:Promise.reject(new Error("The element can't be renamed.")),w=>l.handleFailedRequest(Y.PrepareRenameRequest.type,w,void 0))},p=l.clientOptions.middleware;return p.prepareRename?p.prepareRename(n,s,o,h):h(n,s,o)}:void 0};return[Me.languages.registerRenameProvider(t.documentSelector,i),i]}isDefaultBehavior(t){let i=t;return i&&Ut.boolean(i.defaultBehavior)}},bx=class extends Fr{constructor(t){super(t,Y.DocumentLinkRequest.type)}fillClientCapabilities(t){let i=We(We(t,"textDocument"),"documentLink");i.dynamicRegistration=!0,i.tooltipSupport=!0}initialize(t,i){let n=this.getRegistrationOptions(i,t.documentLinkProvider);n&&this.register({id:qt.generateUuid(),registerOptions:n})}registerLanguageProvider(t){let i={provideDocumentLinks:(n,s)=>{let o=this._client,l=(p,g)=>o.sendRequest(Y.DocumentLinkRequest.type,o.code2ProtocolConverter.asDocumentLinkParams(p),g).then(o.protocol2CodeConverter.asDocumentLinks,m=>o.handleFailedRequest(Y.DocumentLinkRequest.type,m,null)),h=o.clientOptions.middleware;return h.provideDocumentLinks?h.provideDocumentLinks(n,s,l):l(n,s)},resolveDocumentLink:t.resolveProvider?(n,s)=>{let o=this._client,l=(p,g)=>o.sendRequest(Y.DocumentLinkResolveRequest.type,o.code2ProtocolConverter.asDocumentLink(p),g).then(o.protocol2CodeConverter.asDocumentLink,m=>o.handleFailedRequest(Y.DocumentLinkResolveRequest.type,m,p)),h=o.clientOptions.middleware;return h.resolveDocumentLink?h.resolveDocumentLink(n,s,l):l(n,s)}:void 0};return[Me.languages.registerDocumentLinkProvider(t.documentSelector,i),i]}},Sx=class{constructor(t){this._client=t,this._listeners=new Map}get registrationType(){return Y.DidChangeConfigurationNotification.type}fillClientCapabilities(t){We(We(t,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let t=this._client.clientOptions.synchronize.configurationSection;t!==void 0&&this.register({id:qt.generateUuid(),registerOptions:{section:t}})}register(t){let i=Me.workspace.onDidChangeConfiguration(n=>{this.onDidChangeConfiguration(t.registerOptions.section,n)});this._listeners.set(t.id,i),t.registerOptions.section!==void 0&&this.onDidChangeConfiguration(t.registerOptions.section,void 0)}unregister(t){let i=this._listeners.get(t);i&&(this._listeners.delete(t),i.dispose())}dispose(){for(let t of this._listeners.values())t.dispose();this._listeners.clear()}onDidChangeConfiguration(t,i){let n;if(Ut.string(t)?n=[t]:n=t,n!==void 0&&i!==void 0&&!n.some(h=>i.affectsConfiguration(h)))return;let s=l=>{if(l===void 0){this._client.sendNotification(Y.DidChangeConfigurationNotification.type,{settings:null});return}this._client.sendNotification(Y.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(l)})},o=this.getMiddleware();o?o(n,s):s(n)}extractSettingsInformation(t){function i(o,l){let h=o;for(let p=0;p<l.length-1;p++){let g=h[l[p]];g||(g=Object.create(null),h[l[p]]=g),h=g}return h}let n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,s=Object.create(null);for(let o=0;o<t.length;o++){let l=t[o],h=l.indexOf("."),p=null;if(h>=0?p=Me.workspace.getConfiguration(l.substr(0,h),n).get(l.substr(h+1)):p=Me.workspace.getConfiguration(void 0,n).get(l),p){let g=t[o].split(".");i(s,g)[g[g.length-1]]=Gpe.toJSONObject(p)}}return s}getMiddleware(){let t=this._client.clientOptions.middleware;if(t.workspace&&t.workspace.didChangeConfiguration)return t.workspace.didChangeConfiguration}},wx=class{constructor(t){this._client=t,this._commands=new Map}get registrationType(){return Y.ExecuteCommandRequest.type}fillClientCapabilities(t){We(We(t,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(t){t.executeCommandProvider&&this.register({id:qt.generateUuid(),registerOptions:Object.assign({},t.executeCommandProvider)})}register(t){let i=this._client,n=i.clientOptions.middleware,s=(o,l)=>{let h={command:o,arguments:l};return i.sendRequest(Y.ExecuteCommandRequest.type,h).then(void 0,p=>i.handleFailedRequest(Y.ExecuteCommandRequest.type,p,void 0))};if(t.registerOptions.commands){let o=[];for(let l of t.registerOptions.commands)o.push(Me.commands.registerCommand(l,(...h)=>n.executeCommand?n.executeCommand(l,h,s):s(l,h)));this._commands.set(t.id,o)}}unregister(t){let i=this._commands.get(t);i&&i.forEach(n=>n.dispose())}dispose(){this._commands.forEach(t=>{t.forEach(i=>i.dispose())}),this._commands.clear()}},Qpe;(function(r){function t(i){return i&&Y.MessageReader.is(i.reader)&&Y.MessageWriter.is(i.writer)}r.is=t})(Qpe=ur.MessageTransports||(ur.MessageTransports={}));var _v=class{constructor(t,i){this._resolve=t,this._reject=i,this._used=!1}get isUsed(){return this._used}resolve(){this._used=!0,this._resolve()}reject(t){this._used=!0,this._reject(t)}},Ev=class r{constructor(t,i,n){var s;this._traceFormat=Y.TraceFormat.Text,this._features=[],this._dynamicFeatures=new Map,this._id=t,this._name=i,n=n||{};let o={isTrusted:!1};n.markdown!==void 0&&n.markdown.isTrusted===!0&&(o.isTrusted=!0),this._clientOptions={documentSelector:n.documentSelector||[],synchronize:n.synchronize||{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName||this._name,revealOutputChannelOn:n.revealOutputChannelOn||wh.Error,stdioEncoding:n.stdioEncoding||"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,progressOnInitialization:!!n.progressOnInitialization,errorHandler:n.errorHandler||this.createDefaultErrorHandler((s=n.connectionOptions)===null||s===void 0?void 0:s.maxRestartCount),middleware:n.middleware||{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder,connectionOptions:n.connectionOptions,markdown:o},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=Qt.Initial,this._connectionPromise=void 0,this._resolvedConnection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=n.traceOutputChannel,this._listeners=void 0,this._providers=void 0,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new SU.Delayer(250),this._onReady=new Promise((l,h)=>{this._onReadyCallbacks=new _v(l,h)}),this._onStop=void 0,this._telemetryEmitter=new Y.Emitter,this._stateChangeEmitter=new Y.Emitter,this._trace=Y.Trace.Off,this._tracer={log:(l,h)=>{Ut.string(l)?this.logTrace(l,h):this.logObjectTrace(l)}},this._c2p=Ype.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=Kpe.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get state(){return this._state}set state(t){let i=this.getPublicState();this._state=t;let n=this.getPublicState();n!==i&&this._stateChangeEmitter.fire({oldState:i,newState:n})}getPublicState(){return this.state===Qt.Running?Sv.Running:this.state===Qt.Starting?Sv.Starting:Sv.Stopped}get initializeResult(){return this._initializeResult}sendRequest(t,...i){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{return this._resolvedConnection.sendRequest(t,...i)}catch(n){throw this.error(`Sending request ${Ut.string(t)?t:t.method} failed.`,n),n}}onRequest(t,i){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{return this._resolvedConnection.onRequest(t,i)}catch(n){throw this.error(`Registering request handler ${Ut.string(t)?t:t.method} failed.`,n),n}}sendNotification(t,i){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendNotification(t,i)}catch(n){throw this.error(`Sending notification ${Ut.string(t)?t:t.method} failed.`,n),n}}onNotification(t,i){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{return this._resolvedConnection.onNotification(t,i)}catch(n){throw this.error(`Registering notification handler ${Ut.string(t)?t:t.method} failed.`,n),n}}onProgress(t,i,n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{if(Y.WorkDoneProgress.is(t)){let s=this._clientOptions.middleware.handleWorkDoneProgress;if(s!==void 0)return this._resolvedConnection.onProgress(t,i,o=>{s(i,o,()=>n(o))})}return this._resolvedConnection.onProgress(t,i,n)}catch(s){throw this.error(`Registering progress handler for token ${i} failed.`,s),s}}sendProgress(t,i,n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendProgress(t,i,n)}catch(s){throw this.error(`Sending progress for token ${i} failed.`,s),s}}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=Me.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}createDefaultErrorHandler(t){if(t!==void 0&&t<0)throw new Error(`Invalid maxRestartCount: ${t}`);return new KR(this._name,t??4)}set trace(t){this._trace=t,this.onReady().then(()=>{this.resolveConnection().then(i=>{i.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})})},()=>{})}data2String(t){if(t instanceof Y.ResponseError){let i=t;return`  Message: ${i.message}
  Code: ${i.code} ${i.data?`
`+i.data.toString():""}`}return t instanceof Error?Ut.string(t.stack)?t.stack:t.message:Ut.string(t)?t:t.toString()}info(t,i,n=!0){this.outputChannel.appendLine(`[Info  - ${new Date().toLocaleTimeString()}] ${t}`),i&&this.outputChannel.appendLine(this.data2String(i)),n&&this._clientOptions.revealOutputChannelOn<=wh.Info&&this.showNotificationMessage()}warn(t,i,n=!0){this.outputChannel.appendLine(`[Warn  - ${new Date().toLocaleTimeString()}] ${t}`),i&&this.outputChannel.appendLine(this.data2String(i)),n&&this._clientOptions.revealOutputChannelOn<=wh.Warn&&this.showNotificationMessage()}error(t,i,n=!0){this.outputChannel.appendLine(`[Error - ${new Date().toLocaleTimeString()}] ${t}`),i&&this.outputChannel.appendLine(this.data2String(i)),n&&this._clientOptions.revealOutputChannelOn<=wh.Error&&this.showNotificationMessage()}showNotificationMessage(){Me.window.showInformationMessage("A request has failed. See the output for more information.","Go to output").then(()=>{this.outputChannel.show(!0)})}logTrace(t,i){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${t}`),i&&this.traceOutputChannel.appendLine(this.data2String(i))}logObjectTrace(t){t.isLSPMessage&&t.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),t&&this.traceOutputChannel.appendLine(`${JSON.stringify(t)}`)}needsStart(){return this.state===Qt.Initial||this.state===Qt.Stopping||this.state===Qt.Stopped}needsStop(){return this.state===Qt.Starting||this.state===Qt.Running}onReady(){return this._onReady}isConnectionActive(){return this.state===Qt.Running&&!!this._resolvedConnection}start(){return this._onReadyCallbacks.isUsed&&(this._onReady=new Promise((t,i)=>{this._onReadyCallbacks=new _v(t,i)})),this._listeners=[],this._providers=[],this._diagnostics||(this._diagnostics=this._clientOptions.diagnosticCollectionName?Me.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):Me.languages.createDiagnosticCollection()),this.state=Qt.Starting,this.resolveConnection().then(t=>(t.onLogMessage(i=>{switch(i.type){case Y.MessageType.Error:this.error(i.message,void 0,!1);break;case Y.MessageType.Warning:this.warn(i.message,void 0,!1);break;case Y.MessageType.Info:this.info(i.message,void 0,!1);break;default:this.outputChannel.appendLine(i.message)}}),t.onShowMessage(i=>{switch(i.type){case Y.MessageType.Error:Me.window.showErrorMessage(i.message);break;case Y.MessageType.Warning:Me.window.showWarningMessage(i.message);break;case Y.MessageType.Info:Me.window.showInformationMessage(i.message);break;default:Me.window.showInformationMessage(i.message)}}),t.onRequest(Y.ShowMessageRequest.type,i=>{let n;switch(i.type){case Y.MessageType.Error:n=Me.window.showErrorMessage;break;case Y.MessageType.Warning:n=Me.window.showWarningMessage;break;case Y.MessageType.Info:n=Me.window.showInformationMessage;break;default:n=Me.window.showInformationMessage}let s=i.actions||[];return n(i.message,...s)}),t.onTelemetry(i=>{this._telemetryEmitter.fire(i)}),t.onRequest(Y.ShowDocumentRequest.type,async i=>{var n;let s=async l=>{let h=this.protocol2CodeConverter.asUri(l.uri);try{if(l.external===!0)return{success:await Me.env.openExternal(h)};{let p={};return l.selection!==void 0&&(p.selection=this.protocol2CodeConverter.asRange(l.selection)),l.takeFocus===void 0||l.takeFocus===!1?p.preserveFocus=!0:l.takeFocus===!0&&(p.preserveFocus=!1),await Me.window.showTextDocument(h,p),{success:!0}}}catch{return{success:!0}}},o=(n=this._clientOptions.middleware.window)===null||n===void 0?void 0:n.showDocument;return o!==void 0?o(i,s):s(i)}),t.listen(),this.initialize(t))).then(void 0,t=>{this.state=Qt.StartFailed,this._onReadyCallbacks.reject(t),this.error("Starting client failed",t),Me.window.showErrorMessage(`Couldn't start client ${this._name}`)}),new Me.Disposable(()=>{this.needsStop()&&this.stop()})}resolveConnection(){return this._connectionPromise||(this._connectionPromise=this.createConnection()),this._connectionPromise}initialize(t){this.refreshTrace(t,!1);let i=this._clientOptions.initializationOptions,n=this._clientOptions.workspaceFolder?this._clientOptions.workspaceFolder.uri.fsPath:this._clientGetRootPath(),s={processId:null,clientInfo:{name:Me.env.appName,version:Me.version},locale:this.getLocale(),rootPath:n||null,rootUri:n?this._c2p.asUri(Me.Uri.file(n)):null,capabilities:this.computeClientCapabilities(),initializationOptions:Ut.func(i)?i():i,trace:Y.Trace.toString(this._trace),workspaceFolders:null};if(this.fillInitializeParams(s),this._clientOptions.progressOnInitialization){let o=qt.generateUuid(),l=new Xpe.ProgressPart(t,o);return s.workDoneToken=o,this.doInitialize(t,s).then(h=>(l.done(),h),h=>{throw l.cancel(),h})}else return this.doInitialize(t,s)}doInitialize(t,i){return t.initialize(i).then(n=>{this._resolvedConnection=t,this._initializeResult=n,this.state=Qt.Running;let s;return Ut.number(n.capabilities.textDocumentSync)?n.capabilities.textDocumentSync===Y.TextDocumentSyncKind.None?s={openClose:!1,change:Y.TextDocumentSyncKind.None,save:void 0}:s={openClose:!0,change:n.capabilities.textDocumentSync,save:{includeText:!1}}:n.capabilities.textDocumentSync!==void 0&&n.capabilities.textDocumentSync!==null&&(s=n.capabilities.textDocumentSync),this._capabilities=Object.assign({},n.capabilities,{resolvedTextDocumentSync:s}),t.onDiagnostics(o=>this.handleDiagnostics(o)),t.onRequest(Y.RegistrationRequest.type,o=>this.handleRegistrationRequest(o)),t.onRequest("client/registerFeature",o=>this.handleRegistrationRequest(o)),t.onRequest(Y.UnregistrationRequest.type,o=>this.handleUnregistrationRequest(o)),t.onRequest("client/unregisterFeature",o=>this.handleUnregistrationRequest(o)),t.onRequest(Y.ApplyWorkspaceEditRequest.type,o=>this.handleApplyWorkspaceEdit(o)),t.sendNotification(Y.InitializedNotification.type,{}),this.hookFileEvents(t),this.hookConfigurationChanged(t),this.initializeFeatures(t),this._onReadyCallbacks.resolve(),n}).then(void 0,n=>{throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(n)?this.initialize(t):(this.stop(),this._onReadyCallbacks.reject(n)):n instanceof Y.ResponseError&&n.data&&n.data.retry?Me.window.showErrorMessage(n.message,{title:"Retry",id:"retry"}).then(s=>{s&&s.id==="retry"?this.initialize(t):(this.stop(),this._onReadyCallbacks.reject(n))}):(n&&n.message&&Me.window.showErrorMessage(n.message),this.error("Server initialization failed.",n),this.stop(),this._onReadyCallbacks.reject(n)),n})}_clientGetRootPath(){let t=Me.workspace.workspaceFolders;if(!t||t.length===0)return;let i=t[0];if(i.uri.scheme==="file")return i.uri.fsPath}stop(){return this._initializeResult=void 0,this._connectionPromise?this.state===Qt.Stopping&&this._onStop?this._onStop:(this.state=Qt.Stopping,this.cleanUp(!1),this._onStop=this.resolveConnection().then(t=>t.shutdown().then(()=>{t.exit(),t.end(),t.dispose(),this.state=Qt.Stopped,this.cleanUpChannel(),this._onStop=void 0,this._connectionPromise=void 0,this._resolvedConnection=void 0}))):(this.state=Qt.Stopped,Promise.resolve())}cleanUp(t=!0,i=!0){this._listeners&&(this._listeners.forEach(n=>n.dispose()),this._listeners=void 0),this._providers&&(this._providers.forEach(n=>n.dispose()),this._providers=void 0),this._syncedDocuments&&this._syncedDocuments.clear();for(let n of this._features.values())n.dispose();t&&this.cleanUpChannel(),i&&this._diagnostics&&(this._diagnostics.dispose(),this._diagnostics=void 0)}cleanUpChannel(){this._outputChannel&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(t){var i;let n=this;function s(l){n._fileEvents.push(l),n._fileEventDelayer.trigger(()=>{n.onReady().then(()=>{n.resolveConnection().then(h=>{n.isConnectionActive()&&(n.forceDocumentSync(),h.didChangeWatchedFiles({changes:n._fileEvents})),n._fileEvents=[]})},h=>{n.error("Notify file events failed.",h)})})}let o=(i=this.clientOptions.middleware)===null||i===void 0?void 0:i.workspace;o?.didChangeWatchedFile?o.didChangeWatchedFile(t,s):s(t)}forceDocumentSync(){this._didChangeTextDocumentFeature===void 0&&(this._didChangeTextDocumentFeature=this._dynamicFeatures.get(Y.DidChangeTextDocumentNotification.type.method)),this._didChangeTextDocumentFeature.forceDelivery()}handleDiagnostics(t){if(!this._diagnostics)return;let i=this._p2c.asUri(t.uri),n=this._p2c.asDiagnostics(t.diagnostics),s=this.clientOptions.middleware;s.handleDiagnostics?s.handleDiagnostics(i,n,(o,l)=>this.setDiagnostics(o,l)):this.setDiagnostics(i,n)}setDiagnostics(t,i){this._diagnostics&&this._diagnostics.set(t,i)}createConnection(){let t=(n,s,o)=>{this.handleConnectionError(n,s,o)},i=()=>{this.handleConnectionClosed()};return this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8").then(n=>Jpe(n.reader,n.writer,t,i,this._clientOptions.connectionOptions))}handleConnectionClosed(){if(this.state===Qt.Stopping||this.state===Qt.Stopped)return;try{this._resolvedConnection&&this._resolvedConnection.dispose()}catch{}let t=_l.DoNotRestart;try{t=this._clientOptions.errorHandler.closed()}catch{}this._connectionPromise=void 0,this._resolvedConnection=void 0,t===_l.DoNotRestart?(this.error("Connection to server got closed. Server will not be restarted."),this.state===Qt.Starting?(this._onReadyCallbacks.reject(new Error("Connection to server got closed. Server will not be restarted.")),this.state=Qt.StartFailed):this.state=Qt.Stopped,this.cleanUp(!1,!0)):t===_l.Restart&&(this.info("Connection to server got closed. Server will restart."),this.cleanUp(!1,!1),this.state=Qt.Initial,this.start())}handleConnectionError(t,i,n){this._clientOptions.errorHandler.error(t,i,n)===wv.Shutdown&&(this.error("Connection to server is erroring. Shutting down server."),this.stop())}hookConfigurationChanged(t){Me.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(t,!0)})}refreshTrace(t,i=!1){let n=Me.workspace.getConfiguration(this._id),s=Y.Trace.Off,o=Y.TraceFormat.Text;if(n){let l=n.get("trace.server","off");typeof l=="string"?s=Y.Trace.fromString(l):(s=Y.Trace.fromString(n.get("trace.server.verbosity","off")),o=Y.TraceFormat.fromString(n.get("trace.server.format","text")))}this._trace=s,this._traceFormat=o,t.trace(this._trace,this._tracer,{sendNotification:i,traceFormat:this._traceFormat})}hookFileEvents(t){let i=this._clientOptions.synchronize.fileEvents;if(!i)return;let n;Ut.array(i)?n=i:n=[i],n&&this._dynamicFeatures.get(Y.DidChangeWatchedFilesNotification.type.method).registerRaw(qt.generateUuid(),n)}registerFeatures(t){for(let i of t)this.registerFeature(i)}registerFeature(t){if(this._features.push(t),XR.is(t)){let i=t.registrationType;this._dynamicFeatures.set(i.method,t)}}getFeature(t){return this._dynamicFeatures.get(t)}registerBuiltinFeatures(){this.registerFeature(new Sx(this)),this.registerFeature(new JR(this,this._syncedDocuments)),this.registerFeature(new QR(this)),this.registerFeature(new ex(this)),this.registerFeature(new tx(this)),this.registerFeature(new rx(this)),this.registerFeature(new ZR(this,this._syncedDocuments)),this.registerFeature(new ix(this,t=>this.notifyFileEvent(t))),this.registerFeature(new sx(this)),this.registerFeature(new ox(this)),this.registerFeature(new ax(this)),this.registerFeature(new lx(this)),this.registerFeature(new cx(this)),this.registerFeature(new ux(this)),this.registerFeature(new dx(this)),this.registerFeature(new fx(this)),this.registerFeature(new hx(this)),this.registerFeature(new px(this)),this.registerFeature(new gx(this)),this.registerFeature(new mx(this)),this.registerFeature(new yx(this)),this.registerFeature(new vx(this)),this.registerFeature(new bx(this)),this.registerFeature(new wx(this))}fillInitializeParams(t){for(let i of this._features)Ut.func(i.fillInitializeParams)&&i.fillInitializeParams(t)}computeClientCapabilities(){let t={};We(t,"workspace").applyEdit=!0;let i=We(We(t,"workspace"),"workspaceEdit");i.documentChanges=!0,i.resourceOperations=[Y.ResourceOperationKind.Create,Y.ResourceOperationKind.Rename,Y.ResourceOperationKind.Delete],i.failureHandling=Y.FailureHandlingKind.TextOnlyTransactional,i.normalizesLineEndings=!0,i.changeAnnotationSupport={groupsOnLabel:!0};let n=We(We(t,"textDocument"),"publishDiagnostics");n.relatedInformation=!0,n.versionSupport=!1,n.tagSupport={valueSet:[Y.DiagnosticTag.Unnecessary,Y.DiagnosticTag.Deprecated]},n.codeDescriptionSupport=!0,n.dataSupport=!0;let s=We(t,"window"),o=We(s,"showMessage");o.messageActionItem={additionalPropertiesSupport:!0};let l=We(s,"showDocument");l.support=!0;let h=We(t,"general");h.regularExpressions={engine:"ECMAScript",version:"ES2020"},h.markdown={parser:"marked",version:"1.1.0"};for(let p of this._features)p.fillClientCapabilities(t);return t}initializeFeatures(t){let i=this._clientOptions.documentSelector;for(let n of this._features)n.initialize(this._capabilities,i)}handleRegistrationRequest(t){return new Promise((i,n)=>{for(let s of t.registrations){let o=this._dynamicFeatures.get(s.method);if(o===void 0){n(new Error(`No feature implementation for ${s.method} found. Registration failed.`));return}let l=s.registerOptions||{};l.documentSelector=l.documentSelector||this._clientOptions.documentSelector;let h={id:s.id,registerOptions:l};try{o.register(h)}catch(p){n(p);return}}i()})}handleUnregistrationRequest(t){return new Promise((i,n)=>{for(let s of t.unregisterations){let o=this._dynamicFeatures.get(s.method);if(!o){n(new Error(`No feature implementation for ${s.method} found. Unregistration failed.`));return}o.unregister(s.id)}i()})}handleApplyWorkspaceEdit(t){let i=t.edit,n=new Map;Me.workspace.textDocuments.forEach(o=>n.set(o.uri.toString(),o));let s=!1;if(i.documentChanges){for(let o of i.documentChanges)if(Y.TextDocumentEdit.is(o)&&o.textDocument.version&&o.textDocument.version>=0){let l=n.get(o.textDocument.uri);if(l&&l.version!==o.textDocument.version){s=!0;break}}}return s?Promise.resolve({applied:!1}):Ut.asPromise(Me.workspace.applyEdit(this._p2c.asWorkspaceEdit(t.edit)).then(o=>({applied:o})))}handleFailedRequest(t,i,n){if(i instanceof Y.ResponseError){if(i.code===Y.LSPErrorCodes.RequestCancelled)throw this.makeCancelError();if(i.code===Y.LSPErrorCodes.ContentModified)return n}throw this.error(`Request ${t.method} failed.`,i),i}makeCancelError(){let t=new Error(r.Canceled);return t.name=r.Canceled,t}};ur.BaseLanguageClient=Ev;Ev.Canceled="Canceled"});var TU=x(Cv=>{"use strict";Object.defineProperty(Cv,"__esModule",{value:!0});Cv.ColorProviderFeature=void 0;var Tv=require("vscode"),Eh=rr(),ege=Bi();function EU(r,t){return r[t]===void 0&&(r[t]={}),r[t]}var _x=class extends ege.TextDocumentFeature{constructor(t){super(t,Eh.DocumentColorRequest.type)}fillClientCapabilities(t){EU(EU(t,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(t,i){let[n,s]=this.getRegistration(i,t.colorProvider);!n||!s||this.register({id:n,registerOptions:s})}registerLanguageProvider(t){let i={provideColorPresentations:(n,s,o)=>{let l=this._client,h=(g,m,y)=>{let S={color:g,textDocument:l.code2ProtocolConverter.asTextDocumentIdentifier(m.document),range:l.code2ProtocolConverter.asRange(m.range)};return l.sendRequest(Eh.ColorPresentationRequest.type,S,y).then(this.asColorPresentations.bind(this),w=>l.handleFailedRequest(Eh.ColorPresentationRequest.type,w,null))},p=l.clientOptions.middleware;return p.provideColorPresentations?p.provideColorPresentations(n,s,o,h):h(n,s,o)},provideDocumentColors:(n,s)=>{let o=this._client,l=(p,g)=>{let m={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(p)};return o.sendRequest(Eh.DocumentColorRequest.type,m,g).then(this.asColorInformations.bind(this),y=>o.handleFailedRequest(Eh.ColorPresentationRequest.type,y,null))},h=o.clientOptions.middleware;return h.provideDocumentColors?h.provideDocumentColors(n,s,l):l(n,s)}};return[Tv.languages.registerColorProvider(t.documentSelector,i),i]}asColor(t){return new Tv.Color(t.red,t.green,t.blue,t.alpha)}asColorInformations(t){return Array.isArray(t)?t.map(i=>new Tv.ColorInformation(this._client.protocol2CodeConverter.asRange(i.range),this.asColor(i.color))):[]}asColorPresentations(t){return Array.isArray(t)?t.map(i=>{let n=new Tv.ColorPresentation(i.label);return n.additionalTextEdits=this._client.protocol2CodeConverter.asTextEdits(i.additionalTextEdits),n.textEdit=this._client.protocol2CodeConverter.asTextEdit(i.textEdit),n}):[]}};Cv.ColorProviderFeature=_x});var kU=x(kv=>{"use strict";Object.defineProperty(kv,"__esModule",{value:!0});kv.ImplementationFeature=void 0;var tge=require("vscode"),Ex=rr(),rge=Bi();function CU(r,t){return r[t]===void 0&&(r[t]={}),r[t]}var Tx=class extends rge.TextDocumentFeature{constructor(t){super(t,Ex.ImplementationRequest.type)}fillClientCapabilities(t){let i=CU(CU(t,"textDocument"),"implementation");i.dynamicRegistration=!0,i.linkSupport=!0}initialize(t,i){let[n,s]=this.getRegistration(i,t.implementationProvider);!n||!s||this.register({id:n,registerOptions:s})}registerLanguageProvider(t){let i={provideImplementation:(n,s,o)=>{let l=this._client,h=(g,m,y)=>l.sendRequest(Ex.ImplementationRequest.type,l.code2ProtocolConverter.asTextDocumentPositionParams(g,m),y).then(l.protocol2CodeConverter.asDefinitionResult,S=>l.handleFailedRequest(Ex.ImplementationRequest.type,S,null)),p=l.clientOptions.middleware;return p.provideImplementation?p.provideImplementation(n,s,o,h):h(n,s,o)}};return[tge.languages.registerImplementationProvider(t.documentSelector,i),i]}};kv.ImplementationFeature=Tx});var RU=x(xv=>{"use strict";Object.defineProperty(xv,"__esModule",{value:!0});xv.TypeDefinitionFeature=void 0;var ige=require("vscode"),Cx=rr(),nge=Bi();function Rv(r,t){return r[t]===void 0&&(r[t]={}),r[t]}var kx=class extends nge.TextDocumentFeature{constructor(t){super(t,Cx.TypeDefinitionRequest.type)}fillClientCapabilities(t){Rv(Rv(t,"textDocument"),"typeDefinition").dynamicRegistration=!0;let i=Rv(Rv(t,"textDocument"),"typeDefinition");i.dynamicRegistration=!0,i.linkSupport=!0}initialize(t,i){let[n,s]=this.getRegistration(i,t.typeDefinitionProvider);!n||!s||this.register({id:n,registerOptions:s})}registerLanguageProvider(t){let i={provideTypeDefinition:(n,s,o)=>{let l=this._client,h=(g,m,y)=>l.sendRequest(Cx.TypeDefinitionRequest.type,l.code2ProtocolConverter.asTextDocumentPositionParams(g,m),y).then(l.protocol2CodeConverter.asDefinitionResult,S=>l.handleFailedRequest(Cx.TypeDefinitionRequest.type,S,null)),p=l.clientOptions.middleware;return p.provideTypeDefinition?p.provideTypeDefinition(n,s,o,h):h(n,s,o)}};return[ige.languages.registerTypeDefinitionProvider(t.documentSelector,i),i]}};xv.TypeDefinitionFeature=kx});var xU=x(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.WorkspaceFoldersFeature=Lu.arrayDiff=void 0;var sge=vv(),Av=require("vscode"),Rx=rr();function xx(r,t){if(r!==void 0)return r[t]}function Ax(r,t){return r.filter(i=>t.indexOf(i)<0)}Lu.arrayDiff=Ax;var Ox=class{constructor(t){this._client=t,this._listeners=new Map}get registrationType(){return Rx.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(t){let i=Av.workspace.workspaceFolders;this.initializeWithFolders(i),i===void 0?t.workspaceFolders=null:t.workspaceFolders=i.map(n=>this.asProtocol(n))}initializeWithFolders(t){this._initialFolders=t}fillClientCapabilities(t){t.workspace=t.workspace||{},t.workspace.workspaceFolders=!0}initialize(t){let i=this._client;i.onRequest(Rx.WorkspaceFoldersRequest.type,o=>{let l=()=>{let p=Av.workspace.workspaceFolders;return p===void 0?null:p.map(m=>this.asProtocol(m))},h=i.clientOptions.middleware.workspace;return h&&h.workspaceFolders?h.workspaceFolders(o,l):l(o)});let n=xx(xx(xx(t,"workspace"),"workspaceFolders"),"changeNotifications"),s;typeof n=="string"?s=n:n===!0&&(s=sge.generateUuid()),s&&this.register({id:s,registerOptions:void 0})}sendInitialEvent(t){if(this._initialFolders&&t){let i=Ax(this._initialFolders,t),n=Ax(t,this._initialFolders);(n.length>0||i.length>0)&&this.doSendEvent(n,i)}else this._initialFolders?this.doSendEvent([],this._initialFolders):t&&this.doSendEvent(t,[])}doSendEvent(t,i){let n={event:{added:t.map(s=>this.asProtocol(s)),removed:i.map(s=>this.asProtocol(s))}};this._client.sendNotification(Rx.DidChangeWorkspaceFoldersNotification.type,n)}register(t){let i=t.id,n=this._client,s=Av.workspace.onDidChangeWorkspaceFolders(o=>{let l=p=>{this.doSendEvent(p.added,p.removed)},h=n.clientOptions.middleware.workspace;h&&h.didChangeWorkspaceFolders?h.didChangeWorkspaceFolders(o,l):l(o)});this._listeners.set(i,s),this.sendInitialEvent(Av.workspace.workspaceFolders)}unregister(t){let i=this._listeners.get(t);i!==void 0&&(this._listeners.delete(t),i.dispose())}dispose(){for(let t of this._listeners.values())t.dispose();this._listeners.clear()}asProtocol(t){return t===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(t.uri),name:t.name}}};Lu.WorkspaceFoldersFeature=Ox});var OU=x(Ov=>{"use strict";Object.defineProperty(Ov,"__esModule",{value:!0});Ov.FoldingRangeFeature=void 0;var Th=require("vscode"),Mu=rr(),oge=Bi();function AU(r,t){return r[t]===void 0&&(r[t]={}),r[t]}var Nx=class r extends oge.TextDocumentFeature{constructor(t){super(t,Mu.FoldingRangeRequest.type)}fillClientCapabilities(t){let i=AU(AU(t,"textDocument"),"foldingRange");i.dynamicRegistration=!0,i.rangeLimit=5e3,i.lineFoldingOnly=!0}initialize(t,i){let[n,s]=this.getRegistration(i,t.foldingRangeProvider);!n||!s||this.register({id:n,registerOptions:s})}registerLanguageProvider(t){let i={provideFoldingRanges:(n,s,o)=>{let l=this._client,h=(g,m,y)=>{let S={textDocument:l.code2ProtocolConverter.asTextDocumentIdentifier(g)};return l.sendRequest(Mu.FoldingRangeRequest.type,S,y).then(r.asFoldingRanges,w=>l.handleFailedRequest(Mu.FoldingRangeRequest.type,w,null))},p=l.clientOptions.middleware;return p.provideFoldingRanges?p.provideFoldingRanges(n,s,o,h):h(n,s,o)}};return[Th.languages.registerFoldingRangeProvider(t.documentSelector,i),i]}static asFoldingRangeKind(t){if(t)switch(t){case Mu.FoldingRangeKind.Comment:return Th.FoldingRangeKind.Comment;case Mu.FoldingRangeKind.Imports:return Th.FoldingRangeKind.Imports;case Mu.FoldingRangeKind.Region:return Th.FoldingRangeKind.Region}}static asFoldingRanges(t){return Array.isArray(t)?t.map(i=>new Th.FoldingRange(i.startLine,i.endLine,r.asFoldingRangeKind(i.kind))):[]}};Ov.FoldingRangeFeature=Nx});var DU=x(Nv=>{"use strict";Object.defineProperty(Nv,"__esModule",{value:!0});Nv.DeclarationFeature=void 0;var age=require("vscode"),Dx=rr(),lge=Bi();function NU(r,t){return r[t]===void 0&&(r[t]={}),r[t]}var Px=class extends lge.TextDocumentFeature{constructor(t){super(t,Dx.DeclarationRequest.type)}fillClientCapabilities(t){let i=NU(NU(t,"textDocument"),"declaration");i.dynamicRegistration=!0,i.linkSupport=!0}initialize(t,i){let[n,s]=this.getRegistration(i,t.declarationProvider);!n||!s||this.register({id:n,registerOptions:s})}registerLanguageProvider(t){let i={provideDeclaration:(n,s,o)=>{let l=this._client,h=(g,m,y)=>l.sendRequest(Dx.DeclarationRequest.type,l.code2ProtocolConverter.asTextDocumentPositionParams(g,m),y).then(l.protocol2CodeConverter.asDeclarationResult,S=>l.handleFailedRequest(Dx.DeclarationRequest.type,S,null)),p=l.clientOptions.middleware;return p.provideDeclaration?p.provideDeclaration(n,s,o,h):h(n,s,o)}};return[age.languages.registerDeclarationProvider(t.documentSelector,i),i]}};Nv.DeclarationFeature=Px});var IU=x(Dv=>{"use strict";Object.defineProperty(Dv,"__esModule",{value:!0});Dv.SelectionRangeFeature=void 0;var cge=require("vscode"),Ix=rr(),uge=Bi();function PU(r,t){return r[t]===void 0&&(r[t]=Object.create(null)),r[t]}var Lx=class extends uge.TextDocumentFeature{constructor(t){super(t,Ix.SelectionRangeRequest.type)}fillClientCapabilities(t){let i=PU(PU(t,"textDocument"),"selectionRange");i.dynamicRegistration=!0}initialize(t,i){let[n,s]=this.getRegistration(i,t.selectionRangeProvider);!n||!s||this.register({id:n,registerOptions:s})}registerLanguageProvider(t){let i={provideSelectionRanges:(n,s,o)=>{let l=this._client,h=(g,m,y)=>{let S={textDocument:l.code2ProtocolConverter.asTextDocumentIdentifier(g),positions:l.code2ProtocolConverter.asPositions(m)};return l.sendRequest(Ix.SelectionRangeRequest.type,S,y).then(w=>l.protocol2CodeConverter.asSelectionRanges(w),w=>l.handleFailedRequest(Ix.SelectionRangeRequest.type,w,null))},p=l.clientOptions.middleware;return p.provideSelectionRanges?p.provideSelectionRanges(n,s,o,h):h(n,s,o)}};return[cge.languages.registerSelectionRangeProvider(t.documentSelector,i),i]}};Dv.SelectionRangeFeature=Lx});var LU=x(Pv=>{"use strict";Object.defineProperty(Pv,"__esModule",{value:!0});Pv.ProgressFeature=void 0;var dge=rr(),fge=GR();function hge(r,t){return r[t]===void 0&&(r[t]=Object.create(null)),r[t]}var Mx=class{constructor(t){this._client=t,this.activeParts=new Set}fillClientCapabilities(t){hge(t,"window").workDoneProgress=!0}initialize(){let t=this._client,i=s=>{this.activeParts.delete(s)},n=s=>{this.activeParts.add(new fge.ProgressPart(this._client,s.token,i))};t.onRequest(dge.WorkDoneProgressCreateRequest.type,n)}dispose(){for(let t of this.activeParts)t.done();this.activeParts.clear()}};Pv.ProgressFeature=Mx});var FU=x(Iv=>{"use strict";Object.defineProperty(Iv,"__esModule",{value:!0});Iv.CallHierarchyFeature=void 0;var pge=require("vscode"),El=rr(),gge=Bi();function MU(r,t){return r[t]===void 0&&(r[t]={}),r[t]}var Fx=class{constructor(t){this.client=t,this.middleware=t.clientOptions.middleware}prepareCallHierarchy(t,i,n){let s=this.client,o=this.middleware,l=(h,p,g)=>{let m=s.code2ProtocolConverter.asTextDocumentPositionParams(h,p);return s.sendRequest(El.CallHierarchyPrepareRequest.type,m,g).then(y=>s.protocol2CodeConverter.asCallHierarchyItems(y),y=>s.handleFailedRequest(El.CallHierarchyPrepareRequest.type,y,null))};return o.prepareCallHierarchy?o.prepareCallHierarchy(t,i,n,l):l(t,i,n)}provideCallHierarchyIncomingCalls(t,i){let n=this.client,s=this.middleware,o=(l,h)=>{let p={item:n.code2ProtocolConverter.asCallHierarchyItem(l)};return n.sendRequest(El.CallHierarchyIncomingCallsRequest.type,p,h).then(g=>n.protocol2CodeConverter.asCallHierarchyIncomingCalls(g),g=>n.handleFailedRequest(El.CallHierarchyIncomingCallsRequest.type,g,null))};return s.provideCallHierarchyIncomingCalls?s.provideCallHierarchyIncomingCalls(t,i,o):o(t,i)}provideCallHierarchyOutgoingCalls(t,i){let n=this.client,s=this.middleware,o=(l,h)=>{let p={item:n.code2ProtocolConverter.asCallHierarchyItem(l)};return n.sendRequest(El.CallHierarchyOutgoingCallsRequest.type,p,h).then(g=>n.protocol2CodeConverter.asCallHierarchyOutgoingCalls(g),g=>n.handleFailedRequest(El.CallHierarchyOutgoingCallsRequest.type,g,null))};return s.provideCallHierarchyOutgoingCalls?s.provideCallHierarchyOutgoingCalls(t,i,o):o(t,i)}},jx=class extends gge.TextDocumentFeature{constructor(t){super(t,El.CallHierarchyPrepareRequest.type)}fillClientCapabilities(t){let n=MU(MU(t,"textDocument"),"callHierarchy");n.dynamicRegistration=!0}initialize(t,i){let[n,s]=this.getRegistration(i,t.callHierarchyProvider);!n||!s||this.register({id:n,registerOptions:s})}registerLanguageProvider(t){let i=this._client,n=new Fx(i);return[pge.languages.registerCallHierarchyProvider(t.documentSelector,n),n]}};Iv.CallHierarchyFeature=jx});var jU=x(Fv=>{"use strict";Object.defineProperty(Fv,"__esModule",{value:!0});Fv.SemanticTokensFeature=void 0;var Lv=require("vscode"),mge=Bi(),st=rr(),yge=ua();function Mv(r,t){return r[t]===void 0&&(r[t]={}),r[t]}var Bx=class extends mge.TextDocumentFeature{constructor(t){super(t,st.SemanticTokensRegistrationType.type)}fillClientCapabilities(t){let i=Mv(Mv(t,"textDocument"),"semanticTokens");i.dynamicRegistration=!0,i.tokenTypes=[st.SemanticTokenTypes.namespace,st.SemanticTokenTypes.type,st.SemanticTokenTypes.class,st.SemanticTokenTypes.enum,st.SemanticTokenTypes.interface,st.SemanticTokenTypes.struct,st.SemanticTokenTypes.typeParameter,st.SemanticTokenTypes.parameter,st.SemanticTokenTypes.variable,st.SemanticTokenTypes.property,st.SemanticTokenTypes.enumMember,st.SemanticTokenTypes.event,st.SemanticTokenTypes.function,st.SemanticTokenTypes.method,st.SemanticTokenTypes.macro,st.SemanticTokenTypes.keyword,st.SemanticTokenTypes.modifier,st.SemanticTokenTypes.comment,st.SemanticTokenTypes.string,st.SemanticTokenTypes.number,st.SemanticTokenTypes.regexp,st.SemanticTokenTypes.operator],i.tokenModifiers=[st.SemanticTokenModifiers.declaration,st.SemanticTokenModifiers.definition,st.SemanticTokenModifiers.readonly,st.SemanticTokenModifiers.static,st.SemanticTokenModifiers.deprecated,st.SemanticTokenModifiers.abstract,st.SemanticTokenModifiers.async,st.SemanticTokenModifiers.modification,st.SemanticTokenModifiers.documentation,st.SemanticTokenModifiers.defaultLibrary],i.formats=[st.TokenFormat.Relative],i.requests={range:!0,full:{delta:!0}},i.multilineTokenSupport=!1,i.overlappingTokenSupport=!1,Mv(Mv(t,"workspace"),"semanticTokens").refreshSupport=!0}initialize(t,i){this._client.onRequest(st.SemanticTokensRefreshRequest.type,async()=>{for(let l of this.getAllProviders())l.onDidChangeSemanticTokensEmitter.fire()});let[s,o]=this.getRegistration(i,t.semanticTokensProvider);!s||!o||this.register({id:s,registerOptions:o})}registerLanguageProvider(t){let i=yge.boolean(t.full)?t.full:t.full!==void 0,n=t.full!==void 0&&typeof t.full!="boolean"&&t.full.delta===!0,s=new Lv.EventEmitter,o=i?{onDidChangeSemanticTokens:s.event,provideDocumentSemanticTokens:(y,S)=>{let w=this._client,C=w.clientOptions.middleware,_=(R,D)=>{let I={textDocument:w.code2ProtocolConverter.asTextDocumentIdentifier(R)};return w.sendRequest(st.SemanticTokensRequest.type,I,D).then(M=>w.protocol2CodeConverter.asSemanticTokens(M),M=>w.handleFailedRequest(st.SemanticTokensRequest.type,M,null))};return C.provideDocumentSemanticTokens?C.provideDocumentSemanticTokens(y,S,_):_(y,S)},provideDocumentSemanticTokensEdits:n?(y,S,w)=>{let C=this._client,_=C.clientOptions.middleware,R=(D,I,M)=>{let L={textDocument:C.code2ProtocolConverter.asTextDocumentIdentifier(D),previousResultId:I};return C.sendRequest(st.SemanticTokensDeltaRequest.type,L,M).then(V=>st.SemanticTokens.is(V)?C.protocol2CodeConverter.asSemanticTokens(V):C.protocol2CodeConverter.asSemanticTokensEdits(V),V=>C.handleFailedRequest(st.SemanticTokensDeltaRequest.type,V,null))};return _.provideDocumentSemanticTokensEdits?_.provideDocumentSemanticTokensEdits(y,S,w,R):R(y,S,w)}:void 0}:void 0,h=t.range===!0?{provideDocumentRangeSemanticTokens:(y,S,w)=>{let C=this._client,_=C.clientOptions.middleware,R=(D,I,M)=>{let L={textDocument:C.code2ProtocolConverter.asTextDocumentIdentifier(D),range:C.code2ProtocolConverter.asRange(I)};return C.sendRequest(st.SemanticTokensRangeRequest.type,L,M).then(V=>C.protocol2CodeConverter.asSemanticTokens(V),V=>C.handleFailedRequest(st.SemanticTokensRangeRequest.type,V,null))};return _.provideDocumentRangeSemanticTokens?_.provideDocumentRangeSemanticTokens(y,S,w,R):R(y,S,w)}}:void 0,p=[],m=this._client.protocol2CodeConverter.asSemanticTokensLegend(t.legend);return o!==void 0&&p.push(Lv.languages.registerDocumentSemanticTokensProvider(t.documentSelector,o,m)),h!==void 0&&p.push(Lv.languages.registerDocumentRangeSemanticTokensProvider(t.documentSelector,h,m)),[new Lv.Disposable(()=>p.forEach(y=>y.dispose())),{range:h,full:o,onDidChangeSemanticTokensEmitter:s}]}};Fv.SemanticTokensFeature=Bx});var UU=x((bTe,BU)=>{BU.exports=function(r,t){for(var i=[],n=0;n<r.length;n++){var s=t(r[n],n);vge(s)?i.push.apply(i,s):i.push(s)}return i};var vge=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"}});var YU=x((STe,GU)=>{var bge=UU(),qU=pT();GU.exports=_ge;var WU="\0SLASH"+Math.random()+"\0",zU="\0OPEN"+Math.random()+"\0",qx="\0CLOSE"+Math.random()+"\0",HU="\0COMMA"+Math.random()+"\0",VU="\0PERIOD"+Math.random()+"\0";function Ux(r){return parseInt(r,10)==r?parseInt(r,10):r.charCodeAt(0)}function Sge(r){return r.split("\\\\").join(WU).split("\\{").join(zU).split("\\}").join(qx).split("\\,").join(HU).split("\\.").join(VU)}function wge(r){return r.split(WU).join("\\").split(zU).join("{").split(qx).join("}").split(HU).join(",").split(VU).join(".")}function $U(r){if(!r)return[""];var t=[],i=qU("{","}",r);if(!i)return r.split(",");var n=i.pre,s=i.body,o=i.post,l=n.split(",");l[l.length-1]+="{"+s+"}";var h=$U(o);return o.length&&(l[l.length-1]+=h.shift(),l.push.apply(l,h)),t.push.apply(t,l),t}function _ge(r){return r?(r.substr(0,2)==="{}"&&(r="\\{\\}"+r.substr(2)),Fu(Sge(r),!0).map(wge)):[]}function Ege(r){return"{"+r+"}"}function Tge(r){return/^-?0\d/.test(r)}function Cge(r,t){return r<=t}function kge(r,t){return r>=t}function Fu(r,t){var i=[],n=qU("{","}",r);if(!n||/\$$/.test(n.pre))return[r];var s=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),o=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),l=s||o,h=n.body.indexOf(",")>=0;if(!l&&!h)return n.post.match(/,.*\}/)?(r=n.pre+"{"+n.body+qx+n.post,Fu(r)):[r];var p;if(l)p=n.body.split(/\.\./);else if(p=$U(n.body),p.length===1&&(p=Fu(p[0],!1).map(Ege),p.length===1)){var m=n.post.length?Fu(n.post,!1):[""];return m.map(function(N){return n.pre+p[0]+N})}var g=n.pre,m=n.post.length?Fu(n.post,!1):[""],y;if(l){var S=Ux(p[0]),w=Ux(p[1]),C=Math.max(p[0].length,p[1].length),_=p.length==3?Math.abs(Ux(p[2])):1,R=Cge,D=w<S;D&&(_*=-1,R=kge);var I=p.some(Tge);y=[];for(var M=S;R(M,w);M+=_){var L;if(o)L=String.fromCharCode(M),L==="\\"&&(L="");else if(L=String(M),I){var V=C-L.length;if(V>0){var K=new Array(V+1).join("0");M<0?L="-"+K+L.slice(1):L=K+L}}y.push(L)}}else y=bge(p,function(j){return Fu(j,!1)});for(var Q=0;Q<y.length;Q++)for(var le=0;le<m.length;le++){var ge=g+y[Q]+m[le];(!t||l||ge)&&i.push(ge)}return i}});var eq=x((wTe,QU)=>{QU.exports=Ui;Ui.Minimatch=jr;var Ch=function(){try{return require("path")}catch{}}()||{sep:"/"};Ui.sep=Ch.sep;var Hx=Ui.GLOBSTAR=jr.GLOBSTAR={},Rge=YU(),KU={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Wx="[^/]",zx=Wx+"*?",xge="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Age="(?:(?!(?:\\/|^)\\.).)*?",XU=Oge("().*{}+?[]^$\\!");function Oge(r){return r.split("").reduce(function(t,i){return t[i]=!0,t},{})}var JU=/\/+/;Ui.filter=Nge;function Nge(r,t){return t=t||{},function(i,n,s){return Ui(i,r,t)}}function ga(r,t){t=t||{};var i={};return Object.keys(r).forEach(function(n){i[n]=r[n]}),Object.keys(t).forEach(function(n){i[n]=t[n]}),i}Ui.defaults=function(r){if(!r||typeof r!="object"||!Object.keys(r).length)return Ui;var t=Ui,i=function(s,o,l){return t(s,o,ga(r,l))};return i.Minimatch=function(s,o){return new t.Minimatch(s,ga(r,o))},i.Minimatch.defaults=function(s){return t.defaults(ga(r,s)).Minimatch},i.filter=function(s,o){return t.filter(s,ga(r,o))},i.defaults=function(s){return t.defaults(ga(r,s))},i.makeRe=function(s,o){return t.makeRe(s,ga(r,o))},i.braceExpand=function(s,o){return t.braceExpand(s,ga(r,o))},i.match=function(n,s,o){return t.match(n,s,ga(r,o))},i};jr.defaults=function(r){return Ui.defaults(r).Minimatch};function Ui(r,t,i){return Bv(t),i||(i={}),!i.nocomment&&t.charAt(0)==="#"?!1:new jr(t,i).match(r)}function jr(r,t){if(!(this instanceof jr))return new jr(r,t);Bv(r),t||(t={}),r=r.trim(),!t.allowWindowsEscape&&Ch.sep!=="/"&&(r=r.split(Ch.sep).join("/")),this.options=t,this.set=[],this.pattern=r,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}jr.prototype.debug=function(){};jr.prototype.make=Dge;function Dge(){var r=this.pattern,t=this.options;if(!t.nocomment&&r.charAt(0)==="#"){this.comment=!0;return}if(!r){this.empty=!0;return}this.parseNegate();var i=this.globSet=this.braceExpand();t.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,i),i=this.globParts=i.map(function(n){return n.split(JU)}),this.debug(this.pattern,i),i=i.map(function(n,s,o){return n.map(this.parse,this)},this),this.debug(this.pattern,i),i=i.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,i),this.set=i}jr.prototype.parseNegate=Pge;function Pge(){var r=this.pattern,t=!1,i=this.options,n=0;if(!i.nonegate){for(var s=0,o=r.length;s<o&&r.charAt(s)==="!";s++)t=!t,n++;n&&(this.pattern=r.substr(n)),this.negate=t}}Ui.braceExpand=function(r,t){return ZU(r,t)};jr.prototype.braceExpand=ZU;function ZU(r,t){return t||(this instanceof jr?t=this.options:t={}),r=typeof r>"u"?this.pattern:r,Bv(r),t.nobrace||!/\{(?:(?!\{).)*\}/.test(r)?[r]:Rge(r)}var Ige=1024*64,Bv=function(r){if(typeof r!="string")throw new TypeError("invalid pattern");if(r.length>Ige)throw new TypeError("pattern is too long")};jr.prototype.parse=Lge;var jv={};function Lge(r,t){Bv(r);var i=this.options;if(r==="**")if(i.noglobstar)r="*";else return Hx;if(r==="")return"";var n="",s=!!i.nocase,o=!1,l=[],h=[],p,g=!1,m=-1,y=-1,S=r.charAt(0)==="."?"":i.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",w=this;function C(){if(p){switch(p){case"*":n+=zx,s=!0;break;case"?":n+=Wx,s=!0;break;default:n+="\\"+p;break}w.debug("clearStateChar %j %j",p,n),p=!1}}for(var _=0,R=r.length,D;_<R&&(D=r.charAt(_));_++){if(this.debug("%s	%s %s %j",r,_,n,D),o&&XU[D]){n+="\\"+D,o=!1;continue}switch(D){case"/":return!1;case"\\":C(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",r,_,n,D),g){this.debug("  in class"),D==="!"&&_===y+1&&(D="^"),n+=D;continue}w.debug("call clearStateChar %j",p),C(),p=D,i.noext&&C();continue;case"(":if(g){n+="(";continue}if(!p){n+="\\(";continue}l.push({type:p,start:_-1,reStart:n.length,open:KU[p].open,close:KU[p].close}),n+=p==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",p,n),p=!1;continue;case")":if(g||!l.length){n+="\\)";continue}C(),s=!0;var I=l.pop();n+=I.close,I.type==="!"&&h.push(I),I.reEnd=n.length;continue;case"|":if(g||!l.length||o){n+="\\|",o=!1;continue}C(),n+="|";continue;case"[":if(C(),g){n+="\\"+D;continue}g=!0,y=_,m=n.length,n+=D;continue;case"]":if(_===y+1||!g){n+="\\"+D,o=!1;continue}var M=r.substring(y+1,_);try{RegExp("["+M+"]")}catch{var L=this.parse(M,jv);n=n.substr(0,m)+"\\["+L[0]+"\\]",s=s||L[1],g=!1;continue}s=!0,g=!1,n+=D;continue;default:C(),o?o=!1:XU[D]&&!(D==="^"&&g)&&(n+="\\"),n+=D}}for(g&&(M=r.substr(y+1),L=this.parse(M,jv),n=n.substr(0,m)+"\\["+L[0],s=s||L[1]),I=l.pop();I;I=l.pop()){var V=n.slice(I.reStart+I.open.length);this.debug("setting tail",n,I),V=V.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(ye,$e,Ge){return Ge||(Ge="\\"),$e+$e+Ge+"|"}),this.debug(`tail=%j
   %s`,V,V,I,n);var K=I.type==="*"?zx:I.type==="?"?Wx:"\\"+I.type;s=!0,n=n.slice(0,I.reStart)+K+"\\("+V}C(),o&&(n+="\\\\");var Q=!1;switch(n.charAt(0)){case"[":case".":case"(":Q=!0}for(var le=h.length-1;le>-1;le--){var ge=h[le],j=n.slice(0,ge.reStart),N=n.slice(ge.reStart,ge.reEnd-8),X=n.slice(ge.reEnd-8,ge.reEnd),U=n.slice(ge.reEnd);X+=U;var k=j.split("(").length-1,W=U;for(_=0;_<k;_++)W=W.replace(/\)[+*?]?/,"");U=W;var J="";U===""&&t!==jv&&(J="$");var se=j+N+U+J+X;n=se}if(n!==""&&s&&(n="(?=.)"+n),Q&&(n=S+n),t===jv)return[n,s];if(!s)return Fge(r);var ue=i.nocase?"i":"";try{var fe=new RegExp("^"+n+"$",ue)}catch{return new RegExp("$.")}return fe._glob=r,fe._src=n,fe}Ui.makeRe=function(r,t){return new jr(r,t||{}).makeRe()};jr.prototype.makeRe=Mge;function Mge(){if(this.regexp||this.regexp===!1)return this.regexp;var r=this.set;if(!r.length)return this.regexp=!1,this.regexp;var t=this.options,i=t.noglobstar?zx:t.dot?xge:Age,n=t.nocase?"i":"",s=r.map(function(o){return o.map(function(l){return l===Hx?i:typeof l=="string"?jge(l):l._src}).join("\\/")}).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,n)}catch{this.regexp=!1}return this.regexp}Ui.match=function(r,t,i){i=i||{};var n=new jr(t,i);return r=r.filter(function(s){return n.match(s)}),n.options.nonull&&!r.length&&r.push(t),r};jr.prototype.match=function(t,i){if(typeof i>"u"&&(i=this.partial),this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&i)return!0;var n=this.options;Ch.sep!=="/"&&(t=t.split(Ch.sep).join("/")),t=t.split(JU),this.debug(this.pattern,"split",t);var s=this.set;this.debug(this.pattern,"set",s);var o,l;for(l=t.length-1;l>=0&&(o=t[l],!o);l--);for(l=0;l<s.length;l++){var h=s[l],p=t;n.matchBase&&h.length===1&&(p=[o]);var g=this.matchOne(p,h,i);if(g)return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate};jr.prototype.matchOne=function(r,t,i){var n=this.options;this.debug("matchOne",{this:this,file:r,pattern:t}),this.debug("matchOne",r.length,t.length);for(var s=0,o=0,l=r.length,h=t.length;s<l&&o<h;s++,o++){this.debug("matchOne loop");var p=t[o],g=r[s];if(this.debug(t,p,g),p===!1)return!1;if(p===Hx){this.debug("GLOBSTAR",[t,p,g]);var m=s,y=o+1;if(y===h){for(this.debug("** at the end");s<l;s++)if(r[s]==="."||r[s]===".."||!n.dot&&r[s].charAt(0)===".")return!1;return!0}for(;m<l;){var S=r[m];if(this.debug(`
globstar while`,r,m,t,y,S),this.matchOne(r.slice(m),t.slice(y),i))return this.debug("globstar found match!",m,l,S),!0;if(S==="."||S===".."||!n.dot&&S.charAt(0)==="."){this.debug("dot detected!",r,m,t,y);break}this.debug("globstar swallow a segment, and continue"),m++}return!!(i&&(this.debug(`
>>> no match, partial?`,r,m,t,y),m===l))}var w;if(typeof p=="string"?(w=g===p,this.debug("string match",p,g,w)):(w=g.match(p),this.debug("pattern match",p,g,w)),!w)return!1}if(s===l&&o===h)return!0;if(s===l)return i;if(o===h)return s===l-1&&r[s]==="";throw new Error("wtf?")};function Fge(r){return r.replace(/\\(.)/g,"$1")}function jge(r){return r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var iq=x(Ai=>{"use strict";Object.defineProperty(Ai,"__esModule",{value:!0});Ai.WillDeleteFilesFeature=Ai.WillRenameFilesFeature=Ai.WillCreateFilesFeature=Ai.DidDeleteFilesFeature=Ai.DidRenameFilesFeature=Ai.DidCreateFilesFeature=void 0;var ys=require("vscode"),Bge=eq(),ao=rr(),Uge=vv();function tq(r,t){return r[t]===void 0&&(r[t]={}),r[t]}function qge(r,t){return r[t]}function rq(r,t,i){r[t]=i}var Uv=class r{constructor(t,i,n,s,o){this._filters=new Map,this._client=t,this._event=i,this._registrationType=n,this._clientCapability=s,this._serverCapability=o}get registrationType(){return this._registrationType}fillClientCapabilities(t){let i=tq(tq(t,"workspace"),"fileOperations");rq(i,"dynamicRegistration",!0),rq(i,this._clientCapability,!0)}initialize(t){var i;let n=(i=t.workspace)===null||i===void 0?void 0:i.fileOperations,s=n!==void 0?qge(n,this._serverCapability):void 0;if(s?.filters!==void 0)try{this.register({id:Uge.generateUuid(),registerOptions:{filters:s.filters}})}catch(o){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${o}`)}}register(t){this._listener||(this._listener=this._event(this.send,this));let i=t.registerOptions.filters.map(n=>{let s=new Bge.Minimatch(n.pattern.glob,r.asMinimatchOptions(n.pattern.options));if(!s.makeRe())throw new Error(`Invalid pattern ${n.pattern.glob}!`);return{scheme:n.scheme,matcher:s,kind:n.pattern.matches}});this._filters.set(t.id,i)}unregister(t){this._filters.delete(t),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}async filter(t,i){let n=await Promise.all(t.files.map(async o=>{let l=i(o),h=l.fsPath.replace(/\\/g,"/");for(let p of this._filters.values())for(let g of p)if(!(g.scheme!==void 0&&g.scheme!==l.scheme)){if(g.matcher.match(h)){if(g.kind===void 0)return!0;let m=await r.getFileType(l);if(m===void 0)return this._client.error(`Failed to determine file type for ${l.toString()}.`),!0;if(m===ys.FileType.File&&g.kind===ao.FileOperationPatternKind.file||m===ys.FileType.Directory&&g.kind===ao.FileOperationPatternKind.folder)return!0}else if(g.kind===ao.FileOperationPatternKind.folder&&await r.getFileType(l)===ys.FileType.Directory&&g.matcher.match(`${h}/`))return!0}return!1})),s=t.files.filter((o,l)=>n[l]);return Object.assign(Object.assign({},t),{files:s})}static async getFileType(t){try{return(await ys.workspace.fs.stat(t)).type}catch{return}}static asMinimatchOptions(t){if(t!==void 0&&t.ignoreCase===!0)return{nocase:!0}}},kh=class extends Uv{constructor(t,i,n,s,o,l,h){super(t,i,n,s,o),this._notificationType=n,this._accessUri=l,this._createParams=h}async send(t){let i=await this.filter(t,this._accessUri);if(i.files.length){let n=async s=>{this._client.sendNotification(this._notificationType,this._createParams(s))};this.doSend(i,n)}}},Vx=class extends kh{constructor(t){super(t,ys.workspace.onDidCreateFiles,ao.DidCreateFilesNotification.type,"didCreate","didCreate",i=>i,t.code2ProtocolConverter.asDidCreateFilesParams)}doSend(t,i){var n;let s=(n=this._client.clientOptions.middleware)===null||n===void 0?void 0:n.workspace;return s?.didCreateFiles?s.didCreateFiles(t,i):i(t)}};Ai.DidCreateFilesFeature=Vx;var $x=class extends kh{constructor(t){super(t,ys.workspace.onDidRenameFiles,ao.DidRenameFilesNotification.type,"didRename","didRename",i=>i.oldUri,t.code2ProtocolConverter.asDidRenameFilesParams)}doSend(t,i){var n;let s=(n=this._client.clientOptions.middleware)===null||n===void 0?void 0:n.workspace;return s?.didRenameFiles?s.didRenameFiles(t,i):i(t)}};Ai.DidRenameFilesFeature=$x;var Gx=class extends kh{constructor(t){super(t,ys.workspace.onDidDeleteFiles,ao.DidDeleteFilesNotification.type,"didDelete","didDelete",i=>i,t.code2ProtocolConverter.asDidDeleteFilesParams)}doSend(t,i){var n;let s=(n=this._client.clientOptions.middleware)===null||n===void 0?void 0:n.workspace;return s?.didDeleteFiles?s.didDeleteFiles(t,i):i(t)}};Ai.DidDeleteFilesFeature=Gx;var Rh=class extends Uv{constructor(t,i,n,s,o,l,h){super(t,i,n,s,o),this._requestType=n,this._accessUri=l,this._createParams=h}async send(t){let i=this.waitUntil(t);t.waitUntil(i)}async waitUntil(t){let i=await this.filter(t,this._accessUri);if(i.files.length){let n=s=>this._client.sendRequest(this._requestType,this._createParams(s)).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(i,n)}else return}},Yx=class extends Rh{constructor(t){super(t,ys.workspace.onWillCreateFiles,ao.WillCreateFilesRequest.type,"willCreate","willCreate",i=>i,t.code2ProtocolConverter.asWillCreateFilesParams)}doSend(t,i){var n;let s=(n=this._client.clientOptions.middleware)===null||n===void 0?void 0:n.workspace;return s?.willCreateFiles?s.willCreateFiles(t,i):i(t)}};Ai.WillCreateFilesFeature=Yx;var Kx=class extends Rh{constructor(t){super(t,ys.workspace.onWillRenameFiles,ao.WillRenameFilesRequest.type,"willRename","willRename",i=>i.oldUri,t.code2ProtocolConverter.asWillRenameFilesParams)}doSend(t,i){var n;let s=(n=this._client.clientOptions.middleware)===null||n===void 0?void 0:n.workspace;return s?.willRenameFiles?s.willRenameFiles(t,i):i(t)}};Ai.WillRenameFilesFeature=Kx;var Xx=class extends Rh{constructor(t){super(t,ys.workspace.onWillDeleteFiles,ao.WillDeleteFilesRequest.type,"willDelete","willDelete",i=>i,t.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(t,i){var n;let s=(n=this._client.clientOptions.middleware)===null||n===void 0?void 0:n.workspace;return s?.willDeleteFiles?s.willDeleteFiles(t,i):i(t)}};Ai.WillDeleteFilesFeature=Xx});var sq=x(qv=>{"use strict";Object.defineProperty(qv,"__esModule",{value:!0});qv.LinkedEditingFeature=void 0;var Wge=require("vscode"),Jx=rr(),zge=Bi();function nq(r,t){return r[t]===void 0&&(r[t]={}),r[t]}var Zx=class extends zge.TextDocumentFeature{constructor(t){super(t,Jx.LinkedEditingRangeRequest.type)}fillClientCapabilities(t){let i=nq(nq(t,"textDocument"),"linkedEditingRange");i.dynamicRegistration=!0}initialize(t,i){let[n,s]=this.getRegistration(i,t.linkedEditingRangeProvider);!n||!s||this.register({id:n,registerOptions:s})}registerLanguageProvider(t){let i={provideLinkedEditingRanges:(n,s,o)=>{let l=this._client,h=(g,m,y)=>l.sendRequest(Jx.LinkedEditingRangeRequest.type,l.code2ProtocolConverter.asTextDocumentPositionParams(g,m),y).then(l.protocol2CodeConverter.asLinkedEditingRanges,S=>l.handleFailedRequest(Jx.LinkedEditingRangeRequest.type,S,null)),p=l.clientOptions.middleware;return p.provideLinkedEditingRange?p.provideLinkedEditingRange(n,s,o,h):h(n,s,o)}};return[Wge.languages.registerLinkedEditingRangeProvider(t.documentSelector,i),i]}};qv.LinkedEditingFeature=Zx});var eA=x(Tl=>{"use strict";Object.defineProperty(Tl,"__esModule",{value:!0});Tl.ProposedFeatures=Tl.CommonLanguageClient=void 0;var Hge=Bi(),Vge=TU(),$ge=CR(),Gge=kU(),Yge=RU(),Kge=xU(),Xge=OU(),Jge=DU(),Zge=IU(),Qge=LU(),eme=FU(),tme=jU(),ju=iq(),rme=sq(),Qx=class extends Hge.BaseLanguageClient{constructor(t,i,n){super(t,i,n)}registerProposedFeatures(){this.registerFeatures(oq.createAll(this))}registerBuiltinFeatures(){super.registerBuiltinFeatures(),this.registerFeature(new $ge.ConfigurationFeature(this)),this.registerFeature(new Yge.TypeDefinitionFeature(this)),this.registerFeature(new Gge.ImplementationFeature(this)),this.registerFeature(new Vge.ColorProviderFeature(this)),this.registerFeature(new Kge.WorkspaceFoldersFeature(this)),this.registerFeature(new Xge.FoldingRangeFeature(this)),this.registerFeature(new Jge.DeclarationFeature(this)),this.registerFeature(new Zge.SelectionRangeFeature(this)),this.registerFeature(new Qge.ProgressFeature(this)),this.registerFeature(new eme.CallHierarchyFeature(this)),this.registerFeature(new tme.SemanticTokensFeature(this)),this.registerFeature(new rme.LinkedEditingFeature(this)),this.registerFeature(new ju.DidCreateFilesFeature(this)),this.registerFeature(new ju.DidRenameFilesFeature(this)),this.registerFeature(new ju.DidDeleteFilesFeature(this)),this.registerFeature(new ju.WillCreateFilesFeature(this)),this.registerFeature(new ju.WillRenameFilesFeature(this)),this.registerFeature(new ju.WillDeleteFilesFeature(this))}};Tl.CommonLanguageClient=Qx;var oq;(function(r){function t(i){return[]}r.createAll=t})(oq=Tl.ProposedFeatures||(Tl.ProposedFeatures={}))});var lq=x(Wv=>{"use strict";Object.defineProperty(Wv,"__esModule",{value:!0});Wv.terminate=void 0;var aq=require("child_process"),ime=require("path"),nme=process.platform==="win32",sme=process.platform==="darwin",ome=process.platform==="linux";function ame(r,t){if(nme)try{let s={stdio:["pipe","pipe","ignore"]};return t&&(s.cwd=t),aq.execFileSync("taskkill",["/T","/F","/PID",r.pid.toString()],s),!0}catch{return!1}else if(ome||sme)try{var i=ime.join(__dirname,"terminateProcess.sh"),n=aq.spawnSync(i,[r.pid.toString()]);return!n.error}catch{return!1}else return r.kill("SIGKILL"),!0}Wv.terminate=ame});var tA=x((kTe,cq)=>{"use strict";cq.exports=rr()});var uq=x(lo=>{"use strict";var lme=lo&&lo.__createBinding||(Object.create?function(r,t,i,n){n===void 0&&(n=i),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[i]}})}:function(r,t,i,n){n===void 0&&(n=i),r[n]=t[i]}),rA=lo&&lo.__exportStar||function(r,t){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(t,i)&&lme(t,r,i)};Object.defineProperty(lo,"__esModule",{value:!0});rA(rr(),lo);rA(Bi(),lo);rA(eA(),lo)});var pq=x(di=>{"use strict";var cme=di&&di.__createBinding||(Object.create?function(r,t,i,n){n===void 0&&(n=i),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[i]}})}:function(r,t,i,n){n===void 0&&(n=i),r[n]=t[i]}),hq=di&&di.__exportStar||function(r,t){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(t,i)&&cme(t,r,i)};Object.defineProperty(di,"__esModule",{value:!0});di.SettingMonitor=di.LanguageClient=di.TransportKind=void 0;var Cl=require("child_process"),iA=require("fs"),nA=require("path"),dq=e7(),ma=require("vscode"),yr=ua(),ume=eA(),dme=Bi(),fme=lq(),mr=tA();hq(tA(),di);hq(uq(),di);var fq="^1.52.0",sA;(function(r){function t(i){return yr.string(i.command)}r.is=t})(sA||(sA={}));var Br;(function(r){r[r.stdio=0]="stdio",r[r.ipc=1]="ipc",r[r.pipe=2]="pipe",r[r.socket=3]="socket"})(Br=di.TransportKind||(di.TransportKind={}));var Bu;(function(r){function t(i){let n=i;return n&&n.kind===Br.socket&&yr.number(n.port)}r.isSocket=t})(Bu||(Bu={}));var oA;(function(r){function t(i){return yr.string(i.module)}r.is=t})(oA||(oA={}));var aA;(function(r){function t(i){let n=i;return n&&n.writer!==void 0&&n.reader!==void 0}r.is=t})(aA||(aA={}));var lA;(function(r){function t(i){let n=i;return n&&n.process!==void 0&&typeof n.detached=="boolean"}r.is=t})(lA||(lA={}));var cA=class extends ume.CommonLanguageClient{constructor(t,i,n,s,o){let l,h,p,g,m;yr.string(i)?(l=t,h=i,p=n,g=s,m=!!o):(l=t.toLowerCase(),h=t,p=i,g=n,m=s),m===void 0&&(m=!1),super(l,h,g),this._serverOptions=p,this._forceDebug=m;try{this.checkVersion()}catch(y){throw yr.string(y.message)&&this.outputChannel.appendLine(y.message),y}}checkVersion(){let t=dq.parse(ma.version);if(!t)throw new Error(`No valid VS Code version detected. Version string is: ${ma.version}`);if(t.prerelease&&t.prerelease.length>0&&(t.prerelease=[]),!dq.satisfies(t,fq))throw new Error(`The language client requires VS Code version ${fq} but received version ${ma.version}`)}stop(){return super.stop().then(()=>{if(this._serverProcess){let t=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(t),this._isDetached=void 0}})}checkProcessDied(t){t&&setTimeout(()=>{try{process.kill(t.pid,0),fme.terminate(t)}catch{}},2e3)}handleConnectionClosed(){this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(t){super.fillInitializeParams(t),t.processId===null&&(t.processId=process.pid)}createMessageTransports(t){function i(m,y){if(!m&&!y)return;let S=Object.create(null);return Object.keys(process.env).forEach(w=>S[w]=process.env[w]),y&&(S.ELECTRON_RUN_AS_NODE="1",S.ELECTRON_NO_ASAR="1"),m&&Object.keys(m).forEach(w=>S[w]=m[w]),S}let n=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],s=["--debug","--debug-brk","--inspect","--inspect-brk"];function o(){let m=process.execArgv;return m?m.some(y=>n.some(S=>y.startsWith(S))||s.some(S=>y===S)):!1}function l(m){if(m.stdin===null||m.stdout===null||m.stderr===null)throw new Error("Process created without stdio streams")}let h=this._serverOptions;if(yr.func(h))return h().then(m=>{if(dme.MessageTransports.is(m))return this._isDetached=!!m.detached,m;if(aA.is(m))return this._isDetached=!!m.detached,{reader:new mr.StreamMessageReader(m.reader),writer:new mr.StreamMessageWriter(m.writer)};{let y;return lA.is(m)?(y=m.process,this._isDetached=m.detached):(y=m,this._isDetached=!1),y.stderr.on("data",S=>this.outputChannel.append(yr.string(S)?S:S.toString(t))),{reader:new mr.StreamMessageReader(y.stdout),writer:new mr.StreamMessageWriter(y.stdin)}}});let p,g=h;return g.run||g.debug?this._forceDebug||o()?p=g.debug:p=g.run:p=h,this._getServerWorkingDir(p.options).then(m=>{if(oA.is(p)&&p.module){let y=p,S=y.transport||Br.stdio;if(y.runtime){let w=[],C=y.options||Object.create(null);C.execArgv&&C.execArgv.forEach(I=>w.push(I)),w.push(y.module),y.args&&y.args.forEach(I=>w.push(I));let _=Object.create(null);_.cwd=m,_.env=i(C.env,!1);let R=this._getRuntimePath(y.runtime,m),D;if(S===Br.ipc?(_.stdio=[null,null,null,"ipc"],w.push("--node-ipc")):S===Br.stdio?w.push("--stdio"):S===Br.pipe?(D=mr.generateRandomPipeName(),w.push(`--pipe=${D}`)):Bu.isSocket(S)&&w.push(`--socket=${S.port}`),w.push(`--clientProcessId=${process.pid.toString()}`),S===Br.ipc||S===Br.stdio){let I=Cl.spawn(R,w,_);return!I||!I.pid?Promise.reject(`Launching server using runtime ${R} failed.`):(this._serverProcess=I,I.stderr.on("data",M=>this.outputChannel.append(yr.string(M)?M:M.toString(t))),S===Br.ipc?(I.stdout.on("data",M=>this.outputChannel.append(yr.string(M)?M:M.toString(t))),Promise.resolve({reader:new mr.IPCMessageReader(I),writer:new mr.IPCMessageWriter(I)})):Promise.resolve({reader:new mr.StreamMessageReader(I.stdout),writer:new mr.StreamMessageWriter(I.stdin)}))}else{if(S===Br.pipe)return mr.createClientPipeTransport(D).then(I=>{let M=Cl.spawn(R,w,_);return!M||!M.pid?Promise.reject(`Launching server using runtime ${R} failed.`):(this._serverProcess=M,M.stderr.on("data",L=>this.outputChannel.append(yr.string(L)?L:L.toString(t))),M.stdout.on("data",L=>this.outputChannel.append(yr.string(L)?L:L.toString(t))),I.onConnected().then(L=>({reader:L[0],writer:L[1]})))});if(Bu.isSocket(S))return mr.createClientSocketTransport(S.port).then(I=>{let M=Cl.spawn(R,w,_);return!M||!M.pid?Promise.reject(`Launching server using runtime ${R} failed.`):(this._serverProcess=M,M.stderr.on("data",L=>this.outputChannel.append(yr.string(L)?L:L.toString(t))),M.stdout.on("data",L=>this.outputChannel.append(yr.string(L)?L:L.toString(t))),I.onConnected().then(L=>({reader:L[0],writer:L[1]})))})}}else{let w;return new Promise((C,_)=>{let R=y.args&&y.args.slice()||[];S===Br.ipc?R.push("--node-ipc"):S===Br.stdio?R.push("--stdio"):S===Br.pipe?(w=mr.generateRandomPipeName(),R.push(`--pipe=${w}`)):Bu.isSocket(S)&&R.push(`--socket=${S.port}`),R.push(`--clientProcessId=${process.pid.toString()}`);let D=y.options||Object.create(null);if(D.env=i(D.env,!0),D.execArgv=D.execArgv||[],D.cwd=m,D.silent=!0,S===Br.ipc||S===Br.stdio){let I=Cl.fork(y.module,R||[],D);l(I),this._serverProcess=I,I.stderr.on("data",M=>this.outputChannel.append(yr.string(M)?M:M.toString(t))),S===Br.ipc?(I.stdout.on("data",M=>this.outputChannel.append(yr.string(M)?M:M.toString(t))),C({reader:new mr.IPCMessageReader(this._serverProcess),writer:new mr.IPCMessageWriter(this._serverProcess)})):C({reader:new mr.StreamMessageReader(I.stdout),writer:new mr.StreamMessageWriter(I.stdin)})}else S===Br.pipe?mr.createClientPipeTransport(w).then(I=>{let M=Cl.fork(y.module,R||[],D);l(M),this._serverProcess=M,M.stderr.on("data",L=>this.outputChannel.append(yr.string(L)?L:L.toString(t))),M.stdout.on("data",L=>this.outputChannel.append(yr.string(L)?L:L.toString(t))),I.onConnected().then(L=>{C({reader:L[0],writer:L[1]})})}):Bu.isSocket(S)&&mr.createClientSocketTransport(S.port).then(I=>{let M=Cl.fork(y.module,R||[],D);l(M),this._serverProcess=M,M.stderr.on("data",L=>this.outputChannel.append(yr.string(L)?L:L.toString(t))),M.stdout.on("data",L=>this.outputChannel.append(yr.string(L)?L:L.toString(t))),I.onConnected().then(L=>{C({reader:L[0],writer:L[1]})})})})}}else if(sA.is(p)&&p.command){let y=p,S=y.args||[],w=Object.assign({},y.options);w.cwd=w.cwd||m;let C=Cl.spawn(y.command,S,w);return!C||!C.pid?Promise.reject(`Launching server using command ${y.command} failed.`):(C.stderr.on("data",_=>this.outputChannel.append(yr.string(_)?_:_.toString(t))),this._serverProcess=C,this._isDetached=!!w.detached,Promise.resolve({reader:new mr.StreamMessageReader(C.stdout),writer:new mr.StreamMessageWriter(C.stdin)}))}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(h,null,4)))})}_getRuntimePath(t,i){if(nA.isAbsolute(t))return t;let n=this._mainGetRootPath();if(n!==void 0){let s=nA.join(n,t);if(iA.existsSync(s))return s}if(i!==void 0){let s=nA.join(i,t);if(iA.existsSync(s))return s}return t}_mainGetRootPath(){let t=ma.workspace.workspaceFolders;if(!t||t.length===0)return;let i=t[0];if(i.uri.scheme==="file")return i.uri.fsPath}_getServerWorkingDir(t){let i=t&&t.cwd;return i||(i=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),i?new Promise(n=>{iA.lstat(i,(s,o)=>{n(!s&&o.isDirectory()?i:void 0)})}):Promise.resolve(void 0)}getLocale(){let t=process.env.VSCODE_NLS_CONFIG;if(t===void 0)return"en";let i;try{i=JSON.parse(t)}catch{}return i===void 0||typeof i.locale!="string"?"en":i.locale}};di.LanguageClient=cA;var uA=class{constructor(t,i){this._client=t,this._setting=i,this._listeners=[]}start(){return ma.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new ma.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let t=this._setting.indexOf("."),i=t>=0?this._setting.substr(0,t):this._setting,n=t>=0?this._setting.substr(t+1):void 0,s=n?ma.workspace.getConfiguration(i).get(n,!1):ma.workspace.getConfiguration(i);s&&this._client.needsStart()?this._client.start():!s&&this._client.needsStop()&&this._client.stop()}};di.SettingMonitor=uA});var mq=x((ATe,gq)=>{"use strict";gq.exports=pq()});var Sq=x((LTe,dA)=>{"use strict";var gme=require("net"),Gv=class extends Error{constructor(t){super(`${t} is locked`)}},Uu={old:new Set,young:new Set},mme=1e3*15,$v,bq=r=>new Promise((t,i)=>{let n=gme.createServer();n.unref(),n.on("error",i),n.listen(r,()=>{let{port:s}=n.address();n.close(()=>{t(s)})})}),yme=function*(r){r&&(yield*r),yield 0};dA.exports=async r=>{let t;r&&(t=typeof r.port=="number"?[r.port]:r.port),$v===void 0&&($v=setInterval(()=>{Uu.old=Uu.young,Uu.young=new Set},mme),$v.unref&&$v.unref());for(let i of yme(t))try{let n=await bq({...r,port:i});for(;Uu.old.has(n)||Uu.young.has(n);){if(i!==0)throw new Gv(i);n=await bq({...r,port:i})}return Uu.young.add(n),n}catch(n){if(!["EADDRINUSE","EACCES"].includes(n.code)&&!(n instanceof Gv))throw n}throw new Error("No available ports found")};dA.exports.makeRange=(r,t)=>{if(!Number.isInteger(r)||!Number.isInteger(t))throw new TypeError("`from` and `to` must be integer numbers");if(r<1024||r>65535)throw new RangeError("`from` must be between 1024 and 65535");if(t<1024||t>65536)throw new RangeError("`to` must be between 1024 and 65536");if(t<r)throw new RangeError("`to` must be greater than or equal to `from`");return function*(n,s){for(let o=n;o<=s;o++)yield o}(r,t)}});var Sme={};Oq(Sme,{activate:()=>bme,deactivate:()=>mA});module.exports=Nq(Sme);var De=Ke(require("vscode"));var as=Ke(require("vscode")),tI=Ke(require("child_process"));var vA=Ke(require("vscode"));var Ah=class{constructor(t){this.storage=t}getValue(t){return this.storage.get(t,"")}setValue(t,i){this.storage.update(t,i)}};var bA=require("events"),Xv=class extends bA.EventEmitter{},Jv=class{constructor(){this.heartBeat=0;this.preBeat=0;this.tmpPath="/tmp";this.hashPath="oops";this.binPath="~/.plcc-helper";this.executableHelper="";this.executableTools="";this.port=5e3;this.wsPath="";this.runningCmd="";this.lock=!1;this.logedin=!1;this.logingin=!1;this.myEmitter=new Xv}initStorage(t){this.storage=new Ah(t.workspaceState)}EmitOutput(t){this.term||(this.term=vA.window.createOutputChannel("plcc-plugin")),this.term.show(),this.term.clear();for(var i=0;i<t.length;i++)this.term.append(String(t[i]).substring(4))}},ie=new Jv;var ba=Ke(require("vscode")),Zv=class{getHelperAddress(){let t=ba.workspace.getConfiguration().get("plcc.HelperAddress");return t=t.trim(),t}getDownloadAddress(){let t=ba.workspace.getConfiguration().get("plcc.HelperDownloadAddress");return t=t.trim(),t}getRepositoryAddresses(){return ba.workspace.getConfiguration().get("plcc.RepositoryAddresses")}getCompileAddress(){let t=ba.workspace.getConfiguration().get("plcc.CompilerAddress");return t=t.trim(),t}getEdgeAddress(){let t=ba.workspace.getConfiguration().get("plcc.EdgeAddress");return t=t.trim(),t}getTestingMode(){return ba.workspace.getConfiguration().get("plcc.TestingMode")}},_r=new Zv;var k1=Ke(EA(),1),XW=Ke(g1(),1),JW=Ke(y1(),1),qi=Ke(T1(),1),ZW=Ke(UO(),1);var i_=Ke(require("fs")),n_=Ke(require("path")),e_=Ke(v6()),Ld=Ke(Bg()),s_=Ke(Id()),t_=Ke(_6()),Kw=class{constructor(){this.isOpen=!1;this.timeout=void 0}Connect(){this.timeout&&clearTimeout(this.timeout),this.ws=new qi.default(ie.wsPath+"/ws"),console.log("ws : Connecting ws channel!!"),this.ws.onopen=()=>{this.isOpen=!0,console.log("ws : WebSocket Link to success!!")},this.ws.onclose=()=>{this.isOpen=!1,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.Connect()},1e3)},this.ws.onerror=t=>{console.log("ws error: "+t.message),this.ws.close()}}wait(){return new Promise(t=>{this.ws.onmessage=i=>{t(i.data)}})}async Send(t){if(this.isOpen)return await this.ws.send(t),this.wait()}},Xw=class{constructor(){this.isOpen=!1;this.timeout=void 0}Connect(t){return new Promise(i=>{this.timeout&&clearTimeout(this.timeout),this.ls=new qi.default(ie.wsPath+"/local-service"),this.ls.onopen=()=>{this.isOpen=!0,console.log("local-service: WebSocket Link to success!!"),t()},this.ls.onclose=()=>{this.isOpen=!1,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.Connect(t)},1e3)},this.ls.onerror=()=>{console.log("local error"),this.ls.close()}})}wait(){return new Promise(t=>{this.ls.onmessage=i=>{t(i.data)}})}async Send(t){if(this.isOpen)return await this.ls.send(t),this.wait()}},Jw=class{constructor(){this.isOpen=!1;this.timeout=void 0}Connect(){this.timeout&&clearTimeout(this.timeout),console.log("Connecting to downloader"),this.fs=new qi.default(ie.wsPath+"/downloader"),this.fs.onopen=()=>{this.isOpen=!0,console.log("downloader: WebSocket Link to success!!")},this.fs.onclose=()=>{this.isOpen=!1,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.Connect()},1e3)},this.fs.onerror=()=>{console.log("local error"),this.fs.close()}}wait(){return new Promise(t=>{this.fs.onmessage=i=>{let n=String(i.data);n.substring(0,4)==="dllr"&&t(n.substring(4))}})}async Send(t){if(this.isOpen)return await this.fs.send(t),this.wait()}},Zw=class{constructor(){this.isOpen=!1;this.timeout=void 0}Connect(){this.timeout&&clearTimeout(this.timeout),console.log("Connecting to monitor"),this.fs=new qi.default(ie.wsPath+"/monitor"),this.fs.onopen=()=>{this.isOpen=!0,console.log("monitor: WebSocket Link to success!!")},this.fs.onclose=()=>{this.isOpen=!1,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.Connect()},1e3)},this.fs.onerror=()=>{console.log("local error"),this.fs.close()}}wait(){return new Promise((t,i)=>{this.fs.onmessage=n=>{let s=String(n.data);switch(s.substring(0,4)){case"gtsr":var o=JSON.parse(s.substring(4));t(o);break;case"stpr":case"strr":case"monr":case"cksr":case"lgsr":case"lgdr":case"lger":t(s.substring(4));break}t(void 0)}})}async Send(t){if(this.isOpen)return await this.fs.send(t),this.wait()}},Ug=class{constructor(t){this.isOpen=!1;this.path="";this.path=t}Connect(){this.lds=new qi.default(ie.wsPath+this.path),this.lds.onopen=()=>{this.isOpen=!0,console.log("ladder:WebSocket Link to success!!")},this.lds.onclose=()=>{this.isOpen=!1},this.lds.onerror=t=>{console.log("ladderService Error: "+t.data),this.lds.close()}}Close(){this.lds.close()}wait(){return new Promise(t=>{this.lds.onmessage=i=>{let n=String(i.data).substring(0,4);if(n=="dspr")t(String(i.data).substring(4));else if(n=="inlr")t(String(i.data).substring(4));else if(n=="oulr")t(String(i.data).substring(4));else if(n=="iolr")t(String(i.data).substring(4));else if(n=="lolr")t(String(i.data).substring(4));else if(n=="pour")t(String(i.data).substring(4));else if(n=="pnar")t(String(i.data).substring(4));else if(n=="gbpr")t(String(i.data).substring(4));else if(n=="eofr")return}})}async Send(t){if(this.isOpen)return await this.lds.send(t),this.wait()}},Qw=class{constructor(){this.isOpen=!1;this.path="";this.timeout=void 0;this.path="/fblist"}Connect(t){this.timeout&&clearTimeout(this.timeout),this.fbs=new qi.default(ie.wsPath+this.path),this.fbs.onopen=()=>{this.isOpen=!0,console.log("FB:WebSocket Link to success!!"),t()},this.fbs.onclose=()=>{console.log("FBService closed!"),this.isOpen=!1,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.Connect(t)},1e3)},this.fbs.onerror=i=>{console.log("FBService Error"+i),this.fbs.close()}}Close(){this.fbs.close()}wait(){return new Promise(t=>{this.fbs.onmessage=i=>{let n=String(i.data).substring(0,4);if(String(i.data)=="destroywin")this.fbs.close();else if(n=="fblr")t(String(i.data).substring(4));else if(n=="thbr")t(String(i.data).substring(4));else if(n=="docr")t(String(i.data).substring(4));else if(n=="eofr")return}})}async Send(t){if(this.isOpen)return await this.fbs.send(t),this.wait()}},Md=class{constructor(){this.isOpen=!1}Connect(t,i){this.Close();let n=String(_r.getCompileAddress()).split(":");if(n.length>1&&n[0]=="localhost"){process.env.NODE_TLS_REJECT_UNAUTHORIZED="0";var s=i_.readFileSync(n_.join(__dirname,"../certs/tls.crt"));this.client=new e_.CompileServiceClient(_r.getCompileAddress(),Ld.credentials.createSsl(s,null,null,{checkServerIdentity:(l,h)=>{}})),console.log("Done")}else this.client=new e_.CompileServiceClient(_r.getCompileAddress(),Ld.credentials.createSsl());var o=new s_.mSession;console.log("Connecting compile service..."),this.client.waitForReady(Date.now()+1e4,l=>{if(l){this.Close(),i();return}console.log("Connected to the compile service..."),this.isOpen=!0,this.client.session(o,(h,p)=>{if(h){this.Close(),i();return}this.ctx=p,console.log("Context:",h,p.getSessid()),t(this)}),this.interval=setInterval(()=>{o.setCtx(this.ctx),this.client.session(o,(h,p)=>{if(h){this.Close(),i();return}})},1e4)})}Close(){clearInterval(this.interval),this.client&&this.client.close(),this.isOpen=!1}},r_=class{constructor(){this.isOpen=!1}Connect(t,i){this.Close();let n=String(_r.getEdgeAddress()).split(":");if(n.length>1&&n[0]=="localhost"){process.env.NODE_TLS_REJECT_UNAUTHORIZED="0";var s=i_.readFileSync(n_.join(__dirname,"../certs/tls.crt"));this.client=new t_.EdgeServiceClient(_r.getEdgeAddress(),Ld.credentials.createSsl(s,null,null,{checkServerIdentity:(l,h)=>{}})),console.log("Done")}else this.client=new t_.EdgeServiceClient(_r.getEdgeAddress(),Ld.credentials.createSsl());var o=new s_.mSession;console.log("Connecting Edge service..."),this.client.waitForReady(Date.now()+1e4,l=>{if(l){this.Close(),i();return}console.log("Connected to the Edge service..."),this.isOpen=!0,t(this)})}Close(){clearInterval(this.interval),this.client&&this.client.close(),this.isOpen=!1}},qg=new Kw,Pa=new Xw,o_=new Jw,$r=new Zw,mc=new Qw,vr=new Md,eZ=new Md,tZ=new Md,rZ=new r_;function E6(){qg.Connect()}function T6(r){Pa.Connect(r)}function C6(){o_.Connect()}function k6(){$r.Connect()}function R6(r,t){vr.Connect(r,t)}function x6(r,t){eZ.Connect(r,t)}function A6(r,t){tZ.Connect(r,t)}function O6(r,t){rZ.Connect(r,t)}function N6(r){mc.Connect(r)}var Li=Ke(require("fs")),en=Ke(require("os")),hee=Ke(require("https")),pee=Ke(require("http"));var P_=Ke(X4()),J4=Ke(require("path"));function Z4(r){P_.configure({locales:["en","zh-cn"],defaultLocale:"en",queryParameter:"lang",directory:J4.join(r.extensionPath,"locales"),api:{__:"translate",__n:"translateN"}})}var At=P_;var rI=Ke(eI()),iI=Ke(require("zlib")),qd;var F_=new Map([["version","?Expires=1695964709&KeyName=plcchelper&Signature=f7ZDmdLnI4oDwZ79iWanU-pbcfA="],["plcc-helper-darwin","?Expires=1695964709&KeyName=plcchelper&Signature=Ch3IBEV9LtyvYYiwvBWnyDnrX84="],["plcc-helper-linux","?Expires=1695964709&KeyName=plcchelper&Signature=4ZbHy_foFc6uDA2wvH7CAlvjh98="],["plcc-helper-windows.exe","?Expires=1695964710&KeyName=plcchelper&Signature=TNut5KVthcf58Zq8_Dt9uLDZR48="],["__DEFS","?Expires=1695964710&KeyName=plcchelper&Signature=YBY9xtBsH1Dw3ZHPFNELQwD7vCU="],["version-wasm","?Expires=1695964710&KeyName=plcchelper&Signature=xaMhWL9aYc59T78KOPPgu0ikRZY="],["wasmtime-v10.0.1-x86_64-linux","?Expires=1695964711&KeyName=plcchelper&Signature=71rRBa9ZMAcxSpQqr2QNcKgIZMk="],["wasmtime-v10.0.1-x86_64-macos","?Expires=1695964711&KeyName=plcchelper&Signature=8Nqg5D8qxoMuy1vHoxquE8ukhDA="],["wasmtime-v10.0.1-x86_64-windows","?Expires=1695964711&KeyName=plcchelper&Signature=htj_fsFlaO1gyV73SC85STZVtaE="]]);function nI(){return new Promise((r,t)=>{en.platform()==="darwin"?(ie.executableHelper="plcc-helper-darwin",ie.executableTools="plcc-tools-darwin",ie.binPath=en.homedir()+"/.plcc-helper",ie.tmpPath=en.tmpdir()+"/"+ie.hashPath):en.platform()==="linux"?(ie.executableHelper="plcc-helper-linux",ie.executableTools="plcc-tools-linux",ie.binPath=en.homedir()+"/.plcc-helper",ie.tmpPath=en.tmpdir()+"/"+ie.hashPath):en.platform()==="win32"&&(ie.executableHelper="plcc-helper-windows.exe",ie.executableTools="plcc-tools-windows.exe",ie.binPath=en.homedir()+"\\Temp",ie.tmpPath=en.homedir()+"\\Temp\\"+ie.hashPath),Li.mkdirSync(ie.tmpPath,{recursive:!0}),Li.mkdir(ie.binPath,i=>{if(i&&i.code!=="EEXIST")throw i;return as.window.withProgress({location:as.ProgressLocation.Window,title:"Launching PLCC IEC61131-3 extension..."},async n=>{var s=pee;String(_r.getDownloadAddress()).startsWith("https://")&&(s=hee),s.get(_r.getDownloadAddress()+"/version"+F_.get("version"),o=>{o.on("data",async l=>{let h=String(l).split(`
`);for(var p=0;p<h.length;p++)h[p].substring(40)==ie.executableHelper&&(console.log("T1: Checking",ie.executableHelper,"with md5sum",h[p].substring(0,32)),console.log("T1: File exists",Li.existsSync(ie.binPath+"/"+ie.executableHelper)),Li.existsSync(ie.binPath+"/"+ie.executableHelper)&&Li.statSync(ie.binPath+"/"+ie.executableHelper).isFile()&&rI.sync(ie.binPath+"/"+ie.executableHelper)===h[p].substring(0,32)?(console.log("T1: File is up to date"),await M_(),r()):(console.log("T1: File needs to be updated"),await(()=>as.window.withProgress({location:as.ProgressLocation.Notification,title:"A new version of the helper is detected, updating..."},()=>{var m=void 0;return new Promise((y,S)=>{m&&clearTimeout(m);let w=Li.createWriteStream(ie.binPath+"/"+ie.executableHelper),C=iI.createGunzip(),_=s.get(_r.getDownloadAddress()+"/"+ie.executableHelper+".gz"+F_.get(ie.executableHelper),async R=>{w.on("finish",function(){w.close(),as.window.showInformationMessage("Helper updated successfully!, please reload the window.",At.__("Reload")).then(D=>{D==At.__("Reload")&&as.commands.executeCommand("workbench.action.reloadWindow")}),setTimeout(async()=>{await M_(),y({})},2e3),y({})}),R.pipe(C).pipe(w)}).on("error",R=>{as.window.showErrorMessage("Failed to download the helper, please try again later."),console.log("Error:",R),t()})})}))(),await M_(),r()))})})})})})}function M_(){return new Promise(async r=>{Li.chmod(ie.binPath+"/"+ie.executableHelper,493,t=>{if(t)console.log("error: "+t);else{for(var i=["-port",String(ie.port)],n=String(_r.getRepositoryAddresses()).split(","),s=0;s<n.length;s++){i.push("-repo"),i.push(n[s]),i.push("-hashpath"),i.push(ie.hashPath);let o=F_.get("__DEFS");o!=null&&(i.push("-signeddefs"),i.push(o))}qd&&qd.kill("SIGTERM"),qd=tI.execFile(ie.binPath+"/"+ie.executableHelper,i,(o,l,h)=>{})}}),_r.getTestingMode()?ie.wsPath="ws://127.0.0.1:5000":ie.wsPath=_r.getHelperAddress()+":"+ie.port,E6(),C6(),k6(),T6(()=>{r({})})})}function sI(){qd&&qd.kill("SIGTERM")}var Lt=Ke(require("vscode"));var Jc=Ke(require("fs"));var fy=Ke(lT()),k5=Ke(require("stream")),Mr=Ke(Id()),FT=Ke(uy()),R5=(r,t,i,n,s)=>{let o,l=new Promise((h,p)=>{let g=()=>{o&&clearTimeout(o),ie.preBeat!==ie.heartBeat?(ie.preBeat=ie.heartBeat,o=setTimeout(g,r)):(s?.(),p(i))};o=setTimeout(g,r)});return Promise.race([t(n),l]).then(h=>(s?.(),Lt.window.showInformationMessage(h),o!=null&&clearTimeout(o),h),h=>{s?.(),Lt.window.showErrorMessage("Failed to compile the project."),Lt.commands.executeCommand("workbench.action.problems.focus")})},x5;async function jT(r,t,i){let n=()=>{x6(o=>{x5=o.ctx,Lt.window.withProgress({location:Lt.ProgressLocation.Notification,title:At.__("Compiling the Project..."),cancellable:!0},async(l,h)=>{h.onCancellationRequested(()=>{});var p;return R5(12e4,g=>new Promise(async(m,y)=>{if(ie.heartBeat=ie.heartBeat+1,Lt.workspace.workspaceFolders){console.log(Lt.workspace.workspaceFolders[0].uri.fsPath),await new Promise(w=>{if(Lt.workspace.workspaceFolders){var C=[];fy.c({filter:(_,R)=>!!(R.mode>>14&1||_.endsWith(".eni")||_.endsWith(".dcf")||_.endsWith(".yml")||_.endsWith(".yaml")||_.endsWith(".json")||_.endsWith(".graph")||_.endsWith(".il")||_.endsWith(".st")||_.endsWith(".monitor")),cwd:Lt.workspace.workspaceFolders[0].uri.fsPath,gzip:!0},FT.sync("**/*",{cwd:Lt.workspace.workspaceFolders[0].uri.fsPath})).on("data",_=>{C.push(_)}).on("end",()=>{var _=Buffer.concat(C);o.client.upload(new Mr.mUpload().setCtx(o.ctx).setData(new Uint8Array(_.buffer.slice(_.byteOffset,_.byteOffset+_.byteLength))),(R,D)=>{R?y(R):w({})}).on("error",R=>{y(R)})}).on("error",_=>{y(_)})}}),console.log("Step0"),await new Promise(async(w,C)=>{if(Lt.workspace.workspaceFolders){let R=FT.sync("**/*.graph",{cwd:Lt.workspace.workspaceFolders[0].uri.fsPath});for(var _=0;_<R.length;_++){let D=await Pa.Send("cvtq"+Lt.workspace.workspaceFolders[0].uri.fsPath+"/"+R[_]+","+Lt.workspace.workspaceFolders[0].uri.fsPath);String(D).startsWith("cvtr")?await new Promise((I,M)=>{D?o.client.update(new Mr.mUpload().setCtx(o.ctx).setData(new Uint8Array(D.buffer.slice(D.byteOffset+4,D.byteOffset+4+D.byteLength))),(L,V)=>{L?M(L):I({})}):M("Undefined reply")}):C(At.__("Invalid reply."))}w({})}}),console.log("Step1"),l.report({increment:20});try{await Jc.statSync(Lt.workspace.workspaceFolders[0].uri.fsPath+"/master.dcf"),await new Promise(w=>{o.client.compile(new Mr.mCompile().setCtx(o.ctx).setType(Mr.eCompileType.COMPILE_ETHERCAT).setName("master.dcf"),(C,_)=>{C?(console.log(C),y(C)):w({})})})}catch(w){console.log(w)}console.log("Step2"),l.report({increment:20});try{await Jc.statSync(Lt.workspace.workspaceFolders[0].uri.fsPath+"/master.eni"),await new Promise(w=>{o.client.compile(new Mr.mCompile().setCtx(o.ctx).setType(Mr.eCompileType.COMPILE_ETHERCAT).setName("master.eni"),(C,_)=>{C?y(C):w({})})})}catch{}console.log("Step3"),l.report({increment:20});try{await Jc.statSync(Lt.workspace.workspaceFolders[0].uri.fsPath+"/IODevice.yaml"),await new Promise(w=>{o.client.compile(new Mr.mCompile().setCtx(o.ctx).setType(Mr.eCompileType.COMPILE_ETHERCAT).setName("IODevice.yaml"),(C,_)=>{C?y(C):w({})})})}catch{}if(console.log("Step4"),l.report({increment:20}),await new Promise(w=>{o.client.compile(new Mr.mCompile().setCtx(o.ctx).setType(Mr.eCompileType.COMPILE_PROJECT),(C,_)=>{C?y(C):w({})})}),console.log("Step5"),await new Promise(w=>{o.client.link(new Mr.mLink().setCtx(o.ctx).setTarget(t),(C,_)=>{if(C)y(C);else{let R=new k5.PassThrough;R.end(Buffer.from(_.getData())),R.pipe(fy.x({C:ie.tmpPath})),w({})}})}),console.log("Step6"),l.report({increment:20}),Lt.workspace.workspaceFolders&&Lt.workspace.workspaceFolders[0]){var S="vars-plccos-r8.yaml";t==="linux"?S="vars-linux.yaml":t==="linux-arm64"&&(S="vars-linux-arm64.yaml"),Jc.copyFile(ie.tmpPath+"/"+S,Lt.workspace.workspaceFolders[0].uri.fsPath+"/vars.yaml",w=>{w?console.log("Yaml file not been updated.",w):console.log("Yaml file had been updated.")})}m(g)}}),At.__("Compile failed!"),At.__("Compile complete!"),()=>{})})},()=>{})},s=Lt.workspace.textDocuments;for(let o of s)o.isDirty&&await Lt.window.showWarningMessage(`${o.uri.fsPath} has unsaved changes. Do you want to save them?`,{modal:!0},"Save")==="Save"&&await o.save();n()}function A5(r){process.chdir(ie.tmpPath);var t="";if(r==="r8")t="a-plccos-r8.out";else if(r==="imxrt1052evk")t="a-plccos.out";else{Lt.window.showErrorMessage(At.__("Invalid target."));return}Lt.window.withProgress({location:Lt.ProgressLocation.Notification,title:"PLC being programmed...",cancellable:!0},(i,n)=>(n.onCancellationRequested(()=>{}),R5(12e4,s=>new Promise(async(o,l)=>{await o_.Send("dllq"+ie.tmpPath+"/"+t)=="ok"?o(At.__("PLC upgraded complete!")):o(At.__("PLC upgraded failed! Please confirm that the monitoring and logging have been stopped."))}),At.__("PLC upgraded failed!"),At.__("PLC upgraded complete!"),()=>{})))}function O5(r,t){console.log("flashEdge",r,t),A6(i=>{i.client.updateProgram(new Mr.mUpdateProgram().setCtx(x5).setDid(t),(n,s)=>{console.log(n||s)})},()=>{})}var Xs=Ke(require("vscode")),BT=Ke(require("path")),UT=class{constructor(){}getTreeItem(t){return t}getChildren(t){return t?t.label==="Project"?Promise.resolve([new hy("POU",Xs.TreeItemCollapsibleState.None)]):Promise.resolve([]):Promise.resolve([new hy("Project",Xs.TreeItemCollapsibleState.Collapsed)])}},hy=class extends Xs.TreeItem{constructor(i,n){super(i,n);this.label=i;this.collapsibleState=n;this.iconPath={light:BT.join(__filename,"..","..","images","build-light.svg"),dark:BT.join(__filename,"..","..","images","build-dark.svg")}}};function N5(){if(Xs.workspace.workspaceFolders)var r=Xs.window.createTreeView("projView",{treeDataProvider:new UT})}var rl=Ke(require("vscode"));function qT(r,t){return`<!DOCTYPE html>
  <html lang="en" id="ladderView">
  
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0">
  
      <style type="text/css">
            *{
                margin: 0;
                padding: 0;
            }
          
            .toolbar {
                display:flex;
                position: absolute; 
                width:100%;
                top:0px; 
                left:0px; 
                height:45px; 
                -webkit-user-select:none;
                overflow-x: scroll; 
                overflow-y: hidden;
                
            }     
            .nav {
                padding:0px 20px 0px 20px;
                flex-shrink: 0;
            }
         
            .toolbarUL {
                display: block;
              }
              
            .toolbarUL li {
                display: inline-block;
                list-style: none;
                margin: 0px;
                pading:0px;
            }

            .toolbarUL svg {
                display: inline-block;
                margin:0 5px 0 5px;
                width: 45px;
                height: 45px;
            }

            .toolbarUL svg:hover {
                background-color: #454545;
                opacity: 0.3 !important;
                border-radius: 3px;
            }

            .toolbar::-webkit-scrollbar { 
                display: none;
            }

            .aright{
                right:0px;
            }
            .aleft {
                left:0px;
            }
            .aright,
            .aleft {
                display:none;
                position:absolute;
                top:0px;
                width:25px; 
                height:45px;
                line-height:40px;
                color: white;
                z-index:999;
                background-color:#303031;
            }
            .aright > svg,
            .aleft > svg {
                margin-top:10px;
                width:25px;
                height:25px;
            }

          .canvas {
            margin:50px 0 0 0; 
            overflow-x: scroll; 
            overflow-y:scroll;
          }

          .arrowbar {
            position:fixed; 
            top:40%; 
            left:0px; 
            width:25px; 
            height:100px; 
            -webkit-user-select:none;
          }
          .arrowbar ul {
            width: auto;
            padding: 0px;
            margin: 0px;
          }

          .arrowbar li {
            margin-top: 15px;
            list-style: none;
          }
          
          .undisabled {
            pointer-events: auto;
            opacity: 1;
          }

          .disabled {
            pointer-events: none;
            opacity: 0.2;
          }

          .arrowbar svg {
            display: inline-block;
            margin-left: 3px;
            width: 20px;
            height: 20px;
          }

          .arrowbar svg:hover {
            background-color: #454545;
            opacity: 0.3 !important;
            border-radius: 3px;
          }

          g.LD>rect,
          g.LDN>rect,
          g.LDR>rect,
          g.COIL>rect,
          g.COILS>rect,
          g.COILR>rect,
          g.OR>rect,
          g.ORAbove>rect,
          g.ORN>rect,
          g.BranchFirst>rect,
          g.BranchSecond>rect,
          g.BranchDown>rect,
          g.BranchUp>rect {
              fill: var(--vscode-list-hoverBackground) !important;
              fill-opacity: 0.5 !important;
              stroke: var(--vscode-menu-foreground) !important;
          }
  
          g.FB>rect {
              fill: var(--vscode-list-hoverBackground) !important;
              fill-opacity: 0.5 !important;
              stroke: var(--vscode-menu-foreground) !important;
          }
  
          g.Block>rect {
              fill: none;
              fill-opacity: 0.5;
              stroke-color: var(--vscode-list-activeSelectionForeground) !important;
          }
  
          input {
            width: 98% !important; 
            height: 14px !important;
            border: none;
            background-color: transparent;
            font-size: 12px
            font-family: sans-serif;
            font-weight: thick;  
            color: var(--vscode-input-placeholderForeground);
            box-shadow: none;
            overflow: hidden;
            text-overflow: ellipsis;
          }

          g.LD>text,
          g.LDN>text,
          g.LDR>text,
          g.COIL>text,
          g.COILS>text,
          g.COILR>text,
          g.OR>text,
          g.g.ORAbove>text,
          g.ORN>text,
          g.BranchFirst>text,
          g.BranchSecond>text,
          g.BranchDown>text,
          g.BranchUp>text {
              fill: var(--vscode-menu-foreground) !important;
          }
  
          g.FB>text {
              fill: var(--vscode-menu-foreground) !important;
          }
  
          g.Block>text {
              fill: var(--vscode-menu-foreground) !important;
          }
  
          g.LD>line,
          g.LDN>line,
          g.LDR>line,
          g.COIL>line,
          g.COILS>line,
          g.COILR>line,
          g.OR>line,
          g.g.ORAbove>line,
          g.ORN>line,
          g.BranchFirst>line,
          g.BranchSecond>line,
          g.BranchDown>line,
          g.BranchUp>line {
              stroke: var(--vscode-menu-foreground) !important;
              stroke-width: 2px !important;
              stoke-opacity: 1 !important;
          }

          g.BranchFirst>rect,
          g.BranchSecond>rect,
          g.BranchDown>rect,
          g.BranchUp>rect {
            fill: var(--vscode-menu-foreground) !important;
            fill-opacity: 1 !important;
            stroke-color:  var(--vscode-menu-foreground) !important;
          }
          
          g.FB>line {
              stroke: var(--vscode-menu-foreground) !important;
              stroke-width: 2px !important;
              stoke-opacity: 1 !important;
          }
  
          line {
              stroke: var(--vscode-menu-foreground) !important;
              stroke-width: 2px !important;
              stoke-opacity: 1 !important;
          }
  
          g.Line>line {
              stroke: var(--vscode-menu-foreground) !important;
              stroke-width: 2px !important;
              stoke-opacity: 1 !important;
          }
  
          g.BlockHeadS>line {
              stroke: var(--vscode-menu-foreground) !important;
              stroke-width: 4px !important;
              stoke-opacity: 0.3 !important;
          }
  
          g.BlockHeadE>line {
              stroke: var(--vscode-menu-foreground) !important;
              stroke-width: 4px !important;
              stoke-opacity: 0.1 !important;
          }
  
          g.LDCursor>rect {
              fill: var(--vscode-list-hoverBackground) !important;
              fill-opacity: 0.5 !important;
              stroke-color: var(--vscode-list-hoverBackground) !important;
          }
  
          g.FBCursor>rect {
              fill: var(--vscode-list-hoverBackground) !important;
              fill-opacity: 0.5 !important;
              stroke-color: var(--vscode-list-hoverBackground) !important;
          }
  
          g.BlockCursor>rect {
              fill: var(--vscode-list-hoverBackground) !important;
              fill-opacity: 0.5 !important;
              stroke-color: none;
          }
  
          /* \u8BBE\u7F6E\u6EDA\u52A8\u6761\u7684\u6837\u5F0F */
          ::-webkit-scrollbar {
              width: 12px;
          }
  
          /* \u6EDA\u52A8\u69FD */
          ::-webkit-scrollbar-track {
              -webkit-box-shadow: inset006pxrgba(0, 0, 0, 0.3);
              border-radius: 10px;
          }
  
          /* \u6EDA\u52A8\u6761\u6ED1\u5757 */
          ::-webkit-scrollbar-thumb {
              border-radius: 10px;
              background: #cccccc;
              -webkit-box-shadow: inset006pxrgba(0, 0, 0, 0.5);
          }
  
          ::-webkit-scrollbar-thumb:window-inactive {
              background: rgba(255, 0, 0, 0.4);
          }

      </style>
  
      <script>
          const vscode = acquireVsCodeApi();
        
          window.addEventListener('message', event => {
              const divCanvas = document.getElementById('canvas');
              const svgCanvas = document.getElementById('ladderSvg');

              const abovebtn = document.getElementById('blockup');
              const belowbtn = document.getElementById('blockdown');  

              var H = document.documentElement.clientHeight;
              var W = document.documentElement.clientWidth;
  
              divCanvas.style.width = (W - 50) + "px";
              divCanvas.style.height = (H - 60) + "px";
  
              const message = event.data;
              if (message.type == "ladder") {
                svgCanvas.innerHTML = message.item;
                var bbox = svgCanvas.getBBox();
                svgCanvas.style.width = bbox.width + "px";
                svgCanvas.style.height = (bbox.height + 100) + "px";
            } else if (message.type == "curblockpos"){
                if (message.item == "head") {
                    abovebtn.style.display = "block";
                    belowbtn.style.display = "block";
                    abovebtn.className="disabled";
                    belowbtn.className="undisabled";
                } else if (message.item == "tail") {
                    abovebtn.style.display = "block";
                    belowbtn.style.display = "block";
                    abovebtn.className="undisabled";
                    belowbtn.className="disabled"
                } else if (message.item == "headtail") {
                    abovebtn.style.display = "block";
                    belowbtn.style.display = "block";
                    abovebtn.className="disabled";
                    belowbtn.className="disabled";
                } else if (message.item == "middle") {
                    abovebtn.style.display = "block";
                    belowbtn.style.display = "block";
                    abovebtn.className="undisabled";
                    belowbtn.className="undisabled";
                } else {
                    abovebtn.style.display = "none";
                    belowbtn.style.display = "none";
                }
              } else if(message.type == "toobarlist") { 
                    var skList= message.item;
                    var isMac;
                    
                    if(navigator.userAgent.indexOf('Mac') >= 0){
                        isMac = true;
                    }
                    
                    if(message.item !=''){
                        for(var i=0; i<skList.length; i++){  

                            if(skList[i].command == 'plcc.blockinsertup'){
                                 var title= document.getElementById('blockinsertupTitle');  
                                 if(isMac){
                                     title.innerHTML= skList[i].mac; 
                                 }
                                 else {
                                     title.innerHTML= skList[i].key; 
                                 }
                             }

                             if(skList[i].command == 'plcc.block'){
                                var title= document.getElementById('blockTitle');  
                                if(isMac){
                                    title.innerHTML= skList[i].mac; 
                                }
                                else {
                                    title.innerHTML= skList[i].key; 
                                }
                            }  

                             if(skList[i].command == 'plcc.ld'){
                                 var title= document.getElementById('ldTitle');
                                 if(isMac){
                                     title.innerHTML= skList[i].mac; 
                                 }
                                 else {
                                     title.innerHTML= skList[i].key; 
                                 }
                            }

                            if(skList[i].command == 'plcc.ldn'){
                                 var title= document.getElementById('ldnTitle');  
                                 if(isMac){
                                     title.innerHTML= skList[i].mac; 
                                 }
                                 else {
                                     title.innerHTML= skList[i].key; 
                                 }
                            }

                            if(skList[i].command == 'plcc.orbove'){
                                 var title= document.getElementById('oraboveTitle');  
                                 if(isMac){
                                     title.innerHTML= skList[i].mac; 
                                 }
                                 else {
                                     title.innerHTML= skList[i].key; 
                                 }
                            }

                            if(skList[i].command == 'plcc.or'){
                                var title= document.getElementById('orTitle');  
                                 if(isMac){
                                     title.innerHTML= skList[i].mac; 
                                 }
                                 else {
                                     title.innerHTML= skList[i].key; 
                                 }
                            }

                            if(skList[i].command == 'plcc.orn'){
                                var title= document.getElementById('ornTitle');  
                                 if(isMac){
                                     title.innerHTML= skList[i].mac; 
                                 }
                                 else {
                                     title.innerHTML= skList[i].key; 
                                 }
                            }

                            if(skList[i].command == 'plcc.ldr'){
                                var title= document.getElementById('ldrTitle');  
                                 if(isMac){
                                     title.innerHTML= skList[i].mac; 
                                 }
                                 else {
                                     title.innerHTML= skList[i].key; 
                                 }
                            }

                            if(skList[i].command == 'plcc.coil'){
                                var title= document.getElementById('coilTitle');  
                                 if(isMac){
                                     title.innerHTML= skList[i].mac; 
                                 }
                                 else {
                                     title.innerHTML= skList[i].key; 
                                 }
                            }

                            if(skList[i].command == 'plcc.coils'){
                                var title= document.getElementById('coilsTitle');  
                                 if(isMac){
                                     title.innerHTML= skList[i].mac; 
                                 }
                                 else {
                                     title.innerHTML= skList[i].key; 
                                 }
                            }

                            if(skList[i].command == 'plcc.coilr'){
                                var title= document.getElementById('coilrTitle');  
                                 if(isMac){
                                     title.innerHTML= skList[i].mac; 
                                 }
                                 else {
                                     title.innerHTML= skList[i].key; 
                                 }
                            }

                            if(skList[i].command == 'plcc.fb'){
                                var title= document.getElementById('fbTitle');  
                                 if(isMac){
                                     title.innerHTML= skList[i].mac; 
                                 }
                                 else {
                                     title.innerHTML= skList[i].key; 
                                 }
                            }                           

                            if(skList[i].command == 'plcc.branchup'){
                                var title= document.getElementById('branchupTitle');  
                                 if(isMac){
                                     title.innerHTML= skList[i].mac; 
                                 }
                                 else {
                                     title.innerHTML= skList[i].key; 
                                 }
                            }

                            if(skList[i].command == 'plcc.newbranch'){
                                var title= document.getElementById('newbranchTitle');  
                                 if(isMac){
                                     title.innerHTML= skList[i].mac; 
                                 }
                                 else {
                                     title.innerHTML= skList[i].key; 
                                 }
                            }
                            if(skList[i].command == 'plcc.branchdown'){
                                var title= document.getElementById('branchdownTitle');  
                                 if(isMac){
                                     title.innerHTML= skList[i].mac; 
                                 }
                                 else {
                                     title.innerHTML= skList[i].key; 
                                 }
                            }

                            if(skList[i].command == 'plcc.delete'){
                                var title= document.getElementById('deleteTitle');  
                                 if(isMac){
                                     title.innerHTML= skList[i].mac; 
                                 }
                                 else {
                                     title.innerHTML= skList[i].key; 
                                 }
                            }

                        }
                    }
              }
          });
  
          window.onload = function () {
            /* \u63A7\u5236toolbar*/
            GetToolbar();
            Menu_click();
            getScroll();
              var divCanvas = document.getElementById('canvas');
              var H = document.documentElement.clientHeight;
              var W = document.documentElement.clientWidth;
              divCanvas.style.height = (H - 60) + "px";
              vscode.postMessage({
                  command: 'resize',
                  width: W,
                  height: H
              })
          }

        
          window.onresize = function () {
              GetToolbar();
              getScroll();
              var divCanvas = document.getElementById('canvas');
              var H = document.documentElement.clientHeight;
              var W = document.documentElement.clientWidth;
              divCanvas.style.height = (H - 60) + "px";
              vscode.postMessage({
                  command: 'resize',
                  width: W,
                  height: H,
              })
          }
  
        window.onkeyup = function () {
            let event = window.event;
            let keycode = event.keyCode;
            if (keycode == 13) {
                /* Enter */
                if (event.target.id == "") {
                    //do nothing
                } else {
                    vscode.postMessage({
                        command: 'edit',
                        inputId:event.target.id,
                        inputValue:event.target.value,
                    })
                }
            }  
        }

        function selectinput(evt) {
            evt.stopPropagation()
            return false;
        }

        function compinput(id,value) {
            if (id == "") {
                //do nothing
            } else {
                vscode.postMessage({
                    command: 'edit',
                    inputId:id,
                    inputValue:value,
                })
            }
        }

        function M_up() {
            let event = window.event;
            let x = event.offsetX;
            let y = event.offsetY;
            vscode.postMessage({
                command: 'selectitem',
                X: x,
                Y: y,
            })
        }
  
        function M_down() {
            let event = window.event;
            let x = event.offsetX;
            let y = event.offsetY;
            vscode.postMessage({
                command: 'mousedown',
                X: x,
                Y: y
            })
        }

        function M_move() {
            let event = window.event;
            let x = event.offsetX;
            let y = event.offsetY;
            vscode.postMessage({
                command: 'mousemove',
                X: x,
                Y: y
            })
        }

        function M_dblclick() {
            let event = window.event;
            let x = event.offsetX;
            let y = event.offsetY;
            vscode.postMessage({
                command: 'dblclick',
                X: x,
                Y: y
            })
        }

        function Menu_click(){
            var lis= document.getElementsByTagName("li");
            var len = lis.length;

            for(var i=0;i<len;i++){
              lis[i].onclick = function(){  
                vscode.postMessage({
                  command:this.type
                })  
                
                for(var j=0;j<len;j++){
                  lis[j].style.backgroundColor=""; 
                  lis[j].style.opacity="1";
                }                       
                this.style.backgroundColor="#454545"; 
                this.style.borderRadius="3px";
                this.style.opacity="0.8";
              };              
            }
           
            var divCanvas = document.getElementById('canvas');
            divCanvas.onclick= function(){
                for(var j=0;j<len;j++){
                    lis[j].style.backgroundColor=""; 
                    lis[j].style.opacity="1";
                  }    
            }
        }

        function GetToolbar(){
            var W = document.documentElement.clientWidth;
            var nav = document.getElementById('nav');
            var tbLeft = document.getElementById('aright');
            var tbRight = document.getElementById('aleft');

            var tbUL =  document.getElementById('toolbarUL');
            if(W > tbUL.offsetWidth){
                tbLeft.style.display ="none";
                tbRight.style.display ="none";  
            } else {
                tbLeft.style.display ="block";
                tbRight.style.display ="block";
            }
        }

        function getScroll(){
            var toolbar = document.getElementById('toolbar');
            var tbUL =  document.getElementById('toolbarUL');
            var nav = document.getElementById('nav');

            var buttonL = document.getElementById('aright');
            var buttonR = document.getElementById('aleft');

            nav.style.width = tbUL.offsetWidth + "px";

            buttonL.addEventListener("click",(event)=> {
                event.preventDefault();
                toolbar.scrollLeft += 30;
            })

            buttonR.addEventListener("click",(event)=> {
                event.preventDefault();
                toolbar.scrollLeft -= 30;
            })
        }
      </script>
  </head>
  
  <body>
    <span id="aright" class="aright">
    <svg xmlns="http://www.w3.org/2000/svg" version="1.1"> 
        <g
            inkscape:label="Layer 1"
            inkscape:groupmode="layer"
            id="layer1"
            transform="translate(0,0) scale(0.18)">
            <path
                d="m 47.99164,20.917669 41.970254,38.633237 c 1.293229,1.139659 2.044035,2.817924 2.037931,4.54757 -0.0061,1.729647 -0.768738,3.40257 -2.069979,4.533073 L 47.687948,106.96758 c -2.006581,1.88474 -4.873406,2.46919 -7.464441,1.48711 -2.536992,-0.98189 -4.312481,-3.3124 -4.573012,-6.06998 l 0.271644,-76.969259 c 0.225932,-2.75586 2.017833,-5.07377 4.615743,-6.037548 2.597903,-0.963767 5.460531,-0.35909 7.453758,1.539766 z"
                fill="#cccccc"
                p-id="3135"
                id="path87"
                style="stroke-width:0.125" />
        </g>
    </svg>
    </span>
    <span id="aleft" class="aleft">
    <svg xmlns="http://www.w3.org/2000/svg" version="1.1"> 
        <g
            inkscape:label="Layer 1"
            inkscape:groupmode="layer"
            id="layer1"
            transform="translate(0,0) scale(0.18)">
            <path
                d="M 79.946448,107.0245 37.84011,68.539627 c -1.297243,-1.135088 -2.053968,-2.810693 -2.053968,-4.54035 0,-1.729657 0.756725,-3.405262 2.053968,-4.54035 L 79.946448,20.974058 c 1.999916,-1.891811 4.864661,-2.486382 7.459146,-1.513449 2.540441,0.972932 4.324144,3.297157 4.594406,6.053798 v 76.969743 c -0.216204,2.75664 -1.999914,5.08086 -4.594406,6.0538 -2.594485,0.97293 -5.45923,0.37836 -7.459146,-1.51345 z"
                fill="#cccccc"
                p-id="3135"
                id="path87"
                style="stroke-width:0.125" />
        </g>
    </svg>
    </span>
       <div id="toolbar" class="toolbar">
            <div id="nav" class="nav"> <nobr>${r}</nobr></div>
       </div>
       <div id="arrowbar" class="arrowbar"> ${t} </div>       
       <div id="canvas" class="canvas">
            <svg id="ladderSvg" xmlns="http://www.w3.org/2000/svg" version="1.1" onmousemove="M_move()" onclick="M_up()"> </svg>
       </div>
  </body>
  
  </html>`}function cr(r){let t=[];if(r!=null)for(let i=0;i<r.length;i++)switch(r[i].cmd){case"rect":t.push(`<rect transform="${r[i].info.transform}" x="${r[i].info.position.x}" y="${r[i].info.position.y}" rx="${r[i].info.rx}" ry="${r[i].info.ry}" width="${r[i].info.w}" height="${r[i].info.h}" fill="${r[i].info.color}" style ="stroke:${r[i].info.stcolor}; stroke-width:${r[i].info.stwidth}; fill-opacity:${r[i].info.opacity}; stroke-opacity: 1"/>`);break;case"line":t.push(`<line x1="${r[i].info.start.x}" y1="${r[i].info.start.y}" x2="${r[i].info.end.x}" y2="${r[i].info.end.y}" style ="stroke:${r[i].info.color};stroke-width:${r[i].info.linew};stroke-opacity:1; opacity:1"/>`);break;case"text":r[i].info.str!="!!!"?t.push(`<foreignObject onclick="selectinput(evt)" x="${r[i].info.position.x}" y="${r[i].info.position.y}" width="${r[i].info.w}" height="${r[i].info.h}"> <input type="text" id="${r[i].info.id}" onchange="compinput(this.id,this.value)"  style="text-align:${r[i].info.textalign}" value="${r[i].info.str}"/> </foreignObject>`):t.push(`<foreignObject onclick="selectinput(evt)" x="${r[i].info.position.x}" y="${r[i].info.position.y}" width="${r[i].info.w}" height="${r[i].info.h}"> <input type="text" id="${r[i].info.id}" onchange="compinput(this.id,this.value)"  style="text-align:${r[i].info.textalign}; border:solid 1px blue;" value="${r[i].info.str}"/> </foreignObject>`);break;case"label":t.push(`<text alignment-baseline="${r[i].info.alignmentbaseline}" text-anchor="${r[i].info.textanchor}" x="${r[i].info.position.x}"  y="${r[i].info.position.y}" fill="${r[i].info.color}" font-size="${r[i].info.fontsize} " style="stroke:${r[i].info.stcolor}; stroke-width:${r[i].info.stwidth} ">${r[i].info.str}</text>`);break;case"circle":t.push(`<circle cx="${r[i].info.position.x}" cy="${r[i].info.position.y}" r="${r[i].info.r}" fill="${r[i].info.color}" stroke="${r[i].info.stcolor}" stroke-width="${r[i].info.stwidth}"/>`);break;case"path":t.push(`<path d="${r[i].info.d}" fill="${r[i].info.color}" fill-opacity="${r[i].info.opacity}" stroke="${r[i].info.stcolor}" stroke-width="${r[i].info.stwidth}" />`);break;case"ellipse":t.push(`<ellipse rx="${r[i].info.rx}" ry="${r[i].info.ry}" cx="${r[i].info.cx}" cy="${r[i].info.cy}" fill="${r[i].info.color}" stroke="${r[i].info.stcolor}" stroke-width="${r[i].info.stwidth}"/>`);break;default:t.push(`<g class="${r[i].cmd}">`+cr(r[i].info).toString()+"</g>");break}return t}var bt=class{constructor(){this._gWidth=43,this._scale=this._gWidth/128}get toolbarElement(){return this._toorbarElement}set toolbarElement(t){this._toorbarElement=t}get gWidth(){return this._gWidth}set gWidth(t){this._gWidth=t}get scale(){return this._scale}set scale(t){this._scale=t}GenerateSVG(){return this._toorbarElement}};var py=class extends bt{constructor(){super(),this.toolbarElement=`
      <li type="block"> 
      <svg
      version="1.1"
      id="svg17673"
      sodipodi:docname="blockdown.svg"
      inkscape:version="1.2 (dc2aeda, 2022-05-15)"
      xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
      xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
      xmlns="http://www.w3.org/2000/svg"
      xmlns:svg="http://www.w3.org/2000/svg">
     <defs
        id="defs17677" />
     <sodipodi:namedview
        id="namedview17675"
        pagecolor="#ffffff"
        bordercolor="#000000"
        borderopacity="0.25"
        inkscape:showpageshadow="2"
        inkscape:pageopacity="0.0"
        inkscape:pagecheckerboard="0"
        inkscape:deskcolor="#d1d1d1"
        showgrid="false"
        inkscape:zoom="1.5733333"
        inkscape:cx="150"
        inkscape:cy="75.317797"
        inkscape:window-width="1920"
        inkscape:window-height="1027"
        inkscape:window-x="0"
        inkscape:window-y="25"
        inkscape:window-maximized="1"
        inkscape:current-layer="layer1" />
     <title id="blockTitle"></title>  
     <g
        inkscape:label="Layer 1"
        inkscape:groupmode="layer"
        id="layer1"
        transform="translate(0,0) scale(${this.scale})">
       <rect
          rx="2.0539155"
          style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:0.96723902;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
          id="rect2066-3"
          width="118"
          height="7.8244414"
          x="5.158268"
          y="25.773712"
          ry="2.0539155" />
       <rect
          rx="3.8873217"
          style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:1.44421577;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
          id="rect2068-5"
          width="7.8244414"
          height="67.009941"
          x="5.158268"
          y="25.773712"
          ry="3.8873217" />
       <rect
          rx="2.0539155"
          style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:0.70622522;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
          id="rect2066-6-6"
          width="62.907284"
          height="7.8244414"
          x="5.158268"
          y="84.959206"
          ry="2.0539155" />
       <path
          d="m 91.641027,45.398721 c 17.488553,0 31.453953,13.889089 31.492103,31.326772 0.0254,17.463108 -14.05444,31.555707 -31.530269,31.530257 -17.399506,-0.0254 -31.339482,-14.156179 -31.326762,-31.746483 0,-17.119701 14.105317,-31.097833 31.364928,-31.110546 z m 7.059008,38.32219 c 3.675785,0 7.135325,0.01272 10.594875,0 2.45477,-0.01272 3.7521,-1.233736 3.85384,-3.688496 0.0763,-1.729778 0.0254,-3.47227 0.0254,-5.202048 0,-3.968313 -1.03025,-4.998545 -5.03672,-4.998545 h -9.170348 c -0.152628,-0.292538 -0.203506,-0.330697 -0.203506,-0.381567 -0.02544,-3.408678 -0.01272,-6.817357 -0.06361,-10.238758 -0.03816,-2.429316 -1.335474,-3.77753 -3.739364,-3.841121 -2.200368,-0.05089 -4.400754,-0.06361 -6.58841,0 -2.162221,0.06361 -3.421391,1.25917 -3.586739,3.434113 -0.114478,1.615309 -0.06361,3.23061 -0.07633,4.858641 -0.01272,2.009595 0,4.01919 0,6.15597 -3.688496,0 -7.148053,-0.02544 -10.620323,0.01272 -2.403878,0.02544 -3.764807,1.386362 -3.790248,3.764809 -0.02543,1.971439 -0.01274,3.930156 0,5.901595 0.01274,3.039827 1.157426,4.209963 4.171822,4.222685 3.345078,0.01272 6.677444,0 10.086114,0 0.06361,0.546911 0.152635,0.941207 0.152635,1.335483 0.01272,3.065272 -0.05089,6.130549 0.02544,9.195809 0.06361,2.747277 1.399074,3.981027 4.13365,3.993737 1.85697,0.0127 3.701218,0.0127 5.558178,0 3.039827,-0.0127 4.286285,-1.2846 4.286285,-4.362597 0,-3.28148 -0.01272,-6.575684 -0.01272,-10.162432 z"
          p-id="9300"
          data-spm-anchor-id="a313x.7781069.0.i0"
          class="selected"
          id="path921-7-2"
          inkscape:connector-curvature="0"
          style="fill:#dddddd;stroke-width:0.12735094;fill-opacity:1" />
       <path
          inkscape:connector-curvature="0"
          id="path844"
          style="font-style:normal;font-weight:normal;font-size:26.08147049px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#dddddd;fill-opacity:1;stroke:none;stroke-width:0.65203679"
          d="m 32.902434,48.950707 h 2.687105 v 3.234714 h -2.687105 z" />
       <path
          inkscape:connector-curvature="0"
          id="path846"
          style="font-style:normal;font-weight:normal;font-size:26.08147049px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#dddddd;fill-opacity:1;stroke:none;stroke-width:0.65203679"
          d="m 41.192979,48.950707 h 2.687105 v 3.234714 h -2.687105 z" />
       <path
          inkscape:connector-curvature="0"
          id="path848"
          style="font-style:normal;font-weight:normal;font-size:26.08147049px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#dddddd;fill-opacity:1;stroke:none;stroke-width:0.65203679"
          d="m 49.483525,48.950707 h 2.687105 v 3.234714 h -2.687105 z" />
       <path
          inkscape:connector-curvature="0"
          id="path850"
          style="font-style:normal;font-weight:normal;font-size:26.08147049px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#dddddd;fill-opacity:1;stroke:none;stroke-width:0.65203679"
          d="m 57.774072,48.950707 h 2.687104 v 3.234714 h -2.687104 z" />
       <path
          inkscape:connector-curvature="0"
          id="path852"
          style="font-style:normal;font-weight:normal;font-size:26.08147049px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#dddddd;fill-opacity:1;stroke:none;stroke-width:0.65203679"
          d="m 66.064614,48.950707 h 2.687105 v 3.234714 h -2.687105 z" />
       <path
          inkscape:connector-curvature="0"
          id="path835"
          style="font-style:normal;font-weight:normal;font-size:26.08147049px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#dddddd;fill-opacity:1;stroke:none;stroke-width:0.65203679"
          d="m 40.916705,66.080495 h 2.687105 v 3.234713 h -2.687105 z" />
       <path
          inkscape:connector-curvature="0"
          id="path837"
          style="font-style:normal;font-weight:normal;font-size:26.08147049px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#dddddd;fill-opacity:1;stroke:none;stroke-width:0.65203679"
          d="m 49.207252,66.080495 h 2.687104 v 3.234713 h -2.687104 z" />
       <path
          style="fill:#dddddd;fill-opacity:1;stroke-width:0.195312"
          inkscape:connector-curvature="0"
          d="M 37.675126,64.468863 35.933864,62.91434 26.339007,71.480467 16.7441,62.91434 l -1.741259,1.554523 11.081128,9.89305 h 0.510023 z"
          p-id="6303"
          id="path46280" />
       <rect
          style="vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
          id="rect50780"
          width="2.1465738"
          height="22.475895"
          x="25.261894"
          y="49.129612" />
     </g>
   </svg>
   </li>`}};var gy=class extends bt{constructor(){super(),this.toolbarElement=`
        <li type="blockinsertup">
            <svg version="1.1" id="svg415"
               sodipodi:docname="blockup.svg"
               inkscape:version="1.2 (dc2aeda, 2022-05-15)"
               xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
               xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
               xmlns="http://www.w3.org/2000/svg"
               xmlns:svg="http://www.w3.org/2000/svg">
               <defs
                  id="defs419" />
               <sodipodi:namedview
                  id="namedview417"
                  pagecolor="#ffffff"
                  bordercolor="#000000"
                  borderopacity="0.25"
                  inkscape:showpageshadow="2"
                  inkscape:pageopacity="0.0"
                  inkscape:pagecheckerboard="0"
                  inkscape:deskcolor="#d1d1d1"
                  showgrid="false"
                  inkscape:zoom="2.0614559"
                  inkscape:cx="63.062227"
                  inkscape:cy="75.917219"
                  inkscape:window-width="1920"
                  inkscape:window-height="1027"
                  inkscape:window-x="0"
                  inkscape:window-y="25"
                  inkscape:window-maximized="0"
                  inkscape:current-layer="layer1" />
                  <title id="blockinsertupTitle"></title>
               <g
                  inkscape:label="Layer 1"
                  inkscape:groupmode="layer"
                  id="layer1"
                  transform="translate(0,0) scale(${this.scale})">
                  <rect
                     rx="2.0539155"
                     style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:0.96723902;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                     id="rect2066-3"
                     width="118"
                     height="7.8244414"
                     x="5.158268"
                     y="25.773712"
                     ry="2.0539155" />
                  <rect
                     rx="3.8873217"
                     style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:1.44421577;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                     id="rect2068-5"
                     width="7.8244414"
                     height="67.009941"
                     x="5.158268"
                     y="25.773712"
                     ry="3.8873217" />
                  <rect
                     rx="2.0539155"
                     style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:0.70622522;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                     id="rect2066-6-6"
                     width="62.907284"
                     height="7.8244414"
                     x="5.158268"
                     y="84.959206"
                     ry="2.0539155" />
                  <path
                     d="m 91.641027,45.398721 c 17.488553,0 31.453953,13.889089 31.492103,31.326772 0.0254,17.463108 -14.05444,31.555707 -31.530269,31.530257 -17.399506,-0.0254 -31.339482,-14.156179 -31.326762,-31.746483 0,-17.119701 14.105317,-31.097833 31.364928,-31.110546 z m 7.059008,38.32219 c 3.675785,0 7.135325,0.01272 10.594875,0 2.45477,-0.01272 3.7521,-1.233736 3.85384,-3.688496 0.0763,-1.729778 0.0254,-3.47227 0.0254,-5.202048 0,-3.968313 -1.03025,-4.998545 -5.03672,-4.998545 h -9.170348 c -0.152628,-0.292538 -0.203506,-0.330697 -0.203506,-0.381567 -0.02544,-3.408678 -0.01272,-6.817357 -0.06361,-10.238758 -0.03816,-2.429316 -1.335474,-3.77753 -3.739364,-3.841121 -2.200368,-0.05089 -4.400754,-0.06361 -6.58841,0 -2.162221,0.06361 -3.421391,1.25917 -3.586739,3.434113 -0.114478,1.615309 -0.06361,3.23061 -0.07633,4.858641 -0.01272,2.009595 0,4.01919 0,6.15597 -3.688496,0 -7.148053,-0.02544 -10.620323,0.01272 -2.403878,0.02544 -3.764807,1.386362 -3.790248,3.764809 -0.02543,1.971439 -0.01274,3.930156 0,5.901595 0.01274,3.039827 1.157426,4.209963 4.171822,4.222685 3.345078,0.01272 6.677444,0 10.086114,0 0.06361,0.546911 0.152635,0.941207 0.152635,1.335483 0.01272,3.065272 -0.05089,6.130549 0.02544,9.195809 0.06361,2.747277 1.399074,3.981027 4.13365,3.993737 1.85697,0.0127 3.701218,0.0127 5.558178,0 3.039827,-0.0127 4.286285,-1.2846 4.286285,-4.362597 0,-3.28148 -0.01272,-6.575684 -0.01272,-10.162432 z"
                     p-id="9300"
                     data-spm-anchor-id="a313x.7781069.0.i0"
                     class="selected"
                     id="path921-7-2"
                     inkscape:connector-curvature="0"
                     style="fill:#dddddd;stroke-width:0.12735094;fill-opacity:1" />
                  <path
                     inkscape:connector-curvature="0"
                     id="path846"
                     style="font-style:normal;font-weight:normal;font-size:26.08147049px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#dddddd;fill-opacity:1;stroke:none;stroke-width:0.65203679"
                     d="m 41.192979,48.950707 h 2.687105 v 3.234714 h -2.687105 z" />
                  <path
                     inkscape:connector-curvature="0"
                     id="path848"
                     style="font-style:normal;font-weight:normal;font-size:26.08147049px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#dddddd;fill-opacity:1;stroke:none;stroke-width:0.65203679"
                     d="m 49.483525,48.950707 h 2.687105 v 3.234714 h -2.687105 z" />
                  <path
                     inkscape:connector-curvature="0"
                     id="path850"
                     style="font-style:normal;font-weight:normal;font-size:26.08147049px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#dddddd;fill-opacity:1;stroke:none;stroke-width:0.65203679"
                     d="m 57.774072,48.950707 h 2.687104 v 3.234714 h -2.687104 z" />
                  <path
                     inkscape:connector-curvature="0"
                     id="path852"
                     style="font-style:normal;font-weight:normal;font-size:26.08147049px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#dddddd;fill-opacity:1;stroke:none;stroke-width:0.65203679"
                     d="m 66.064614,48.950707 h 2.687105 v 3.234714 h -2.687105 z" />
                  <path
                     inkscape:connector-curvature="0"
                     id="path833"
                     style="font-style:normal;font-weight:normal;font-size:26.08147049px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#dddddd;fill-opacity:1;stroke:none;stroke-width:0.65203679"
                     d="m 32.626161,66.080495 h 2.687104 v 3.234713 h -2.687104 z" />
                  <path
                     inkscape:connector-curvature="0"
                     id="path835"
                     style="font-style:normal;font-weight:normal;font-size:26.08147049px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#dddddd;fill-opacity:1;stroke:none;stroke-width:0.65203679"
                     d="m 40.916705,66.080495 h 2.687105 v 3.234713 h -2.687105 z" />
                  <path
                     inkscape:connector-curvature="0"
                     id="path837"
                     style="font-style:normal;font-weight:normal;font-size:26.08147049px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#dddddd;fill-opacity:1;stroke:none;stroke-width:0.65203679"
                     d="m 49.207252,66.080495 h 2.687104 v 3.234713 h -2.687104 z" />
                  <rect
                     style="fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                     id="rect50780"
                     width="2.1465738"
                     height="22.475895"
                     x="25.281137"
                     y="47.399982" />
                  <path
                     style="fill:#dddddd;fill-opacity:1;stroke-width:0.195312"
                     inkscape:connector-curvature="0"
                     d="m 15.46331,54.634912 1.74496,1.550371 9.574426,-8.588958 9.615284,8.543248 1.737551,-1.558666 -11.104662,-9.866627 -0.510021,0.0012 z"
                     p-id="6303"
                     id="path46280" />
               </g>
         </svg>
     </li>    
        `}};var my=class extends bt{constructor(){super(),this.toolbarElement=`
        <li type="branchdown">            
            <svg xmlns="http://www.w3.org/2000/svg" version="1.1"> 
                <title id="branchdownTitle"></title>
                <g
                inkscape:label="Layer 1"
                inkscape:groupmode="layer"
                id="layer1"
                transform="translate(0,0) scale(${this.scale})">
                <rect
                    style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:2.49359632;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                    id="rect9525"
                    width="35.67564"
                    height="6"
                    x="16.631975"
                    y="58.023823" />
                <ellipse
                    style="opacity:1;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke:#dddddd;stroke-width:1;stroke-opacity:1;paint-order:stroke fill markers"
                    id="path9529"
                    cx="59.972847"
                    cy="60.761124"
                    rx="9.2040224"
                    ry="9.4268513" />
                <rect
                    style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:2.49359632;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                    id="rect9533"
                    width="3"
                    height="15.319409"
                    x="58.526787"
                    y="37.184048" />
                <rect
                    style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:2.49359632;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                    id="rect9535"
                    width="44.318527"
                    height="3"
                    x="58.526787"
                    y="34.184048" />
                <path
                    style="stroke-width:0.1953125;fill:#dddddd;fill-opacity:1"
                    inkscape:connector-curvature="0"
                    d="m 96.791086,59.781393 -1.741262,-1.554523 -9.594857,8.566127 -9.594907,-8.566127 -1.741259,1.554523 11.081128,9.89305 h 0.510023 z"
                    p-id="6303"
                    id="path46280" />
                <rect
                    style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:2.49359632;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                    id="rect50780"
                    width="2.1465738"
                    height="22.475895"
                    x="84.377853"
                    y="44.442142" />
                <path
                    d="m 76.861358,91.801553 h -2 c -0.828428,0 -1.499999,0.67157 -1.499999,1.5 0,0.82843 0.671571,1.5 1.499999,1.5 h 2 c 0.828428,0 1.499999,-0.67157 1.499999,-1.5 0,-0.82843 -0.671571,-1.5 -1.499999,-1.5 z m 16,0 h -3 c -0.828427,0 -1.499999,0.67157 -1.499999,1.5 0,0.82843 0.671572,1.5 1.499999,1.5 h 3 c 0.828429,0 1.5,-0.67157 1.5,-1.5 0,-0.82843 -0.671571,-1.5 -1.5,-1.5 z m -8,0 h -3 c -0.828428,0 -1.5,0.67157 -1.5,1.5 0,0.82843 0.671572,1.5 1.5,1.5 h 3 c 0.828427,0 1.499999,-0.67157 1.499999,-1.5 0,-0.82843 -0.671572,-1.5 -1.499999,-1.5 z m 15.999992,0 h -2.999991 c -0.828429,0 -1.5,0.67157 -1.5,1.5 0,0.82843 0.671571,1.5 1.5,1.5 h 2.999991 c 0.82843,0 1.5,-0.67157 1.5,-1.5 0,-0.82843 -0.67157,-1.5 -1.5,-1.5 z"
                    p-id="3429"
                    id="path19044"
                    inkscape:connector-curvature="0"
                    style="fill:#dddddd;stroke-width:0.1953125;fill-opacity:1"
                    sodipodi:nodetypes="ssssssssssssssssssssssssssss" />
                <path
                    inkscape:connector-curvature="0"
                    style="fill:#dddddd;stroke-width:0.1953125;opacity:0.591;fill-opacity:1"
                    d="m 45.110566,81.54166 m 0.13889,0 h 23.37777 q 0.13889,0 0.13889,0.13889 v 23.37778 q 0,0.13889 -0.13889,0.13889 h -23.37777 q -0.13889,0 -0.13889,-0.13889 V 81.68055 q 0,-0.13889 0.13889,-0.13889 z"
                    p-id="6112"
                    id="path28184" />
                <path
                    inkscape:connector-curvature="0"
                    style="fill:#999999;stroke-width:0.1953125"
                    d="m 68.349456,81.95833 v 22.82222 H 45.527226 V 81.95833 h 22.82223 m 0.27777,-0.83333 h -23.37777 a 0.55555556,0.55555556 0 0 0 -0.55556,0.55555 v 23.37778 a 0.55555556,0.55555556 0 0 0 0.55556,0.55555 h 23.37777 a 0.55555556,0.55555556 0 0 0 0.55556,-0.55555 V 81.68055 A 0.55555556,0.55555556 0 0 0 68.627226,81.125 Z"
                    p-id="6113"
                    id="path28186" />
                <path
                    inkscape:connector-curvature="0"
                    style="fill:#dddddd;stroke-width:0.1953125;fill-opacity:1"
                    d="m 39.599456,76.03055 m 0.13889,0 h 23.37777 q 0.13889,0 0.13889,0.13889 v 23.377783 q 0,0.13889 -0.13889,0.13889 h -23.37777 q -0.13889,0 -0.13889,-0.13889 V 76.16944 q 0,-0.13889 0.13889,-0.13889 z"
                    p-id="6114"
                    id="path28188" />
                <path
                    inkscape:connector-curvature="0"
                    style="fill:#999999;stroke-width:0.1953125;stroke:#dddddd;stroke-opacity:1"
                    d="M 62.838346,76.44722 V 99.26944 H 40.016116 V 76.44722 h 22.82223 m 0.27777,-0.83333 h -23.37777 a 0.55555556,0.55555556 0 0 0 -0.55556,0.55555 v 23.377783 a 0.55555556,0.55555556 0 0 0 0.55556,0.555547 h 23.37777 a 0.55555556,0.55555556 0 0 0 0.55556,-0.555547 V 76.16944 a 0.55555556,0.55555556 0 0 0 -0.55556,-0.55555 z"
                    p-id="6115"
                    id="path28190" />
                <path
                    inkscape:connector-curvature="0"
                    style="fill:#808080;stroke-width:0.1953125"
                    d="m 50.574456,84.375 h 0.83333 v 5.95833 h -0.83333 z"
                    p-id="6116"
                    id="path28192" />
                <path
                    inkscape:connector-curvature="0"
                    style="fill:#808080;stroke-width:0.1953125"
                    d="m 47.438346,89.68889 -0.83334,-0.0389 c 0.10833,-2.26945 0.91945,-4.975 4.16667,-4.975 v 0.83333 c -0.75556,0 -3.13611,0 -3.33333,4.18056 z"
                    p-id="6118"
                    id="path28196" />
                <path
                    inkscape:connector-curvature="0"
                    style="fill:#808080;stroke-width:0.1953125"
                    d="m 54.338346,92.28333 c -0.19723,-4.18056 -2.56667,-4.18056 -3.33334,-4.18056 v -0.83333 c 3.25833,0 4.07222,2.70556 4.16667,4.975 z"
                    p-id="6120"
                    id="path28200" />
                <path
                    inkscape:connector-curvature="0"
                    style="fill:#b3b3b3;stroke-width:0.1953125;fill-opacity:1"
                    d="m 51.107786,82.02222 m -2.16389,0 a 2.16389,2.16389 0 1 0 4.32778,0 2.16389,2.16389 0 1 0 -4.32778,0 z"
                    p-id="6121"
                    id="path28202" />
                <path
                    inkscape:connector-curvature="0"
                    style="fill:#808080;stroke-width:0.1953125"
                    d="m 51.107786,84.60277 a 2.5805556,2.5805556 0 1 1 2.58056,-2.58055 2.5833334,2.5833334 0 0 1 -2.58056,2.58055 z m 0,-4.32777 a 1.7472222,1.7472222 0 1 0 1.74722,1.74722 1.75,1.75 0 0 0 -1.74722,-1.74722 z"
                    p-id="6122"
                    id="path28204" />
                <path
                    inkscape:connector-curvature="0"
                    style="fill:#b3b3b3;stroke-width:0.1953125;fill-opacity:1"
                    d="m 46.905006,91.11388 m -1.68055,0 a 1.6805556,1.6805556 0 1 0 3.36111,0 1.6805556,1.6805556 0 1 0 -3.36111,0 z"
                    p-id="6123"
                    id="path28206" />
                <path
                    inkscape:connector-curvature="0"
                    style="fill:#808080;stroke-width:0.1953125"
                    d="m 46.905006,93.21111 a 2.0972222,2.0972222 0 1 1 2.09722,-2.09723 2.1,2.1 0 0 1 -2.09722,2.09723 z m 0,-3.36111 a 1.2638889,1.2638889 0 1 0 1.26389,1.26388 1.2666667,1.2666667 0 0 0 -1.26389,-1.26388 z"
                    p-id="6124"
                    id="path28208" />
                <path
                    inkscape:connector-curvature="0"
                    style="fill:#b3b3b3;stroke-width:0.1953125;fill-opacity:1"
                    d="m 54.755006,93.90277 m -1.68055,0 a 1.6805556,1.6805556 0 1 0 3.36111,0 1.6805556,1.6805556 0 1 0 -3.36111,0 z"
                    p-id="6125"
                    id="path28210" />
                <path
                    inkscape:connector-curvature="0"
                    style="fill:#808080;stroke-width:0.1953125"
                    d="M 54.755006,96 A 2.0972222,2.0972222 0 1 1 56.852226,93.90277 2.1,2.1 0 0 1 54.755006,96 Z m 0,-3.36111 a 1.2638889,1.2638889 0 1 0 1.26389,1.26388 1.2666667,1.2666667 0 0 0 -1.26389,-1.26666 z"
                    p-id="6126"
                    id="path28212" />
            </g>
        </svg>
     </li>    
        `}};var yy=class extends bt{constructor(){super(),this.toolbarElement=`
        <li type="newbranch">
             <svg xmlns="http://www.w3.org/2000/svg" version="1.1"> 
                <title id="newbranchTitle"></title>
                <g
                    inkscape:label="Layer 1"
                    inkscape:groupmode="layer"
                    id="layer1"
                    transform="translate(0,0) scale(${this.scale})">
                    <rect
                        style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:2.49359632;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                        id="rect9525"
                        width="90"
                        height="6"
                        x="19.131975"
                        y="45.733482" />
                    <ellipse
                        style="opacity:1;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:1;stroke-opacity:1;paint-order:stroke fill markers"
                        id="path9529"
                        cx="64.062134"
                        cy="48.707554"
                        rx="9.2040224"
                        ry="9.4268513" />
                    <rect
                        style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:2.49359632;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                        id="rect9533"
                        width="3"
                        height="28.667624"
                        x="62.490185"
                        y="58.126877" />
                    <rect
                        style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:2.49359632;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                        id="rect9535"
                        width="37.499996"
                        height="3"
                        x="65.490189"
                        y="83.794502" />
                </g>
            </svg>
        </li>
        `}};var vy=class extends bt{constructor(){super(),this.toolbarElement=`
        <li type="branchup">
            <svg xmlns="http://www.w3.org/2000/svg" version="1.1"> 
                <title id="branchupTitle"></title>
                <g inkscape:label="Layer 1"
                    inkscape:groupmode="layer"
                    id="layer1"
                    transform="translate(0,0) scale(${this.scale})">
                        <rect
                        style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:2.49359632;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                        id="rect9525"
                        width="35.67564"
                        height="6"
                        x="16.631975"
                        y="58.023823" />
                        <ellipse
                        style="opacity:1;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke:#dddddd;stroke-width:1;stroke-opacity:1;paint-order:stroke fill markers"
                        id="path9529"
                        cx="59.972847"
                        cy="60.761124"
                        rx="9.2040224"
                        ry="9.4268513" />
                        <rect
                        style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:2.49359632;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                        id="rect9533"
                        width="3"
                        height="15.319409"
                        x="58.503349"
                        y="70.504364" />
                        <rect
                        style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:2.49359632;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                        id="rect9535"
                        width="44.318527"
                        height="3"
                        x="58.503349"
                        y="85.823776" />
                        <path
                        style="stroke-width:0.1953125;fill:#dddddd;fill-opacity:1"
                        inkscape:connector-curvature="0"
                        d="m 73.765575,62.617662 1.74496,1.550371 9.574426,-8.588958 9.615284,8.543248 1.737551,-1.558666 -11.104662,-9.866627 -0.510021,0.0012 z"
                        p-id="6303"
                        id="path46280" />
                        <rect
                        style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:2.49359632;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                        id="rect50780"
                        width="2.1465738"
                        height="22.475895"
                        x="84.068497"
                        y="55.490688" />
                        <path
                        d="m 77.745242,33.294802 h -2 c -0.828428,0 -1.499999,0.67157 -1.499999,1.5 0,0.82843 0.671571,1.5 1.499999,1.5 h 2 c 0.828428,0 1.499999,-0.67157 1.499999,-1.5 0,-0.82843 -0.671571,-1.5 -1.499999,-1.5 z m 16,0 h -3 c -0.828427,0 -1.499999,0.67157 -1.499999,1.5 0,0.82843 0.671572,1.5 1.499999,1.5 h 3 c 0.828429,0 1.5,-0.67157 1.5,-1.5 0,-0.82843 -0.671571,-1.5 -1.5,-1.5 z m -8,0 h -3 c -0.828428,0 -1.5,0.67157 -1.5,1.5 0,0.82843 0.671572,1.5 1.5,1.5 h 3 c 0.828427,0 1.499999,-0.67157 1.499999,-1.5 0,-0.82843 -0.671572,-1.5 -1.499999,-1.5 z m 15.999988,0 h -2.999987 c -0.828429,0 -1.5,0.67157 -1.5,1.5 0,0.82843 0.671571,1.5 1.5,1.5 h 2.999987 c 0.82843,0 1.5,-0.67157 1.5,-1.5 0,-0.82843 -0.67157,-1.5 -1.5,-1.5 z"
                        p-id="3429"
                        id="path19044"
                        inkscape:connector-curvature="0"
                        style="fill:#dddddd;fill-opacity:1;stroke-width:0.1953125"
                        sodipodi:nodetypes="ssssssssssssssssssssssssssss" />
                        <path
                        inkscape:connector-curvature="0"
                        style="opacity:0.59100001;fill:#dddddd;fill-opacity:1;stroke-width:0.1953125"
                        d="m 45.994451,23.03491 m 0.13889,0 H 69.51111 q 0.13889,0 0.13889,0.13889 v 23.377779 q 0,0.13889 -0.13889,0.13889 H 46.133341 q -0.13889,0 -0.13889,-0.13889 V 23.1738 q 0,-0.13889 0.13889,-0.13889 z"
                        p-id="6112"
                        id="path28184" />
                        <path
                        inkscape:connector-curvature="0"
                        style="fill:#999999;stroke-width:0.1953125"
                        d="M 69.23334,23.45158 V 46.273799 H 46.411111 V 23.45158 H 69.23334 m 0.27777,-0.83333 H 46.133341 a 0.55555556,0.55555556 0 0 0 -0.55556,0.55555 v 23.377779 a 0.55555556,0.55555556 0 0 0 0.55556,0.55555 H 69.51111 a 0.55555556,0.55555556 0 0 0 0.55556,-0.55555 V 23.1738 a 0.55555556,0.55555556 0 0 0 -0.55556,-0.55555 z"
                        p-id="6113"
                        id="path28186" />
                        <path
                        inkscape:connector-curvature="0"
                        style="fill:#dddddd;fill-opacity:1;stroke-width:0.1953125"
                        d="m 40.483341,17.5238 m 0.13889,0 H 64 q 0.13889,0 0.13889,0.13889 v 23.377782 q 0,0.13889 -0.13889,0.13889 H 40.622231 q -0.13889,0 -0.13889,-0.13889 V 17.66269 q 0,-0.13889 0.13889,-0.13889 z"
                        p-id="6114"
                        id="path28188" />
                        <path
                        inkscape:connector-curvature="0"
                        style="fill:#999999;stroke:#dddddd;stroke-width:0.1953125;stroke-opacity:1"
                        d="M 63.72223,17.94047 V 40.762689 H 40.900001 V 17.94047 H 63.72223 M 64,17.10714 H 40.622231 a 0.55555556,0.55555556 0 0 0 -0.55556,0.55555 v 23.377782 a 0.55555556,0.55555556 0 0 0 0.55556,0.555547 H 64 a 0.55555556,0.55555556 0 0 0 0.55556,-0.555547 V 17.66269 A 0.55555556,0.55555556 0 0 0 64,17.10714 Z"
                        p-id="6115"
                        id="path28190" />
                        <path
                        inkscape:connector-curvature="0"
                        style="fill:#808080;stroke-width:0.1953125"
                        d="m 51.45834,25.86825 h 0.83333 v 5.958329 h -0.83333 z"
                        p-id="6116"
                        id="path28192" />
                        <path
                        inkscape:connector-curvature="0"
                        style="fill:#808080;stroke-width:0.1953125"
                        d="m 48.322231,31.182139 -0.83334,-0.0389 c 0.10833,-2.26945 0.91945,-4.974999 4.166669,-4.974999 v 0.83333 c -0.75556,0 -3.136109,0 -3.333329,4.180559 z"
                        p-id="6118"
                        id="path28196" />
                        <path
                        inkscape:connector-curvature="0"
                        style="fill:#808080;stroke-width:0.1953125"
                        d="m 55.22223,33.776579 c -0.19723,-4.18056 -2.56667,-4.18056 -3.33334,-4.18056 v -0.83333 c 3.25833,0 4.07222,2.70556 4.16667,4.975 z"
                        p-id="6120"
                        id="path28200" />
                        <path
                        inkscape:connector-curvature="0"
                        style="fill:#b3b3b3;fill-opacity:1;stroke-width:0.1953125"
                        d="m 51.99167,23.51547 m -2.163889,0 a 2.16389,2.16389 0 1 0 4.327779,0 2.16389,2.16389 0 1 0 -4.327779,0 z"
                        p-id="6121"
                        id="path28202" />
                        <path
                        inkscape:connector-curvature="0"
                        style="fill:#808080;stroke-width:0.1953125"
                        d="m 51.99167,26.09602 a 2.5805556,2.5805556 0 1 1 2.58056,-2.58055 2.5833334,2.5833334 0 0 1 -2.58056,2.58055 z m 0,-4.32777 a 1.7472222,1.7472222 0 1 0 1.74722,1.74722 1.75,1.75 0 0 0 -1.74722,-1.74722 z"
                        p-id="6122"
                        id="path28204" />
                        <path
                        inkscape:connector-curvature="0"
                        style="fill:#b3b3b3;fill-opacity:1;stroke-width:0.1953125"
                        d="m 47.788891,32.607129 m -1.68055,0 a 1.6805556,1.6805556 0 1 0 3.36111,0 1.6805556,1.6805556 0 1 0 -3.36111,0 z"
                        p-id="6123"
                        id="path28206" />
                        <path
                        inkscape:connector-curvature="0"
                        style="fill:#808080;stroke-width:0.1953125"
                        d="m 47.788891,34.704359 a 2.0972222,2.0972222 0 1 1 2.09722,-2.09723 2.1,2.1 0 0 1 -2.09722,2.09723 z m 0,-3.36111 a 1.2638889,1.2638889 0 1 0 1.26389,1.26388 1.2666667,1.2666667 0 0 0 -1.26389,-1.26388 z"
                        p-id="6124"
                        id="path28208" />
                        <path
                        inkscape:connector-curvature="0"
                        style="fill:#b3b3b3;fill-opacity:1;stroke-width:0.1953125"
                        d="m 55.63889,35.396019 m -1.68055,0 a 1.6805556,1.6805556 0 1 0 3.36111,0 1.6805556,1.6805556 0 1 0 -3.36111,0 z"
                        p-id="6125"
                        id="path28210" />
                        <path
                        inkscape:connector-curvature="0"
                        style="fill:#808080;stroke-width:0.1953125"
                        d="m 55.63889,37.493249 a 2.0972222,2.0972222 0 1 1 2.09722,-2.09723 2.1,2.1 0 0 1 -2.09722,2.09723 z m 0,-3.36111 a 1.2638889,1.2638889 0 1 0 1.26389,1.26388 1.2666667,1.2666667 0 0 0 -1.26389,-1.26666 z"
                        p-id="6126"
                        id="path28212" />
                </g>
            </svg>
        </li>
        `}};var by=class extends bt{constructor(){super(),this.toolbarElement=`
        <li type="coil">
            <svg xmlns="http://www.w3.org/2000/svg" version="1.1"> 
                <title id="coilTitle"></title>
                <g
                    inkscape:label="Layer 1"
                    inkscape:groupmode="layer"
                    id="layer1"
                    transform="translate(0,0) scale(${this.scale})">
                    <rect
                        style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:1.0072335;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:0.94117647"
                        id="rect1715-7-6-3-1"
                        width="20"
                        height="5.4000001"
                        x="94.054001"
                        y="61.077" />
                    <rect
                        style="display:inline;opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:1.0072335;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:0.94117647"
                        id="rect1715-7-6-3-1-9"
                        width="20"
                        height="5.4000001"
                        x="15.448"
                        y="61.077" />
                    <path
                        inkscape:connector-curvature="0"
                        id="path4541"
                        style="font-style:normal;font-variant:normal;font-weight:600;font-stretch:normal;font-size:61.28886414px;line-height:1.25;font-family:'URW Bookman';-inkscape-font-specification:'URW Bookman Semi-Bold';letter-spacing:0px;word-spacing:0px;fill:#dddddd;fill-opacity:1"
                        d="m 50.977568,38.322113 c -4.542347,0 -7.592207,1.215626 -10.836741,4.225749 -3.049861,2.89435 -4.801909,8.393614 -4.801909,15.397939 v 12.387815 c 0,6.309681 1.427594,11.51951 4.023221,14.529633 3.244533,3.588993 6.748629,5.094055 11.615429,5.094055 V 85.210571 C 46.30544,84.168605 44.683174,80.521725 44.29383,70.159955 V 58.119462 c 0.389344,-10.361771 2.01161,-14.00865 6.683738,-15.108504 z" />
                    <path
                        inkscape:connector-curvature="0"
                        id="path4543"
                        style="font-style:normal;font-variant:normal;font-weight:600;font-stretch:normal;font-size:61.28886414px;line-height:1.25;font-family:'URW Bookman';-inkscape-font-specification:'URW Bookman Semi-Bold';letter-spacing:0px;word-spacing:0px;fill:#dddddd;fill-opacity:1;stroke:none;stroke-width:2;stroke-opacity:0.94117647"
                        d="m 78.282563,42.458996 c 4.672127,1.099854 6.294393,4.746733 6.683738,15.108504 v 12.040493 c -0.389345,10.36177 -2.011611,14.00865 -6.683738,15.050616 v 4.746733 c 4.607236,0 7.592207,-1.15774 10.901631,-4.22575 3.04986,-2.894349 4.801909,-8.393613 4.801909,-15.397938 V 57.393839 c 0,-6.309682 -1.427595,-11.51951 -4.023222,-14.529634 -3.244533,-3.588992 -6.748629,-5.094054 -11.680318,-5.094054 z" />
                    <flowRoot
                        xml:space="preserve"
                        id="flowRoot824"
                        style="fill:black;fill-opacity:1;stroke:none;font-family:sans-serif;font-style:normal;font-weight:normal;font-size:40px;line-height:1.25;letter-spacing:0px;word-spacing:0px"><flowRegion
                            id="flowRegion826"><rect
                            id="rect828"
                            width="123.92857"
                            height="86.428574"
                            x="-167.14285"
                            y="-37.357143" /></flowRegion><flowPara
                            id="flowPara830" /></flowRoot>  
                </g>
            </svg>
        </li>
        `}};var Sy=class extends bt{constructor(){super(),this.toolbarElement=`
        <li type="coilr">
            <svg xmlns="http://www.w3.org/2000/svg" version="1.1"> 
                <title id="coilrTitle"></title>
                <g
                    inkscape:label="Layer 1"
                    inkscape:groupmode="layer"
                    id="layer1"
                    transform="translate(0,0) scale(${this.scale})">
                    <rect
                        style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:1.0072335;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                        id="rect1715-7-6-3-1"
                        width="20.000031"
                        height="5.4000001"
                        x="94.054001"
                        y="61.077" />
                    <rect
                        style="display:inline;opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:1.0072335;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                        id="rect1715-7-6-3-1-9"
                        width="20.000031"
                        height="5.4000001"
                        x="15.448"
                        y="61.077" />
                    <path
                        inkscape:connector-curvature="0"
                        id="path826"
                        style="font-style:normal;font-variant:normal;font-weight:600;font-stretch:normal;font-size:61.28886414px;line-height:1.25;font-family:'URW Bookman';-inkscape-font-specification:'URW Bookman Semi-Bold';letter-spacing:0px;word-spacing:0px;fill:#dddddd;fill-opacity:1;stroke:none;stroke-width:2;stroke-opacity:1"
                        d="m 51.150609,37.952552 c -4.542347,0 -7.592207,1.215626 -10.836741,4.225749 -3.049861,2.89435 -4.801909,8.393614 -4.801909,15.397939 v 12.387815 c 0,6.309681 1.427594,11.51951 4.023221,14.529633 3.244533,3.588993 6.748629,5.094055 11.615429,5.094055 V 84.84101 C 46.478481,83.799044 44.856215,80.152164 44.466871,69.790394 V 57.749901 c 0.389344,-10.361771 2.01161,-14.00865 6.683738,-15.108504 z" />
                    <path
                        inkscape:connector-curvature="0"
                        id="path828"
                        style="font-style:normal;font-variant:normal;font-weight:600;font-stretch:normal;font-size:61.28886414px;line-height:1.25;font-family:'URW Bookman';-inkscape-font-specification:'URW Bookman Semi-Bold';letter-spacing:0px;word-spacing:0px;fill:#dddddd;fill-opacity:1;stroke:none;stroke-width:2;stroke-opacity:1"
                        d="m 78.301481,42.879273 c 4.672128,1.099854 6.294394,4.746733 6.683739,15.108504 V 70.02827 c -0.389345,10.36177 -2.011611,14.00865 -6.683739,15.050616 v 4.746733 c 4.607237,0 7.592208,-1.15774 10.901632,-4.22575 3.04986,-2.894349 4.801909,-8.393613 4.801909,-15.397938 V 57.814116 c 0,-6.309682 -1.427595,-11.51951 -4.023222,-14.529634 -3.244533,-3.588992 -6.748629,-5.094054 -11.680319,-5.094054 z" />
                    <g
                        aria-label="R"
                        style="font-style:normal;font-weight:normal;font-size:40px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#dddddd;fill-opacity:1;stroke:none"
                        id="text9389-9">
                        <path
                            d="m 71.351939,65.128835 c 4.2,-0.96 6.68,-3.72 6.68,-7.4 0,-2.52 -1.48,-4.92 -3.68,-5.96 -1.96,-0.92 -4.4,-1.32 -8.2,-1.32 h -15.56 v 3.28 l 0.8,0.08 c 2.32,0.32 2.76,0.84 2.72,3.36 v 13.8 c 0.04,2.52 -0.4,3.04 -2.72,3.36 l -0.8,0.08 v 3.28 h 14.04 v -3.28 l -0.8,-0.08 c -2.32,-0.32 -2.76,-0.84 -2.72,-3.36 v -5 h 2.08 l 8.64,11.72 h 9.28 v -3.28 c -2.32,-0.2 -3.16,-0.68 -4.72,-2.76 z m -10.24,-2.96 v -6.2 c 0,-0.96 0.08,-1.16 0.52,-1.4 0.52,-0.28 1.32,-0.4 2.64,-0.4 2.2,0 3.4,0.28 4.28,1 0.8,0.68 1.32,1.8 1.32,2.96 0,1.36 -0.72,2.6 -1.92,3.24 -1,0.56 -2.12,0.8 -4,0.8 z"
                            style="font-style:normal;font-variant:normal;font-weight:600;font-stretch:normal;font-size:40px;font-family:'URW Bookman';-inkscape-font-specification:'URW Bookman Semi-Bold';fill:#dddddd;fill-opacity:1"
                            id="path9440" />
                    </g>
                </g>
           </svg>
        </li>
        `}};var wy=class extends bt{constructor(){super(),this.toolbarElement=`
        <li type="coils">
            <svg xmlns="http://www.w3.org/2000/svg" version="1.1"> 
                <title id="coilsTitle"></title>
                <g
                    inkscape:label="Layer 1"
                    inkscape:groupmode="layer"
                    id="layer1"
                    transform="translate(0,0) scale(${this.scale})">
                    <rect
                    style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:1.00613272;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                    id="rect1715-7-6-3-1-6"
                    width="18.880365"
                    height="4.9936409"
                    x="94.421097"
                    y="61.531647" />
                    <rect
                    style="display:inline;opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:1.00613272;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                    id="rect1715-7-6-3-1-9-7"
                    width="18.880365"
                    height="4.9936409"
                    x="15.979"
                    y="61.567013" />
                    <path
                    inkscape:connector-curvature="0"
                    id="path826"
                    style="font-style:normal;font-variant:normal;font-weight:600;font-stretch:normal;font-size:61.22187805px;line-height:1.25;font-family:'URW Bookman';-inkscape-font-specification:'URW Bookman Semi-Bold';letter-spacing:0px;word-spacing:0px;fill:#dddddd;fill-opacity:1;stroke:none;stroke-width:2;stroke-opacity:1"
                    d="m 50.4808,38.528928 c -4.538195,0 -7.585268,1.214081 -10.826835,4.220376 -3.047073,2.890667 -4.79752,8.382937 -4.79752,15.378354 v 12.37206 c 0,6.301657 1.426289,11.504859 4.019543,14.511154 3.241568,3.584429 6.742461,5.087576 11.604812,5.087576 V 85.357752 C 45.812943,84.317112 44.192159,80.67487 43.803171,70.326277 V 58.301098 C 44.192159,47.952507 45.812943,44.310264 50.4808,43.211811 Z" />
                    <path
                    inkscape:connector-curvature="0"
                    id="path828"
                    style="font-style:normal;font-variant:normal;font-weight:600;font-stretch:normal;font-size:61.22187805px;line-height:1.25;font-family:'URW Bookman';-inkscape-font-specification:'URW Bookman Semi-Bold';letter-spacing:0px;word-spacing:0px;fill:#dddddd;fill-opacity:1;stroke:none;stroke-width:2;stroke-opacity:1"
                    d="m 78.445702,42.598957 c 4.667858,1.098453 6.288641,4.740696 6.677629,15.089287 V 69.713423 C 84.734343,80.062016 83.11356,83.704258 78.445702,84.744898 v 4.740696 c 4.603026,0 7.585268,-1.156268 10.891667,-4.220375 3.047073,-2.890669 4.79752,-8.382939 4.79752,-15.378355 v -12.37206 c 0,-6.301657 -1.42629,-11.504859 -4.019545,-14.511154 -3.241566,-3.584429 -6.742459,-5.087576 -11.669642,-5.087576 z" />
                    <g
                    aria-label="S"
                    style="font-style:normal;font-weight:normal;font-size:40px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#dddddd;fill-opacity:1;stroke:none"
                    id="text9389">
                    <path
                    d="m 70.077051,50.845053 c -1.706667,-1.194666 -4.352,-1.92 -6.869334,-1.92 -6.357333,0 -10.965333,3.882667 -10.965333,9.301334 0,2.688 1.194666,5.034667 3.242666,6.357333 1.493334,0.938667 2.346667,1.237334 7.381334,2.474667 l 4.224,1.066667 c 3.2,0.810667 4.096,1.450667 4.096,3.029333 0,2.218667 -2.218666,3.797334 -5.376,3.797334 -2.986667,0 -5.973333,-1.322667 -8.106667,-3.541334 -1.152,-1.28 -1.962667,-2.346666 -3.072,-4.352 l -3.2,1.066667 3.541333,10.88 h 2.517334 l 0.597333,-2.090667 c 1.792,1.322667 4.736,2.176001 7.637334,2.176001 6.954667,0 12.074667,-4.352001 12.074667,-10.240001 0,-2.645333 -1.152,-4.992 -3.114667,-6.272 -1.28,-0.853333 -2.432,-1.28 -6.101333,-2.261333 l -3.882667,-1.024 c -0.08533,-0.04267 -0.896,-0.213334 -2.090667,-0.469334 -0.810667,-0.170666 -1.578667,-0.426666 -2.218667,-0.725333 -1.024,-0.426667 -1.536,-1.152 -1.536,-2.048 0,-1.749334 1.962667,-2.986667 4.693334,-2.986667 2.432,0 5.077333,1.152 6.698667,2.901333 0.725333,0.768001 1.28,1.450667 2.645333,3.328001 l 3.072,-1.152 -2.816,-8.661334 h -2.56 z"
                    style="font-style:normal;font-variant:normal;font-weight:600;font-stretch:normal;font-size:42.66666794px;font-family:'URW Bookman';-inkscape-font-specification:'URW Bookman Semi-Bold';fill:#dddddd;fill-opacity:1"
                    id="path9437" />
                    </g>
                </g>
            </svg>
        </li>
        `}};var _y=class extends bt{constructor(){super(),this.toolbarElement=`
        <li type="fb">
            <svg xmlns="http://www.w3.org/2000/svg" version="1.1"> 
                <title id="fbTitle"></title>
                <g
                inkscape:label="Layer 1"
                inkscape:groupmode="layer"
                id="layer1"
                transform="translate(0,0) scale(${this.scale})">
                <path
                    d="M 65.290322,74.838719 H 79.48387 v 6.12902 H 65.290322 Z"
                    p-id="2457"
                    id="path4881"
                    inkscape:connector-curvature="0"
                    style="fill:#dddddd;fill-opacity:1;stroke:#dddddd;stroke-width:1;stroke-opacity:1" />
                <path
                    d="M 88.193546,89.516129 H 39.806447 c -0.96774,0 -1.6129,-0.64516 -1.6129,-1.6129 v -48.3871 c 0,-0.967743 0.64516,-1.612904 1.6129,-1.612904 h 48.387099 c 0.967743,0 1.612904,0.645161 1.612904,1.612904 v 48.3871 c 0,0.96774 -0.645161,1.6129 -1.612904,1.6129 z m -46.774199,-3.2258 H 86.580644 V 41.129033 H 41.419347 Z"
                    p-id="2458"
                    id="path4883"
                    inkscape:connector-curvature="0"
                    style="fill:#dddddd;fill-opacity:1;stroke:#dddddd;stroke-width:1;stroke-opacity:1" />
                <path
                    d="M 92.709676,100.48387 H 35.451617 c -4.67743,0 -8.22581,-3.548381 -8.22581,-8.225801 V 35 c 0,-4.677419 3.54838,-8.225805 8.22581,-8.225805 h 57.258059 c 4.677419,0 8.225804,3.548386 8.225804,8.225805 v 57.258069 c -0.16129,4.51613 -3.870966,8.225801 -8.225804,8.225801 z M 35.451617,30 c -2.74195,0 -5.00001,2.258065 -5.00001,5 v 57.258069 c 0,2.74194 2.25806,5 5.00001,5 h 57.258059 c 2.580644,0 4.83871,-2.25806 5,-5 V 35 c 0,-2.741935 -2.258065,-5 -5,-5 z"
                    p-id="2459"
                    id="path4885"
                    inkscape:connector-curvature="0"
                    style="fill:#dddddd;fill-opacity:1;stroke:#dddddd;stroke-width:1;stroke-opacity:1" />
                <path
                    d="m 42.064515,30 c -0.967748,0 -1.612898,-0.645161 -1.612898,-1.612903 V 15.322582 c 0,-0.967742 0.64515,-1.612904 1.612898,-1.612904 0.967737,0 1.6129,0.645162 1.6129,1.612904 V 28.387097 C 43.677415,29.354839 43.032252,30 42.064515,30 Z M 64,30 c -0.967743,0 -1.612904,-0.645161 -1.612904,-1.612903 V 15.322582 c 0,-0.967742 0.645161,-1.612904 1.612904,-1.612904 0.967741,0 1.612903,0.645162 1.612903,1.612904 V 28.387097 C 65.612903,29.354839 64.967741,30 64,30 Z m 22.096773,0 C 85.129031,30 84.48387,29.354839 84.48387,28.387097 V 15.322582 c 0,-0.967742 0.645161,-1.612904 1.612903,-1.612904 0.967742,0 1.612903,0.645162 1.612903,1.612904 V 28.387097 C 87.709676,29.354839 87.064515,30 86.096773,30 Z m -44.032258,83.70968 c -0.967748,0 -1.612898,-0.64515 -1.612898,-1.6129 V 98.87097 c 0,-0.967741 0.64515,-1.612901 1.612898,-1.612901 0.967737,0 1.6129,0.64516 1.6129,1.612901 v 13.22581 c 0,0.96775 -0.645163,1.6129 -1.6129,1.6129 z m 21.935485,0 c -0.967743,0 -1.612904,-0.64515 -1.612904,-1.6129 V 98.87097 c 0,-0.967741 0.645161,-1.612901 1.612904,-1.612901 0.967741,0 1.612903,0.64516 1.612903,1.612901 v 13.22581 c 0,0.96775 -0.645162,1.6129 -1.612903,1.6129 z m 22.096773,0 c -0.967742,0 -1.612903,-0.64515 -1.612903,-1.6129 V 98.87097 c 0,-0.967741 0.645161,-1.612901 1.612903,-1.612901 0.967742,0 1.612903,0.64516 1.612903,1.612901 v 13.22581 c 0,0.96775 -0.645161,1.6129 -1.612903,1.6129 z M 112.3871,43.225806 H 99.161288 c -0.967742,0 -1.612902,-0.645161 -1.612902,-1.612903 C 97.548386,40.645161 98.193546,40 99.161288,40 H 112.3871 c 0.96774,0 1.6129,0.645161 1.6129,1.612903 0,0.967742 -0.64516,1.612903 -1.6129,1.612903 z m 0,22.096773 H 99.161288 c -0.967742,0 -1.612902,-0.64516 -1.612902,-1.6129 0,-0.96775 0.64516,-1.6129 1.612902,-1.6129 H 112.3871 c 0.96774,0 1.6129,0.64515 1.6129,1.6129 0,0.96774 -0.64516,1.6129 -1.6129,1.6129 z m 0,21.93549 H 99.161288 c -0.967742,0 -1.612902,-0.64516 -1.612902,-1.61291 0,-0.96773 0.64516,-1.6129 1.612902,-1.6129 H 112.3871 c 0.96774,0 1.6129,0.64517 1.6129,1.6129 0,0.96775 -0.64516,1.61291 -1.6129,1.61291 z M 28.838707,43.225806 h -13.22581 c -0.96775,0 -1.6129,-0.645161 -1.6129,-1.612903 0,-0.967742 0.64515,-1.612903 1.6129,-1.612903 h 13.22581 c 0.96774,0 1.6129,0.645161 1.6129,1.612903 0,0.967742 -0.64516,1.612903 -1.6129,1.612903 z m 0,22.096773 h -13.22581 c -0.96775,0 -1.6129,-0.64516 -1.6129,-1.6129 0,-0.96775 0.64515,-1.6129 1.6129,-1.6129 h 13.22581 c 0.96774,0 1.6129,0.64515 1.6129,1.6129 0,0.96774 -0.64516,1.6129 -1.6129,1.6129 z m 0,21.93549 h -13.22581 c -0.96775,0 -1.6129,-0.64516 -1.6129,-1.61291 0,-0.96773 0.64515,-1.6129 1.6129,-1.6129 h 13.22581 c 0.96774,0 1.6129,0.64517 1.6129,1.6129 0,0.96775 -0.64516,1.61291 -1.6129,1.61291 z m 19.838708,-28.54839 c -0.967736,0 -1.6129,-0.64516 -1.6129,-1.6129 v -8.870973 c 0,-0.967742 0.645164,-1.612903 1.6129,-1.612903 0.967746,0 1.612908,0.645161 1.612908,1.612903 v 8.870973 c 0,0.96774 -0.645162,1.6129 -1.612908,1.6129 z m 8.709681,0 c -0.967741,0 -1.612902,-0.64516 -1.612902,-1.6129 v -8.870973 c 0,-0.967742 0.645161,-1.612903 1.612902,-1.612903 0.967742,0 1.612904,0.645161 1.612904,1.612903 v 8.870973 c 0,0.96774 -0.645162,1.6129 -1.612904,1.6129 z m 8.870968,0 c -0.967742,0 -1.612903,-0.64516 -1.612903,-1.6129 v -8.870973 c 0,-0.967742 0.645161,-1.612903 1.612903,-1.612903 0.967741,0 1.612903,0.645161 1.612903,1.612903 v 8.870973 c 0,0.96774 -0.645162,1.6129 -1.612903,1.6129 z M 79.48387,80.645159 H 61.903225 c -0.967742,0 -1.612903,-0.64515 -1.612903,-1.6129 v -8.87097 c 0,-0.96774 0.645161,-1.61291 1.612903,-1.61291 H 79.48387 c 0.967742,0 1.612903,0.64517 1.612903,1.61291 v 8.87097 c 0,0.96775 -0.645161,1.6129 -1.612903,1.6129 z m -15.967741,-3.2258 h 14.354837 v -5.64517 H 63.516129 Z"
                    p-id="2460"
                    id="path4887"
                    inkscape:connector-curvature="0"
                    style="fill:#dddddd;fill-opacity:1;stroke:#dddddd;stroke-width:1;stroke-opacity:1" />
                 </g>
            </svg>
        </li>
        `}};var Ey=class extends bt{constructor(){super(),this.toolbarElement=`
      <li type="ld">
         <svg xmlns="http://www.w3.org/2000/svg" version="1.1"> 
            <title id="ldTitle"></title>
            <g
            inkscape:label="Layer 1"
            inkscape:groupmode="layer"
            id="layer1"
            transform="translate(0,0) scale(${this.scale})">
            <rect
               y="38.892857"
               x="77.013168"
               height="50.426311"
               width="17"
               id="rect1698-6-3-7-2"
               style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:3;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
            <rect
               y="61.077"
               x="94.05426"
               height="5.4000001"
               width="20"
               id="rect1715-7-6-3-1"
               style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:1.0072335;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
            <rect
               y="38.892857"
               x="35.422749"
               height="50.425999"
               width="17"
               id="rect1698-6-3-7-2-7"
               style="display:inline;opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:3;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
            <rect
               y="61.077393"
               x="15.447569"
               height="5.4000001"
               width="20"
               id="rect1715-7-6-3-1-9"
               style="display:inline;opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:1.0072335;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
             </g>
         </svg>
      </li>`}};var Ty=class extends bt{constructor(){super(),this.toolbarElement=`
        <li type="ldr">
            <svg xmlns="http://www.w3.org/2000/svg" version="1.1"> 
                <title id="ldrTitle"></title>
                <g
                inkscape:label="Layer 1"
                inkscape:groupmode="layer"
                id="layer1"
                transform="translate(0,0) scale(${this.scale})">
                <rect
                    style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:3;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                    id="rect1698-6-3-7-2"
                    width="15"
                    height="50.426311"
                    x="79.02285"
                    y="38.77029" />
                <rect
                    style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:1.0072335;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                    id="rect1715-7-6-3-1"
                    width="20"
                    height="5.4000001"
                    x="94.054001"
                    y="61.077" />
                <rect
                    style="display:inline;opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.99999976;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                    id="rect1698-6-3-7-2-7"
                    width="15"
                    height="50.425999"
                    x="35.545631"
                    y="38.959835" />
                <rect
                    style="display:inline;opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:1.0072335;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                    id="rect1715-7-6-3-1-9"
                    width="20"
                    height="5"
                    x="15.448"
                    y="61.477001" />
                <path
                    style="stroke-width:0.0437548;fill:#dddddd;fill-opacity:1"
                    inkscape:connector-curvature="0"
                    d="m 87.047779,9.9117603 12,11.9999247 -12,12.000038 z"
                    p-id="2111"
                    id="path8102" />
                <rect
                    style="opacity:1;vector-effect:none;fill-opacity:1;fill-rule:evenodd;stroke-width:1.40922117;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;fill:#dddddd"
                    id="rect8668"
                    width="53.033012"
                    height="3.5355339"
                    x="34.111969"
                    y="19.458017" />
                </g>
            </svg>
        </li>
        `}};var Cy=class extends bt{constructor(){super(),this.toolbarElement=`<li type="ldn">
                <svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="ldn"> 
                    <title id="ldnTitle"></title>
                    <g
                        inkscape:label="Layer 1"
                        inkscape:groupmode="layer"
                        id="layer1"
                        transform="translate(0,0) scale(${this.scale})">
                    <rect
                        style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:3;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                        id="rect1698-6-3-7-2"
                        width="15"
                        height="50.426311"
                        x="78.934036"
                        y="38.625988" />
                    <rect
                        style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:1.0072335;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                        id="rect1715-7-6-3-1"
                        width="20"
                        height="5.4000001"
                        x="94.054001"
                        y="61.077" />
                    <rect
                        style="display:inline;opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:3;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                        id="rect1698-6-3-7-2-7"
                        width="15"
                        height="50.426311"
                        x="35.188488"
                        y="38.991089" />
                    <rect
                        style="display:inline;opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:1.0072335;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                        id="rect1715-7-6-3-1-9"
                        width="20"
                        height="5.4000001"
                        x="15.448"
                        y="61.077" />
                    <rect
                        style="opacity:1;vector-effect:none;fill-opacity:1;fill-rule:evenodd;stroke-width:1.48247564;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;fill:#dddddd;stroke:none"
                        id="rect9606"
                        width="4.0000024"
                        height="28.75"
                        x="87.366142"
                        y="1.0138078"
                        transform="rotate(35.231654)" />
                    </g>
                </svg>
            </li>`}};var ky=class extends bt{constructor(){super(),this.toolbarElement=`
        <li type="orabove">
             <svg xmlns="http://www.w3.org/2000/svg" version="1.1"> 
             <title id="oraboveTitle"></title> 
                <g inkscape:label="Layer 1"
                    inkscape:groupmode="layer"
                    id="layer1"
                    transform="translate(0,0)  scale(${this.scale})">
                    <rect
                    y="38.845058"
                    x="79.019005"
                    height="50.426311"
                    width="15"
                    id="rect1698-6-3-7-2"
                    style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:3;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
                    <rect
                    y="61.407978"
                    x="94.054001"
                    height="5.3620238"
                    width="20"
                    id="rect1715-7-6-3-1"
                    style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:1.0072335;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
                    <rect
                    y="38.808365"
                    x="35.378059"
                    height="50.426311"
                    width="15"
                    id="rect1698-6-3-7-2-7"
                    style="display:inline;opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:3;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
                    <rect
                    y="61.114975"
                    x="15.448"
                    height="5.3620238"
                    width="20"
                    id="rect1715-7-6-3-1-9"
                    style="display:inline;opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:1.0072335;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
                    <rect
                    y="61.114975"
                    x="15.448"
                    height="39.975277"
                    width="3.5"
                    id="rect8689"
                    style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:1.23878384;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
                    <rect
                    y="61.407978"
                    x="110.554"
                    height="39.975277"
                    width="3.5"
                    id="rect8689-0"
                    style="display:inline;opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:1.23878384;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
                </g>
            </svg> 
        </li>`}};var Ry=class extends bt{constructor(){super(),this.toolbarElement=`
        <li type="or">
            <svg xmlns="http://www.w3.org/2000/svg" version="1.1"> 
            <title id="orTitle"></title> 
                <g
                inkscape:label="Layer 1"
                inkscape:groupmode="layer"
                id="layer1"
                transform="translate(0,0)  scale(${this.scale})">
                <rect
                    style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:3;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                    id="rect1698-6-3-7-2"
                    width="15"
                    height="50.426311"
                    x="79.014343"
                    y="38.398777" />
                <rect
                    style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:1.0072335;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                    id="rect1715-7-6-3-1"
                    width="20"
                    height="5.4000001"
                    x="94.054001"
                    y="61.077" />
                <rect
                    style="display:inline;opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:3;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                    id="rect1698-6-3-7-2-7"
                    width="15"
                    height="50.426311"
                    x="35.992058"
                    y="38.968597" />
                <rect
                    style="display:inline;opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:1.0072335;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                    id="rect1715-7-6-3-1-9"
                    width="20"
                    height="5.4000001"
                    x="15.979"
                    y="61.077" />
                <rect
                    style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:1.23878396;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                    id="rect8689"
                    width="3.5"
                    height="39.975281"
                    x="15.979"
                    y="26.548592" />
                <rect
                    style="display:inline;opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:1.23878396;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                    id="rect8689-0"
                    width="3.5"
                    height="39.975281"
                    x="110.554"
                    y="26.501715" />
                </g>
            </svg>
        </li>
        `}};var xy=class extends bt{constructor(){super(),this.toolbarElement=`
        <li type="orn">
            <svg xmlns="http://www.w3.org/2000/svg" version="1.1"> 
            <title id="ornTitle"></title> 
                <g
                    inkscape:label="Layer 1"
                    inkscape:groupmode="layer"
                    id="layer1"
                    transform="translate(0,0) scale(${this.scale})">
                <rect
                    style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:3;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                    id="rect1698-6-3-7-2"
                    width="15"
                    height="50.426311"
                    x="79.040886"
                    y="38.845207" />
                <rect
                    style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:1.0072335;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                    id="rect1715-7-6-3-1"
                    width="20"
                    height="5.4000001"
                    x="94.054001"
                    y="61.077" />
                <rect
                    style="display:inline;opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:3;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                    id="rect1698-6-3-7-2-7"
                    width="15"
                    height="50.426311"
                    x="35.427677"
                    y="38.834663" />
                <rect
                    style="display:inline;opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:1.0072335;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                    id="rect1715-7-6-3-1-9"
                    width="20"
                    height="5.4000001"
                    x="15.448"
                    y="61.077" />
                <rect
                    style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:1.23878384;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                    id="rect8689"
                    width="3.5"
                    height="39.975277"
                    x="15.448"
                    y="26.501724" />
                <rect
                    style="display:inline;opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:1.23878384;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                    id="rect8689-0"
                    width="3.5"
                    height="39.975277"
                    x="110.554"
                    y="26.501722" />
                <rect
                    style="display:inline;opacity:1;vector-effect:none;fill-opacity:1;fill-rule:evenodd;stroke-width:1.48247564;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;fill:#dddddd"
                    id="rect9606"
                    width="4.0000024"
                    height="28.749998"
                    x="87.231308"
                    y="0.99881041"
                    transform="rotate(35.231653)" />
                </g>
            </svg>
        </li>
        `}};var Ay=class extends bt{constructor(){super(),this.toolbarElement=`
        <li type="delete">
         <svg xmlns="http://www.w3.org/2000/svg" version="1.1"> 
            <title id="deleteTitle"></title>
            <g
            inkscape:label="Layer 1"
            inkscape:groupmode="layer"
            id="layer1"
            transform="translate(0,0) scale(${this.scale})">
            <path
               style="fill:#dddddd;stroke-width:0.12499999;fill-opacity:1"
               inkscape:connector-curvature="0"
               d="m 60.061933,74.93878 c 0.495042,0.49505 1.237621,0.742574 1.732672,0.742574 0.49505,0 1.237622,-0.247525 1.732672,-0.742574 L 73.923319,64.54274 84.319352,74.93878 c 0.495051,0.49505 1.237622,0.742574 1.732672,0.742574 0.495051,0 1.237631,-0.247525 1.732681,-0.742574 0.990092,-0.990099 0.990092,-2.475247 0,-3.465347 L 77.388663,61.077394 87.784705,50.681354 c 0.990092,-0.990098 0.990092,-2.475247 0,-3.465346 -0.990101,-0.990099 -2.475252,-0.990099 -3.465353,0 L 73.923319,57.612047 63.527277,47.216008 c -0.990101,-0.990099 -2.475252,-0.990099 -3.465344,0 -0.990101,0.990099 -0.990101,2.475248 0,3.465346 l 10.396033,10.39604 -10.396033,10.396039 c -0.74258,0.9901 -0.74258,2.475248 0,3.465347 z"
               p-id="8984"
               id="path4969" />
            <path
               style="fill:#dddddd;stroke-width:0.12499999;fill-opacity:1"
               inkscape:connector-curvature="0"
               d="m 46.695593,93.503137 h 61.881187 c 2.72277,0 4.9505,-2.22772 4.9505,-4.9505 V 33.354622 c 0,-2.722773 -2.22773,-4.950495 -4.9505,-4.950495 H 46.695593 c -1.237624,0 -2.475248,0 -32.425743,31.188118 -0.990099,0.990099 -0.990099,2.475248 0,3.465347 30.19802,30.445545 31.188119,30.445545 32.425743,30.445545 z M 47.438167,33.354622 H 108.57678 V 88.552637 H 47.438167 C 44.46787,86.324917 31.596583,73.453631 19.715395,61.077394 31.596583,48.701156 44.715394,35.582345 47.438167,33.354622 Z"
               p-id="8985"
               id="path4971" />
         </g>
      </svg>
     </li>    
        `}};var WT=class{constructor(){this.block=new py;this.blockinsertup=new gy;this.ld=new Ey;this.ldn=new Cy;this.orabove=new ky;this.orbelow=new Ry;this.ornbelow=new xy;this.ldr=new Ty;this.coil=new by;this.coils=new wy;this.coilr=new Sy;this.fb=new _y;this.branch=new yy;this.branchup=new vy;this.branchdown=new my;this.delete=new Ay;this.toobBarSvg="<ul id='toolbarUL' class='toolbarUL'>"+this.blockinsertup.GenerateSVG()+this.block.GenerateSVG()+this.ld.GenerateSVG()+this.ldn.GenerateSVG()+this.orabove.GenerateSVG()+this.orbelow.GenerateSVG()+this.ornbelow.GenerateSVG()+this.ldr.GenerateSVG()+this.coil.GenerateSVG()+this.coils.GenerateSVG()+this.coilr.GenerateSVG()+this.fb.GenerateSVG()+this.branch.GenerateSVG()+this.branchup.GenerateSVG()+this.branchdown.GenerateSVG()+this.delete.GenerateSVG()+"</ul>"}GenerateSVG(){return this.toobBarSvg}},zT=new WT;var Zc=class{constructor(){this._gWidth=20,this._scale=this._gWidth/128}get blockarrowElement(){return this._blockarrowElement}set blockarrowElement(t){this._blockarrowElement=t}get gWidth(){return this._gWidth}set gWidth(t){this._gWidth=t}get scale(){return this._scale}set scale(t){this._scale=t}GenerateSVG(){return this._blockarrowElement}};var Oy=class extends Zc{constructor(){super(),this.blockarrowElement=`
      <li id="blockup" type="blockup">
         <svg
         version="1.1"
         id="blockupsvg"
         sodipodi:docname="arrowup.svg"
         inkscape:version="1.2 (dc2aeda, 2022-05-15)"
         xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
         xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
         xmlns="http://www.w3.org/2000/svg"
         xmlns:svg="http://www.w3.org/2000/svg">
      <defs
         id="defs45" />
         <sodipodi:namedview
            id="namedview43"
            pagecolor="#ffffff"
            bordercolor="#000000"
            borderopacity="0.25"
            inkscape:showpageshadow="2"
            inkscape:pageopacity="0.0"
            inkscape:pagecheckerboard="0"
            inkscape:deskcolor="#d1d1d1"
            showgrid="false"
            inkscape:zoom="4.2546304"
            inkscape:cx="66.633285"
            inkscape:cy="71.921641"
            inkscape:window-width="1313"
            inkscape:window-height="458"
            inkscape:window-x="0"
            inkscape:window-y="38"
            inkscape:window-maximized="0"
            inkscape:current-layer="layer1" />
         <g
            inkscape:label="01"
            inkscape:groupmode="layer"
            id="layer1"
            transform="translate(0,0) scale(${this.scale})">
            <path
               d="M 13.442009,75.584464 A 5.0920615,5.0920615 0 0 0 17.05293,74.088001 L 64,27.14093 109.60382,72.744759 a 5.1066169,5.1066169 0 1 0 7.22185,-7.22184 L 67.61092,16.30817 a 5.1073836,5.1073836 0 0 0 -7.226948,0 L 9.825982,66.866161 a 5.1022762,5.1022762 0 0 0 3.616027,8.718303 z"
               p-id="2647"
               fill="#cccccc"
               id="path1310"
               style="stroke-width:0.125" />
            <path
               d="m 67.616028,57.16724 a 5.1073836,5.1073836 0 0 0 -7.226948,0 L 9.831089,107.72523 a 5.1066134,5.1066134 0 1 0 7.221841,7.22184 L 64,68 l 45.60382,45.60383 a 5.106618,5.106618 0 1 0 7.22185,-7.22184 z"
               p-id="2648"
               fill="#cccccc"
               id="path1312"
               style="stroke-width:0.125" />
         </g>
      </svg>
   </li>`}};var Ny=class extends Zc{constructor(){super(),this.blockarrowElement=`
      <li id="blockdown" type="blockdown" >
         <svg
         version="1.1"
         id="blockdownsvg"
         sodipodi:docname="arrowdown.svg"
         inkscape:version="1.2 (dc2aeda, 2022-05-15)"
         xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
         xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
         xmlns="http://www.w3.org/2000/svg"
         xmlns:svg="http://www.w3.org/2000/svg">
      <defs
         id="defs45" />
         <sodipodi:namedview
            id="namedview43"
            pagecolor="#ffffff"
            bordercolor="#000000"
            borderopacity="0.25"
            inkscape:showpageshadow="2"
            inkscape:pageopacity="0.0"
            inkscape:pagecheckerboard="0"
            inkscape:deskcolor="#d1d1d1"
            showgrid="false"
            inkscape:zoom="4.2546304"
            inkscape:cx="66.515766"
            inkscape:cy="81.323163"
            inkscape:window-width="1512"
            inkscape:window-height="916"
            inkscape:window-x="0"
            inkscape:window-y="38"
            inkscape:window-maximized="1"
            inkscape:current-layer="layer1" />
         <g
            inkscape:label="2"
            inkscape:groupmode="layer"
            id="layer1"
            transform="translate(0,0) scale(${this.scale})">
            <path
               d="m 112.82585,53.925477 a 5.0920615,5.0920615 0 0 0 -3.55615,1.622328 L 64,104.11435 16.823045,60.139893 A 5.1066169,5.1066169 0 1 0 9.8592237,67.610856 L 60.77167,115.06721 a 5.1073836,5.1073836 0 0 0 7.222491,-0.25375 L 116.74577,62.511437 a 5.1022762,5.1022762 0 0 0 -3.91992,-8.58596 z"
               p-id="2647"
               fill="#cccccc"
               id="path1310"
               style="stroke-width:0.125" />
            <path
               d="m 59.331909,74.233519 a 5.1073836,5.1073836 0 0 0 7.222492,-0.253755 L 115.30601,21.677742 a 5.1066134,5.1066134 0 1 0 -7.47096,-6.963811 L 62.565344,63.280471 15.388389,19.306017 A 5.106618,5.106618 0 1 0 8.4245676,26.77698 Z"
               p-id="2648"
               fill="#cccccc"
               id="path1312"
               style="stroke-width:0.125" />
         </g>
      </svg>
   </li>`}};var HT=class{constructor(){this.blockup=new Oy;this.blockdown=new Ny;this.blockarrowSvg="<ul>"+this.blockup.GenerateSVG()+this.blockdown.GenerateSVG()+"</ul>"}GenerateSVG(){return this.blockarrowSvg}},VT=new HT;var P5=Ke(require("fs")),I5=Ke(require("path")),$T=class{constructor(t){this.svgStr="";this.uri=t}dispose(){}async save(t){console.log("Save",this.ldr.isOpen),this.ldr.Send("save")}async saveAs(t,i){}async revert(t){}async backup(t,i){return await this.saveAs(t,i),{id:t.toString(),delete:async()=>{}}}registerws(t){this.ldr=t}},Dy=class r{constructor(t){this.context=t;this._onDidChangeCustomDocument=new rl.EventEmitter;this.onDidChangeCustomDocument=this._onDidChangeCustomDocument.event}static{this.viewType="LadderEditor"}saveCustomDocument(t,i){return t.save(i)}saveCustomDocumentAs(t,i,n){return t.saveAs(i,n)}revertCustomDocument(t,i){return t.revert(i)}backupCustomDocument(t,i,n){return t.backup(i.destination,n)}openCustomDocument(t,i,n){return new $T(t)}resolveCustomEditor(t,i,n){P5.readFile(I5.join(__dirname.substring(0,__dirname.length-3))+"package.json",(o,l)=>{if(o){console.log(o);return}let h=JSON.parse(l);i.webview.postMessage({type:"toobarlist",item:h.contributes.keybindings})}),(async()=>{i.webview.options={enableScripts:!0},await(()=>new Promise(y=>{let S=setInterval(()=>{qg.isOpen&&(clearInterval(S),y())},100)}))();let l=await qg.Send('evtq/ld/"'+t.uri.fsPath+'"'),h=String(l).split('"');if(String(h[0]).split("/")[0]=="window"){var p=String(l).split('"')[1];let y=new Ug(p);y.Connect(),t.registerws(y),await(()=>new Promise(M=>{let L=setInterval(()=>{y.isOpen&&(clearInterval(L),M())},100)}))(),ie.myEmitter.emit("actChannel",p);let w=await y.Send("inlq/dsp/all");ie.myEmitter.emit("inlist",w);let C=await y.Send("oulq/dsp/all");ie.myEmitter.emit("outlist",C);let _=await y.Send("iolq/dsp/all");ie.myEmitter.emit("inoutlist",_);let R=await y.Send("lolq/dsp/all");ie.myEmitter.emit("locallist",R);let D=await y.Send("pouq/default");ie.myEmitter.emit("poulist",D);let I=await y.Send("pnaq/default");ie.myEmitter.emit("pounamelist",I),ie.myEmitter.on("select",async function(L,V){if(p==L){let K=await y.Send("setq/"+V);i.webview.postMessage({type:"ladder",item:cr(JSON.parse(String(K)))})}}),ie.myEmitter.on("add",async function(L,V,K){if(p==L){if(V=="in"){let Q=await y.Send("inlq/add/"+K);ie.myEmitter.emit("inlist",Q)}else if(V=="out"){let Q=await y.Send("oulq/add/"+K);ie.myEmitter.emit("outlist",Q)}else if(V=="inout"){let Q=await y.Send("iolq/add/"+K);ie.myEmitter.emit("inoutlist",Q)}else if(V=="local"){let Q=await y.Send("lolq/add/"+K);ie.myEmitter.emit("locallist",Q)}}}),ie.myEmitter.on("new",async function(L,V,K){if(p==L){if(V=="in"){let Q=await y.Send("inlq/new/"+K);ie.myEmitter.emit("inlist",Q)}else if(V=="out"){let Q=await y.Send("oulq/new/"+K);ie.myEmitter.emit("outlist",Q)}else if(V=="inout"){let Q=await y.Send("iolq/new/"+K);ie.myEmitter.emit("inoutlist",Q)}else if(V=="local"){let Q=await y.Send("lolq/new/"+K);ie.myEmitter.emit("locallist",Q)}}}),ie.myEmitter.on("del",async function(L,V,K){if(p==L){if(V=="in"){let Q=await y.Send("inlq/del/"+K);ie.myEmitter.emit("inlist",Q)}else if(V=="out"){let Q=await y.Send("oulq/del/"+K);ie.myEmitter.emit("outlist",Q)}else if(V=="inout"){let Q=await y.Send("iolq/del/"+K);ie.myEmitter.emit("inoutlist",Q)}else if(V=="local"){let Q=await y.Send("lolq/del/"+K);ie.myEmitter.emit("locallist",Q)}}}),ie.myEmitter.on("pouchange",async function(L,V){if(p==L){let K=await y.Send("pouq/"+V);ie.myEmitter.emit("poulist",K)}}),ie.myEmitter.on("pounamechange",async function(L,V){if(p==L){let K=await y.Send("pnaq/"+V);ie.myEmitter.emit("pounamelist",K)}}),ie.myEmitter.on("change",async function(L,V,K,Q){if(p==L){if(V=="in"){let le=await y.Send("inlq/chg/"+K+"/"+Q);ie.myEmitter.emit("inlist",le)}else if(V=="out"){let le=await y.Send("oulq/chg/"+K+"/"+Q);ie.myEmitter.emit("outlist",le)}else if(V=="inout"){let le=await y.Send("iolq/chg/"+K+"/"+Q);ie.myEmitter.emit("inoutlist",le)}else if(V=="local"){let le=await y.Send("lolq/chg/"+K+"/"+Q);ie.myEmitter.emit("locallist",le)}}}),ie.myEmitter.on("onload",async function(M){console.log("load:"+M)}),ie.myEmitter.on("sk-blockinsertup",async()=>{let M=await y.Send("istq/blockup");i.webview.postMessage({type:"ladder",item:cr(JSON.parse(String(M)))})}),ie.myEmitter.on("sk-block",async()=>{let M=await y.Send("istq/block");i.webview.postMessage({type:"ladder",item:cr(JSON.parse(String(M)))})}),ie.myEmitter.on("sk-ld",async()=>{let M=await y.Send("istq/ld");i.webview.postMessage({type:"ladder",item:cr(JSON.parse(String(M)))})}),ie.myEmitter.on("sk-ldn",async()=>{let M=await y.Send("istq/ldn");i.webview.postMessage({type:"ladder",item:cr(JSON.parse(String(M)))})}),ie.myEmitter.on("sk-orbove",async()=>{let M=await y.Send("istq/orabove");i.webview.postMessage({type:"ladder",item:cr(JSON.parse(String(M)))})}),ie.myEmitter.on("sk-or",async()=>{let M=await y.Send("istq/or");i.webview.postMessage({type:"ladder",item:cr(JSON.parse(String(M)))})}),ie.myEmitter.on("sk-orn",async()=>{let M=await y.Send("istq/orn");i.webview.postMessage({type:"ladder",item:cr(JSON.parse(String(M)))})}),ie.myEmitter.on("sk-ldr",async()=>{let M=await y.Send("istq/ldr");i.webview.postMessage({type:"ladder",item:cr(JSON.parse(String(M)))})}),ie.myEmitter.on("sk-coil",async()=>{let M=await y.Send("istq/coil");i.webview.postMessage({type:"ladder",item:cr(JSON.parse(String(M)))})}),ie.myEmitter.on("sk-coils",async()=>{let M=await y.Send("istq/coils");i.webview.postMessage({type:"ladder",item:cr(JSON.parse(String(M)))})}),ie.myEmitter.on("sk-coilr",async()=>{let M=await y.Send("istq/coilr");i.webview.postMessage({type:"ladder",item:cr(JSON.parse(String(M)))})}),ie.myEmitter.on("sk-fb",async()=>{rl.commands.executeCommand("plcc.OpenFBList")}),ie.myEmitter.on("sk-newbranch",async()=>{let M=await y.Send("istq/newbranch");i.webview.postMessage({type:"ladder",item:cr(JSON.parse(String(M)))})}),ie.myEmitter.on("sk-branchup",async()=>{let M=await y.Send("istq/branchup");i.webview.postMessage({type:"ladder",item:cr(JSON.parse(String(M)))})}),ie.myEmitter.on("sk-branchdown",async()=>{let M=await y.Send("istq/branchdown");i.webview.postMessage({type:"ladder",item:cr(JSON.parse(String(M)))})}),ie.myEmitter.on("sk-delete",async()=>{let M=await y.Send("delq");i.webview.postMessage({type:"ladder",item:cr(JSON.parse(String(M)))})}),i.webview.html=qT(zT.GenerateSVG(),VT.GenerateSVG());var g,m;i.webview.onDidReceiveMessage(async M=>{switch(M.command){case"block":g=await y.Send("istq/block");break;case"blockinsertup":g=await y.Send("istq/blockup");break;case"blockup":g=await y.Send("mvbq/above");break;case"blockdown":g=await y.Send("mvbq/below");break;case"ld":g=await y.Send("istq/ld");break;case"ldn":g=await y.Send("istq/ldn");break;case"coils":g=await y.Send("istq/coils");break;case"coilr":g=await y.Send("istq/coilr");break;case"coil":g=await y.Send("istq/coil");break;case"orabove":g=await y.Send("istq/orabove");break;case"or":g=await y.Send("istq/or");break;case"orn":g=await y.Send("istq/orn");break;case"ldr":g=await y.Send("istq/ldr");break;case"fb":rl.commands.executeCommand("plcc.OpenFBList");break;case"newbranch":g=await y.Send("istq/newbranch");break;case"branchdown":g=await y.Send("istq/branchdown");break;case"branchup":g=await y.Send("istq/branchup");break;case"resize":g=await y.Send("resize/"+M.width+"/"+M.height);break;case"selectinput":g=await y.Send("selectinput/"+M.inputId+"/"+M.inputValue);break;case"selectitem":g=await y.Send("selectitem/"+M.X+"/"+M.Y);break;case"mousemove":g=await y.Send("mousemove/"+M.X+"/"+M.Y);break;case"delete":g=await y.Send("delq");break;case"edit":g=await y.Send("edtq/"+M.inputId+"/"+M.inputValue);break}m=await y.Send("gbpq"),i.webview.postMessage({type:"curblockpos",item:m}),i.webview.postMessage({type:"ladder",item:cr(JSON.parse(String(g)))})}),i.onDidDispose(async()=>{console.log("Ladder windows disposed."),await y.Send("destroywin"),y.Close()}),i.onDidChangeViewState(()=>{if(i.active==!0){let M=async function(){let V=await y.Send("inlq/dsp/all");ie.myEmitter.emit("inlist",V);let K=await y.Send("oulq/dsp/all");ie.myEmitter.emit("outlist",K);let Q=await y.Send("iolq/dsp/all");ie.myEmitter.emit("inoutlist",Q);let le=await y.Send("lolq/dsp/all");ie.myEmitter.emit("locallist",le);let ge=await y.Send("pouq/default");ie.myEmitter.emit("poulist",ge);let j=await y.Send("pnaq/default");ie.myEmitter.emit("pounamelist",j)}();ie.myEmitter.emit("actChannel",p)}}),i.webview.html=qT(zT.GenerateSVG(),VT.GenerateSVG())}})()}static register(t){return rl.window.registerCustomEditorProvider(r.viewType,new r(t),{webviewOptions:{retainContextWhenHidden:!0},supportsMultipleEditorsPerDocument:!1})}};var GT=require("timers"),lf=Ke(require("vscode"));function L5(r){return`<!DOCTYPE html>
        <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0">
                <style>
                    .button {
                        background-color: #4CAF50; /* Green */
                        border: none;
                        border-radius: 4px;
                        color: white;
                        padding: 5px 32px;
                        text-align: center;
                        text-decoration: none;
                        display: inline-block;
                        font-size: 16px;
                        margin: 4px 2px;
                        cursor: pointer;
                        -webkit-transition-duration: 0.4s; /* Safari */
                        transition-duration: 0.4s;
                    }
                    .button1 {
                        background-color: #4CAF50; /* Green */
                        border: none;
                        border-radius: 4px;
                        color: white;
                        padding: 5px 10px;
                        text-align: center;
                        text-decoration: none;
                        display: inline-block;
                        font-size: 16px;
                        margin: 4px 2px;
                        cursor: pointer;
                        -webkit-transition-duration: 0.4s; /* Safari */
                        transition-duration: 0.4s;
                    }
                    input[type=text], select {
                        width: 500px;
                        padding: 6px 20px;
                        margin: 8px 0;
                        display: inline-block;
                        border: 1px solid #ccc;
                        border-radius: 4px;
                        box-sizing: border-box;
                    }
                </style>
                <script> 
                    var streams = [];
                    const vscode = acquireVsCodeApi();
                    window.addEventListener('message', event => {
                        switch (event.data.event) {
                        case 'page':
                            const table = document.getElementById('monitor');
                            table.innerHTML = event.data.code;
                            streams = [];
                            break;
                        case 'switchStop':
                            var btn = document.getElementById('btn-start');
                            btn.innerHTML = "Stop";
                            break;
                        case 'switchStart':
                            var btn = document.getElementById('btn-start');
                            btn.innerHTML = "Start";
                            break;
                        case 'update':
                            var field = document.getElementById(event.data.id);
                            field.innerHTML = event.data.val;
                            break;
                        case 'stream':
                            var smoothie = new SmoothieChart();
                            var ts = new TimeSeries();
                            streams.push(ts);
                            smoothie.streamTo(document.getElementById(event.data.name));
                            smoothie.addTimeSeries(ts);
                            break;
                        case 'addpoint':
                            streams[event.data.id].append(new Date().getTime(), event.data.val);
                            break;
                        case 'samplerate':
                            var simprate = document.getElementById('samplerate');
                            simprate.innerHTML = event.data.val;
                        default:
                        }
                    });

                    function switchRec() {
                        vscode.postMessage({event: 'switchRec'});
                    }

                    function remove(arg) {
                        vscode.postMessage({event: 'remove', name: arg});
                    }

                    function add() {
                        var v = document.getElementById("variable");
                        var type = document.getElementById("seltype");
                        vscode.postMessage({event: 'add', name: v.value + ":" + type.value});
                    }

                    function refresh() {
                        vscode.postMessage({event: 'refresh'});
                    }
                </script>
                <script language=javascript>
                // MIT License:
                //
                // Copyright (c) 2010-2013, Joe Walnes
                //               2013-2018, Drew Noakes
                //
                // Permission is hereby granted, free of charge, to any person obtaining a copy
                // of this software and associated documentation files (the "Software"), to deal
                // in the Software without restriction, including without limitation the rights
                // to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
                // copies of the Software, and to permit persons to whom the Software is
                // furnished to do so, subject to the following conditions:
                //
                // The above copyright notice and this permission notice shall be included in
                // all copies or substantial portions of the Software.
                //
                // THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
                // IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
                // FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
                // AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
                // LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
                // OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
                // THE SOFTWARE.
                
                /**
                 * Smoothie Charts - http://smoothiecharts.org/
                 * (c) 2010-2013, Joe Walnes
                 *     2013-2018, Drew Noakes
                 *
                 * v1.0: Main charting library, by Joe Walnes
                 * v1.1: Auto scaling of axis, by Neil Dunn
                 * v1.2: fps (frames per second) option, by Mathias Petterson
                 * v1.3: Fix for divide by zero, by Paul Nikitochkin
                 * v1.4: Set minimum, top-scale padding, remove timeseries, add optional timer to reset bounds, by Kelley Reynolds
                 * v1.5: Set default frames per second to 50... smoother.
                 *       .start(), .stop() methods for conserving CPU, by Dmitry Vyal
                 *       options.interpolation = 'bezier' or 'line', by Dmitry Vyal
                 *       options.maxValue to fix scale, by Dmitry Vyal
                 * v1.6: minValue/maxValue will always get converted to floats, by Przemek Matylla
                 * v1.7: options.grid.fillStyle may be a transparent color, by Dmitry A. Shashkin
                 *       Smooth rescaling, by Kostas Michalopoulos
                 * v1.8: Set max length to customize number of live points in the dataset with options.maxDataSetLength, by Krishna Narni
                 * v1.9: Display timestamps along the bottom, by Nick and Stev-io
                 *       (https://groups.google.com/forum/?fromgroups#!topic/smoothie-charts/-Ywse8FCpKI%5B1-25%5D)
                 *       Refactored by Krishna Narni, to support timestamp formatting function
                 * v1.10: Switch to requestAnimationFrame, removed the now obsoleted options.fps, by Gergely Imreh
                 * v1.11: options.grid.sharpLines option added, by @drewnoakes
                 *        Addressed warning seen in Firefox when seriesOption.fillStyle undefined, by @drewnoakes
                 * v1.12: Support for horizontalLines added, by @drewnoakes
                 *        Support for yRangeFunction callback added, by @drewnoakes
                 * v1.13: Fixed typo (#32), by @alnikitich
                 * v1.14: Timer cleared when last TimeSeries removed (#23), by @davidgaleano
                 *        Fixed diagonal line on chart at start/end of data stream, by @drewnoakes
                 * v1.15: Support for npm package (#18), by @dominictarr
                 *        Fixed broken removeTimeSeries function (#24) by @davidgaleano
                 *        Minor performance and tidying, by @drewnoakes
                 * v1.16: Bug fix introduced in v1.14 relating to timer creation/clearance (#23), by @drewnoakes
                 *        TimeSeries.append now deals with out-of-order timestamps, and can merge duplicates, by @zacwitte (#12)
                 *        Documentation and some local variable renaming for clarity, by @drewnoakes
                 * v1.17: Allow control over font size (#10), by @drewnoakes
                 *        Timestamp text won't overlap, by @drewnoakes
                 * v1.18: Allow control of max/min label precision, by @drewnoakes
                 *        Added 'borderVisible' chart option, by @drewnoakes
                 *        Allow drawing series with fill but no stroke (line), by @drewnoakes
                 * v1.19: Avoid unnecessary repaints, and fixed flicker in old browsers having multiple charts in document (#40), by @asbai
                 * v1.20: Add SmoothieChart.getTimeSeriesOptions and SmoothieChart.bringToFront functions, by @drewnoakes
                 * v1.21: Add 'step' interpolation mode, by @drewnoakes
                 * v1.22: Add support for different pixel ratios. Also add optional y limit formatters, by @copacetic
                 * v1.23: Fix bug introduced in v1.22 (#44), by @drewnoakes
                 * v1.24: Fix bug introduced in v1.23, re-adding parseFloat to y-axis formatter defaults, by @siggy_sf
                 * v1.25: Fix bug seen when adding a data point to TimeSeries which is older than the current data, by @Nking92
                 *        Draw time labels on top of series, by @comolosabia
                 *        Add TimeSeries.clear function, by @drewnoakes
                 * v1.26: Add support for resizing on high device pixel ratio screens, by @copacetic
                 * v1.27: Fix bug introduced in v1.26 for non whole number devicePixelRatio values, by @zmbush
                 * v1.28: Add 'minValueScale' option, by @megawac
                 *        Fix 'labelPos' for different size of 'minValueString' 'maxValueString', by @henryn
                 * v1.29: Support responsive sizing, by @drewnoakes
                 * v1.29.1: Include types in package, and make property optional, by @TrentHouliston
                 * v1.30: Fix inverted logic in devicePixelRatio support, by @scanlime
                 * v1.31: Support tooltips, by @Sly1024 and @drewnoakes
                 * v1.32: Support frame rate limit, by @dpuyosa
                 * v1.33: Use Date static method instead of instance, by @nnnoel
                 *        Fix bug with tooltips when multiple charts on a page, by @jpmbiz70
                 * v1.34: Add disabled option to TimeSeries, by @TechGuard (#91)
                 *        Add nonRealtimeData option, by @annazhelt (#92, #93)
                 *        Add showIntermediateLabels option, by @annazhelt (#94)
                 *        Add displayDataFromPercentile option, by @annazhelt (#95)
                 *        Fix bug when hiding tooltip element, by @ralphwetzel (#96)
                 *        Support intermediate y-axis labels, by @beikeland (#99)
                 * v1.35: Fix issue with responsive mode at high DPI, by @drewnoakes (#101)
                 * v1.36: Add tooltipLabel to ITimeSeriesPresentationOptions.
                 *        If tooltipLabel is present, tooltipLabel displays inside tooltip
                 *        next to value, by @jackdesert (#102)
                 *        Fix bug rendering issue in series fill when using scroll backwards, by @olssonfredrik
                 *        Add title option, by @mesca
                 *        Fix data drop stoppage by rejecting NaNs in append(), by @timdrysdale
                 *        Allow setting interpolation per time series, by @WofWca (#123)
                 */
                
                ; (function (exports) {
                
                    // Date.now polyfill
                    Date.now = Date.now || function () { return new Date().getTime(); };
                
                    var Util = {
                        extend: function () {
                            arguments[0] = arguments[0] || {};
                            for (var i = 1; i < arguments.length; i++) {
                                for (var key in arguments[i]) {
                                    if (arguments[i].hasOwnProperty(key)) {
                                        if (typeof (arguments[i][key]) === 'object') {
                                            if (arguments[i][key] instanceof Array) {
                                                arguments[0][key] = arguments[i][key];
                                            } else {
                                                arguments[0][key] = Util.extend(arguments[0][key], arguments[i][key]);
                                            }
                                        } else {
                                            arguments[0][key] = arguments[i][key];
                                        }
                                    }
                                }
                            }
                            return arguments[0];
                        },
                        binarySearch: function (data, value) {
                            var low = 0,
                                high = data.length;
                            while (low < high) {
                                var mid = (low + high) >> 1;
                                if (value < data[mid][0])
                                    high = mid;
                                else
                                    low = mid + 1;
                            }
                            return low;
                        }
                    };
                
                    /**
                     * Initialises a new <code>TimeSeries</code> with optional data options.
                     *
                     * Options are of the form (defaults shown):
                     *
                     * <pre>
                     * {
                     *   resetBounds: true,        // enables/disables automatic scaling of the y-axis
                     *   resetBoundsInterval: 3000 // the period between scaling calculations, in millis
                     * }
                     * </pre>
                     *
                     * Presentation options for TimeSeries are specified as an argument to <code>SmoothieChart.addTimeSeries</code>.
                     *
                     * @constructor
                     */
                    function TimeSeries(options) {
                        this.options = Util.extend({}, TimeSeries.defaultOptions, options);
                        this.disabled = false;
                        this.clear();
                    }
                
                    TimeSeries.defaultOptions = {
                        resetBoundsInterval: 3000,
                        resetBounds: true
                    };
                
                    /**
                     * Clears all data and state from this TimeSeries object.
                     */
                    TimeSeries.prototype.clear = function () {
                        this.data = [];
                        this.maxValue = Number.NaN; // The maximum value ever seen in this TimeSeries.
                        this.minValue = Number.NaN; // The minimum value ever seen in this TimeSeries.
                    };
                
                    /**
                     * Recalculate the min/max values for this <code>TimeSeries</code> object.
                     *
                     * This causes the graph to scale itself in the y-axis.
                     */
                    TimeSeries.prototype.resetBounds = function () {
                        if (this.data.length) {
                            // Walk through all data points, finding the min/max value
                            this.maxValue = this.data[0][1];
                            this.minValue = this.data[0][1];
                            for (var i = 1; i < this.data.length; i++) {
                                var value = this.data[i][1];
                                if (value > this.maxValue) {
                                    this.maxValue = value;
                                }
                                if (value < this.minValue) {
                                    this.minValue = value;
                                }
                            }
                        } else {
                            // No data exists, so set min/max to NaN
                            this.maxValue = Number.NaN;
                            this.minValue = Number.NaN;
                        }
                    };
                
                    /**
                     * Adds a new data point to the <code>TimeSeries</code>, preserving chronological order.
                     *
                     * @param timestamp the position, in time, of this data point
                     * @param value the value of this data point
                     * @param sumRepeatedTimeStampValues if <code>timestamp</code> has an exact match in the series, this flag controls
                     * whether it is replaced, or the values summed (defaults to false.)
                     */
                    TimeSeries.prototype.append = function (timestamp, value, sumRepeatedTimeStampValues) {
                        // Reject NaN
                        if (isNaN(timestamp) || isNaN(value)) {
                            return
                        }
                        // Rewind until we hit an older timestamp
                        var i = this.data.length - 1;
                        while (i >= 0 && this.data[i][0] > timestamp) {
                            i--;
                        }
                
                        if (i === -1) {
                            // This new item is the oldest data
                            this.data.splice(0, 0, [timestamp, value]);
                        } else if (this.data.length > 0 && this.data[i][0] === timestamp) {
                            // Update existing values in the array
                            if (sumRepeatedTimeStampValues) {
                                // Sum this value into the existing 'bucket'
                                this.data[i][1] += value;
                                value = this.data[i][1];
                            } else {
                                // Replace the previous value
                                this.data[i][1] = value;
                            }
                        } else if (i < this.data.length - 1) {
                            // Splice into the correct position to keep timestamps in order
                            this.data.splice(i + 1, 0, [timestamp, value]);
                        } else {
                            // Add to the end of the array
                            this.data.push([timestamp, value]);
                        }
                
                        this.maxValue = isNaN(this.maxValue) ? value : Math.max(this.maxValue, value);
                        this.minValue = isNaN(this.minValue) ? value : Math.min(this.minValue, value);
                    };
                
                    TimeSeries.prototype.dropOldData = function (oldestValidTime, maxDataSetLength) {
                        // We must always keep one expired data point as we need this to draw the
                        // line that comes into the chart from the left, but any points prior to that can be removed.
                        var removeCount = 0;
                        while (this.data.length - removeCount >= maxDataSetLength && this.data[removeCount + 1][0] < oldestValidTime) {
                            removeCount++;
                        }
                        if (removeCount !== 0) {
                            this.data.splice(0, removeCount);
                        }
                    };
                
                    /**
                     * Initialises a new <code>SmoothieChart</code>.
                     *
                     * Options are optional, and should be of the form below. Just specify the values you
                     * need and the rest will be given sensible defaults as shown:
                     *
                     * <pre>
                     * {
                     *   minValue: undefined,                      // specify to clamp the lower y-axis to a given value
                     *   maxValue: undefined,                      // specify to clamp the upper y-axis to a given value
                     *   maxValueScale: 1,                         // allows proportional padding to be added above the chart. for 10% padding, specify 1.1.
                     *   minValueScale: 1,                         // allows proportional padding to be added below the chart. for 10% padding, specify 1.1.
                     *   yRangeFunction: undefined,                // function({min: , max: }) { return {min: , max: }; }
                     *   scaleSmoothing: 0.125,                    // controls the rate at which y-value zoom animation occurs
                     *   millisPerPixel: 20,                       // sets the speed at which the chart pans by
                     *   enableDpiScaling: true,                   // support rendering at different DPI depending on the device
                     *   yMinFormatter: function(min, precision) { // callback function that formats the min y value label
                     *     return parseFloat(min).toFixed(precision);
                     *   },
                     *   yMaxFormatter: function(max, precision) { // callback function that formats the max y value label
                     *     return parseFloat(max).toFixed(precision);
                     *   },
                     *   yIntermediateFormatter: function(intermediate, precision) { // callback function that formats the intermediate y value labels
                     *     return parseFloat(intermediate).toFixed(precision);
                     *   },
                     *   maxDataSetLength: 2,
                     *   interpolation: 'bezier'                   // one of 'bezier', 'linear', or 'step'
                     *   timestampFormatter: null,                 // optional function to format time stamps for bottom of chart
                     *                                             // you may use SmoothieChart.timeFormatter, or your own: function(date) { return ''; }
                     *   scrollBackwards: false,                   // reverse the scroll direction of the chart
                     *   horizontalLines: [],                      // [ { value: 0, color: '#ffffff', lineWidth: 1 } ]
                     *   grid:
                     *   {
                     *     fillStyle: '#000000',                   // the background colour of the chart
                     *     lineWidth: 1,                           // the pixel width of grid lines
                     *     strokeStyle: '#777777',                 // colour of grid lines
                     *     millisPerLine: 1000,                    // distance between vertical grid lines
                     *     sharpLines: false,                      // controls whether grid lines are 1px sharp, or softened
                     *     verticalSections: 2,                    // number of vertical sections marked out by horizontal grid lines
                     *     borderVisible: true                     // whether the grid lines trace the border of the chart or not
                     *   },
                     *   labels
                     *   {
                     *     disabled: false,                        // enables/disables labels showing the min/max values
                     *     fillStyle: '#ffffff',                   // colour for text of labels,
                     *     fontSize: 15,
                     *     fontFamily: 'sans-serif',
                     *     precision: 2,
                     *     showIntermediateLabels: false,          // shows intermediate labels between min and max values along y axis
                     *     intermediateLabelSameAxis: true,
                     *   },
                     *   title
                     *   {
                     *     text: '',                               // the text to display on the left side of the chart
                     *     fillStyle: '#ffffff',                   // colour for text
                     *     fontSize: 15,
                     *     fontFamily: 'sans-serif',
                     *     verticalAlign: 'middle'                 // one of 'top', 'middle', or 'bottom'
                     *   },
                     *   tooltip: false                            // show tooltip when mouse is over the chart
                     *   tooltipLine: {                            // properties for a vertical line at the cursor position
                     *     lineWidth: 1,
                     *     strokeStyle: '#BBBBBB'
                     *   },
                     *   tooltipFormatter: SmoothieChart.tooltipFormatter, // formatter function for tooltip text
                     *   nonRealtimeData: false,                   // use time of latest data as current time
                     *   displayDataFromPercentile: 1,             // display not latest data, but data from the given percentile
                     *                                             // useful when trying to see old data saved by setting a high value for maxDataSetLength
                     *                                             // should be a value between 0 and 1
                     *   responsive: false,                        // whether the chart should adapt to the size of the canvas
                     *   limitFPS: 0                               // maximum frame rate the chart will render at, in FPS (zero means no limit)
                     * }
                     * </pre>
                     *
                     * @constructor
                     */
                    function SmoothieChart(options) {
                        this.options = Util.extend({}, SmoothieChart.defaultChartOptions, options);
                        this.seriesSet = [];
                        this.currentValueRange = 1;
                        this.currentVisMinValue = 0;
                        this.lastRenderTimeMillis = 0;
                        this.lastChartTimestamp = 0;
                
                        this.mousemove = this.mousemove.bind(this);
                        this.mouseout = this.mouseout.bind(this);
                    }
                
                    /** Formats the HTML string content of the tooltip. */
                    SmoothieChart.tooltipFormatter = function (timestamp, data) {
                        var timestampFormatter = this.options.timestampFormatter || SmoothieChart.timeFormatter,
                            lines = [timestampFormatter(new Date(timestamp))],
                            label;
                
                        for (var i = 0; i < data.length; ++i) {
                            label = data[i].series.options.tooltipLabel || ''
                            if (label !== '') {
                                label = label + ' ';
                            }
                            lines.push('<span style="color:' + data[i].series.options.strokeStyle + '">' +
                                label +
                                this.options.yMaxFormatter(data[i].value, this.options.labels.precision) + '</span>');
                        }
                
                        return lines.join('<br>');
                    };
                
                    SmoothieChart.defaultChartOptions = {
                        millisPerPixel: 20,
                        enableDpiScaling: true,
                        yMinFormatter: function (min, precision) {
                            return parseFloat(min).toFixed(precision);
                        },
                        yMaxFormatter: function (max, precision) {
                            return parseFloat(max).toFixed(precision);
                        },
                        yIntermediateFormatter: function (intermediate, precision) {
                            return parseFloat(intermediate).toFixed(precision);
                        },
                        maxValueScale: 1,
                        minValueScale: 1,
                        interpolation: 'bezier',
                        scaleSmoothing: 0.125,
                        maxDataSetLength: 2,
                        scrollBackwards: false,
                        displayDataFromPercentile: 1,
                        grid: {
                            fillStyle: '#000000',
                            strokeStyle: '#777777',
                            lineWidth: 1,
                            sharpLines: false,
                            millisPerLine: 1000,
                            verticalSections: 2,
                            borderVisible: true
                        },
                        labels: {
                            fillStyle: '#ffffff',
                            disabled: false,
                            fontSize: 10,
                            fontFamily: 'monospace',
                            precision: 2,
                            showIntermediateLabels: false,
                            intermediateLabelSameAxis: true,
                        },
                        title: {
                            text: '',
                            fillStyle: '#ffffff',
                            fontSize: 15,
                            fontFamily: 'monospace',
                            verticalAlign: 'middle'
                        },
                        horizontalLines: [],
                        tooltip: false,
                        tooltipLine: {
                            lineWidth: 1,
                            strokeStyle: '#BBBBBB'
                        },
                        tooltipFormatter: SmoothieChart.tooltipFormatter,
                        nonRealtimeData: false,
                        responsive: false,
                        limitFPS: 0
                    };
                
                    // Based on http://inspirit.github.com/jsfeat/js/compatibility.js
                    SmoothieChart.AnimateCompatibility = (function () {
                        var requestAnimationFrame = function (callback, element) {
                            var requestAnimationFrame =
                                window.requestAnimationFrame ||
                                window.webkitRequestAnimationFrame ||
                                window.mozRequestAnimationFrame ||
                                window.oRequestAnimationFrame ||
                                window.msRequestAnimationFrame ||
                                function (callback) {
                                    return window.setTimeout(function () {
                                        callback(Date.now());
                                    }, 16);
                                };
                            return requestAnimationFrame.call(window, callback, element);
                        },
                            cancelAnimationFrame = function (id) {
                                var cancelAnimationFrame =
                                    window.cancelAnimationFrame ||
                                    function (id) {
                                        clearTimeout(id);
                                    };
                                return cancelAnimationFrame.call(window, id);
                            };
                
                        return {
                            requestAnimationFrame: requestAnimationFrame,
                            cancelAnimationFrame: cancelAnimationFrame
                        };
                    })();
                
                    SmoothieChart.defaultSeriesPresentationOptions = {
                        lineWidth: 1,
                        strokeStyle: '#ffffff'
                    };
                
                    /**
                     * Adds a <code>TimeSeries</code> to this chart, with optional presentation options.
                     *
                     * Presentation options should be of the form (defaults shown):
                     *
                     * <pre>
                     * {
                     *   lineWidth: 1,
                     *   strokeStyle: '#ffffff',
                     *   fillStyle: undefined,
                     *   interpolation: undefined;
                     *   tooltipLabel: undefined
                     * }
                     * </pre>
                     */
                    SmoothieChart.prototype.addTimeSeries = function (timeSeries, options) {
                        this.seriesSet.push({ timeSeries: timeSeries, options: Util.extend({}, SmoothieChart.defaultSeriesPresentationOptions, options) });
                        if (timeSeries.options.resetBounds && timeSeries.options.resetBoundsInterval > 0) {
                            timeSeries.resetBoundsTimerId = setInterval(
                                function () {
                                    timeSeries.resetBounds();
                                },
                                timeSeries.options.resetBoundsInterval
                            );
                        }
                    };
                
                    /**
                     * Removes the specified <code>TimeSeries</code> from the chart.
                     */
                    SmoothieChart.prototype.removeTimeSeries = function (timeSeries) {
                        // Find the correct timeseries to remove, and remove it
                        var numSeries = this.seriesSet.length;
                        for (var i = 0; i < numSeries; i++) {
                            if (this.seriesSet[i].timeSeries === timeSeries) {
                                this.seriesSet.splice(i, 1);
                                break;
                            }
                        }
                        // If a timer was operating for that timeseries, remove it
                        if (timeSeries.resetBoundsTimerId) {
                            // Stop resetting the bounds, if we were
                            clearInterval(timeSeries.resetBoundsTimerId);
                        }
                    };
                
                    /**
                     * Gets render options for the specified <code>TimeSeries</code>.
                     *
                     * As you may use a single <code>TimeSeries</code> in multiple charts with different formatting in each usage,
                     * these settings are stored in the chart.
                     */
                    SmoothieChart.prototype.getTimeSeriesOptions = function (timeSeries) {
                        // Find the correct timeseries to remove, and remove it
                        var numSeries = this.seriesSet.length;
                        for (var i = 0; i < numSeries; i++) {
                            if (this.seriesSet[i].timeSeries === timeSeries) {
                                return this.seriesSet[i].options;
                            }
                        }
                    };
                
                    /**
                     * Brings the specified <code>TimeSeries</code> to the top of the chart. It will be rendered last.
                     */
                    SmoothieChart.prototype.bringToFront = function (timeSeries) {
                        // Find the correct timeseries to remove, and remove it
                        var numSeries = this.seriesSet.length;
                        for (var i = 0; i < numSeries; i++) {
                            if (this.seriesSet[i].timeSeries === timeSeries) {
                                var set = this.seriesSet.splice(i, 1);
                                this.seriesSet.push(set[0]);
                                break;
                            }
                        }
                    };
                
                    /**
                     * Instructs the <code>SmoothieChart</code> to start rendering to the provided canvas, with specified delay.
                     *
                     * @param canvas the target canvas element
                     * @param delayMillis an amount of time to wait before a data point is shown. This can prevent the end of the series
                     * from appearing on screen, with new values flashing into view, at the expense of some latency.
                     */
                    SmoothieChart.prototype.streamTo = function (canvas, delayMillis) {
                        this.canvas = canvas;
                        this.delay = delayMillis;
                        this.start();
                    };
                
                    SmoothieChart.prototype.getTooltipEl = function () {
                        // Create the tool tip element lazily
                        if (!this.tooltipEl) {
                            this.tooltipEl = document.createElement('div');
                            this.tooltipEl.className = 'smoothie-chart-tooltip';
                            this.tooltipEl.style.pointerEvents = 'none';
                            this.tooltipEl.style.position = 'absolute';
                            this.tooltipEl.style.display = 'none';
                            document.body.appendChild(this.tooltipEl);
                        }
                        return this.tooltipEl;
                    };
                
                    SmoothieChart.prototype.updateTooltip = function () {
                        if (!this.options.tooltip) {
                            return;
                        }
                        var el = this.getTooltipEl();
                
                        if (!this.mouseover || !this.options.tooltip) {
                            el.style.display = 'none';
                            return;
                        }
                
                        var time = this.lastChartTimestamp;
                
                        // x pixel to time
                        var t = this.options.scrollBackwards
                            ? time - this.mouseX * this.options.millisPerPixel
                            : time - (this.canvas.offsetWidth - this.mouseX) * this.options.millisPerPixel;
                
                        var data = [];
                
                        // For each data set...
                        for (var d = 0; d < this.seriesSet.length; d++) {
                            var timeSeries = this.seriesSet[d].timeSeries;
                            if (timeSeries.disabled) {
                                continue;
                            }
                
                            // find datapoint closest to time 't'
                            var closeIdx = Util.binarySearch(timeSeries.data, t);
                            if (closeIdx > 0 && closeIdx < timeSeries.data.length) {
                                data.push({ series: this.seriesSet[d], index: closeIdx, value: timeSeries.data[closeIdx][1] });
                            }
                        }
                
                        if (data.length) {
                            el.innerHTML = this.options.tooltipFormatter.call(this, t, data);
                            el.style.display = 'block';
                        } else {
                            el.style.display = 'none';
                        }
                    };
                
                    SmoothieChart.prototype.mousemove = function (evt) {
                        this.mouseover = true;
                        this.mouseX = evt.offsetX;
                        this.mouseY = evt.offsetY;
                        this.mousePageX = evt.pageX;
                        this.mousePageY = evt.pageY;
                        if (!this.options.tooltip) {
                            return;
                        }
                        var el = this.getTooltipEl();
                        el.style.top = Math.round(this.mousePageY) + 'px';
                        el.style.left = Math.round(this.mousePageX) + 'px';
                        this.updateTooltip();
                    };
                
                    SmoothieChart.prototype.mouseout = function () {
                        this.mouseover = false;
                        this.mouseX = this.mouseY = -1;
                        if (this.tooltipEl)
                            this.tooltipEl.style.display = 'none';
                    };
                
                    /**
                     * Make sure the canvas has the optimal resolution for the device's pixel ratio.
                     */
                    SmoothieChart.prototype.resize = function () {
                        var dpr = !this.options.enableDpiScaling || !window ? 1 : window.devicePixelRatio,
                            width, height;
                        if (this.options.responsive) {
                            // Newer behaviour: Use the canvas's size in the layout, and set the internal
                            // resolution according to that size and the device pixel ratio (eg: high DPI)
                            width = this.canvas.offsetWidth;
                            height = this.canvas.offsetHeight;
                
                            if (width !== this.lastWidth) {
                                this.lastWidth = width;
                                this.canvas.setAttribute('width', (Math.floor(width * dpr)).toString());
                                this.canvas.getContext('2d').scale(dpr, dpr);
                            }
                            if (height !== this.lastHeight) {
                                this.lastHeight = height;
                                this.canvas.setAttribute('height', (Math.floor(height * dpr)).toString());
                                this.canvas.getContext('2d').scale(dpr, dpr);
                            }
                        } else if (dpr !== 1) {
                            // Older behaviour: use the canvas's inner dimensions and scale the element's size
                            // according to that size and the device pixel ratio (eg: high DPI)
                            width = parseInt(this.canvas.getAttribute('width'));
                            height = parseInt(this.canvas.getAttribute('height'));
                
                            if (!this.originalWidth || (Math.floor(this.originalWidth * dpr) !== width)) {
                                this.originalWidth = width;
                                this.canvas.setAttribute('width', (Math.floor(width * dpr)).toString());
                                this.canvas.style.width = width + 'px';
                                this.canvas.getContext('2d').scale(dpr, dpr);
                            }
                
                            if (!this.originalHeight || (Math.floor(this.originalHeight * dpr) !== height)) {
                                this.originalHeight = height;
                                this.canvas.setAttribute('height', (Math.floor(height * dpr)).toString());
                                this.canvas.style.height = height + 'px';
                                this.canvas.getContext('2d').scale(dpr, dpr);
                            }
                        }
                    };
                
                    /**
                     * Starts the animation of this chart.
                     */
                    SmoothieChart.prototype.start = function () {
                        if (this.frame) {
                            // We're already running, so just return
                            return;
                        }
                
                        this.canvas.addEventListener('mousemove', this.mousemove);
                        this.canvas.addEventListener('mouseout', this.mouseout);
                
                        // Renders a frame, and queues the next frame for later rendering
                        var animate = function () {
                            this.frame = SmoothieChart.AnimateCompatibility.requestAnimationFrame(function () {
                                if (this.options.nonRealtimeData) {
                                    var dateZero = new Date(0);
                                    // find the data point with the latest timestamp
                                    var maxTimeStamp = this.seriesSet.reduce(function (max, series) {
                                        var dataSet = series.timeSeries.data;
                                        var indexToCheck = Math.round(this.options.displayDataFromPercentile * dataSet.length) - 1;
                                        indexToCheck = indexToCheck >= 0 ? indexToCheck : 0;
                                        indexToCheck = indexToCheck <= dataSet.length - 1 ? indexToCheck : dataSet.length - 1;
                                        if (dataSet && dataSet.length > 0) {
                                            // timestamp corresponds to element 0 of the data point
                                            var lastDataTimeStamp = dataSet[indexToCheck][0];
                                            max = max > lastDataTimeStamp ? max : lastDataTimeStamp;
                                        }
                                        return max;
                                    }.bind(this), dateZero);
                                    // use the max timestamp as current time
                                    this.render(this.canvas, maxTimeStamp > dateZero ? maxTimeStamp : null);
                                } else {
                                    this.render();
                                }
                                animate();
                            }.bind(this));
                        }.bind(this);
                
                        animate();
                    };
                
                    /**
                     * Stops the animation of this chart.
                     */
                    SmoothieChart.prototype.stop = function () {
                        if (this.frame) {
                            SmoothieChart.AnimateCompatibility.cancelAnimationFrame(this.frame);
                            delete this.frame;
                            this.canvas.removeEventListener('mousemove', this.mousemove);
                            this.canvas.removeEventListener('mouseout', this.mouseout);
                        }
                    };
                
                    SmoothieChart.prototype.updateValueRange = function () {
                        // Calculate the current scale of the chart, from all time series.
                        var chartOptions = this.options,
                            chartMaxValue = Number.NaN,
                            chartMinValue = Number.NaN;
                
                        for (var d = 0; d < this.seriesSet.length; d++) {
                            // TODO(ndunn): We could calculate / track these values as they stream in.
                            var timeSeries = this.seriesSet[d].timeSeries;
                            if (timeSeries.disabled) {
                                continue;
                            }
                
                            if (!isNaN(timeSeries.maxValue)) {
                                chartMaxValue = !isNaN(chartMaxValue) ? Math.max(chartMaxValue, timeSeries.maxValue) : timeSeries.maxValue;
                            }
                
                            if (!isNaN(timeSeries.minValue)) {
                                chartMinValue = !isNaN(chartMinValue) ? Math.min(chartMinValue, timeSeries.minValue) : timeSeries.minValue;
                            }
                        }
                
                        // Scale the chartMaxValue to add padding at the top if required
                        if (chartOptions.maxValue != null) {
                            chartMaxValue = chartOptions.maxValue;
                        } else {
                            chartMaxValue *= chartOptions.maxValueScale;
                        }
                
                        // Set the minimum if we've specified one
                        if (chartOptions.minValue != null) {
                            chartMinValue = chartOptions.minValue;
                        } else {
                            chartMinValue -= Math.abs(chartMinValue * chartOptions.minValueScale - chartMinValue);
                        }
                
                        // If a custom range function is set, call it
                        if (this.options.yRangeFunction) {
                            var range = this.options.yRangeFunction({ min: chartMinValue, max: chartMaxValue });
                            chartMinValue = range.min;
                            chartMaxValue = range.max;
                        }
                
                        if (!isNaN(chartMaxValue) && !isNaN(chartMinValue)) {
                            var targetValueRange = chartMaxValue - chartMinValue;
                            var valueRangeDiff = (targetValueRange - this.currentValueRange);
                            var minValueDiff = (chartMinValue - this.currentVisMinValue);
                            this.isAnimatingScale = Math.abs(valueRangeDiff) > 0.1 || Math.abs(minValueDiff) > 0.1;
                            this.currentValueRange += chartOptions.scaleSmoothing * valueRangeDiff;
                            this.currentVisMinValue += chartOptions.scaleSmoothing * minValueDiff;
                        }
                
                        this.valueRange = { min: chartMinValue, max: chartMaxValue };
                    };
                
                    SmoothieChart.prototype.render = function (canvas, time) {
                        var nowMillis = Date.now();
                
                        // Respect any frame rate limit.
                        if (this.options.limitFPS > 0 && nowMillis - this.lastRenderTimeMillis < (1000 / this.options.limitFPS))
                            return;
                
                        if (!this.isAnimatingScale) {
                            // We're not animating. We can use the last render time and the scroll speed to work out whether
                            // we actually need to paint anything yet. If not, we can return immediately.
                
                            // Render at least every 1/6th of a second. The canvas may be resized, which there is
                            // no reliable way to detect.
                            var maxIdleMillis = Math.min(1000 / 6, this.options.millisPerPixel);
                
                            if (nowMillis - this.lastRenderTimeMillis < maxIdleMillis) {
                                return;
                            }
                        }
                
                        this.resize();
                        this.updateTooltip();
                
                        this.lastRenderTimeMillis = nowMillis;
                
                        canvas = canvas || this.canvas;
                        time = time || nowMillis - (this.delay || 0);
                
                        // Round time down to pixel granularity, so motion appears smoother.
                        time -= time % this.options.millisPerPixel;
                
                        this.lastChartTimestamp = time;
                
                        var context = canvas.getContext('2d'),
                            chartOptions = this.options,
                            dimensions = { top: 0, left: 0, width: canvas.clientWidth, height: canvas.clientHeight },
                            // Calculate the threshold time for the oldest data points.
                            oldestValidTime = time - (dimensions.width * chartOptions.millisPerPixel),
                            valueToYPixel = function (value) {
                                var offset = value - this.currentVisMinValue;
                                return this.currentValueRange === 0
                                    ? dimensions.height
                                    : dimensions.height - (Math.round((offset / this.currentValueRange) * dimensions.height));
                            }.bind(this),
                            timeToXPixel = function (t) {
                                if (chartOptions.scrollBackwards) {
                                    return Math.round((time - t) / chartOptions.millisPerPixel);
                                }
                                return Math.round(dimensions.width - ((time - t) / chartOptions.millisPerPixel));
                            };
                
                        this.updateValueRange();
                
                        context.font = chartOptions.labels.fontSize + 'px ' + chartOptions.labels.fontFamily;
                
                        // Save the state of the canvas context, any transformations applied in this method
                        // will get removed from the stack at the end of this method when .restore() is called.
                        context.save();
                
                        // Move the origin.
                        context.translate(dimensions.left, dimensions.top);
                
                        // Create a clipped rectangle - anything we draw will be constrained to this rectangle.
                        // This prevents the occasional pixels from curves near the edges overrunning and creating
                        // screen cheese (that phrase should need no explanation).
                        context.beginPath();
                        context.rect(0, 0, dimensions.width, dimensions.height);
                        context.clip();
                
                        // Clear the working area.
                        context.save();
                        context.fillStyle = chartOptions.grid.fillStyle;
                        context.clearRect(0, 0, dimensions.width, dimensions.height);
                        context.fillRect(0, 0, dimensions.width, dimensions.height);
                        context.restore();
                
                        // Grid lines...
                        context.save();
                        context.lineWidth = chartOptions.grid.lineWidth;
                        context.strokeStyle = chartOptions.grid.strokeStyle;
                        // Vertical (time) dividers.
                        if (chartOptions.grid.millisPerLine > 0) {
                            context.beginPath();
                            for (var t = time - (time % chartOptions.grid.millisPerLine);
                                t >= oldestValidTime;
                                t -= chartOptions.grid.millisPerLine) {
                                var gx = timeToXPixel(t);
                                if (chartOptions.grid.sharpLines) {
                                    gx -= 0.5;
                                }
                                context.moveTo(gx, 0);
                                context.lineTo(gx, dimensions.height);
                            }
                            context.stroke();
                            context.closePath();
                        }
                
                        // Horizontal (value) dividers.
                        for (var v = 1; v < chartOptions.grid.verticalSections; v++) {
                            var gy = Math.round(v * dimensions.height / chartOptions.grid.verticalSections);
                            if (chartOptions.grid.sharpLines) {
                                gy -= 0.5;
                            }
                            context.beginPath();
                            context.moveTo(0, gy);
                            context.lineTo(dimensions.width, gy);
                            context.stroke();
                            context.closePath();
                        }
                        // Bounding rectangle.
                        if (chartOptions.grid.borderVisible) {
                            context.beginPath();
                            context.strokeRect(0, 0, dimensions.width, dimensions.height);
                            context.closePath();
                        }
                        context.restore();
                
                        // Draw any horizontal lines...
                        if (chartOptions.horizontalLines && chartOptions.horizontalLines.length) {
                            for (var hl = 0; hl < chartOptions.horizontalLines.length; hl++) {
                                var line = chartOptions.horizontalLines[hl],
                                    hly = Math.round(valueToYPixel(line.value)) - 0.5;
                                context.strokeStyle = line.color || '#ffffff';
                                context.lineWidth = line.lineWidth || 1;
                                context.beginPath();
                                context.moveTo(0, hly);
                                context.lineTo(dimensions.width, hly);
                                context.stroke();
                                context.closePath();
                            }
                        }
                
                        // For each data set...
                        for (var d = 0; d < this.seriesSet.length; d++) {
                            context.save();
                            var timeSeries = this.seriesSet[d].timeSeries;
                            if (timeSeries.disabled) {
                                continue;
                            }
                
                            var dataSet = timeSeries.data,
                                seriesOptions = this.seriesSet[d].options;
                
                            // Delete old data that's moved off the left of the chart.
                            timeSeries.dropOldData(oldestValidTime, chartOptions.maxDataSetLength);
                
                            // Set style for this dataSet.
                            context.lineWidth = seriesOptions.lineWidth;
                            context.strokeStyle = seriesOptions.strokeStyle;
                            // Draw the line...
                            context.beginPath();
                            // Retain lastX, lastY for calculating the control points of bezier curves.
                            var firstX = 0, firstY = 0, lastX = 0, lastY = 0;
                            for (var i = 0; i < dataSet.length && dataSet.length !== 1; i++) {
                                var x = timeToXPixel(dataSet[i][0]),
                                    y = valueToYPixel(dataSet[i][1]);
                
                                if (i === 0) {
                                    firstX = x;
                                    firstY = y;
                                    context.moveTo(x, y);
                                } else {
                                    switch (seriesOptions.interpolation || chartOptions.interpolation) {
                                        case "linear":
                                        case "line": {
                                            context.lineTo(x, y);
                                            break;
                                        }
                                        case "bezier":
                                        default: {
                                            // Great explanation of Bezier curves: http://en.wikipedia.org/wiki/Bezier_curve#Quadratic_curves
                                            //
                                            // Assuming A was the last point in the line plotted and B is the new point,
                                            // we draw a curve with control points P and Q as below.
                                            //
                                            // A---P
                                            //     |
                                            //     |
                                            //     |
                                            //     Q---B
                                            //
                                            // Importantly, A and P are at the same y coordinate, as are B and Q. This is
                                            // so adjacent curves appear to flow as one.
                                            //
                                            context.bezierCurveTo( // startPoint (A) is implicit from last iteration of loop
                                                Math.round((lastX + x) / 2), lastY, // controlPoint1 (P)
                                                Math.round((lastX + x)) / 2, y, // controlPoint2 (Q)
                                                x, y); // endPoint (B)
                                            break;
                                        }
                                        case "step": {
                                            context.lineTo(x, lastY);
                                            context.lineTo(x, y);
                                            break;
                                        }
                                    }
                                }
                
                                lastX = x; lastY = y;
                            }
                
                            if (dataSet.length > 1) {
                                if (seriesOptions.fillStyle) {
                                    // Close up the fill region.
                                    if (chartOptions.scrollBackwards) {
                                        context.lineTo(lastX, dimensions.height + seriesOptions.lineWidth);
                                        context.lineTo(firstX, dimensions.height + seriesOptions.lineWidth);
                                        context.lineTo(firstX, firstY);
                                    } else {
                                        context.lineTo(dimensions.width + seriesOptions.lineWidth + 1, lastY);
                                        context.lineTo(dimensions.width + seriesOptions.lineWidth + 1, dimensions.height + seriesOptions.lineWidth + 1);
                                        context.lineTo(firstX, dimensions.height + seriesOptions.lineWidth);
                                    }
                                    context.fillStyle = seriesOptions.fillStyle;
                                    context.fill();
                                }
                
                                if (seriesOptions.strokeStyle && seriesOptions.strokeStyle !== 'none') {
                                    context.stroke();
                                }
                                context.closePath();
                            }
                            context.restore();
                        }
                
                        if (chartOptions.tooltip && this.mouseX >= 0) {
                            // Draw vertical bar to show tooltip position
                            context.lineWidth = chartOptions.tooltipLine.lineWidth;
                            context.strokeStyle = chartOptions.tooltipLine.strokeStyle;
                            context.beginPath();
                            context.moveTo(this.mouseX, 0);
                            context.lineTo(this.mouseX, dimensions.height);
                            context.closePath();
                            context.stroke();
                            this.updateTooltip();
                        }
                
                        // Draw the axis values on the chart.
                        if (!chartOptions.labels.disabled && !isNaN(this.valueRange.min) && !isNaN(this.valueRange.max)) {
                            var maxValueString = chartOptions.yMaxFormatter(this.valueRange.max, chartOptions.labels.precision),
                                minValueString = chartOptions.yMinFormatter(this.valueRange.min, chartOptions.labels.precision),
                                maxLabelPos = chartOptions.scrollBackwards ? 0 : dimensions.width - context.measureText(maxValueString).width - 2,
                                minLabelPos = chartOptions.scrollBackwards ? 0 : dimensions.width - context.measureText(minValueString).width - 2;
                            context.fillStyle = chartOptions.labels.fillStyle;
                            context.fillText(maxValueString, maxLabelPos, chartOptions.labels.fontSize);
                            context.fillText(minValueString, minLabelPos, dimensions.height - 2);
                        }
                
                        // Display intermediate y axis labels along y-axis to the left of the chart
                        if (chartOptions.labels.showIntermediateLabels
                            && !isNaN(this.valueRange.min) && !isNaN(this.valueRange.max)
                            && chartOptions.grid.verticalSections > 0) {
                            // show a label above every vertical section divider
                            var step = (this.valueRange.max - this.valueRange.min) / chartOptions.grid.verticalSections;
                            var stepPixels = dimensions.height / chartOptions.grid.verticalSections;
                            for (var v = 1; v < chartOptions.grid.verticalSections; v++) {
                                var gy = dimensions.height - Math.round(v * stepPixels);
                                if (chartOptions.grid.sharpLines) {
                                    gy -= 0.5;
                                }
                                var yValue = chartOptions.yIntermediateFormatter(this.valueRange.min + (v * step), chartOptions.labels.precision);
                                //left of right axis?
                                intermediateLabelPos =
                                    chartOptions.labels.intermediateLabelSameAxis
                                        ? (chartOptions.scrollBackwards ? 0 : dimensions.width - context.measureText(yValue).width - 2)
                                        : (chartOptions.scrollBackwards ? dimensions.width - context.measureText(yValue).width - 2 : 0);
                
                                context.fillText(yValue, intermediateLabelPos, gy - chartOptions.grid.lineWidth);
                            }
                        }
                
                        // Display timestamps along x-axis at the bottom of the chart.
                        if (chartOptions.timestampFormatter && chartOptions.grid.millisPerLine > 0) {
                            var textUntilX = chartOptions.scrollBackwards
                                ? context.measureText(minValueString).width
                                : dimensions.width - context.measureText(minValueString).width + 4;
                            for (var t = time - (time % chartOptions.grid.millisPerLine);
                                t >= oldestValidTime;
                                t -= chartOptions.grid.millisPerLine) {
                                var gx = timeToXPixel(t);
                                // Only draw the timestamp if it won't overlap with the previously drawn one.
                                if ((!chartOptions.scrollBackwards && gx < textUntilX) || (chartOptions.scrollBackwards && gx > textUntilX)) {
                                    // Formats the timestamp based on user specified formatting function
                                    // SmoothieChart.timeFormatter function above is one such formatting option
                                    var tx = new Date(t),
                                        ts = chartOptions.timestampFormatter(tx),
                                        tsWidth = context.measureText(ts).width;
                
                                    textUntilX = chartOptions.scrollBackwards
                                        ? gx + tsWidth + 2
                                        : gx - tsWidth - 2;
                
                                    context.fillStyle = chartOptions.labels.fillStyle;
                                    if (chartOptions.scrollBackwards) {
                                        context.fillText(ts, gx, dimensions.height - 2);
                                    } else {
                                        context.fillText(ts, gx - tsWidth, dimensions.height - 2);
                                    }
                                }
                            }
                        }
                
                        // Display title.
                        if (chartOptions.title.text !== '') {
                            context.font = chartOptions.title.fontSize + 'px ' + chartOptions.title.fontFamily;
                            var titleXPos = chartOptions.scrollBackwards ? dimensions.width - context.measureText(chartOptions.title.text).width - 2 : 2;
                            if (chartOptions.title.verticalAlign == 'bottom') {
                                context.textBaseline = 'bottom';
                                var titleYPos = dimensions.height;
                            } else if (chartOptions.title.verticalAlign == 'middle') {
                                context.textBaseline = 'middle';
                                var titleYPos = dimensions.height / 2;
                            } else {
                                context.textBaseline = 'top';
                                var titleYPos = 0;
                            }
                            context.fillStyle = chartOptions.title.fillStyle;
                            context.fillText(chartOptions.title.text, titleXPos, titleYPos);
                        }
                
                        context.restore(); // See .save() above.
                    };
                
                    // Sample timestamp formatting function
                    SmoothieChart.timeFormatter = function (date) {
                        function pad2(number) { return (number < 10 ? '0' : '') + number }
                        return pad2(date.getHours()) + ':' + pad2(date.getMinutes()) + ':' + pad2(date.getSeconds());
                    };
                
                    exports.TimeSeries = TimeSeries;
                    exports.SmoothieChart = SmoothieChart;
                
                })(typeof exports === 'undefined' ? this : exports);
                
                </script>
            </head>
            <body>
                <div id="monitor"></div>
            </body>
        </html>`}var YT=class{constructor(t){this.currentState="stop";this.names=[];this.samplerate=0;this.timeout=void 0;this.monitorLoop=void 0;this.uri=t}dispose(){$r.Send("stpq"),ie.runningCmd=="strq"&&(ie.runningCmd="")}updateSampleRate(){this.timeout&&clearTimeout(this.timeout),this.webview.postMessage({event:"samplerate",val:this.samplerate}),this.samplerate=0,this.currentState=="start"&&(this.timeout=(0,GT.setTimeout)(()=>{this.updateSampleRate()},1e3))}async processEvent(t){switch(t.event){case"switchRec":if(this.currentState==="stop")if(await this.updateView(),this.currentState="start",this.webview.postMessage({event:"switchStop"}),this.updateSampleRate(),ie.runningCmd==""){ie.runningCmd="strq";let l=await $r.Send("strq"+this.uri.fsPath);var i=String(l).split("	");let h=async()=>{for(var p=0,g=0;p<this.names.length;p++)this.names[p].includes("-missing-")||(this.webview.postMessage({event:"update",id:this.names[p],val:i[g+1]}),this.webview.postMessage({event:"addpoint",id:p,val:i[g+1]}),g++);this.samplerate++,l=await $r.wait(),i=String(l).split("	"),this.monitorLoop!=null&&clearTimeout(this.monitorLoop),this.monitorLoop=(0,GT.setTimeout)(h,1)};h()}else lf.window.showErrorMessage("Failed to start monitor, Please make sure the logging have been stopped.");else this.monitorLoop!=null&&clearTimeout(this.monitorLoop),this.currentState="stop",this.webview.postMessage({event:"switchStart"}),$r.Send("stpq"),ie.runningCmd=="strq"&&(ie.runningCmd="");break;case"remove":if(this.currentState!="stop")break;for(var n=[],s=0;s<this.syms.length;s++)this.syms[s].name==String(t.name)||n.push(this.syms[s]);$r.Send("upsq"+this.uri.fsPath+"|"+JSON.stringify(n)),this.syms=await $r.Send("gtsq"+this.uri.fsPath),this.updateView();break;case"add":if(this.currentState!="stop")break;var o=String(t.name).split(":");o.length===2&&this.notExist(o[0])&&(o[1]==="INT32"||o[1]==="INT16"||o[1]==="INT8"||o[1]==="FLOAT32"||o[1]==="FLOAT64")&&(this.syms.push({name:o[0],ty:o[1]}),$r.Send("upsq"+this.uri.fsPath+"|"+JSON.stringify(this.syms)),this.syms=await $r.Send("gtsq"+this.uri.fsPath),this.updateView());break;case"refresh":this.updateView();break;default:}}notExist(t){for(var i=0;i<this.syms.length;i++)if(this.syms[i].name==t)return!1;return!0}async initView(t){this.webview=t,this.updateView()}async updateView(){this.syms=await $r.Send("gtsq"+this.uri.fsPath);var t="";this.names=[],t+='<div><button id=btn-start class="button" onclick="switchRec()">Start</button><button id=btn-ref class="button" onclick="refresh()">Refresh</button><br>The full charts are saved to your temporary (e.g. /tmp) folder after the monitor stopped.<br>Sample rate: <span id=samplerate></span></div>';for(var i=0;i<this.syms.length;i++){var n="",s="",o="";this.syms[i].missing&&(n='style="color:red"',s=" (missing in the compiled program)",o="missing-"),t+='<li><button onclick=remove("'+this.syms[i].name+'") class=button1><b>-</b></button> <span '+n+">"+this.syms[i].name+" -- "+this.syms[i].ty+s+'</span>: <span id="data-'+this.syms[i].name+'"></span></li>',t+='<div><canvas id="canvas-'+this.syms[i].name+'" width=800 height=100></canvas></div>',this.names.push("data-"+o+this.syms[i].name)}t+='<div><input type="text" id="variable" name="variable" placeholder="Variable name..."><select id=seltype style="width: 120px"><option value="INT8">BYTE</option><option value="INT16">WORD</option><option value="INT32">DWORD</option><option value="FLOAT32">FLOAT</option><option value="FLOAT64">DOUBLE</option></select><button id=add class="button1" onclick=add()><b>+</b></button></div>',this.webview.postMessage({event:"page",code:t});for(var i=0;i<this.syms.length;i++)this.webview.postMessage({event:"stream",name:"canvas-"+this.syms[i].name})}async save(t){}async saveAs(t,i){}async revert(t){}async backup(t,i){return await this.saveAs(t,i),{id:t.toString(),delete:async()=>{}}}},Py=class r{constructor(){this._onDidChangeCustomDocument=new lf.EventEmitter;this.onDidChangeCustomDocument=this._onDidChangeCustomDocument.event}static{this.viewType="MonitorEditor"}saveCustomDocument(t,i){return t.save(i)}saveCustomDocumentAs(t,i,n){return t.saveAs(i,n)}revertCustomDocument(t,i){return t.revert(i)}backupCustomDocument(t,i,n){return t.backup(i.destination,n)}openCustomDocument(t,i,n){return new YT(t)}resolveCustomEditor(t,i,n){(async()=>{await(()=>new Promise(l=>{let h=setInterval(()=>{$r.isOpen&&(clearInterval(h),l())},100)}))(),i.webview.options={enableScripts:!0},i.webview.html=L5(""),t.initView(i.webview),i.webview.onDidReceiveMessage(l=>{t.processEvent(l)})})()}static register(){return lf.window.registerCustomEditorProvider(r.viewType,new r,{webviewOptions:{retainContextWhenHidden:!0},supportsMultipleEditorsPerDocument:!1})}};var E0=Ke(require("vscode"));function M5(){return`<html>
  <body>
      <table>
          <thead>
              <td style="min-width: 180px">`+At.__("Name")+`</td>
              <td style="min-width: 120px">`+At.__("Type")+`</td>
              <td style="min-width: 200px">`+At.__("Address")+`</td>
              <td style="min-width: 200px">`+At.__("Description")+`</td>
          </thead>
          <tbody id="address-list">
          </tbody>
      </table>
  </body>
  <script>
  const list = document.getElementById('address-list');
  const vscode = acquireVsCodeApi();
  var newlist;
  window.addEventListener('message', event => {
      list.innerHTML = "";
      newlist = event.data;
      for (var i = 0; i < event.data.length; i++) {
          let tr = document.createElement('tr');
          let td = document.createElement('td');
          td.colSpan = 4;
          td.style = "font-size: 13px; font-weight: bold; background: var(--vscode-list-hoverBackground)"
          td.innerHTML = event.data[i].NetworkType;
          tr.appendChild(td);
          list.appendChild(tr);
          for (var j = 0; j < event.data[i].IOVariable.length; j++) {
              let tr = document.createElement('tr');
              let name = document.createElement('td');
              let type = document.createElement('td');
              let addr = document.createElement('td');
              let desc = document.createElement('td');
              tr.appendChild(name);
              tr.appendChild(type);
              tr.appendChild(addr);
              tr.appendChild(desc);
              let addrinput = document.createElement('input');
              addrinput.type = "text";
              addrinput.style = "width: 50px";
              addrinput.setAttribute('i', i);
              addrinput.setAttribute('j', j);
              addrinput.setAttribute('p', String(event.data[i].IOVariable[j].Address).substring(0, 3));
              addrinput.value = String(event.data[i].IOVariable[j].Address).substring(3);
              addrinput.onchange = function() {
                  newlist[this.getAttribute('i')].IOVariable[this.getAttribute('j')].Address = this.getAttribute('p') + this.value;
                  vscode.postMessage(newlist);
              }
              let addrinputdiv = document.createElement('div');
              addrinputdiv.style = "width: 50px; float: left";
              addrinputdiv.appendChild(addrinput);
              let addrlabel = document.createElement('nobr');
              addrlabel.innerHTML = String(event.data[i].IOVariable[j].Address).substring(0, 3);
              let addrlabeldiv = document.createElement('div');
              addrlabeldiv.style = "width: 50px; float: left";
              addrlabeldiv.appendChild(addrlabel);
              addr.appendChild(addrlabeldiv);
              addr.appendChild(addrinputdiv);
              name.innerHTML = event.data[i].IOVariable[j].Name;
              type.innerHTML = event.data[i].IOVariable[j].Type;
              desc.innerHTML = event.data[i].IOVariable[j].Description;
              list.appendChild(tr);
          } 
      }
  });
  </script>
  </html>`}var T0=Ke(_j()),C0=Ke(require("fs")),Rk=class{dispose(){}constructor(t){this.uri=t}async save(t){}async saveAs(t,i){}async revert(t){}async backup(t,i){return await this.saveAs(t,i),{id:t.toString(),delete:async()=>{}}}},_0=class r{constructor(){this._onDidChangeCustomDocument=new E0.EventEmitter;this.onDidChangeCustomDocument=this._onDidChangeCustomDocument.event}static{this.viewType="MappingEditor"}saveCustomDocument(t,i){return C0.writeFileSync(t.uri.fsPath,T0.stringify(t.obj)),t.save(i)}saveCustomDocumentAs(t,i,n){return t.saveAs(i,n)}revertCustomDocument(t,i){return t.revert(i)}backupCustomDocument(t,i,n){return t.backup(i.destination,n)}openCustomDocument(t,i,n){let s=new Rk(t),o=C0.readFileSync(t.fsPath),l=T0.parse(o.toString());return s.obj=l,s}resolveCustomEditor(t,i,n){i.webview.options={enableScripts:!0},i.webview.onDidReceiveMessage(s=>{t.obj=s,this.saveCustomDocument(t,n)}),i.webview.html=M5(),i.webview.postMessage(t.obj)}static register(){return E0.window.registerCustomEditorProvider(r.viewType,new r,{webviewOptions:{retainContextWhenHidden:!0},supportsMultipleEditorsPerDocument:!1})}};var B0=Ke(require("vscode"));function Ej(r){return`<!DOCTYPE html>
            <html>
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0">
                    <style>
                        #configContainer {
                            overflow-x:scroll; 
                            overflow-y:hidden;
                        }
                        
                        #configList {
                            height:150px;
                            user-select: none;
                        }
                        #configList li {
                            position: relative;
                            list-style: none;
                            float: left;
                            width:30px;
                            height:135px;
                        }
                        #configList li:first-child {
                            width:90px;
                        }
                        #configList li:nth-child(even){
                            width:65px;
                        }
                        #configList li:last-child {
                            display:none;
                        }

                        #configList:after {
                            display: block;
                            clear: both;
                        }
                        .iconType , .iconName{
                            font-size: 10px;
                            position: absolute;
                            font-weight: bold;
                            width: 100%;
                            display: block;
                            text-align: center;
                        }
                        .iconType {
                            left: 0;
                            top: -2px;
                        }
                        .iconName {
                            left: 0;
                            bottom: 15px;
                            height:30px;
                        }
                        
                    </style>

                    <script>
                        window.onload = function(){
                            var W = document.documentElement.clientWidth;
                            var configUL =  document.getElementById('configList');
                            var content = document.getElementById('conContent');
                            var configCon = document.getElementById('configContainer');
                            let items= document.getElementsByTagName("li");
                            configCon.style.width = W +"px";
                            content.style.width =  (95*(items.length/2) +160 )+"px";
                        }
                        window.onresize = function(){
                            var W = document.documentElement.clientWidth;
                            var configCon= document.getElementById('configContainer');
                            configCon.style.width = W +"px";
                        }
                    </script>
                </head>
                <body>
                    <div id="configContainer">
                        <div id="conContent">
                            ${r}
                        </div>
                    </div>
                </body>
            </html>`}var Ei=class{constructor(t){this._width=100,this._scale=100/128}get Scale(){return this._scale}set Scale(t){this._scale=t}get width(){return this._width}set width(t){this._width=t}get height(){return this._height}set height(t){this._height=t}get iconElement(){return this._iconElement}set iconElement(t){this._iconElement=t}GenerateSVG(){return this._iconElement}};var k0=class extends Ei{constructor(t){super(t),this.iconElement=`
            <li>
                <span class="iconType">Coupler</span>
                <svg
                    width="35"
                    height="128"
                    viewBox="0 0 35 128.00001"
                    version="1.1"
                    id="svg5"
                    inkscape:version="1.1.2 (0a00cf5339, 2022-02-04)"
                    sodipodi:docname="couplers.svg"
                    xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
                    xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
                    xmlns="http://www.w3.org/2000/svg"
                    xmlns:svg="http://www.w3.org/2000/svg">
                <sodipodi:namedview
                    id="namedview7"
                    pagecolor="#505050"
                    bordercolor="#ffffff"
                    borderopacity="1"
                    inkscape:pageshadow="0"
                    inkscape:pageopacity="0"
                    inkscape:pagecheckerboard="1"
                    inkscape:document-units="px"
                    showgrid="false"
                    units="px"
                    showguides="true"
                    inkscape:guide-bbox="true"
                    inkscape:zoom="7.2407734"
                    inkscape:cx="-15.05364"
                    inkscape:cy="30.038228"
                    inkscape:window-width="1920"
                    inkscape:window-height="1016"
                    inkscape:window-x="1920"
                    inkscape:window-y="125"
                    inkscape:window-maximized="1"
                    inkscape:current-layer="g13993">
                    <sodipodi:guide
                        position="64.000002,205.14119"
                        orientation="-1,0"
                        id="guide1085"
                        inkscape:label=""
                        inkscape:locked="false"
                        inkscape:color="rgb(0,0,255)" />
                    <sodipodi:guide
                        position="115.51353,116"
                        orientation="0,1"
                        id="guide1087"
                        inkscape:label=""
                        inkscape:locked="false"
                        inkscape:color="rgb(0,0,255)" />
                    <sodipodi:guide
                        position="84.596671,96.000004"
                        orientation="0,1"
                        id="guide1089"
                        inkscape:label=""
                        inkscape:locked="false"
                        inkscape:color="rgb(0,0,255)" />
                    <sodipodi:guide
                        position="45.824322,16.569175"
                        orientation="0,1"
                        id="guide1091"
                        inkscape:label=""
                        inkscape:locked="false"
                        inkscape:color="rgb(0,0,255)" />
                    <sodipodi:guide
                        position="96.000004,55.294431"
                        orientation="-1,0"
                        id="guide1093"
                        inkscape:label=""
                        inkscape:locked="false"
                        inkscape:color="rgb(0,0,255)" />
                    <sodipodi:guide
                        position="32.000001,45.441806"
                        orientation="-1,0"
                        id="guide1095"
                        inkscape:label=""
                        inkscape:locked="false"
                        inkscape:color="rgb(0,0,255)" />
                    <sodipodi:guide
                        position="51.13266,91.760784"
                        orientation="1,0"
                        id="guide47353" />
                    <sodipodi:guide
                        position="40.877212,114.04838"
                        orientation="0,-1"
                        id="guide940" />
                    <sodipodi:guide
                        position="5.6623785,21.795877"
                        orientation="1,0"
                        id="guide27642" />
                    <sodipodi:guide
                        position="28.588106,58.39418"
                        orientation="1,0"
                        id="guide27681" />
                    <sodipodi:guide
                        position="70.822644,99.089619"
                        orientation="1,0"
                        id="guide1029" />
                </sodipodi:namedview>
                <defs id="defs2" />
                    <g
                        inkscape:label = "\u56FE\u5C42 1"
                        inkscape:groupmode = "layer"
                        id ="layer1"
                        transform="translate(0,0) scale(${this.Scale})"> 
                        <title>
                            PhysAddr: ${t.PhysAddr} 
                            AutoIncAddr: ${t.AutoIncAddr} 
                            Physics: ${t.Physics} 
                            VendorId: ${t.VendorId} 
                            ProductCode: ${t.ProductCode} 
                            RevisionNo: ${t.RevisionNo} 
                            SerialNo: ${t.serialNo} 
                        </title>
                        <g
                            id="g13993">
                            <rect
                                style="vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                                id="rect933"
                                width="14.917673"
                                height="97.52951"
                                x="18.385944"
                                y="13.951625" />
                            <rect
                                style="vector-effect:none;fill:#1a1a1a;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                                id="rect1685"
                                width="2.0465333"
                                height="16.573168"
                                x="24.886845"
                                y="13.951625" />
                            <rect
                                style="vector-effect:none;fill:#1a1a1a;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                                id="rect1685-6"
                                width="2.0465333"
                                height="16.573168"
                                x="24.861416"
                                y="94.907974" />
                            <rect
                                style="vector-effect:none;fill:#1a1a1a;fill-opacity:1;fill-rule:evenodd;stroke-width:2.49359;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                                id="rect1685-3"
                                width="2.0465333"
                                height="52.30394"
                                x="24.861416"
                                y="37.172928" />
                            <rect
                                style="vector-effect:none;fill:#4d4d4d;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                                id="rect2145"
                                width="16.099327"
                                height="97.52951"
                                x="2.286617"
                                y="13.951625" />
                            <g
                                id="g2697-5-2-9"
                                transform="matrix(-1.8588808,-0.00780558,0.00652308,-1.5534565,169.91119,157.76973)"
                                style="stroke-width:0.588468">
                                <rect
                                style="opacity:1;vector-effect:none;fill:#1a1a1a;fill-opacity:1;fill-rule:evenodd;stroke-width:1.4674;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                                id="rect1943-3-7-3"
                                width="3.7906842"
                                height="5.9785962"
                                x="84.30851"
                                y="37.922443" />
                                <rect
                                style="opacity:1;vector-effect:none;fill:#1a1a1a;fill-opacity:1;fill-rule:evenodd;stroke-width:1.4674;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                                id="rect2245-5-0-6"
                                width="2.2758346"
                                height="3.3777547"
                                x="86.503189"
                                y="39.390598" />
                            </g>
                            <rect
                                style="vector-effect:none;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke-width:2.49359;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                                id="rect2617"
                                width="9.2620697"
                                height="31.172626"
                                x="4.9425201"
                                y="16.923151" />
                            <g
                                id="g2697-5-2-0"
                                transform="matrix(-1.8588808,-0.00780558,0.00652308,-1.5534565,169.78199,140.6367)"
                                style="stroke-width:0.588468">
                                <rect
                                style="opacity:1;vector-effect:none;fill:#1a1a1a;fill-opacity:1;fill-rule:evenodd;stroke-width:1.4674;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                                id="rect1943-3-7-6"
                                width="3.7906842"
                                height="5.9785962"
                                x="84.30851"
                                y="37.922443" />
                                <rect
                                style="opacity:1;vector-effect:none;fill:#1a1a1a;fill-opacity:1;fill-rule:evenodd;stroke-width:1.4674;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                                id="rect2245-5-0-2"
                                width="2.2758346"
                                height="3.3777547"
                                x="86.503189"
                                y="39.390598" />
                            </g>
                            <g
                                id="g2697-5-2-6"
                                transform="matrix(-1.8588808,-0.00780558,0.00652308,-1.5534565,169.46481,125.20563)"
                                style="stroke-width:0.588468">
                                <rect
                                style="opacity:1;vector-effect:none;fill:#1a1a1a;fill-opacity:1;fill-rule:evenodd;stroke-width:1.4674;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                                id="rect1943-3-7-1"
                                width="3.7906842"
                                height="5.9785962"
                                x="84.30851"
                                y="37.922443" />
                                <rect
                                style="opacity:1;vector-effect:none;fill:#1a1a1a;fill-opacity:1;fill-rule:evenodd;stroke-width:1.4674;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                                id="rect2245-5-0-8"
                                width="2.2758346"
                                height="3.3777547"
                                x="86.503189"
                                y="39.390598" />
                            </g>
                        </g>
                    </g>
                </svg>
                <span class="iconName">${t.Name}</span>
            </li>  `}};var R0=class extends Ei{constructor(t){super(t),this.iconElement=`
               <li>
                  <span class="iconType">IO</span>
                  <svg
                     width="35"
                     height="128"
                     viewBox="0 0 35 128.00001"
                     version="1.1"
                     id="svg5"
                     inkscape:version="1.1.2 (0a00cf5339, 2022-02-04)"
                     sodipodi:docname="IO.svg"
                     xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
                     xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
                     xmlns="http://www.w3.org/2000/svg"
                     xmlns:svg="http://www.w3.org/2000/svg">
                  <sodipodi:namedview
                     id="namedview7"
                     pagecolor="#505050"
                     bordercolor="#ffffff"
                     borderopacity="1"
                     inkscape:pageshadow="0"
                     inkscape:pageopacity="0"
                     inkscape:pagecheckerboard="1"
                     inkscape:document-units="px"
                     showgrid="false"
                     units="px"
                     showguides="true"
                     inkscape:guide-bbox="true"
                     inkscape:zoom="14.481547"
                     inkscape:cx="25.066383"
                     inkscape:cy="35.010072"
                     inkscape:window-width="1846"
                     inkscape:window-height="1043"
                     inkscape:window-x="74"
                     inkscape:window-y="0"
                     inkscape:window-maximized="1"
                     inkscape:current-layer="g13993">
                     <sodipodi:guide
                        position="64.000002,205.14119"
                        orientation="-1,0"
                        id="guide1085"
                        inkscape:label=""
                        inkscape:locked="false"
                        inkscape:color="rgb(0,0,255)" />
                     <sodipodi:guide
                        position="115.51353,116"
                        orientation="0,1"
                        id="guide1087"
                        inkscape:label=""
                        inkscape:locked="false"
                        inkscape:color="rgb(0,0,255)" />
                     <sodipodi:guide
                        position="84.596671,96.000004"
                        orientation="0,1"
                        id="guide1089"
                        inkscape:label=""
                        inkscape:locked="false"
                        inkscape:color="rgb(0,0,255)" />
                     <sodipodi:guide
                        position="45.824322,16.569175"
                        orientation="0,1"
                        id="guide1091"
                        inkscape:label=""
                        inkscape:locked="false"
                        inkscape:color="rgb(0,0,255)" />
                     <sodipodi:guide
                        position="96.000004,55.294431"
                        orientation="-1,0"
                        id="guide1093"
                        inkscape:label=""
                        inkscape:locked="false"
                        inkscape:color="rgb(0,0,255)" />
                     <sodipodi:guide
                        position="51.13266,91.760784"
                        orientation="1,0"
                        id="guide47353" />
                     <sodipodi:guide
                        position="40.877212,114.04838"
                        orientation="0,-1"
                        id="guide940" />
                     <sodipodi:guide
                        position="5.6623785,21.795877"
                        orientation="1,0"
                        id="guide27642" />
                     <sodipodi:guide
                        position="28.588106,58.39418"
                        orientation="1,0"
                        id="guide27681" />
                  </sodipodi:namedview>
                  <defs id="defs2" />
                     <g
                        inkscape:label="\u56FE\u5C42 1"
                        inkscape:groupmode="layer"
                        id="layer1"
                        transform="translate(0,0) scale(${this.Scale})">
                        <title>
                           PhysAddr: ${t.PhysAddr} 
                           AutoIncAddr: ${t.AutoIncAddr} 
                           Physics: ${t.Physics} 
                           VendorId: ${t.VendorId} 
                           ProductCode: ${t.ProductCode} 
                           RevisionNo: ${t.RevisionNo} 
                           SerialNo: ${t.serialNo} 
                        </title>
                        <g
                           id="g13993">
                           <rect
                              style="opacity:1;vector-effect:none;fill:#666666;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect12853"
                              width="30.208599"
                              height="13.717769"
                              x="1.7914003"
                              y="18.28223" />
                           <text
                              xml:space="preserve"
                              style="font-style:normal;font-weight:normal;font-size:15px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#4d4d4d;fill-opacity:1;stroke:none"
                              x="15.935673"
                              y="26.339275"
                              id="text15009-3-6"><tspan
                              sodipodi:role="line"
                              id="tspan15007-56-0"
                              x="15.935673"
                              y="26.339275"
                              style="font-size:15px;fill:#4d4d4d">...</tspan></text>
                           <rect
                              style="opacity:1;vector-effect:none;fill:#4d4d4d;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect13137"
                              width="30.208601"
                              height="4.138988"
                              x="1.7914002"
                              y="14.143242" />
                           <rect
                              style="opacity:1;vector-effect:none;fill:#b3b3b3;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect13613"
                              width="30.208599"
                              height="79.430832"
                              x="1.7914002"
                              y="32" />
                           <text
                              xml:space="preserve"
                              style="font-style:normal;font-weight:normal;font-size:15px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none"
                              x="15.96547"
                              y="23.162786"
                              id="text15009"><tspan
                              sodipodi:role="line"
                              id="tspan15007"
                              x="15.96547"
                              y="23.162786"
                              style="font-size:15px;fill:#d45500">...</tspan></text>
                           <text
                              xml:space="preserve"
                              style="font-style:normal;font-weight:normal;font-size:15px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none"
                              x="15.994156"
                              y="29.084021"
                              id="text15009-6"><tspan
                              sodipodi:role="line"
                              id="tspan15007-2"
                              x="15.994156"
                              y="29.084021"
                              style="font-size:15px;fill:#d45500">...</tspan></text>
                           <text
                              xml:space="preserve"
                              style="font-style:normal;font-weight:normal;font-size:15px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none"
                              x="2.4308796"
                              y="26.004025"
                              id="text15009-7"><tspan
                              sodipodi:role="line"
                              id="tspan15007-5"
                              x="2.4308796"
                              y="26.004025"
                              style="font-size:15px;fill:#d45500">...</tspan></text>
                           <text
                              xml:space="preserve"
                              style="font-style:normal;font-weight:normal;font-size:15px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#4d4d4d;fill-opacity:1;stroke:none"
                              x="2.4590697"
                              y="23.245119"
                              id="text15009-3"><tspan
                              sodipodi:role="line"
                              id="tspan15007-56"
                              x="2.4590697"
                              y="23.245119"
                              style="font-size:15px;fill:#4d4d4d">...</tspan></text>
                           <text
                              xml:space="preserve"
                              style="font-style:normal;font-weight:normal;font-size:15px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#4d4d4d;fill-opacity:1;stroke:none"
                              x="2.255877"
                              y="28.912401"
                              id="text15009-3-9"><tspan
                              sodipodi:role="line"
                              id="tspan15007-56-3"
                              x="2.255877"
                              y="28.912401"
                              style="font-size:15px;fill:#4d4d4d">...</tspan></text>
                           <g
                              id="g27365">
                           <rect
                              style="opacity:1;vector-effect:none;fill:#4d4d4d;fill-opacity:1;fill-rule:evenodd;stroke-width:2.49361;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect25687"
                              width="9.1766958"
                              height="7.1573019"
                              x="5.623342"
                              y="36.5467" />
                           <rect
                              style="opacity:1;vector-effect:none;fill:#666666;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26123"
                              width="5.4888453"
                              height="4.4790802"
                              x="7.588685"
                              y="38.015453" />
                           <rect
                              style="opacity:1;vector-effect:none;fill:#333333;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26447"
                              width="2.6543496"
                              height="2.2737045"
                              x="4.2887092"
                              y="43.638557" />
                           <rect
                              style="vector-effect:none;fill:#333333;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26447-1"
                              width="2.6543496"
                              height="2.2737045"
                              x="13.41982"
                              y="43.742764" />
                           <rect
                              style="vector-effect:none;fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26830-0"
                              width="1.8615389"
                              height="0.30026048"
                              x="13.467252"
                              y="44.737171" />
                           <rect
                              style="opacity:1;vector-effect:none;fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26830"
                              width="1.8615389"
                              height="0.30026048"
                              x="5.0666599"
                              y="44.6031" />
                           </g>
                           <g
                              id="g27365-6"
                              transform="translate(13.78546,0.10420609)">
                           <rect
                              style="opacity:1;vector-effect:none;fill:#4d4d4d;fill-opacity:1;fill-rule:evenodd;stroke-width:2.49361;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect25687-1"
                              width="9.1766958"
                              height="7.1573019"
                              x="5.623342"
                              y="36.5467" />
                           <rect
                              style="opacity:1;vector-effect:none;fill:#666666;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26123-8"
                              width="5.4888453"
                              height="4.4790802"
                              x="7.588685"
                              y="38.015453" />
                           <rect
                              style="opacity:1;vector-effect:none;fill:#333333;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26447-7"
                              width="2.6543496"
                              height="2.2737045"
                              x="4.2887092"
                              y="43.638557" />
                           <rect
                              style="vector-effect:none;fill:#333333;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26447-1-9"
                              width="2.6543496"
                              height="2.2737045"
                              x="13.41982"
                              y="43.742764" />
                           <rect
                              style="vector-effect:none;fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26830-0-2"
                              width="1.8615389"
                              height="0.30026048"
                              x="13.467252"
                              y="44.737171" />
                           <rect
                              style="opacity:1;vector-effect:none;fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26830-02"
                              width="1.8615389"
                              height="0.30026048"
                              x="5.0666599"
                              y="44.6031" />
                           </g>
                           <g
                              id="g27365-3"
                              transform="translate(0.03932385,14.638019)">
                           <rect
                              style="opacity:1;vector-effect:none;fill:#4d4d4d;fill-opacity:1;fill-rule:evenodd;stroke-width:2.49361;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect25687-7"
                              width="9.1766958"
                              height="7.1573019"
                              x="5.623342"
                              y="36.5467" />
                           <rect
                              style="opacity:1;vector-effect:none;fill:#666666;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26123-5"
                              width="5.4888453"
                              height="4.4790802"
                              x="7.588685"
                              y="38.015453" />
                           <rect
                              style="opacity:1;vector-effect:none;fill:#333333;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26447-9"
                              width="2.6543496"
                              height="2.2737045"
                              x="4.2887092"
                              y="43.638557" />
                           <rect
                              style="vector-effect:none;fill:#333333;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26447-1-2"
                              width="2.6543496"
                              height="2.2737045"
                              x="13.41982"
                              y="43.742764" />
                           <rect
                              style="vector-effect:none;fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26830-0-28"
                              width="1.8615389"
                              height="0.30026048"
                              x="13.467252"
                              y="44.737171" />
                           <rect
                              style="opacity:1;vector-effect:none;fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26830-9"
                              width="1.8615389"
                              height="0.30026048"
                              x="5.0666599"
                              y="44.6031" />
                           </g>
                           <g
                              id="g27365-7"
                              transform="translate(0.03903674,29.55634)">
                           <rect
                              style="opacity:1;vector-effect:none;fill:#4d4d4d;fill-opacity:1;fill-rule:evenodd;stroke-width:2.49361;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect25687-3"
                              width="9.1766958"
                              height="7.1573019"
                              x="5.623342"
                              y="36.5467" />
                           <rect
                              style="opacity:1;vector-effect:none;fill:#666666;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26123-6"
                              width="5.4888453"
                              height="4.4790802"
                              x="7.588685"
                              y="38.015453" />
                           <rect
                              style="opacity:1;vector-effect:none;fill:#333333;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26447-12"
                              width="2.6543496"
                              height="2.2737045"
                              x="4.2887092"
                              y="43.638557" />
                           <rect
                              style="vector-effect:none;fill:#333333;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26447-1-93"
                              width="2.6543496"
                              height="2.2737045"
                              x="13.41982"
                              y="43.742764" />
                           <rect
                              style="vector-effect:none;fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26830-0-1"
                              width="1.8615389"
                              height="0.30026048"
                              x="13.467252"
                              y="44.737171" />
                           <rect
                              style="opacity:1;vector-effect:none;fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26830-94"
                              width="1.8615389"
                              height="0.30026048"
                              x="5.0666599"
                              y="44.6031" />
                           </g>
                           <g
                              id="g27365-32"
                              transform="translate(0.03903624,59.101811)">
                           <rect
                              style="opacity:1;vector-effect:none;fill:#4d4d4d;fill-opacity:1;fill-rule:evenodd;stroke-width:2.49361;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect25687-0"
                              width="9.1766958"
                              height="7.1573019"
                              x="5.623342"
                              y="36.5467" />
                           <rect
                              style="opacity:1;vector-effect:none;fill:#666666;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26123-61"
                              width="5.4888453"
                              height="4.4790802"
                              x="7.588685"
                              y="38.015453" />
                           <rect
                              style="opacity:1;vector-effect:none;fill:#333333;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26447-5"
                              width="2.6543496"
                              height="2.2737045"
                              x="4.2887092"
                              y="43.638557" />
                           <rect
                              style="vector-effect:none;fill:#333333;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26447-1-5"
                              width="2.6543496"
                              height="2.2737045"
                              x="13.41982"
                              y="43.742764" />
                           <rect
                              style="vector-effect:none;fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26830-0-4"
                              width="1.8615389"
                              height="0.30026048"
                              x="13.467252"
                              y="44.737171" />
                           <rect
                              style="opacity:1;vector-effect:none;fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26830-7"
                              width="1.8615389"
                              height="0.30026048"
                              x="5.0666599"
                              y="44.6031" />
                           </g>
                           <g
                              id="g27365-78"
                              transform="translate(0.03903624,43.772563)">
                           <rect
                              style="opacity:1;vector-effect:none;fill:#4d4d4d;fill-opacity:1;fill-rule:evenodd;stroke-width:2.49361;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect25687-4"
                              width="9.1766958"
                              height="7.1573019"
                              x="5.623342"
                              y="36.5467" />
                           <rect
                              style="opacity:1;vector-effect:none;fill:#666666;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26123-50"
                              width="5.4888453"
                              height="4.4790802"
                              x="7.588685"
                              y="38.015453" />
                           <rect
                              style="opacity:1;vector-effect:none;fill:#333333;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26447-3"
                              width="2.6543496"
                              height="2.2737045"
                              x="4.2887092"
                              y="43.638557" />
                           <rect
                              style="vector-effect:none;fill:#333333;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26447-1-6"
                              width="2.6543496"
                              height="2.2737045"
                              x="13.41982"
                              y="43.742764" />
                           <rect
                              style="vector-effect:none;fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26830-0-10"
                              width="1.8615389"
                              height="0.30026048"
                              x="13.467252"
                              y="44.737171" />
                           <rect
                              style="opacity:1;vector-effect:none;fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26830-6"
                              width="1.8615389"
                              height="0.30026048"
                              x="5.0666599"
                              y="44.6031" />
                           </g>
                           <g
                              id="g27365-65"
                              transform="translate(13.788067,14.716104)">
                           <rect
                              style="opacity:1;vector-effect:none;fill:#4d4d4d;fill-opacity:1;fill-rule:evenodd;stroke-width:2.49361;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect25687-6"
                              width="9.1766958"
                              height="7.1573019"
                              x="5.623342"
                              y="36.5467" />
                           <rect
                              style="opacity:1;vector-effect:none;fill:#666666;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26123-9"
                              width="5.4888453"
                              height="4.4790802"
                              x="7.588685"
                              y="38.015453" />
                           <rect
                              style="opacity:1;vector-effect:none;fill:#333333;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26447-37"
                              width="2.6543496"
                              height="2.2737045"
                              x="4.2887092"
                              y="43.638557" />
                           <rect
                              style="vector-effect:none;fill:#333333;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26447-1-4"
                              width="2.6543496"
                              height="2.2737045"
                              x="13.41982"
                              y="43.742764" />
                           <rect
                              style="vector-effect:none;fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26830-0-5"
                              width="1.8615389"
                              height="0.30026048"
                              x="13.467252"
                              y="44.737171" />
                           <rect
                              style="opacity:1;vector-effect:none;fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26830-2"
                              width="1.8615389"
                              height="0.30026048"
                              x="5.0666599"
                              y="44.6031" />
                           </g>
                           <g
                              id="g27365-5"
                              transform="translate(13.788067,29.552661)">
                           <rect
                              style="opacity:1;vector-effect:none;fill:#4d4d4d;fill-opacity:1;fill-rule:evenodd;stroke-width:2.49361;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect25687-47"
                              width="9.1766958"
                              height="7.1573019"
                              x="5.623342"
                              y="36.5467" />
                           <rect
                              style="opacity:1;vector-effect:none;fill:#666666;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26123-4"
                              width="5.4888453"
                              height="4.4790802"
                              x="7.588685"
                              y="38.015453" />
                           <rect
                              style="opacity:1;vector-effect:none;fill:#333333;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26447-4"
                              width="2.6543496"
                              height="2.2737045"
                              x="4.2887092"
                              y="43.638557" />
                           <rect
                              style="vector-effect:none;fill:#333333;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26447-1-3"
                              width="2.6543496"
                              height="2.2737045"
                              x="13.41982"
                              y="43.742764" />
                           <rect
                              style="vector-effect:none;fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26830-0-0"
                              width="1.8615389"
                              height="0.30026048"
                              x="13.467252"
                              y="44.737171" />
                           <rect
                              style="opacity:1;vector-effect:none;fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26830-78"
                              width="1.8615389"
                              height="0.30026048"
                              x="5.0666599"
                              y="44.6031" />
                           </g>
                           <g
                              id="g27365-68"
                              transform="translate(13.788067,43.800611)">
                           <rect
                              style="opacity:1;vector-effect:none;fill:#4d4d4d;fill-opacity:1;fill-rule:evenodd;stroke-width:2.49361;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect25687-8"
                              width="9.1766958"
                              height="7.1573019"
                              x="5.623342"
                              y="36.5467" />
                           <rect
                              style="opacity:1;vector-effect:none;fill:#666666;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26123-43"
                              width="5.4888453"
                              height="4.4790802"
                              x="7.588685"
                              y="38.015453" />
                           <rect
                              style="opacity:1;vector-effect:none;fill:#333333;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26447-14"
                              width="2.6543496"
                              height="2.2737045"
                              x="4.2887092"
                              y="43.638557" />
                           <rect
                              style="vector-effect:none;fill:#333333;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26447-1-92"
                              width="2.6543496"
                              height="2.2737045"
                              x="13.41982"
                              y="43.742764" />
                           <rect
                              style="vector-effect:none;fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26830-0-06"
                              width="1.8615389"
                              height="0.30026048"
                              x="13.467252"
                              y="44.737171" />
                           <rect
                              style="opacity:1;vector-effect:none;fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26830-8"
                              width="1.8615389"
                              height="0.30026048"
                              x="5.0666599"
                              y="44.6031" />
                           </g>
                           <g
                              id="g27365-9"
                              transform="translate(13.788067,58.850033)">
                           <rect
                              style="opacity:1;vector-effect:none;fill:#4d4d4d;fill-opacity:1;fill-rule:evenodd;stroke-width:2.49361;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect25687-2"
                              width="9.1766958"
                              height="7.1573019"
                              x="5.623342"
                              y="36.5467" />
                           <rect
                              style="opacity:1;vector-effect:none;fill:#666666;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26123-66"
                              width="5.4888453"
                              height="4.4790802"
                              x="7.588685"
                              y="38.015453" />
                           <rect
                              style="opacity:1;vector-effect:none;fill:#333333;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26447-49"
                              width="2.6543496"
                              height="2.2737045"
                              x="4.2887092"
                              y="43.638557" />
                           <rect
                              style="vector-effect:none;fill:#333333;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26447-1-50"
                              width="2.6543496"
                              height="2.2737045"
                              x="13.41982"
                              y="43.742764" />
                           <rect
                              style="vector-effect:none;fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26830-0-48"
                              width="1.8615389"
                              height="0.30026048"
                              x="13.467252"
                              y="44.737171" />
                           <rect
                              style="opacity:1;vector-effect:none;fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                              id="rect26830-71"
                              width="1.8615389"
                              height="0.30026048"
                              x="5.0666599"
                              y="44.6031" />
                           </g>
                        </g>
                  </g>
               </svg>
               <span class="iconName">${t.Name}</span>
            </li>  `}};var Uf=class extends Ei{constructor(t){super(t),this.iconElement=`
        <li>
            <svg
                width="128"
                height="128"
                viewBox="0 0 128 128"
                version="1.1"
                id="svg5"
                inkscape:version="1.1.2 (0a00cf5339, 2022-02-04)"
                sodipodi:docname="line.svg"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
                xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:svg="http://www.w3.org/2000/svg">
                <sodipodi:namedview
                    id="namedview7"
                    pagecolor="#505050"
                    bordercolor="#ffffff"
                    borderopacity="1"
                    inkscape:pageshadow="0"
                    inkscape:pageopacity="0"
                    inkscape:pagecheckerboard="1"
                    inkscape:document-units="px"
                    showgrid="false"
                    units="px"
                    width="128px"
                    showguides="true"
                    inkscape:guide-bbox="true"
                    inkscape:zoom="2.9433782"
                    inkscape:cx="38.731006"
                    inkscape:cy="14.099445"
                    inkscape:window-width="1920"
                    inkscape:window-height="1016"
                    inkscape:window-x="1920"
                    inkscape:window-y="125"
                    inkscape:window-maximized="1"
                    inkscape:current-layer="layer1">
                    <sodipodi:guide
                    position="328.87381,64"
                    orientation="0,1"
                    id="guide824"
                    inkscape:label=""
                    inkscape:locked="false"
                    inkscape:color="rgb(0,0,255)" />
                    <sodipodi:guide
                    position="175.30876,626.74664"
                    orientation="0,-1"
                    id="guide826" />
                    <sodipodi:guide
                    position="64,391.64264"
                    orientation="-1,0"
                    id="guide828"
                    inkscape:label=""
                    inkscape:locked="false"
                    inkscape:color="rgb(0,0,255)" />
                </sodipodi:namedview>
                <defs id="defs2" />
                <g
                    inkscape:label="\u56FE\u5C42 1"
                    inkscape:groupmode="layer"
                    id="layer1"
                    transform="translate(0,0) scale(0.5)">
                    <rect
                    style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                    id="rect852"
                    width="128"
                    height="4"
                    x="0"
                    y="62" />
                </g>;
            </svg>
        </li>`}};var x0=class extends Ei{constructor(t){super(t),this.iconElement=`
        <li>
            <svg
                width="128"
                height="128"
                viewBox="0 0 128 128"
                version="1.1"
                id="svg5"
                inkscape:version="1.1.2 (0a00cf5339, 2022-02-04)"
                sodipodi:docname="plc.svg"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
                xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:svg="http://www.w3.org/2000/svg">
            <sodipodi:namedview
                id="namedview7"
                pagecolor="#505050"
                bordercolor="#ffffff"
                borderopacity="1"
                inkscape:pageshadow="0"
                inkscape:pageopacity="0"
                inkscape:pagecheckerboard="1"
                inkscape:document-units="px"
                showgrid="false"
                units="px"
                width="483.77954px"
                showguides="true"
                inkscape:guide-bbox="true"
                inkscape:zoom="5.6568544"
                inkscape:cx="83.792151"
                inkscape:cy="76.632695"
                inkscape:window-width="1920"
                inkscape:window-height="1016"
                inkscape:window-x="1920"
                inkscape:window-y="125"
                inkscape:window-maximized="1"
                inkscape:current-layer="layer1">
                <sodipodi:guide
                    position="27.179653,96"
                    orientation="0,1"
                    id="guide824"
                    inkscape:label=""
                    inkscape:locked="false"
                    inkscape:color="rgb(0,0,255)" />
                <sodipodi:guide
                    position="32,69.563745"
                    orientation="-1,0"
                    id="guide826"
                    inkscape:label=""
                    inkscape:locked="false"
                    inkscape:color="rgb(0,0,255)" />
                <sodipodi:guide
                    position="96,96"
                    orientation="-1,0"
                    id="guide828"
                    inkscape:label=""
                    inkscape:locked="false"
                    inkscape:color="rgb(0,0,255)" />
                <sodipodi:guide
                    position="-11.891098,32"
                    orientation="0,1"
                    id="guide830"
                    inkscape:label=""
                    inkscape:locked="false"
                    inkscape:color="rgb(0,0,255)" />
                <sodipodi:guide
                    position="64,103.53831"
                    orientation="-1,0"
                    id="guide832"
                    inkscape:label=""
                    inkscape:locked="false"
                    inkscape:color="rgb(0,0,255)" />
                <sodipodi:guide
                    position="44.166937,64"
                    orientation="0,1"
                    id="guide834"
                    inkscape:label=""
                    inkscape:locked="false"
                    inkscape:color="rgb(0,0,255)" />
                <sodipodi:guide
                    position="33.990207,86.567528"
                    orientation="0,-1"
                    id="guide5548" />
                <sodipodi:guide
                    position="47.904139,77.208023"
                    orientation="0,-1"
                    id="guide5869" />
                <sodipodi:guide
                    position="43.1477,69.308936"
                    orientation="1,0"
                    id="guide5884" />
                <sodipodi:guide
                    position="78.326561,44.514236"
                    orientation="1,0"
                    id="guide6700" />
                <sodipodi:guide
                    position="96,70.375"
                    orientation="0,-1"
                    id="guide1489" />
                <sodipodi:guide
                    position="93.03125,44.96875"
                    orientation="1,0"
                    id="guide1545" />
                <sodipodi:guide
                    position="78.326561,-79.865694"
                    orientation="1,0"
                    id="guide11040" />
            </sodipodi:namedview>
            <defs
                id="defs2" />
                <g
                    inkscape:label="\u56FE\u5C42 1"
                    inkscape:groupmode="layer"
                    id="layer1"
                    transform="translate(0,0) scale(0.8)">
                    <title>Master</title>
                    <rect
                        style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                        id="rect11756"
                        width="16.0065"
                        height="80.392174"
                        x="15.9935"
                        y="21.269148" />
                    <rect
                        style="vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:2.49361;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                        id="rect11756-3"
                        width="73.423119"
                        height="22.163322"
                        x="32"
                        y="19.269148" />
                    <rect
                        style="vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                        id="rect11756-3-5"
                        width="28.743292"
                        height="41.578819"
                        x="78.326561"
                        y="41.432472" />
                    <rect
                        style="vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                        id="rect11756-3-7"
                        width="73.175781"
                        height="23.854313"
                        x="32"
                        y="78.345299" />
                    <rect
                        style="opacity:1;vector-effect:none;fill:#333333;fill-opacity:1;fill-rule:evenodd;stroke-width:2.49359;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                        id="rect12505"
                        width="63.851597"
                        height="41.598774"
                        x="29.179659"
                        y="41.432472" />
                    <rect
                        style="opacity:0.157768;vector-effect:none;fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                        id="rect13662"
                        width="16.538393"
                        height="41.611649"
                        x="76.492867"
                        y="41.419605" />
                    <rect
                        style="opacity:1;fill:#4d4d4d;fill-opacity:1;fill-rule:evenodd;stroke-width:2.494;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                        id="rect35308"
                        width="21.452116"
                        height="2.9184337"
                        x="21.695583"
                        y="32" />
                </g>
            </svg>
            <span class="iconName"> Edge Contoller</span>
        </li>`}};var A0=class extends Ei{constructor(t){super(t),this.iconElement=`
      <li>
         <span class="iconType">servo</span>
         <svg
            width="35"
            height="128"
            viewBox="0 0 35 128.00001"
            version="1.1"
            id="svg5"
            inkscape:version="1.1.2 (0a00cf5339, 2022-02-04)"
            sodipodi:docname="servo.svg"
            xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
            xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:svg="http://www.w3.org/2000/svg">
         <sodipodi:namedview
            id="namedview7"
            pagecolor="#505050"
            bordercolor="#ffffff"
            borderopacity="1"
            inkscape:pageshadow="0"
            inkscape:pageopacity="0"
            inkscape:pagecheckerboard="1"
            inkscape:document-units="px"
            showgrid="false"
            units="px"
            showguides="true"
            inkscape:guide-bbox="true"
            inkscape:zoom="7.9999999"
            inkscape:cx="51.875"
            inkscape:cy="41.125"
            inkscape:window-width="1846"
            inkscape:window-height="1043"
            inkscape:window-x="74"
            inkscape:window-y="0"
            inkscape:window-maximized="1"
            inkscape:current-layer="g13993">
            <sodipodi:guide
               position="64.000002,205.14119"
               orientation="-1,0"
               id="guide1085"
               inkscape:label=""
               inkscape:locked="false"
               inkscape:color="rgb(0,0,255)" />
            <sodipodi:guide
               position="115.51353,116"
               orientation="0,1"
               id="guide1087"
               inkscape:label=""
               inkscape:locked="false"
               inkscape:color="rgb(0,0,255)" />
            <sodipodi:guide
               position="84.596671,96.000004"
               orientation="0,1"
               id="guide1089"
               inkscape:label=""
               inkscape:locked="false"
               inkscape:color="rgb(0,0,255)" />
            <sodipodi:guide
               position="90.372348,32.000001"
               orientation="0,1"
               id="guide1091"
               inkscape:label=""
               inkscape:locked="false"
               inkscape:color="rgb(0,0,255)" />
            <sodipodi:guide
               position="96.000004,55.294431"
               orientation="-1,0"
               id="guide1093"
               inkscape:label=""
               inkscape:locked="false"
               inkscape:color="rgb(0,0,255)" />
            <sodipodi:guide
               position="32.000001,45.441806"
               orientation="-1,0"
               id="guide1095"
               inkscape:label=""
               inkscape:locked="false"
               inkscape:color="rgb(0,0,255)" />
            <sodipodi:guide
               position="51.13266,91.760784"
               orientation="1,0"
               id="guide47353" />
            <sodipodi:guide
               position="1.375,110.12501"
               orientation="1,0"
               id="guide849" />
         </sodipodi:namedview>
         <defs
            id="defs2" />   
                  <g
                     inkscape:label="\u56FE\u5C42 1"
                     inkscape:groupmode="layer"
                     id="layer1"
                     transform="translate(0,0) scale(${this.Scale})">
                     <title>
                        PhysAddr: ${t.PhysAddr} 
                        AutoIncAddr: ${t.AutoIncAddr} 
                        Physics: ${t.Physics} 
                        VendorId: ${t.VendorId} 
                        ProductCode: ${t.ProductCode} 
                        RevisionNo: ${t.RevisionNo} 
                        SerialNo: ${t.serialNo} 
                     </title>
                     <g
                        id="g13993">
                        <rect
                           style="opacity:1;vector-effect:none;fill:#dddddd;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                           id="rect42399"
                           width="32.714478"
                           height="97.522476"
                           x="1.2855222"
                           y="14.000005" />
                        <rect
                           style="opacity:1;vector-effect:none;fill:#333333;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                           id="rect46879"
                           width="4.0125117"
                           height="8.7204971"
                           x="4.7194977"
                           y="43.156197" />
                        <rect
                           style="vector-effect:none;fill:#333333;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                           id="rect46879-3"
                           width="4.0125117"
                           height="8.7204971"
                           x="4.7112541"
                           y="55.218403" />
                        <rect
                           style="vector-effect:none;fill:#333333;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                           id="rect46879-5"
                           width="4.0125117"
                           height="8.7204971"
                           x="4.7112541"
                           y="67.053711" />
                        <rect
                           style="vector-effect:none;fill:#333333;fill-opacity:1;fill-rule:evenodd;stroke-width:2.49359;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                           id="rect46879-5-6"
                           width="4.0125117"
                           height="16.789715"
                           x="4.7112541"
                           y="82.131561" />
                        <rect
                           style="opacity:1;vector-effect:none;fill:#cccccc;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                           id="rect1035"
                           width="16.858784"
                           height="56.18512"
                           x="13.157436"
                           y="43.130768" />
                        <rect
                           style="opacity:1;vector-effect:none;fill:#3771c8;fill-opacity:1;fill-rule:evenodd;stroke-width:2.49361;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                           id="rect1421"
                           width="25.330318"
                           height="13.792199"
                           x="4.7112541"
                           y="24.084494" />
                        <g
                           id="g2697"
                           transform="matrix(1.8588972,0,0,1.5534702,-139.14226,-9.315428)"
                           style="stroke-width:0.588468">
                        <rect
                           style="opacity:1;vector-effect:none;fill:#1a1a1a;fill-opacity:1;fill-rule:evenodd;stroke-width:1.4674;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                           id="rect1943"
                           width="3.7906842"
                           height="5.9785962"
                           x="84.30851"
                           y="37.922443" />
                        <rect
                           style="opacity:1;vector-effect:none;fill:#1a1a1a;fill-opacity:1;fill-rule:evenodd;stroke-width:1.4674;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                           id="rect2245"
                           width="2.2758346"
                           height="3.3777547"
                           x="86.503189"
                           y="39.390598" />
                        </g>
                        <g
                           id="g2697-3"
                           transform="matrix(1.8588972,0,0,1.5534702,-139.14226,8.0594775)"
                           style="stroke-width:0.588468">
                        <rect
                           style="opacity:1;vector-effect:none;fill:#1a1a1a;fill-opacity:1;fill-rule:evenodd;stroke-width:1.4674;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                           id="rect1943-6"
                           width="3.7906842"
                           height="5.9785962"
                           x="84.30851"
                           y="37.922443" />
                        <rect
                           style="opacity:1;vector-effect:none;fill:#1a1a1a;fill-opacity:1;fill-rule:evenodd;stroke-width:1.4674;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                           id="rect2245-7"
                           width="2.2758346"
                           height="3.3777547"
                           x="86.503189"
                           y="39.390598" />
                        </g>
                        <g
                           id="g2697-5"
                           transform="matrix(1.8588972,0,0,1.5534702,-139.14226,24.018025)"
                           style="stroke-width:0.588468">
                        <rect
                           style="opacity:1;vector-effect:none;fill:#1a1a1a;fill-opacity:1;fill-rule:evenodd;stroke-width:1.4674;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                           id="rect1943-3"
                           width="3.7906842"
                           height="5.9785962"
                           x="84.30851"
                           y="37.922443" />
                        <rect
                           style="opacity:1;vector-effect:none;fill:#1a1a1a;fill-opacity:1;fill-rule:evenodd;stroke-width:1.4674;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                           id="rect2245-5"
                           width="2.2758346"
                           height="3.3777547"
                           x="86.503189"
                           y="39.390598" />
                        </g>
                     </g>
               </g>
            </svg>
            <span class="iconName">${t.Name}</span>
         </li>`}};var O0=class extends Ei{constructor(t){super(t),this.iconElement=`
        <li>    
            <svg
                width="35"
                height="128"
                viewBox="0 0 35 128.00001"
                version="1.1"
                id="svg5"
                inkscape:version="1.1.2 (0a00cf5339, 2022-02-04)"
                sodipodi:docname="unknown.svg"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
                xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:svg="http://www.w3.org/2000/svg">
                <sodipodi:namedview
                    id="namedview7"
                    pagecolor="#505050"
                    bordercolor="#ffffff"
                    borderopacity="1"
                    inkscape:pageshadow="0"
                    inkscape:pageopacity="0"
                    inkscape:pagecheckerboard="1"
                    inkscape:document-units="px"
                    showgrid="false"
                    units="px"
                    showguides="true"
                    inkscape:guide-bbox="true"
                    inkscape:zoom="5.12"
                    inkscape:cx="6.640625"
                    inkscape:cy="41.40625"
                    inkscape:window-width="1846"
                    inkscape:window-height="1043"
                    inkscape:window-x="74"
                    inkscape:window-y="0"
                    inkscape:window-maximized="1"
                    inkscape:current-layer="g13993">
                    <sodipodi:guide
                    position="64.000002,205.14119"
                    orientation="-1,0"
                    id="guide1085"
                    inkscape:label=""
                    inkscape:locked="false"
                    inkscape:color="rgb(0,0,255)" />
                    <sodipodi:guide
                    position="115.51353,116"
                    orientation="0,1"
                    id="guide1087"
                    inkscape:label=""
                    inkscape:locked="false"
                    inkscape:color="rgb(0,0,255)" />
                    <sodipodi:guide
                    position="84.596671,96.000004"
                    orientation="0,1"
                    id="guide1089"
                    inkscape:label=""
                    inkscape:locked="false"
                    inkscape:color="rgb(0,0,255)" />
                    <sodipodi:guide
                    position="45.824322,16.569175"
                    orientation="0,1"
                    id="guide1091"
                    inkscape:label=""
                    inkscape:locked="false"
                    inkscape:color="rgb(0,0,255)" />
                    <sodipodi:guide
                    position="96.000004,55.294431"
                    orientation="-1,0"
                    id="guide1093"
                    inkscape:label=""
                    inkscape:locked="false"
                    inkscape:color="rgb(0,0,255)" />
                    <sodipodi:guide
                    position="32.000001,45.441806"
                    orientation="-1,0"
                    id="guide1095"
                    inkscape:label=""
                    inkscape:locked="false"
                    inkscape:color="rgb(0,0,255)" />
                    <sodipodi:guide
                    position="51.13266,91.760784"
                    orientation="1,0"
                    id="guide47353" />
                    <sodipodi:guide
                    position="40.877212,114.04838"
                    orientation="0,-1"
                    id="guide940" />
                    <sodipodi:guide
                    position="5.6623785,21.795877"
                    orientation="1,0"
                    id="guide27642" />
                    <sodipodi:guide
                    position="32.000001,120.82295"
                    orientation="1,0"
                    id="guide27681" />
                    <sodipodi:guide
                    position="70.822644,99.089619"
                    orientation="1,0"
                    id="guide1029" />
                </sodipodi:namedview>
                <defs
                    id="defs2" />
                <g
                    inkscape:label="\u56FE\u5C42 1"
                    inkscape:groupmode="layer"
                    id="layer1"
                    transform="translate(0,0) scale(${this.Scale})">
                    <g
                        id="g13993">
                        <title>
                            PhysAddr: ${t.PhysAddr} 
                            AutoIncAddr: ${t.AutoIncAddr} 
                            Physics: ${t.Physics} 
                            VendorId: ${t.VendorId} 
                            ProductCode: ${t.ProductCode} 
                            RevisionNo: ${t.RevisionNo} 
                            SerialNo: ${t.serialNo} 
                        </title>
                        <rect
                            style="vector-effect:none;fill:#cccccc;fill-opacity:1;fill-rule:evenodd;stroke-width:2.4936;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
                            id="rect933"
                            width="27.829639"
                            height="97.479202"
                            x="4.1703615"
                            y="13.951626" />
                        <path
                            d="m 17.808082,42.893291 c 1.855625,0 3.72375,0.60775 5.1475,1.71725 1.62375,1.26525 2.56825,3.09 2.56825,5.229 0,2.81625 -1.99125,5.427875 -5.7815,7.935 l -0.03875,0.02537 v 3.46838 c 0,0.815625 -0.651,1.47925 -1.461875,1.4995 l -0.03813,5e-4 c -0.828375,0 -1.5,-0.671625 -1.5,-1.5 v -4.28925 a 1.5,1.5 0 0 1 0.709125,-1.2745 c 3.484625,-2.162625 5.111125,-4.157875 5.111125,-5.865 0,-1.18725 -0.49875,-2.150875 -1.41225,-2.86275 -0.882375,-0.6875 -2.0995,-1.0835 -3.3035,-1.0835 -1.19975,0 -2.40025,0.393375 -3.268375,1.078125 -0.883,0.696375 -1.373125,1.6395 -1.390375,2.804375 l -5e-4,0.06375 c 0,0.8285 -0.671625,1.5 -1.5,1.5 -0.828375,0 -1.5,-0.6715 -1.5,-1.5 0,-4.150125 3.545125,-6.94625 7.65925,-6.94625 z m 0.46575,26.625 c 1.173625,0 2.125,-0.951375 2.125,-2.125 0,-1.173625 -0.951375,-2.125 -2.125,-2.125 -1.173625,0 -2.125,0.951375 -2.125,2.125 0,1.173625 0.951375,2.125 2.125,2.125 z"
                            fill="#ffffff"
                            p-id="3370"
                            id="path18"
                            style="stroke-width:0.125" />
                        </g>
                    </g>
                </svg>
               <span class="iconName">${t.Name}</span>
            </li>
    `}};var F0=class{constructor(t){this.master=new x0("");let i=[],n="";var s=Tj(),o=oB().DOMParser,l=new o().parseFromString(t),h=s.select("//Master",l);this.line=new Uf(""),n="<ul id='configList'>"+this.master.GenerateSVG()+this.line.GenerateSVG();var p=l.getElementsByTagName("Slave");for(let y=0;y<p.length;y++){var g=p[y].getElementsByTagName("Info");if(g.length>0)for(var m=0;m<g.length;m++)i.push({Name:g[m].getElementsByTagName("Name")[0].firstChild.nodeValue,PhysAddr:g[m].getElementsByTagName("PhysAddr")[0].firstChild.nodeValue,AutoIncAddr:g[m].getElementsByTagName("AutoIncAddr")[0].firstChild.nodeValue,Physics:g[m].getElementsByTagName("Physics")[0].firstChild.nodeValue,VendorId:g[m].getElementsByTagName("VendorId")[0].firstChild.nodeValue,ProductCode:g[m].getElementsByTagName("ProductCode")[0].firstChild.nodeValue,RevisionNo:g[m].getElementsByTagName("RevisionNo")[0].firstChild.nodeValue,SerialNo:g[m].getElementsByTagName("SerialNo")[0].firstChild.nodeValue})}for(let y=0;y<i.length;y++)i[y].ProductCode=="4064258"?this.canele=new A0(i[y]):i[y].ProductCode=="72100946"?this.canele=new k0(i[y]):i[y].ProductCode=="121843794"?this.canele=new R0(i[y]):this.canele=new O0(i[y]),this.line=new Uf(""),n+=this.canele.GenerateSVG()+this.line.GenerateSVG();this.configSvg=n+"</ul>"}GenerateSVG(){return this.configSvg}};var Wk=class{constructor(t){this.svgStr="";this.uri=t}dispose(){}async save(t){}async saveAs(t,i){}async revert(t){}async backup(t,i){return await this.saveAs(t,i),{id:t.toString(),delete:async()=>{}}}},j0=class r{constructor(t){this.context=t;this._onDidChangeCustomDocument=new B0.EventEmitter;this.onDidChangeCustomDocument=this._onDidChangeCustomDocument.event}static{this.viewType="EtherCattopology"}saveCustomDocument(t,i){return t.save(i)}saveCustomDocumentAs(t,i,n){return t.saveAs(i,n)}revertCustomDocument(t,i){return t.revert(i)}backupCustomDocument(t,i,n){return t.backup(i.destination,n)}openCustomDocument(t,i,n){return new Wk(t)}resolveCustomEditor(t,i,n){i.webview.options={enableScripts:!0};let s=t.uri.fsPath;require("fs").readFile(s,"utf-8",(l,h)=>{if(l===null){let p=new F0(h);i.webview.html=Ej(p.GenerateSVG())}else console.log(l)})}static register(t){return B0.window.registerCustomEditorProvider(r.viewType,new r(t),{webviewOptions:{retainContextWhenHidden:!0},supportsMultipleEditorsPerDocument:!1})}};var co=Ke(Id()),wq=Ke(require("crypto")),Kt=Ke(require("fs")),hA=Ke(require("process")),va=Ke(mq());var yq=Ke(require("vscode"));function zv(){return`<!DOCTYPE html>
    <html lang="en">
    
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0">
        <style type="text/css">
        .txt {
            width: 60%;
            padding: 3px;
            border: 1px solid #3c3c3c;
            color: #8e8e8e;
            background-color: #3c3c3c;
        }
        
        .txt:focus {
            border: 1px solid #0e639c;
            color: #cccccc;
        }
        
        svg text {
            user-select: none;
        }
        
        #tableList {
            width: 100%;
        }
        
        #tableList>tr>td {
            text-align: left;
            user-select: none;
        }
        
        #tableList>th {
            text-align: left;
            padding: 0px;
            user-select: none;
        }
        
        #path {
            text-align: left;
            padding: 0px;
            user-select: none;
        }
        
        #doc {
            text-align: left;
            padding: 2px 10px;
            user-select: none;
        }
        
        #empty {
            color: #d7ba7d;
            font-size: 12px;
            padding: 2px;
        }
        
        .b_button {
            border: none;
            margin-top: 5px;
            width: 100%;
            text-align: center;
            outline: 1px solid transparent;
            outline-offset: 2px !important;
            color: var(--vscode-button-foreground);
            background: var(--vscode-button-background);
        }
        
        .b_button:hover {
            cursor: pointer;
            background: var(--vscode-button-hoverBackground);
        }
        
        .b_button:focus {
            outline-color: var(--vscode-focusBorder);
        }
        
        g.FBThumbnail>line {
            stroke: var(--vscode-menu-foreground) !important;
            stroke-width: 2px !important;
        }
        
        g.FBThumbnail>text {
            fill: var(--vscode-menu-foreground) !important;
        }
        
        g.FBThumbnail>rect {
            fill: var(--vscode-list-hoverBackground) !important;
            fill-opacity: 0.5 !important;
            stroke: var(--vscode-menu-foreground) !important;
        }
        
        #treeContainer {}
        
        #tree {
            height: 240px;
            overflow-y: scroll;
            overflow-x: hidden;
        }
        
        ul,
        li {
            padding: 0;
            margin: 0;
        }
        
        .treeUL {
            width: 100%;
            color: #cccccc;
        }
        
        .treeUL li {
            position: relative;
            list-style: none;
            height: auto;
            display: block;
            margin-top: 2px;
        }

        .treeUL .liValue {
            display: inline-block;
            height: auto;
            padding-left: 29px;
            width: 100%;
        }
        .treeUL .container:hover {
            cursor:pointer;
        }
        .treeUL li div.rightArrow{
            transform: rotate(45deg);
        }
        .treeUL li div.bottomArrow{
            transform: rotate(135deg);
        }
        .treeUL li div.rightArrow,
        .treeUL li div.bottomArrow {
            height: 5px;
            width: 5px;
            position: absolute;
            left: 5px;
            top: 5px;
            border: 1px solid #cccccc;
            border-width: 1px 1px 0 0;
        }
        .liValue:hover,
        .treeUL .subliValue:hover{
            background-color: #37373d;
        }
        .treeUL li.checked {
            list-style: none;
            display: block;
        }

        .subTree {
            padding-left: 20px;
        }

        .icons {
            position: absolute;
            top: 0;
            left: 13px;
            display: inline-block;
            transform: scale(0.8);
            width: 16px;
            height: 16px;
            line-height: 1.2em;
        }

        .document {
            position: relative;
            width: 100%;
            height: 100%;
            margin: auto;
            border: 0 solid #ccc;
            border-radius:4px;
        }

        .a-letter {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 0.8em;
            color: rgb(0, 122, 204);
        }
        .empty {
            color: brown;
            padding: 2px;
            border: 1px solid  #52312c;
            opacity: 0.9;
            display: block;
            margin-top: 2px;
            width: 90%;
        }
        .remoteTitle {
            display: block;
            margin:10px 0 7px 0;
            padding:0;
        }
        .nodata {
            display: none;
            width: 100%;
            padding-top: 50px;
            text-align: center;
            color: aliceblue;
        }
        </style>
    </head>
    
    <body>
        <div id="treeContainer"> 
            <div id="searchContainer">
                <input type="text" class="txt" onkeyup="FBsearch()" id="search"/>
                <span style="padding:3px;" onclick="FBsearch()" class="b_button">Search</span>
            </div>
            <div id="tree">
                <div id="remoteDiv"></div>
                <p id="nodata"> </p>
            </div>
        </div>
        <div style='padding: 5px 0px' onclick="insertFB()" class="b_button" id="insertButton" >Insert</div>      
        <div style='margin-top: 5px; padding:5px 0px;'>
            <svg id="thumbnail" xmlns="http://www.w3.org/2000/svg" version="1.1"></svg>
        </div>
        <div style='padding: 5px 0px' id="doc">
        </div>
        <script>
            const vscode = acquireVsCodeApi();
            window.addEventListener('message',event =>{
                const remoteDiv = document.getElementById("remoteDiv");
                const viewSvg = document.getElementById("thumbnail");
                const doc = document.getElementById("doc");
                const message = event.data;
                const items = message.item;

                const tempItem=[];
                const children = [];
                const father=[];
                let allPath =[];
                let roots =[];
                
                if(message.type == "table"){
                    remoteDiv.innerHTML = "";
                    
                    for(let i=0;i<items.length;i++){
                        allPath.push(items[i].path);
                    }
                    roots = [... new Set(allPath)];
                   
                    for(let i=0;i<items.length;i++){
                        if(items[i].type ==="FB" || items[i].type=== "Function" || items[i].type==="Class"){
                            tempItem.push(items[i]);
                        }
                    }
    
                    for(let i=0;i<items.length;i++){
                        if(items[i].type==="Method" || items[i].type==="Action"){
                            if(items[i-1].type ==="FB" || items[i-1].type=== "Function" || items[i-1].type==="Class" && (i-1)>=0){
                                father.push(items[i-1]);
                            }
                            children.push(items[i]);
                        }
                    }

                    for(let i=0;i<roots.length;i++){
                        let remoteContainer = document.createElement("div");
                        let remoteP = document.createElement("p");
                        let treeUL = document.createElement("ul");
                        remoteP.className = "remoteTitle";
                        treeUL.className="treeUL";
                        treeUL.id = roots[i]+"ul";
                        remoteContainer.id = roots[i];
                        
                        if(String(roots[i]).split(":")[0] == "Local"){
                            if(String(roots[i]).split(":")[1] == "empty"){
                                remoteP.innerHTML = String(roots[i]).split(":")[0]+": " +" <p class='empty'>"+"Please save and compile your project to ensure you get the latest local library."+"</p>" ;
                            } else {
                                remoteP.innerText = String(roots[i]).split(":")[0]+":"; 
                            }
                        }
                        else if(String(roots[i]).split(":")[0] == "Remote"){
                            remoteP.innerText=roots[i];
                        }
                        remoteContainer.appendChild(remoteP);
                        remoteContainer.appendChild(treeUL);
                        remoteDiv.appendChild(remoteContainer);
                    }

                    for(let i= 0;i<tempItem.length;i++){
                        let remoteDiv = document.getElementById(tempItem[i].path);
                        let remoteUl = document.getElementById(tempItem[i].path+"ul");
                        li = document.createElement("li");
                        container =  document.createElement("div");
                        container.className = "container";
                        liValue = document.createElement("div");
                        liValue.className = "liValue";
                        li.id = tempItem[i].id;
                        li.className ="uiji";
                        container.onclick = function(){
                            getTreeList(this);
                            vscode.postMessage({
                                command: "onclick",
                                id: tempItem[i].id
                            });

                            let subul =document.getElementById("ul"+tempItem[i].id);
                            let icon = document.getElementById("icon"+tempItem[i].id);
                            let isDisplay = subul.style.display;
                            if(isDisplay =="none"){
                                subul.style.display = "block";
                                icon.className = "bottomArrow";
                            }
                            else {
                                subul.style.display = "none";
                                icon.className = "rightArrow";
                            }
                        }

                        liValue.className = "liValue";
                        if(tempItem[i].type == "FB"){
                            var icon = getIcon("FB")
                            container.appendChild(icon);
                        }
                        else if(tempItem[i].type =="Function"){
                            var icon = getIcon("Fu")
                            container.appendChild(icon);
                        }
                        else if(tempItem[i].type == "Class") {
                            var icon = getIcon("C")
                            container.appendChild(icon);
                        } 
                        liValue.innerHTML = tempItem[i].name;
                        container.appendChild(liValue);
                        li.appendChild(container);
                        remoteUl.appendChild(li);
                        remoteDiv.appendChild(remoteUl);
                    }      

                    for(let i= 0;i<father.length;i++){
                        subul = document.createElement("ul");
                        subul.className = "subTree";
                        subul.style.display ="none";
                        subul.id = "ul" +father[i].id;
                        var fatherli = document.getElementById(father[i].id);
                        var first= document.getElementById(father[i].id).firstChild;
                        var icon= document.createElement("div");
                        icon.id = "icon"+father[i].id;
                        icon.className = "rightArrow";
                        fatherli.insertBefore(icon,first);
                        fatherli.appendChild(subul);
                    }
    
                    for(let i=0;i<children.length;i++){
                        subli= document.createElement("li");
                        container =  document.createElement("div");
                        container.className = "container";
                        liValue = document.createElement("div");
                        liValue.className="liValue";
                        liValue.innerHTML =children[i].name;

                        if(children[i].type == "Method"){
                            var icon= getIcon("M");
                            container.appendChild(icon);
                        }
                        else if (children[i].type =="Action"){
                            var icon = getIcon("A");
                            container.appendChild(icon);
                        }
                        clear = document.createElement("div");
                        clear.style.clear ="both";
                        clear.style.display="block";
                        subli.id = children[i].id;
                        container.onclick = function(){
                            getTreeList(this);
                            vscode.postMessage({
                                command: "onclick",
                                id: children[i].id
                            })
                        }
                        container.appendChild(liValue)
                        container.appendChild(clear);
                        subli.appendChild(container);
                        var ul = document.getElementById("ul"+children[i].id.substring(0,children[i].id.length - (children[i].type.length+1)));
                        ul.appendChild(subli);
                    }
                }

                 else if(message.type == "view") {
                    viewSvg.innerHTML = message.value;
                    var bbox = viewSvg.getBBox();
                    const svgscale = 0.7;
                    const lineoffset = 30;
                    viewSvg.style.width = bbox.width + 2*lineoffset;
                    viewSvg.style.height = bbox.height * svgscale;
                    viewSvg.setAttribute("viewBox", "0 0 " + bbox.width + " " + bbox.height);
                    viewSvg.setAttribute("preserveAspectRatio", "xMinYMin meet");
                } 
                else if (message.type == "doc") {
                    doc.innerHTML = message.value
                }
            })

            function insertFB() {
                vscode.postMessage({
                    command: "selectfb"
                }) 
            }

            function FBsearch(){
                let value = document.getElementById("search").value;
                let lis = document.getElementsByClassName("uiji");
                let insertButton = document.getElementById("insertButton");
                let nodata = document.getElementById("nodata");
                let num = 0 ;
                for(let i=0;i<lis.length;i++){
                    lis[i].style="";
                    if(lis[i].innerText.toLocaleLowerCase().indexOf(value.toLocaleLowerCase())===-1){
                        num++;
                        lis[i].style.display= "none";
                        remoteDiv.style.display= "block";
                    }
                    else {
                        insertButton.style.display = "block";
                        lis[i].style.display= "black";
                        lis[i].style.color = "#ffffff";
                        nodata.style.display = "none";
                    }
                }
                
                if(num == lis.length){
                    remoteDiv.style.display= "none";
                    nodata.style.display = "block";
                    nodata.innerHTML="No results found!"; 
                    insertButton.style.display = "none";
                }else {
                    remoteDiv.style.display= "block";
                }
                
                if(value == ""){   
                    remoteDiv.style.display= "block";
                    for(let i = 0;i<lis.length;i++){
                        lis[i].style="";
                        lis[i].style.display = "black";
                    }
                }
            }
            
            document.onkeydown = function(event){
                var theEvent = window.event ||event;
                var code = theEvent.keyCode || theEvent.which || theEvent.charCode;
                if(code == 13){
                    FBsearch();
                }
            }                                                                                                                                                     
            function getIcon(typeLatter){
                var icons = document.createElement("div");
                var doc = document.createElement("div");
                var latters = document.createElement("div");
                icons.className ="icons";
                doc.className = "document";
                latters.className="a-letter" ;
                latters.textContent = typeLatter;
                doc.appendChild(latters);
                icons.appendChild(doc);
                return icons;
            }

            function getTreeList(item){
                let lis = document.getElementsByClassName("container");

                for(let i= 0;i<lis.length;i++){
                    if(item==lis[i]){
                        lis[i].style.backgroundColor ="#37373d";
                    } else {
                        lis[i].style.backgroundColor ="";
                    }
                }
            }
   
        </script>
    </body>
    
    </html>`}var Hv=class r{constructor(){this.id="";this.actChannel="";ie.myEmitter.on("actChannel",t=>{this.actChannel=t})}resolveWebviewView(t,i,n){t.webview.options={enableScripts:!0},ie.myEmitter.on("defchange",async function(o){let l=await mc.Send("rlfq/"+o);t!=null&&(t.webview.postMessage({type:"table",item:JSON.parse(String(l))}),t.webview.html=zv())}),N6(async()=>{let s=await mc.Send("fblq");t!=null&&(t.webview.postMessage({type:"table",item:JSON.parse(String(s))}),t.webview.html=zv())}),t.webview.onDidReceiveMessage(async s=>{switch(s.command){case"onclick":this.id=s.id;let o=await mc.Send("thbq/"+s.id);t?.webview.postMessage({type:"view",value:cr(JSON.parse(String(o)))});let l=await mc.Send("docq/"+s.id);t?.webview.postMessage({type:"doc",value:l});return;case"selectfb":this.actChannel!=""&&ie.myEmitter.emit("select",this.actChannel,this.id);return}}),t.webview.html=zv()}static register(){return yq.window.registerWebviewViewProvider("fblistView",new r,{webviewOptions:{retainContextWhenHidden:!0}})}};var vq=Ke(require("vscode"));function ya(){return`<!DOCTYPE html>
    <html lang="en">
    
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0">
        <style type="text/css">
            .add_button {
                border: none;
                margin-top: 5px;
                width: 100%;
                text-align: center;
                outline: 1px solid transparent;
                outline-offset: 2px !important;
                color: var(--vscode-button-foreground);
                background: var(--vscode-button-background);
            }
    
            .add_button:hover {
                cursor: pointer;
                background: var(--vscode-button-hoverBackground);
            }
    
            .add_button:focus {
                outline-color: var(--vscode-focusBorder);
            }
    
            .add_button:active {
                background: var(--vscode-button-activeBackground);
            }
    
            .varinput {
                width: 98% !important;
                height: 100% !important;
                border: none;
                background-color: transparent;
                font-size: 12px font-family: sans-serif;
                font-weight: thick;
                color: var(--vscode-input-placeholderForeground);
                box-shadow: none;
                overflow: hidden;
                text-overflow: ellipsis;
            }

            .title {
                text-align: left;

            }

            .poutype {
                text-align: left;
                padding: 2px 10px;
                user-select: none;
                background-color: transparent;
                color: var(--vscode-input-placeholderForeground);
            }
            
            .pouname {
                text-align: left;
                padding: 2px 10px;
                height: 100% !important;
                background-color: transparent;
                color: var(--vscode-input-placeholderForeground);
                overflow: hidden;
                text-overflow: ellipsis;
                padding: 2px 0px;
                border-width: 1px;
                border-style:solid;
            }
        </style>
    </head>
    
    <body>
        <br>
        <label   style='font-size: 15px; font-weight: thick;'>POU Type:</label>
        <select name="poutype" class="poutype"  id="poutype">
          <option value="Function Block">Function Block</option>
          <option value="Program">Program</option>
        </select>
        <br>
        <br>
        <label style='font-size: 15px; font-weight: thick;'>POU Name:</label>
        <input  name="pouname" class="pouname"  id="pouname">
        <br>
        <br>
        <div style = 'width:100%'>
        <label style='font-size: 15px; font-weight: thick;'>INPUT:</label>
        <button id="in" style='float:right; width:40px;' class="add_button" onclick="addMember('in')">Add</button>
        </div>
        <div>
            <table>
            <thead>
                <tr>
                    <th class= "title">Type</th>
                    <th class="title">Name</th>
                    <th class="title">Add</th>
                    <th class="title">Del</th>
                </tr>
            </thead>
            <tbody id="intl" >
            </tbody>
            </table>
        </div>
        <br>
        <div style = 'width:100%'>
        <label style='font-size: 15px; font-weight: thick;'>OUTPUT:</label>
        <button id="out" style='float:right; width:40px;' class="add_button" onclick="addMember('out')">Add</button>
        </div>
        <div>
            <table>
            <thead>
                <tr>
                    <th class= "title">Type</th>
                    <th class="title">Name</th>
                    <th class="title">Add</th>
                    <th class="title">Del</th>
                </tr>
            </thead>
            <tbody id="outtl" >
            </tbody>
            </table>
        </div>
        <br>
        <div style = 'width:100%'>
        <label style='font-size: 15px; font-weight: thick;'>IN_OUT:</label>
        <button id="inout" style='float:right; width:40px;' class="add_button" onclick="addMember('inout')">Add</button>
        </div>
        <div>
            <table>
            <thead>
                <tr>
                    <th class= "title">Type</th>
                    <th class="title">Name</th>
                    <th class="title">Add</th>
                    <th class="title">Del</th>
                </tr>
            </thead>
            <tbody id="inouttl" >
            </tbody>
            </table>
        </div>
        <br>
        <div style = 'width:100%'>
        <label style='font-size: 15px; font-weight: thick;'>VAR:</label>
        <button id="local"  style='float:right; width:40px;' class="add_button" onclick="addMember('local')">Add</button>
        </div>
        <div>
            <table>
                <thead>
                    <tr>
                        <th class= "title">Type</th>
                        <th class="title">Name</th>
                        <th class="title">Add</th>
                        <th class="title">Del</th>
                    </tr>
                </thead>
                <tbody id="localtl">
                </tbody>
            </table>
        </div>
        <script>
            const vscode = acquireVsCodeApi();

            document.getElementById("poutype").onchange = function() {
                vscode.postMessage({
                    command: "pouchange",
                    type: document.getElementById("poutype").value,
                })
            }

            document.getElementById("pouname").onchange = function() {
                vscode.postMessage({
                    command: "pounamechange",
                    type: document.getElementById("pouname").value,
                })
            }

            window.addEventListener('message', event => {
                const message = event.data;
                var curtable = "";
                let items = message.item;

                if (message.type == "pou") {
                    if (message.item == "Function Block") {
                        document.getElementById("poutype")[0].selected = true;
                    } else {
                        document.getElementById("poutype")[1].selected = true;
                    }
                } else if (message.type == "pouname") {
                    input = document.getElementById("pouname");
                    input.value = items;
                } else if (message.type == "local") {
                    localadd = document.getElementById("local");
                    if (items.length == 0) {
                        localadd.style.display = "block";
                    } else {
                        localadd.style.display = "none";
                    }
                    makeTbl(items,"local");
                } else if (message.type == "in") {
                    inadd = document.getElementById("in");
                    if (items.length == 0) {
                        inadd.style.display = "block";
                    } else {
                        inadd.style.display = "none";
                    }
                    makeTbl(items,"in");
                } else if (message.type == "out") {
                    outadd = document.getElementById("out");
                    if (items.length == 0) {
                        outadd.style.display = "block";
                    } else {
                        outadd.style.display = "none";
                    }  
                    makeTbl(items,"out");
                }else if (message.type == "inout") {
                    inoutadd = document.getElementById("inout");
                    if (items.length == 0) {
                        inoutadd.style.display = "block";
                    } else {
                        inoutadd.style.display = "none";
                    }  
                    makeTbl(items,"inout");
                }
            });

            function addMember(lstype) {
                vscode.postMessage({
                    command: "new",
                    type: lstype,
                    id: lstype+"#"+"0",
                })
            }

            function makeTbl(items,tbtype) {
                if (tbtype == "local") {
                    curtable = document.getElementById("localtl");
                } else if (tbtype == "in") {
                    curtable = document.getElementById("intl");
                } else if (tbtype == "out") {
                    curtable = document.getElementById("outtl");
                } else if (tbtype == "inout") {
                    curtable = document.getElementById("inouttl");
                }
                curtable.innerHTML = "";

                for (let i = 0; i < items.length; i++) {
                    tr = document.createElement("tr");
                    tr.id = items[i].name;
                    tdtype = document.createElement("td");
                    

                    input = document.createElement("input");
                    input.className = "varinput";
                    input.type = "text";
                    input.value = items[i].type;

                    input.onchange = function() {
                        vscode.postMessage({
                            command: "change",
                            type: tbtype,
                            id: items[i].id+"#type",
                            value: this.value,
                        })
                    }

                    tdtype.appendChild(input);

                    tdname = document.createElement("td");
                    input = document.createElement("input");
                    input.className = "varinput";
                    input.type = "text";
                    input.value = items[i].name;
                    input.onchange = function() {
                        vscode.postMessage({
                            command: "change",
                            type: tbtype,
                            id:  items[i].id +"#name",
                            value: this.value,
                        })  
                    }
                    tdname.appendChild(input);

                    tdadd = document.createElement("td");
                    addbtn = document.createElement("button");
                    addbtn.className = "add_button";
                    addbtn.innerText = "+";
                    tdadd.appendChild(addbtn);

                    tddel = document.createElement("td");
                    delbtn = document.createElement("button");
                    delbtn.className = "add_button";
                    delbtn.innerText = "-";
                    tddel.appendChild(delbtn);

                    addbtn.onclick = function () {
                        vscode.postMessage({
                            command: "add",
                            type: tbtype,
                            id: items[i].id,
                        });
                    }

                    delbtn.onclick = function () {
                        vscode.postMessage({
                            command: "del",
                            type: tbtype,
                            id: items[i].id,
                        });
                    }

                    tr.appendChild(tdtype);
                    tr.appendChild(tdname);
                    tr.appendChild(tdadd);
                    tr.appendChild(tddel);
                    curtable.appendChild(tr);
                }
            }
        </script>
    </body>
    
    </html>`}var Vv=class r{constructor(){this.curEdit="";this.actChannel="";ie.myEmitter.on("actChannel",t=>{this.actChannel=t})}resolveWebviewView(t,i,n){t.webview.options={enableScripts:!0},ie.myEmitter.on("inlist",s=>{t!=null&&(t.webview.postMessage({type:"in",item:JSON.parse(s.toString())}),t.webview.html=ya())}),ie.myEmitter.on("outlist",s=>{t!=null&&(t.webview.postMessage({type:"out",item:JSON.parse(s.toString())}),t.webview.html=ya())}),ie.myEmitter.on("inoutlist",s=>{t!=null&&(t.webview.postMessage({type:"inout",item:JSON.parse(s.toString())}),t.webview.html=ya())}),ie.myEmitter.on("locallist",s=>{t!=null&&(t.webview.postMessage({type:"local",item:JSON.parse(s.toString())}),t.webview.html=ya())}),ie.myEmitter.on("poulist",s=>{t!=null&&(t.webview.postMessage({type:"pou",item:s}),t.webview.html=ya())}),ie.myEmitter.on("pounamelist",s=>{t!=null&&(t.webview.postMessage({type:"pouname",item:s}),t.webview.html=ya())}),t.webview.onDidReceiveMessage(async s=>{switch(s.command){case"add":this.curEdit=s.id,this.actChannel!=""&&ie.myEmitter.emit("add",this.actChannel,s.type,this.curEdit);return;case"del":this.curEdit=s.id,this.actChannel!=""&&ie.myEmitter.emit("del",this.actChannel,s.type,this.curEdit);return;case"new":this.curEdit=s.id,this.actChannel!=""&&ie.myEmitter.emit("new",this.actChannel,s.type,this.curEdit);return;case"pouchange":this.actChannel!=""&&ie.myEmitter.emit("pouchange",this.actChannel,s.type);return;case"pounamechange":this.actChannel!=""&&ie.myEmitter.emit("pounamechange",this.actChannel,s.type);return;case"change":this.actChannel!=""&&ie.myEmitter.emit("change",this.actChannel,s.type,s.id,s.value);return}}),t.webview.html=ya()}static register(){return vq.window.registerWebviewViewProvider("ladderConfigView",new r,{webviewOptions:{retainContextWhenHidden:!0}})}};var pn=require("timers"),_q=Ke(Sq()),uo=Ke(require("path")),Yv=Ke(lT()),pA=Ke(uy()),Eq=Ke(Gw()),fA;function vme(r,t){var i=t;Kt.existsSync(t)&&Kt.lstatSync(t).isDirectory()&&(i=uo.join(t,uo.basename(r))),Kt.writeFileSync(i,Kt.readFileSync(r))}function gA(r,t){var i=[],n=uo.join(t,uo.basename(r));if(Kt.existsSync(n)||Kt.mkdirSync(n),Kt.lstatSync(r).isDirectory()){i=Kt.readdirSync(r);for(let o of i){var s=uo.join(r,o);Kt.lstatSync(s).isDirectory()?gA(s,n):vme(s,n)}}}async function bme(r){Z4(r),At.setLocale("en"),ie.port=await(0,_q.default)({host:"127.0.0.1",port:6e4}),console.log("Start connections"),ie.initStorage(r),hA.default.on("SIGINT",()=>{mA()}),hA.default.on("SIGTERM",()=>{mA()});var t=0;De.workspace.onDidChangeConfiguration(()=>{t=4}),De.commands.registerCommand("plcc.blockinsertup",()=>{ie.myEmitter.emit("sk-blockinsertup")}),De.commands.registerCommand("plcc.block",()=>{ie.myEmitter.emit("sk-block")}),De.commands.registerCommand("plcc.ld",()=>{ie.myEmitter.emit("sk-ld")}),De.commands.registerCommand("plcc.ldn",()=>{ie.myEmitter.emit("sk-ldn")}),De.commands.registerCommand("plcc.orbove",()=>{ie.myEmitter.emit("sk-orbove")}),De.commands.registerCommand("plcc.or",()=>{ie.myEmitter.emit("sk-or")}),De.commands.registerCommand("plcc.orn",()=>{ie.myEmitter.emit("sk-orn")}),De.commands.registerCommand("plcc.ldr",()=>{ie.myEmitter.emit("sk-ldr")}),De.commands.registerCommand("plcc.coil",()=>{ie.myEmitter.emit("sk-coil")}),De.commands.registerCommand("plcc.coils",()=>{ie.myEmitter.emit("sk-coils")}),De.commands.registerCommand("plcc.coilr",()=>{ie.myEmitter.emit("sk-coilr")}),De.commands.registerCommand("plcc.fb",()=>{ie.myEmitter.emit("sk-fb")}),De.commands.registerCommand("plcc.newbranch",()=>{ie.myEmitter.emit("sk-newbranch")}),De.commands.registerCommand("plcc.branchup",()=>{ie.myEmitter.emit("sk-branchup")}),De.commands.registerCommand("plcc.branchdown",()=>{ie.myEmitter.emit("sk-branchdown")}),De.commands.registerCommand("plcc.delete",()=>{ie.myEmitter.emit("sk-delete")});let i=De.commands.registerCommand("plcc.NewAppProject",()=>{let y={openLabel:At.__("New App Project"),canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1,title:At.__("New App Project")};De.window.showOpenDialog(y).then(S=>{if(S){var w=De.Uri.file(uo.join(r.extensionPath,"Templete/App"));gA(w.fsPath,S[0].fsPath),De.commands.executeCommand("vscode.openFolder",De.Uri.joinPath(S[0],"/App"))}})}),n=De.commands.registerCommand("plcc.NewLibProject",()=>{let y={openLabel:At.__("New Lib Project"),canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1,title:At.__("New Lib Project")};De.window.showOpenDialog(y).then(S=>{if(S){var w=De.Uri.file(uo.join(r.extensionPath,"Templete/Lib"));gA(w.fsPath,S[0].fsPath),De.commands.executeCommand("vscode.openFolder",De.Uri.joinPath(S[0],"/Lib"))}})});if(De.workspace.workspaceFolders&&De.workspace.workspaceFolders.length>0)try{ie.hashPath=wq.createHash("md5").update(De.workspace.workspaceFolders[0].uri.fsPath).digest("hex");let y=await Kt.readFileSync(De.workspace.workspaceFolders[0].uri.fsPath+"/project.json"),S=JSON.parse(y.toString());De.commands.executeCommand("setContext","plcc:isIEC61131Proj",S.type==="PLCC-IEC61131-3")}catch{return}let s=De.commands.registerCommand("plcc.CompileProject",async()=>{let y={prompt:"Configuration: ",placeHolder:"(Configuration)"};if(De.workspace.workspaceFolders&&De.workspace.workspaceFolders.length>0)try{let S=await Kt.readFileSync(De.workspace.workspaceFolders[0].uri.fsPath+"/project.json"),w=JSON.parse(S.toString());jT(w.configuration,w.target,w.libs)}catch(S){S.code==="ENOENT"?De.window.showInputBox(y).then(w=>{w&&jT(w,"",[])}):console.log(S)}}),o=De.commands.registerCommand("plcc.FlashBinary",async()=>{if(De.workspace.workspaceFolders&&De.workspace.workspaceFolders.length>0)try{let y=await Kt.readFileSync(De.workspace.workspaceFolders[0].uri.fsPath+"/project.json"),S=JSON.parse(y.toString());S.noedge==!0?A5(S.target):O6(w=>{w.client.edgeListDevices(new Eq.mEdgeListDevices,(C,_)=>{if(console.log(_),C){De.window.showErrorMessage(C);return}let R=[];for(let D=0;D<_.getDevicesList().length;D++)R.push({label:"[Online - Edge Controller] "+_.getDevicesList()[D].getName(),detail:_.getDevicesList()[D].getDid()});_.getDevicesList().length==0&&R.push({label:"No device was found"}),De.window.showQuickPick(R).then(D=>{D&&O5(S.target,D.detail?D.detail:"")})})},()=>{})}catch{return}}),l=De.window.createOutputChannel("plc-logs");var h=void 0;let p=De.commands.registerCommand("plcc.StartLoging",async()=>{if(l.show(),ie.runningCmd==""){ie.runningCmd="lgsq";let y=await $r.Send("lgsq"),S=async()=>{y!=""&&l.append(y+`
`),y=await $r.wait(),h!=null&&(0,pn.clearTimeout)(h),h=(0,pn.setTimeout)(S,1)};S()}else De.window.showErrorMessage(At.__("Failed to start logging, Please make sure the monitor have been stopped."))}),g=De.commands.registerCommand("plcc.StopLoging",async()=>{h!=null&&(0,pn.clearTimeout)(h),$r.Send("lgeq"),ie.runningCmd=="lgsq"&&(ie.runningCmd="")}),m=De.commands.registerCommand("plcc.OpenFBList",()=>{De.commands.executeCommand("fblistView.focus")});await nI(),N5(),Dy.register(r),Py.register(),_0.register(),Hv.register(),Vv.register(),j0.register(r),De.workspace.workspaceFolders&&De.workspace.workspaceFolders.length>0&&Kt.readFile(De.workspace.workspaceFolders[0].uri.fsPath+"/project.json",(y,S)=>{if(JSON.parse(S).type==="PLCC-IEC61131-3"){var C,_=void 0;let R=[],D=()=>{R6(async()=>{for(let I=0;I<R.length;I++)R[I]();R=[],De.window.withProgress({location:De.ProgressLocation.Window,title:At.__("Synchronizing with Language Server..."),cancellable:!1},async(I,M)=>{if(De.workspace?.workspaceFolders&&De.workspace.workspaceFolders[0]!=null){let V=De.workspace.workspaceFolders[0].uri.fsPath,K=De.workspace.createFileSystemWatcher(V+"/**/*");Kt.watchFile(ie.tmpPath+"/a-plccos-r8.def",(N,X)=>{ie.myEmitter.emit("defchange",ie.tmpPath+"/a-plccos-r8.def")}),Kt.watchFile(ie.tmpPath+"/a-linux.def",(N,X)=>{ie.myEmitter.emit("defchange",ie.tmpPath+"/a-linux.def")});let Q=new Promise(async(N,X)=>{await new Promise(k=>{if(De.workspace.workspaceFolders){var W=[];Yv.c({filter:(J,se)=>!!(se.mode>>14&1||J.endsWith(".eni")||J.endsWith(".dcf")||J.endsWith(".yml")||J.endsWith(".yaml")||J.endsWith(".json")||J.endsWith(".graph")||J.endsWith(".il")||J.endsWith(".st")||J.endsWith(".monitor")),cwd:V,gzip:!0},pA.sync("**/*",{cwd:V})).on("data",J=>{W.push(J)}).on("end",()=>{var J=Buffer.concat(W);vr.client.upload(new co.mUpload().setCtx(vr.ctx).setData(new Uint8Array(J.buffer.slice(J.byteOffset,J.byteOffset+J.byteLength))),(se,ue)=>{se?X(se):k({})}).on("error",se=>{X(se)})}).on("error",J=>{X(J)})}}),console.log("Step 3"),await new Promise(async(k,W)=>{if(De.workspace.workspaceFolders){let se=pA.sync("**/*.graph",{cwd:De.workspace.workspaceFolders[0].uri.fsPath});for(var J=0;J<se.length;J++){let ue=await Pa.Send("cvtq"+De.workspace.workspaceFolders[0].uri.fsPath+"/"+se[J]+","+De.workspace.workspaceFolders[0].uri.fsPath);String(ue).startsWith("cvtr")?await new Promise((fe,ye)=>{ue?vr.client.update(new co.mUpload().setCtx(vr.ctx).setData(new Uint8Array(ue.buffer.slice(ue.byteOffset+4,ue.byteOffset+4+ue.byteLength))),($e,Ge)=>{$e?ye($e):fe({})}):ye("Undefined reply")}):W(At.__("Invalid reply."))}k({})}}),console.log("Step 4");let U=await new Promise(k=>{vr.client.lspStart(new co.mLspStart().setCtx(vr.ctx),(W,J)=>{if(W)throw new Error("LSP start failed.");k(J)})});console.log("Step 5"),N(U)});K.onDidCreate(async N=>{await new Promise((X,U)=>{if(De.workspace.workspaceFolders){for(var k=N.fsPath.substring(V.length+1).split("/"),W=[],J=0;J<k.length;J++)W.length-1>=0?W.push(W[W.length-1]+"/"+k[J]):W.push(k[J]);var se=[];Yv.c({filter:(ue,fe)=>!!(fe.mode>>14&1||ue.endsWith(".graph")),cwd:V,gzip:!0},W).on("data",ue=>{se.push(ue)}).on("end",()=>{var ue=Buffer.concat(se);vr.client.update(new co.mUpload().setCtx(vr.ctx).setData(new Uint8Array(ue.buffer.slice(ue.byteOffset,ue.byteOffset+ue.byteLength))),(fe,ye)=>{fe?U(fe):(console.log("Created:",N.fsPath.substring(V.length+1)),X({}))}).on("error",fe=>{U(fe)})}).on("error",ue=>{U(ue)})}}),N.fsPath.endsWith(".graph")&&await new Promise(async(X,U)=>{let k=await Pa.Send("cvtq"+N.fsPath+","+V);String(k).startsWith("cvtr")?(await new Promise((W,J)=>{k?vr.client.update(new co.mUpload().setCtx(vr.ctx).setData(new Uint8Array(k.buffer.slice(k.byteOffset+4,k.byteOffset+4+k.byteLength))),(se,ue)=>{se?J(se):(console.log("Changed:",N.fsPath.substring(V.length+1)),W({}))}):J("Undefined reply")}),X({})):U(At.__("Invalid reply."))})}),K.onDidChange(async N=>{N.fsPath.endsWith(".graph")&&(await new Promise((X,U)=>{if(De.workspace.workspaceFolders){var k=[];Yv.c({cwd:V,gzip:!0},[N.fsPath.substring(V.length+1)]).on("data",W=>{k.push(W)}).on("end",()=>{var W=Buffer.concat(k);vr.client.update(new co.mUpload().setCtx(vr.ctx).setData(new Uint8Array(W.buffer.slice(W.byteOffset,W.byteOffset+W.byteLength))),(J,se)=>{J?U(J):(console.log("Changed:",N.fsPath.substring(V.length+1)),X({}))}).on("error",J=>{U(J)})}).on("error",W=>{U(W)})}}),await new Promise(async(X,U)=>{let k=await Pa.Send("cvtq"+N.fsPath+","+V);String(k).startsWith("cvtr")?(await new Promise((W,J)=>{k?vr.client.update(new co.mUpload().setCtx(vr.ctx).setData(new Uint8Array(k.buffer.slice(k.byteOffset+4,k.byteOffset+4+k.byteLength))),(se,ue)=>{se?J(se):(console.log("Changed:",N.fsPath.substring(V.length+1)),W({}))}):J("Undefined reply")}),X({})):U(At.__("Invalid reply."))}))});var L=void 0;console.log("Step1");let le=String(_r.getCompileAddress()).split(":");try{le.length>1&&le[0]=="localhost"?C=new qi.default("ws://"+le[0]+":"+(parseInt(le[1])+1)+"/ls/"+String((await Q).getPort())):le.length>1&&!le[0].startsWith("wss://")&&!le[0].startsWith("ws://")?C=new qi.default("wss://ls-"+_r.getCompileAddress()+"/ls/"+String((await Q).getPort())):C=new qi.default("ls-"+_r.getCompileAddress()+"/ls/"+String((await Q).getPort()))}catch(N){vr.Close(),console.log("Error 1:",N),(0,pn.clearTimeout)(_),_=(0,pn.setTimeout)(()=>{D()},2e3);return}console.log("Step2"),C.onerror=()=>{C.close()};let ge=!1,j=null;C.onclose=()=>{ge||(j?.stop(),ge=!0,L&&(0,pn.clearTimeout)(L),K.dispose(),vr.Close(),De.window.withProgress({location:De.ProgressLocation.Notification,title:At.__("PLCC: Lost connection to the language server. Reconnecting\u2026")},async(N,X)=>new Promise(U=>{(0,pn.clearTimeout)(_),console.log("Error 2:"),R.push(()=>{N.report({increment:100}),U({})}),_=(0,pn.setTimeout)(()=>{D()},2e3)})))},C.onopen=()=>{L=setInterval(async()=>{C.ping()},1e4),fA=(0,k1.default)(C);let N=()=>{let U={writer:fA,reader:fA};return Promise.resolve(U)},X={documentSelector:[{scheme:"file",language:"st"},{scheme:"file",language:"json"}],synchronize:{fileEvents:De.workspace.createFileSystemWatcher("**/*.{st,graph}")},errorHandler:{error:(U,k,W)=>(clearInterval(L),C.close(),va.ErrorAction.Shutdown),closed:()=>(clearInterval(L),C.close(),va.CloseAction.DoNotRestart)},revealOutputChannelOn:va.RevealOutputChannelOn.Never};j=new va.LanguageClient("plcc-language-server","PLCC Language Server",N,X);try{j.start()}catch{C.close();return}}}})},()=>{console.log("Loosing connection"),C?.close(),vr.Close(),(0,pn.clearTimeout)(_),console.log("Error 3:"),_=(0,pn.setTimeout)(()=>{D()},2e3)})};D()}})}function mA(){sI(),Kt.rmdirSync(ie.tmpPath,{recursive:!0})}0&&(module.exports={activate,deactivate});
/*! Bundled license information:

@grpc/proto-loader/build/src/util.js:
  (**
   * @license
   * Copyright 2018 gRPC authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   *)

long/umd/index.js:
  (**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   *)

@grpc/proto-loader/build/src/index.js:
  (**
   * @license
   * Copyright 2018 gRPC authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   *)

mustache/mustache.js:
  (*!
   * mustache.js - Logic-less {{mustache}} templates with JavaScript
   * http://github.com/janl/mustache.js
   *)

i18n/i18n.js:
  (**
   * @author      Created by Marcus Spiegel <spiegel@uscreen.de> on 2011-03-25.
   * @link        https://github.com/mashpie/i18n-node
   * @license     http://opensource.org/licenses/MIT
   *)
*/
//# sourceMappingURL=main.js.map
